var f2=Object.defineProperty;var R1=o=>{throw TypeError(o)};var p2=(o,e,s)=>e in o?f2(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s;var nn=(o,e,s)=>p2(o,typeof e!="symbol"?e+"":e,s),h0=(o,e,s)=>e.has(o)||R1("Cannot "+s);var lt=(o,e,s)=>(h0(o,e,"read from private field"),s?s.call(o):e.get(o)),Mt=(o,e,s)=>e.has(o)?R1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,s),xt=(o,e,s,a)=>(h0(o,e,"write to private field"),a?a.call(o,s):e.set(o,s),s),Pt=(o,e,s)=>(h0(o,e,"access private method"),s);var zr=(o,e,s,a)=>({set _(c){xt(o,e,c,s)},get _(){return lt(o,e,a)}});function _mergeNamespaces(o,e){for(var s=0;s<e.length;s++){const a=e[s];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in o)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(o,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var e=o.default;if(typeof e=="function"){var s=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var c=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(s,a,c.get?c:{enumerable:!0,get:function(){return o[a]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(o){return o===null||typeof o!="object"?null:(o=z$1&&o[z$1]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(o,e,s){this.props=o,this.context=e,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(o,e){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,e,"setState")};E$1.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(o,e,s){this.props=o,this.context=e,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,e,s){var a,c={},d=null,g=null;if(e!=null)for(a in e.ref!==void 0&&(g=e.ref),e.key!==void 0&&(d=""+e.key),e)J.call(e,a)&&!L$1.hasOwnProperty(a)&&(c[a]=e[a]);var $=arguments.length-2;if($===1)c.children=s;else if(1<$){for(var j=Array($),tt=0;tt<$;tt++)j[tt]=arguments[tt+2];c.children=j}if(o&&o.defaultProps)for(a in $=o.defaultProps,$)c[a]===void 0&&(c[a]=$[a]);return{$$typeof:l$1,type:o,key:d,ref:g,props:c,_owner:K$1.current}}function N$1(o,e){return{$$typeof:l$1,type:o.type,key:e,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$1}function escape$2(o){var e={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(s){return e[s]})}var P$1=/\/+/g;function Q$1(o,e){return typeof o=="object"&&o!==null&&o.key!=null?escape$2(""+o.key):e.toString(36)}function R$1(o,e,s,a,c){var d=typeof o;(d==="undefined"||d==="boolean")&&(o=null);var g=!1;if(o===null)g=!0;else switch(d){case"string":case"number":g=!0;break;case"object":switch(o.$$typeof){case l$1:case n$1:g=!0}}if(g)return g=o,c=c(g),o=a===""?"."+Q$1(g,0):a,I$1(c)?(s="",o!=null&&(s=o.replace(P$1,"$&/")+"/"),R$1(c,e,s,"",function(tt){return tt})):c!=null&&(O$1(c)&&(c=N$1(c,s+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(P$1,"$&/")+"/")+o)),e.push(c)),1;if(g=0,a=a===""?".":a+":",I$1(o))for(var $=0;$<o.length;$++){d=o[$];var j=a+Q$1(d,$);g+=R$1(d,e,s,j,c)}else if(j=A$1(o),typeof j=="function")for(o=j.call(o),$=0;!(d=o.next()).done;)d=d.value,j=a+Q$1(d,$++),g+=R$1(d,e,s,j,c);else if(d==="object")throw e=String(o),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return g}function S$1(o,e,s){if(o==null)return o;var a=[],c=0;return R$1(o,a,"","",function(d){return e.call(s,d,c++)}),a}function T$1(o){if(o._status===-1){var e=o._result;e=e(),e.then(function(s){(o._status===0||o._status===-1)&&(o._status=1,o._result=s)},function(s){(o._status===0||o._status===-1)&&(o._status=2,o._result=s)}),o._status===-1&&(o._status=0,o._result=e)}if(o._status===1)return o._result.default;throw o._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(o,e,s){S$1(o,function(){e.apply(this,arguments)},s)},count:function(o){var e=0;return S$1(o,function(){e++}),e},toArray:function(o){return S$1(o,function(e){return e})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(o,e,s){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var a=C$1({},o.props),c=o.key,d=o.ref,g=o._owner;if(e!=null){if(e.ref!==void 0&&(d=e.ref,g=K$1.current),e.key!==void 0&&(c=""+e.key),o.type&&o.type.defaultProps)var $=o.type.defaultProps;for(j in e)J.call(e,j)&&!L$1.hasOwnProperty(j)&&(a[j]=e[j]===void 0&&$!==void 0?$[j]:e[j])}var j=arguments.length-2;if(j===1)a.children=s;else if(1<j){$=Array(j);for(var tt=0;tt<j;tt++)$[tt]=arguments[tt+2];a.children=$}return{$$typeof:l$1,type:o.type,key:c,ref:d,props:a,_owner:g}};react_production_min.createContext=function(o){return o={$$typeof:u,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var e=M$1.bind(null,o);return e.type=o,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$1,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,e){return{$$typeof:x,type:o,compare:e===void 0?null:e}};react_production_min.startTransition=function(o){var e=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=e}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(o,e){return U$1.current.useCallback(o,e)};react_production_min.useContext=function(o){return U$1.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$1.current.useDeferredValue(o)};react_production_min.useEffect=function(o,e){return U$1.current.useEffect(o,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(o,e,s){return U$1.current.useImperativeHandle(o,e,s)};react_production_min.useInsertionEffect=function(o,e){return U$1.current.useInsertionEffect(o,e)};react_production_min.useLayoutEffect=function(o,e){return U$1.current.useLayoutEffect(o,e)};react_production_min.useMemo=function(o,e){return U$1.current.useMemo(o,e)};react_production_min.useReducer=function(o,e,s){return U$1.current.useReducer(o,e,s)};react_production_min.useRef=function(o){return U$1.current.useRef(o)};react_production_min.useState=function(o){return U$1.current.useState(o)};react_production_min.useSyncExternalStore=function(o,e,s){return U$1.current.useSyncExternalStore(o,e,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(o,e,s){var a,c={},d=null,g=null;s!==void 0&&(d=""+s),e.key!==void 0&&(d=""+e.key),e.ref!==void 0&&(g=e.ref);for(a in e)m$1.call(e,a)&&!p$1.hasOwnProperty(a)&&(c[a]=e[a]);if(o&&o.defaultProps)for(a in e=o.defaultProps,e)c[a]===void 0&&(c[a]=e[a]);return{$$typeof:k,type:o,key:d,ref:g,props:c,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function e(St,wt){var kt=St.length;St.push(wt);e:for(;0<kt;){var Dt=kt-1>>>1,Ft=St[Dt];if(0<c(Ft,wt))St[Dt]=wt,St[kt]=Ft,kt=Dt;else break e}}function s(St){return St.length===0?null:St[0]}function a(St){if(St.length===0)return null;var wt=St[0],kt=St.pop();if(kt!==wt){St[0]=kt;e:for(var Dt=0,Ft=St.length,Ot=Ft>>>1;Dt<Ot;){var Bt=2*(Dt+1)-1,Vt=St[Bt],Zt=Bt+1,Jt=St[Zt];if(0>c(Vt,kt))Zt<Ft&&0>c(Jt,Vt)?(St[Dt]=Jt,St[Zt]=kt,Dt=Zt):(St[Dt]=Vt,St[Bt]=kt,Dt=Bt);else if(Zt<Ft&&0>c(Jt,kt))St[Dt]=Jt,St[Zt]=kt,Dt=Zt;else break e}}return wt}function c(St,wt){var kt=St.sortIndex-wt.sortIndex;return kt!==0?kt:St.id-wt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var g=Date,$=g.now();o.unstable_now=function(){return g.now()-$}}var j=[],tt=[],et=1,b=null,h=3,_e=!1,nt=!1,rt=!1,it=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function at(St){for(var wt=s(tt);wt!==null;){if(wt.callback===null)a(tt);else if(wt.startTime<=St)a(tt),wt.sortIndex=wt.expirationTime,e(j,wt);else break;wt=s(tt)}}function ct(St){if(rt=!1,at(St),!nt)if(s(j)!==null)nt=!0,mt(ut);else{var wt=s(tt);wt!==null&&_t(ct,wt.startTime-St)}}function ut(St,wt){nt=!1,rt&&(rt=!1,st(pt),pt=-1),_e=!0;var kt=h;try{for(at(wt),b=s(j);b!==null&&(!(b.expirationTime>wt)||St&&!Ct());){var Dt=b.callback;if(typeof Dt=="function"){b.callback=null,h=b.priorityLevel;var Ft=Dt(b.expirationTime<=wt);wt=o.unstable_now(),typeof Ft=="function"?b.callback=Ft:b===s(j)&&a(j),at(wt)}else a(j);b=s(j)}if(b!==null)var Ot=!0;else{var Bt=s(tt);Bt!==null&&_t(ct,Bt.startTime-wt),Ot=!1}return Ot}finally{b=null,h=kt,_e=!1}}var dt=!1,ht=null,pt=-1,ft=5,bt=-1;function Ct(){return!(o.unstable_now()-bt<ft)}function yt(){if(ht!==null){var St=o.unstable_now();bt=St;var wt=!0;try{wt=ht(!0,St)}finally{wt?Et():(dt=!1,ht=null)}}else dt=!1}var Et;if(typeof ot=="function")Et=function(){ot(yt)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,At=gt.port2;gt.port1.onmessage=yt,Et=function(){At.postMessage(null)}}else Et=function(){it(yt,0)};function mt(St){ht=St,dt||(dt=!0,Et())}function _t(St,wt){pt=it(function(){St(o.unstable_now())},wt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(St){St.callback=null},o.unstable_continueExecution=function(){nt||_e||(nt=!0,mt(ut))},o.unstable_forceFrameRate=function(St){0>St||125<St?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<St?Math.floor(1e3/St):5},o.unstable_getCurrentPriorityLevel=function(){return h},o.unstable_getFirstCallbackNode=function(){return s(j)},o.unstable_next=function(St){switch(h){case 1:case 2:case 3:var wt=3;break;default:wt=h}var kt=h;h=wt;try{return St()}finally{h=kt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(St,wt){switch(St){case 1:case 2:case 3:case 4:case 5:break;default:St=3}var kt=h;h=St;try{return wt()}finally{h=kt}},o.unstable_scheduleCallback=function(St,wt,kt){var Dt=o.unstable_now();switch(typeof kt=="object"&&kt!==null?(kt=kt.delay,kt=typeof kt=="number"&&0<kt?Dt+kt:Dt):kt=Dt,St){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=kt+Ft,St={id:et++,callback:wt,priorityLevel:St,startTime:kt,expirationTime:Ft,sortIndex:-1},kt>Dt?(St.sortIndex=kt,e(tt,St),s(j)===null&&St===s(tt)&&(rt?(st(pt),pt=-1):rt=!0,_t(ct,kt-Dt))):(St.sortIndex=Ft,e(j,St),nt||_e||(nt=!0,mt(ut))),St},o.unstable_shouldYield=Ct,o.unstable_wrapCallback=function(St){var wt=h;return function(){var kt=h;h=wt;try{return St.apply(this,arguments)}finally{h=kt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(o){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+o,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+o+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,e){ha(o,e),ha(o+"Capture",e)}function ha(o,e){for(ea[o]=e,o=0;o<e.length;o++)da.add(e[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,e,s,a){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,e,s,a){if(e===null||typeof e>"u"||pa(o,e,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v(o,e,s,a,c,d,g){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=o,this.type=e,this.sanitizeURL=d,this.removeEmptyString=g}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z[o]=new v(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var e=o[0];z[e]=new v(e,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z[o]=new v(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z[o]=new v(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z[o]=new v(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z[o]=new v(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,e,s,a){var c=z.hasOwnProperty(e)?z[e]:null;(c!==null?c.type!==0:a||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,s,c,a)&&(s=null),a||c===null?oa(e)&&(s===null?o.removeAttribute(e):o.setAttribute(e,""+s)):c.mustUseProperty?o[c.propertyName]=s===null?c.type===3?!1:"":s:(e=c.attributeName,a=c.attributeNamespace,s===null?o.removeAttribute(e):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?o.setAttributeNS(a,e,s):o.setAttribute(e,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+o}var Na=!1;function Oa(o,e){if(!o||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(tt){var a=tt}Reflect.construct(o,[],e)}else{try{e.call()}catch(tt){a=tt}o.call(e.prototype)}else{try{throw Error()}catch(tt){a=tt}o()}}catch(tt){if(tt&&a&&typeof tt.stack=="string"){for(var c=tt.stack.split(`
`),d=a.stack.split(`
`),g=c.length-1,$=d.length-1;1<=g&&0<=$&&c[g]!==d[$];)$--;for(;1<=g&&0<=$;g--,$--)if(c[g]!==d[$]){if(g!==1||$!==1)do if(g--,$--,0>$||c[g]!==d[$]){var j=`
`+c[g].replace(" at new "," at ");return o.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",o.displayName)),j}while(1<=g&&0<=$);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var e=o.render;return o=o.displayName,o||(o=e.displayName||e.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return e=o.displayName||null,e!==null?e:Qa(o.type)||"Memo";case Ha:e=o._payload,o=o._init;try{return Qa(o(e))}catch{}}return null}function Ra(o){var e=o.type;switch(o.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=e.render,o=o.displayName||o.name||"",e.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var e=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(o){var e=Ta(o)?"checked":"value",s=Object.getOwnPropertyDescriptor(o.constructor.prototype,e),a=""+o[e];if(!o.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(o,e,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(o,e,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){o._valueTracker=null,delete o[e]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var e=o._valueTracker;if(!e)return!0;var s=e.getValue(),a="";return o&&(a=Ta(o)?o.checked?"true":"false":o.value),o=a,o!==s?(e.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,e){var s=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??o._wrapperState.initialChecked})}function Za(o,e){var s=e.defaultValue==null?"":e.defaultValue,a=e.checked!=null?e.checked:e.defaultChecked;s=Sa(e.value!=null?e.value:s),o._wrapperState={initialChecked:a,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(o,e){e=e.checked,e!=null&&ta(o,"checked",e,!1)}function bb(o,e){ab(o,e);var s=Sa(e.value),a=e.type;if(s!=null)a==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+s):o.value!==""+s&&(o.value=""+s);else if(a==="submit"||a==="reset"){o.removeAttribute("value");return}e.hasOwnProperty("value")?cb$1(o,e.type,s):e.hasOwnProperty("defaultValue")&&cb$1(o,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(o.defaultChecked=!!e.defaultChecked)}function db(o,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var a=e.type;if(!(a!=="submit"&&a!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+o._wrapperState.initialValue,s||e===o.value||(o.value=e),o.defaultValue=e}s=o.name,s!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,s!==""&&(o.name=s)}function cb$1(o,e,s){(e!=="number"||Xa(o.ownerDocument)!==o)&&(s==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+s&&(o.defaultValue=""+s))}var eb=Array.isArray;function fb(o,e,s,a){if(o=o.options,e){e={};for(var c=0;c<s.length;c++)e["$"+s[c]]=!0;for(s=0;s<o.length;s++)c=e.hasOwnProperty("$"+o[s].value),o[s].selected!==c&&(o[s].selected=c),c&&a&&(o[s].defaultSelected=!0)}else{for(s=""+Sa(s),e=null,c=0;c<o.length;c++){if(o[c].value===s){o[c].selected=!0,a&&(o[c].defaultSelected=!0);return}e!==null||o[c].disabled||(e=o[c])}e!==null&&(e.selected=!0)}}function gb(o,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}e=s}e==null&&(e=""),s=e}o._wrapperState={initialValue:Sa(s)}}function ib(o,e){var s=Sa(e.value),a=Sa(e.defaultValue);s!=null&&(s=""+s,s!==o.value&&(o.value=s),e.defaultValue==null&&o.defaultValue!==s&&(o.defaultValue=s)),a!=null&&(o.defaultValue=""+a)}function jb(o){var e=o.textContent;e===o._wrapperState.initialValue&&e!==""&&e!==null&&(o.value=e)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,e){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(e):o==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,a,c){MSApp.execUnsafeLocalFunction(function(){return o(e,s,a,c)})}:o}(function(o,e){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;e.firstChild;)o.appendChild(e.firstChild)}});function ob(o,e){if(e){var s=o.firstChild;if(s&&s===o.lastChild&&s.nodeType===3){s.nodeValue=e;return}}o.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(e){e=e+o.charAt(0).toUpperCase()+o.substring(1),pb[e]=pb[o]})});function rb(o,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||pb.hasOwnProperty(o)&&pb[o]?(""+e).trim():e+"px"}function sb(o,e){o=o.style;for(var s in e)if(e.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=rb(s,e[s],a);s==="float"&&(s="cssFloat"),a?o.setProperty(s,c):o[s]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,e){if(e){if(tb[o]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,o));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(o,e){if(o.indexOf("-")===-1)return typeof e.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p(280));var e=o.stateNode;e&&(e=Db(e),yb(o.stateNode,o.type,e))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,e=Ab;if(Ab=zb=null,Bb(o),e)for(o=0;o<e.length;o++)Bb(e[o])}}function Gb(o,e){return o(e)}function Hb(){}var Ib=!1;function Jb(o,e,s){if(Ib)return o(e,s);Ib=!0;try{return Gb(o,e,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,e){var s=o.stateNode;if(s===null)return null;var a=Db(s);if(a===null)return null;s=a[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(o=o.type,a=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!a;break e;default:o=!1}if(o)return null;if(s&&typeof s!="function")throw Error(p(231,e,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,e,s,a,c,d,g,$,j){var tt=Array.prototype.slice.call(arguments,3);try{e.apply(s,tt)}catch(et){this.onError(et)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,e,s,a,c,d,g,$,j){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,e,s,a,c,d,g,$,j){if(Tb.apply(this,arguments),Ob){if(Ob){var tt=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=tt)}}function Vb(o){var e=o,s=o;if(o.alternate)for(;e.return;)e=e.return;else{o=e;do e=o,e.flags&4098&&(s=e.return),o=e.return;while(o)}return e.tag===3?s:null}function Wb(o){if(o.tag===13){var e=o.memoizedState;if(e===null&&(o=o.alternate,o!==null&&(e=o.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p(188))}function Yb(o){var e=o.alternate;if(!e){if(e=Vb(o),e===null)throw Error(p(188));return e!==o?null:o}for(var s=o,a=e;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return Xb(c),o;if(d===a)return Xb(c),e;d=d.sibling}throw Error(p(188))}if(s.return!==a.return)s=c,a=d;else{for(var g=!1,$=c.child;$;){if($===s){g=!0,s=c,a=d;break}if($===a){g=!0,a=c,s=d;break}$=$.sibling}if(!g){for($=d.child;$;){if($===s){g=!0,s=d,a=c;break}if($===a){g=!0,a=d,s=c;break}$=$.sibling}if(!g)throw Error(p(189))}}if(s.alternate!==a)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?o:e}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var e=$b(o);if(e!==null)return e;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,e){var s=o.pendingLanes;if(s===0)return 0;var a=0,c=o.suspendedLanes,d=o.pingedLanes,g=s&268435455;if(g!==0){var $=g&~c;$!==0?a=tc($):(d&=g,d!==0&&(a=tc(d)))}else g=s&~c,g!==0?a=tc(g):d!==0&&(a=tc(d));if(a===0)return 0;if(e!==0&&e!==a&&!(e&c)&&(c=a&-a,d=e&-e,c>=d||c===16&&(d&4194240)!==0))return e;if(a&4&&(a|=s&16),e=o.entangledLanes,e!==0)for(o=o.entanglements,e&=a;0<e;)s=31-oc(e),c=1<<s,a|=o[s],e&=~c;return a}function vc(o,e){switch(o){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,e){for(var s=o.suspendedLanes,a=o.pingedLanes,c=o.expirationTimes,d=o.pendingLanes;0<d;){var g=31-oc(d),$=1<<g,j=c[g];j===-1?(!($&s)||$&a)&&(c[g]=vc($,e)):j<=e&&(o.expiredLanes|=$),d&=~$}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var e=[],s=0;31>s;s++)e.push(o);return e}function Ac(o,e,s){o.pendingLanes|=e,e!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,e=31-oc(e),o[e]=s}function Bc(o,e){var s=o.pendingLanes&~e;o.pendingLanes=e,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=e,o.mutableReadLanes&=e,o.entangledLanes&=e,e=o.entanglements;var a=o.eventTimes;for(o=o.expirationTimes;0<s;){var c=31-oc(s),d=1<<c;e[c]=0,a[c]=-1,o[c]=-1,s&=~d}}function Cc(o,e){var s=o.entangledLanes|=e;for(o=o.entanglements;s;){var a=31-oc(s),c=1<<a;c&e|o[a]&e&&(o[a]|=e),s&=~c}}var C=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,e){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(o,e,s,a,c,d){return o===null||o.nativeEvent!==d?(o={blockedOn:e,domEventName:s,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),o):(o.eventSystemFlags|=a,e=o.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),o)}function Uc(o,e,s,a,c){switch(e){case"focusin":return Lc=Tc(Lc,o,e,s,a,c),!0;case"dragenter":return Mc=Tc(Mc,o,e,s,a,c),!0;case"mouseover":return Nc=Tc(Nc,o,e,s,a,c),!0;case"pointerover":var d=c.pointerId;return Oc.set(d,Tc(Oc.get(d)||null,o,e,s,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Pc.set(d,Tc(Pc.get(d)||null,o,e,s,a,c)),!0}return!1}function Vc(o){var e=Wc(o.target);if(e!==null){var s=Vb(e);if(s!==null){if(e=s.tag,e===13){if(e=Wb(s),e!==null){o.blockedOn=e,Ic(o.priority,function(){Gc(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){o.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var e=o.targetContainers;0<e.length;){var s=Yc(o.domEventName,o.eventSystemFlags,e[0],o.nativeEvent);if(s===null){s=o.nativeEvent;var a=new s.constructor(s.type,s);wb=a,s.target.dispatchEvent(a),wb=null}else return e=Cb(s),e!==null&&Fc(e),o.blockedOn=s,!1;e.shift()}return!0}function Zc(o,e,s){Xc(o)&&s.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,e){o.blockedOn===e&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function e(c){return ad(c,o)}if(0<Kc.length){ad(Kc[0],o);for(var s=1;s<Kc.length;s++){var a=Kc[s];a.blockedOn===o&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(e),Pc.forEach(e),s=0;s<Qc.length;s++)a=Qc[s],a.blockedOn===o&&(a.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,e,s,a){var c=C,d=cd.transition;cd.transition=null;try{C=1,fd(o,e,s,a)}finally{C=c,cd.transition=d}}function gd(o,e,s,a){var c=C,d=cd.transition;cd.transition=null;try{C=4,fd(o,e,s,a)}finally{C=c,cd.transition=d}}function fd(o,e,s,a){if(dd){var c=Yc(o,e,s,a);if(c===null)hd(o,e,a,id,s),Sc(o,a);else if(Uc(c,o,e,s,a))a.stopPropagation();else if(Sc(o,a),e&4&&-1<Rc.indexOf(o)){for(;c!==null;){var d=Cb(c);if(d!==null&&Ec(d),d=Yc(o,e,s,a),d===null&&hd(o,e,a,id,s),d===c)break;c=d}c!==null&&a.stopPropagation()}else hd(o,e,a,null,s)}}var id=null;function Yc(o,e,s,a){if(id=null,o=xb(a),o=Wc(o),o!==null)if(e=Vb(o),e===null)o=null;else if(s=e.tag,s===13){if(o=Wb(e),o!==null)return o;o=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;o=null}else e!==o&&(o=null);return id=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,e=ld,s=e.length,a,c="value"in kd?kd.value:kd.textContent,d=c.length;for(o=0;o<s&&e[o]===c[o];o++);var g=s-o;for(a=1;a<=g&&e[s-a]===c[d-a];a++);return md=c.slice(o,1<a?1-a:void 0)}function od(o){var e=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&e===13&&(o=13)):o=e,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function e(s,a,c,d,g){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var $ in o)o.hasOwnProperty($)&&(s=o[$],this[$]=s?s(d):d[$]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(o):(o=Od[o])?!!e[o]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(o){if(o.key){var e=Md[o.key]||o.key;if(e!=="Unidentified")return e}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(o,e){switch(o){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,e){switch(o){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return o=e.data,o===ee&&fe?null:o;default:return null}}function ke(o,e){if(ie)return o==="compositionend"||!ae&&ge(o,e)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e==="input"?!!le[o.type]:e==="textarea"}function ne(o,e,s,a){Eb(a),e=oe(e,"onChange"),0<e.length&&(s=new td("onChange","change",null,s,a),o.push({event:s,listeners:e}))}var pe=null,qe=null;function re(o){se(o,0)}function te(o){var e=ue(o);if(Wa(e))return o}function ve(o,e){if(o==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,o,xb(o)),Jb(re,e)}}function Ce(o,e,s){o==="focusin"?(Ae(),pe=e,qe=s,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,e){if(o==="click")return te(e)}function Fe(o,e){if(o==="input"||o==="change")return te(e)}function Ge(o,e){return o===e&&(o!==0||1/o===1/e)||o!==o&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,e){if(He(o,e))return!0;if(typeof o!="object"||o===null||typeof e!="object"||e===null)return!1;var s=Object.keys(o),a=Object.keys(e);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!ja.call(e,c)||!He(o[c],e[c]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,e){var s=Je(o);o=0;for(var a;s;){if(s.nodeType===3){if(a=o+s.textContent.length,o<=e&&a>=e)return{node:s,offset:e-o};o=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(o,e){return o&&e?o===e?!0:o&&o.nodeType===3?!1:e&&e.nodeType===3?Le(o,e.parentNode):"contains"in o?o.contains(e):o.compareDocumentPosition?!!(o.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var o=window,e=Xa();e instanceof o.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)o=e.contentWindow;else break;e=Xa(o.document)}return e}function Ne(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e&&(e==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||e==="textarea"||o.contentEditable==="true")}function Oe(o){var e=Me(),s=o.focusedElem,a=o.selectionRange;if(e!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(a!==null&&Ne(s)){if(e=a.start,o=a.end,o===void 0&&(o=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(o,s.value.length);else if(o=(e=s.ownerDocument||document)&&e.defaultView||window,o.getSelection){o=o.getSelection();var c=s.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!o.extend&&d>a&&(c=a,a=d,d=c),c=Ke(s,d);var g=Ke(s,a);c&&g&&(o.rangeCount!==1||o.anchorNode!==c.node||o.anchorOffset!==c.offset||o.focusNode!==g.node||o.focusOffset!==g.offset)&&(e=e.createRange(),e.setStart(c.node,c.offset),o.removeAllRanges(),d>a?(o.addRange(e),o.extend(g.node,g.offset)):(e.setEnd(g.node,g.offset),o.addRange(e)))}}for(e=[],o=s;o=o.parentNode;)o.nodeType===1&&e.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)o=e[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,e,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(e=new td("onSelect","select",null,e,s),o.push({event:e,listeners:a}),e.target=Qe)))}function Ve(o,e){var s={};return s[o.toLowerCase()]=e.toLowerCase(),s["Webkit"+o]="webkit"+e,s["Moz"+o]="moz"+e,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var e=We[o],s;for(s in e)if(e.hasOwnProperty(s)&&s in Ye)return Xe[o]=e[s];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,e){df.set(o,e),fa(e,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,e,s){var a=o.type||"unknown-event";o.currentTarget=s,Ub(a,e,void 0,o),o.currentTarget=null}function se(o,e){e=(e&4)!==0;for(var s=0;s<o.length;s++){var a=o[s],c=a.event;a=a.listeners;e:{var d=void 0;if(e)for(var g=a.length-1;0<=g;g--){var $=a[g],j=$.instance,tt=$.currentTarget;if($=$.listener,j!==d&&c.isPropagationStopped())break e;nf(c,$,tt),d=j}else for(g=0;g<a.length;g++){if($=a[g],j=$.instance,tt=$.currentTarget,$=$.listener,j!==d&&c.isPropagationStopped())break e;nf(c,$,tt),d=j}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,e){var s=e[of];s===void 0&&(s=e[of]=new Set);var a=o+"__bubble";s.has(a)||(pf(e,o,2,!1),s.add(a))}function qf(o,e,s){var a=0;e&&(a|=4),pf(s,o,a,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,o),qf(s,!0,o))});var e=o.nodeType===9?o:o.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(o,e,s,a){switch(jd(e)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}s=c.bind(null,e,s,o),c=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),a?c!==void 0?o.addEventListener(e,s,{capture:!0,passive:c}):o.addEventListener(e,s,!0):c!==void 0?o.addEventListener(e,s,{passive:c}):o.addEventListener(e,s,!1)}function hd(o,e,s,a,c){var d=a;if(!(e&1)&&!(e&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var $=a.stateNode.containerInfo;if($===c||$.nodeType===8&&$.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var j=g.tag;if((j===3||j===4)&&(j=g.stateNode.containerInfo,j===c||j.nodeType===8&&j.parentNode===c))return;g=g.return}for(;$!==null;){if(g=Wc($),g===null)return;if(j=g.tag,j===5||j===6){a=d=g;continue e}$=$.parentNode}}a=a.return}Jb(function(){var tt=d,et=xb(s),b=[];e:{var h=df.get(o);if(h!==void 0){var _e=td,nt=o;switch(o){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":_e=Rd;break;case"focusin":nt="focus",_e=Fd;break;case"focusout":nt="blur",_e=Fd;break;case"beforeblur":case"afterblur":_e=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Vd;break;case $e:case af:case bf:_e=Hd;break;case cf:_e=Xd;break;case"scroll":_e=vd;break;case"wheel":_e=Zd;break;case"copy":case"cut":case"paste":_e=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Td}var rt=(e&4)!==0,it=!rt&&o==="scroll",st=rt?h!==null?h+"Capture":null:h;rt=[];for(var ot=tt,at;ot!==null;){at=ot;var ct=at.stateNode;if(at.tag===5&&ct!==null&&(at=ct,st!==null&&(ct=Kb(ot,st),ct!=null&&rt.push(tf(ot,ct,at)))),it)break;ot=ot.return}0<rt.length&&(h=new _e(h,nt,null,s,et),b.push({event:h,listeners:rt}))}}if(!(e&7)){e:{if(h=o==="mouseover"||o==="pointerover",_e=o==="mouseout"||o==="pointerout",h&&s!==wb&&(nt=s.relatedTarget||s.fromElement)&&(Wc(nt)||nt[uf]))break e;if((_e||h)&&(h=et.window===et?et:(h=et.ownerDocument)?h.defaultView||h.parentWindow:window,_e?(nt=s.relatedTarget||s.toElement,_e=tt,nt=nt?Wc(nt):null,nt!==null&&(it=Vb(nt),nt!==it||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(_e=null,nt=tt),_e!==nt)){if(rt=Bd,ct="onMouseLeave",st="onMouseEnter",ot="mouse",(o==="pointerout"||o==="pointerover")&&(rt=Td,ct="onPointerLeave",st="onPointerEnter",ot="pointer"),it=_e==null?h:ue(_e),at=nt==null?h:ue(nt),h=new rt(ct,ot+"leave",_e,s,et),h.target=it,h.relatedTarget=at,ct=null,Wc(et)===tt&&(rt=new rt(st,ot+"enter",nt,s,et),rt.target=at,rt.relatedTarget=it,ct=rt),it=ct,_e&&nt)t:{for(rt=_e,st=nt,ot=0,at=rt;at;at=vf(at))ot++;for(at=0,ct=st;ct;ct=vf(ct))at++;for(;0<ot-at;)rt=vf(rt),ot--;for(;0<at-ot;)st=vf(st),at--;for(;ot--;){if(rt===st||st!==null&&rt===st.alternate)break t;rt=vf(rt),st=vf(st)}rt=null}else rt=null;_e!==null&&wf(b,h,_e,rt,!1),nt!==null&&it!==null&&wf(b,it,nt,rt,!0)}}e:{if(h=tt?ue(tt):window,_e=h.nodeName&&h.nodeName.toLowerCase(),_e==="select"||_e==="input"&&h.type==="file")var ut=ve;else if(me(h))if(we)ut=Fe;else{ut=De;var dt=Ce}else(_e=h.nodeName)&&_e.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(ut=Ee);if(ut&&(ut=ut(o,tt))){ne(b,ut,s,et);break e}dt&&dt(o,h,tt),o==="focusout"&&(dt=h._wrapperState)&&dt.controlled&&h.type==="number"&&cb$1(h,"number",h.value)}switch(dt=tt?ue(tt):window,o){case"focusin":(me(dt)||dt.contentEditable==="true")&&(Qe=dt,Re=tt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(b,s,et);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(b,s,et)}var ht;if(ae)e:{switch(o){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else ie?ge(o,s)&&(pt="onCompositionEnd"):o==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(de&&s.locale!=="ko"&&(ie||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&ie&&(ht=nd()):(kd=et,ld="value"in kd?kd.value:kd.textContent,ie=!0)),dt=oe(tt,pt),0<dt.length&&(pt=new Ld(pt,o,null,s,et),b.push({event:pt,listeners:dt}),ht?pt.data=ht:(ht=he(s),ht!==null&&(pt.data=ht)))),(ht=ce?je(o,s):ke(o,s))&&(tt=oe(tt,"onBeforeInput"),0<tt.length&&(et=new Ld("onBeforeInput","beforeinput",null,s,et),b.push({event:et,listeners:tt}),et.data=ht))}se(b,e)})}function tf(o,e,s){return{instance:o,listener:e,currentTarget:s}}function oe(o,e){for(var s=e+"Capture",a=[];o!==null;){var c=o,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Kb(o,s),d!=null&&a.unshift(tf(o,d,c)),d=Kb(o,e),d!=null&&a.push(tf(o,d,c))),o=o.return}return a}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,e,s,a,c){for(var d=e._reactName,g=[];s!==null&&s!==a;){var $=s,j=$.alternate,tt=$.stateNode;if(j!==null&&j===a)break;$.tag===5&&tt!==null&&($=tt,c?(j=Kb(s,d),j!=null&&g.unshift(tf(s,j,$))):c||(j=Kb(s,d),j!=null&&g.push(tf(s,j,$)))),s=s.return}g.length!==0&&o.push({event:e,listeners:g})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,e,s){if(e=zf(e),zf(o)!==e&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,e){return o==="textarea"||o==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If$1)}:Ff;function If$1(o){setTimeout(function(){throw o})}function Kf(o,e){var s=e,a=0;do{var c=s.nextSibling;if(o.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){o.removeChild(c),bd(e);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);bd(e)}function Lf(o){for(;o!=null;o=o.nextSibling){var e=o.nodeType;if(e===1||e===3)break;if(e===8){if(e=o.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var e=0;o;){if(o.nodeType===8){var s=o.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return o;e--}else s==="/$"&&e++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var e=o[Of];if(e)return e;for(var s=o.parentNode;s;){if(e=s[uf]||s[Of]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(o=Mf(o);o!==null;){if(s=o[Of])return s;o=Mf(o)}return e}o=s,s=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,e){Tf++,Sf[Tf]=o.current,o.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,e){var s=o.type.contextTypes;if(!s)return Vf;var a=o.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===e)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=e[d];return a&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=e,o.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E(Wf),E(H)}function ag(o,e,s){if(H.current!==Vf)throw Error(p(168));G(H,e),G(Wf,s)}function bg(o,e,s){var a=o.stateNode;if(e=e.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in e))throw Error(p(108,Ra(o)||"Unknown",c));return A({},s,a)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,o),G(Wf,Wf.current),!0}function dg(o,e,s){var a=o.stateNode;if(!a)throw Error(p(169));s?(o=bg(o,e,Xf),a.__reactInternalMemoizedMergedChildContext=o,E(Wf),E(H),G(H,o)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,e=C;try{var s=eg;for(C=1;o<s.length;o++){var a=s[o];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),c}finally{C=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,e){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=e}function ug(o,e,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var a=rg;o=sg;var c=32-oc(a)-1;a&=~(1<<c),s+=1;var d=32-oc(e)+c;if(30<d){var g=c-c%5;d=(a&(1<<g)-1).toString(32),a>>=g,c-=g,rg=1<<32-oc(e)+c|s<<c|a,sg=d+o}else rg=1<<d|s<<c|a,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,e){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=o,e=o.deletions,e===null?(o.deletions=[s],o.flags|=16):e.push(s)}function Cg(o,e){switch(o.tag){case 5:var s=o.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(o.stateNode=e,xg=o,yg=Lf(e.firstChild),!0):!1;case 6:return e=o.pendingProps===""||e.nodeType!==3?null:e,e!==null?(o.stateNode=e,xg=o,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=e,s.return=o,o.child=s,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var e=yg;if(e){var s=e;if(!Cg(o,e)){if(Dg(o))throw Error(p(418));e=Lf(s.nextSibling);var a=xg;e&&Cg(o,e)?Ag(a,s):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var e;if((e=o.tag!==3)&&!(e=o.tag!==5)&&(e=o.type,e=e!=="head"&&e!=="body"&&!Ef(o.type,o.memoizedProps)),e&&(e=yg)){if(Dg(o))throw Hg(),Error(p(418));for(;e;)Ag(o,e),e=Lf(e.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p(317));e:{for(o=o.nextSibling,e=0;o;){if(o.nodeType===8){var s=o.data;if(s==="/$"){if(e===0){yg=Lf(o.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,e,s){if(o=s.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var a=s.stateNode}if(!a)throw Error(p(147,o));var c=a,d=""+o;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===d?e.ref:(e=function(g){var $=c.refs;g===null?delete $[d]:$[d]=g},e._stringRef=d,e)}if(typeof o!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,o))}return o}function Mg(o,e){throw o=Object.prototype.toString.call(e),Error(p(31,o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o))}function Ng(o){var e=o._init;return e(o._payload)}function Og(o){function e(st,ot){if(o){var at=st.deletions;at===null?(st.deletions=[ot],st.flags|=16):at.push(ot)}}function s(st,ot){if(!o)return null;for(;ot!==null;)e(st,ot),ot=ot.sibling;return null}function a(st,ot){for(st=new Map;ot!==null;)ot.key!==null?st.set(ot.key,ot):st.set(ot.index,ot),ot=ot.sibling;return st}function c(st,ot){return st=Pg(st,ot),st.index=0,st.sibling=null,st}function d(st,ot,at){return st.index=at,o?(at=st.alternate,at!==null?(at=at.index,at<ot?(st.flags|=2,ot):at):(st.flags|=2,ot)):(st.flags|=1048576,ot)}function g(st){return o&&st.alternate===null&&(st.flags|=2),st}function $(st,ot,at,ct){return ot===null||ot.tag!==6?(ot=Qg(at,st.mode,ct),ot.return=st,ot):(ot=c(ot,at),ot.return=st,ot)}function j(st,ot,at,ct){var ut=at.type;return ut===ya?et(st,ot,at.props.children,ct,at.key):ot!==null&&(ot.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&Ng(ut)===ot.type)?(ct=c(ot,at.props),ct.ref=Lg(st,ot,at),ct.return=st,ct):(ct=Rg(at.type,at.key,at.props,null,st.mode,ct),ct.ref=Lg(st,ot,at),ct.return=st,ct)}function tt(st,ot,at,ct){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==at.containerInfo||ot.stateNode.implementation!==at.implementation?(ot=Sg(at,st.mode,ct),ot.return=st,ot):(ot=c(ot,at.children||[]),ot.return=st,ot)}function et(st,ot,at,ct,ut){return ot===null||ot.tag!==7?(ot=Tg(at,st.mode,ct,ut),ot.return=st,ot):(ot=c(ot,at),ot.return=st,ot)}function b(st,ot,at){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return ot=Qg(""+ot,st.mode,at),ot.return=st,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return at=Rg(ot.type,ot.key,ot.props,null,st.mode,at),at.ref=Lg(st,null,ot),at.return=st,at;case wa:return ot=Sg(ot,st.mode,at),ot.return=st,ot;case Ha:var ct=ot._init;return b(st,ct(ot._payload),at)}if(eb(ot)||Ka(ot))return ot=Tg(ot,st.mode,at,null),ot.return=st,ot;Mg(st,ot)}return null}function h(st,ot,at,ct){var ut=ot!==null?ot.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return ut!==null?null:$(st,ot,""+at,ct);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return at.key===ut?j(st,ot,at,ct):null;case wa:return at.key===ut?tt(st,ot,at,ct):null;case Ha:return ut=at._init,h(st,ot,ut(at._payload),ct)}if(eb(at)||Ka(at))return ut!==null?null:et(st,ot,at,ct,null);Mg(st,at)}return null}function _e(st,ot,at,ct,ut){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return st=st.get(at)||null,$(ot,st,""+ct,ut);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return st=st.get(ct.key===null?at:ct.key)||null,j(ot,st,ct,ut);case wa:return st=st.get(ct.key===null?at:ct.key)||null,tt(ot,st,ct,ut);case Ha:var dt=ct._init;return _e(st,ot,at,dt(ct._payload),ut)}if(eb(ct)||Ka(ct))return st=st.get(at)||null,et(ot,st,ct,ut,null);Mg(ot,ct)}return null}function nt(st,ot,at,ct){for(var ut=null,dt=null,ht=ot,pt=ot=0,ft=null;ht!==null&&pt<at.length;pt++){ht.index>pt?(ft=ht,ht=null):ft=ht.sibling;var bt=h(st,ht,at[pt],ct);if(bt===null){ht===null&&(ht=ft);break}o&&ht&&bt.alternate===null&&e(st,ht),ot=d(bt,ot,pt),dt===null?ut=bt:dt.sibling=bt,dt=bt,ht=ft}if(pt===at.length)return s(st,ht),I&&tg(st,pt),ut;if(ht===null){for(;pt<at.length;pt++)ht=b(st,at[pt],ct),ht!==null&&(ot=d(ht,ot,pt),dt===null?ut=ht:dt.sibling=ht,dt=ht);return I&&tg(st,pt),ut}for(ht=a(st,ht);pt<at.length;pt++)ft=_e(ht,st,pt,at[pt],ct),ft!==null&&(o&&ft.alternate!==null&&ht.delete(ft.key===null?pt:ft.key),ot=d(ft,ot,pt),dt===null?ut=ft:dt.sibling=ft,dt=ft);return o&&ht.forEach(function(Ct){return e(st,Ct)}),I&&tg(st,pt),ut}function rt(st,ot,at,ct){var ut=Ka(at);if(typeof ut!="function")throw Error(p(150));if(at=ut.call(at),at==null)throw Error(p(151));for(var dt=ut=null,ht=ot,pt=ot=0,ft=null,bt=at.next();ht!==null&&!bt.done;pt++,bt=at.next()){ht.index>pt?(ft=ht,ht=null):ft=ht.sibling;var Ct=h(st,ht,bt.value,ct);if(Ct===null){ht===null&&(ht=ft);break}o&&ht&&Ct.alternate===null&&e(st,ht),ot=d(Ct,ot,pt),dt===null?ut=Ct:dt.sibling=Ct,dt=Ct,ht=ft}if(bt.done)return s(st,ht),I&&tg(st,pt),ut;if(ht===null){for(;!bt.done;pt++,bt=at.next())bt=b(st,bt.value,ct),bt!==null&&(ot=d(bt,ot,pt),dt===null?ut=bt:dt.sibling=bt,dt=bt);return I&&tg(st,pt),ut}for(ht=a(st,ht);!bt.done;pt++,bt=at.next())bt=_e(ht,st,pt,bt.value,ct),bt!==null&&(o&&bt.alternate!==null&&ht.delete(bt.key===null?pt:bt.key),ot=d(bt,ot,pt),dt===null?ut=bt:dt.sibling=bt,dt=bt);return o&&ht.forEach(function(yt){return e(st,yt)}),I&&tg(st,pt),ut}function it(st,ot,at,ct){if(typeof at=="object"&&at!==null&&at.type===ya&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case va:e:{for(var ut=at.key,dt=ot;dt!==null;){if(dt.key===ut){if(ut=at.type,ut===ya){if(dt.tag===7){s(st,dt.sibling),ot=c(dt,at.props.children),ot.return=st,st=ot;break e}}else if(dt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&Ng(ut)===dt.type){s(st,dt.sibling),ot=c(dt,at.props),ot.ref=Lg(st,dt,at),ot.return=st,st=ot;break e}s(st,dt);break}else e(st,dt);dt=dt.sibling}at.type===ya?(ot=Tg(at.props.children,st.mode,ct,at.key),ot.return=st,st=ot):(ct=Rg(at.type,at.key,at.props,null,st.mode,ct),ct.ref=Lg(st,ot,at),ct.return=st,st=ct)}return g(st);case wa:e:{for(dt=at.key;ot!==null;){if(ot.key===dt)if(ot.tag===4&&ot.stateNode.containerInfo===at.containerInfo&&ot.stateNode.implementation===at.implementation){s(st,ot.sibling),ot=c(ot,at.children||[]),ot.return=st,st=ot;break e}else{s(st,ot);break}else e(st,ot);ot=ot.sibling}ot=Sg(at,st.mode,ct),ot.return=st,st=ot}return g(st);case Ha:return dt=at._init,it(st,ot,dt(at._payload),ct)}if(eb(at))return nt(st,ot,at,ct);if(Ka(at))return rt(st,ot,at,ct);Mg(st,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,ot!==null&&ot.tag===6?(s(st,ot.sibling),ot=c(ot,at),ot.return=st,st=ot):(s(st,ot),ot=Qg(at,st.mode,ct),ot.return=st,st=ot),g(st)):s(st,ot)}return it}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(o){var e=Wg.current;E(Wg),o._currentValue=e}function bh(o,e,s){for(;o!==null;){var a=o.alternate;if((o.childLanes&e)!==e?(o.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),o===s)break;o=o.return}}function ch(o,e){Xg=o,Zg=Yg=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&e&&(dh=!0),o.firstContext=null)}function eh(o){var e=o._currentValue;if(Zg!==o)if(o={context:o,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=o,Xg.dependencies={lanes:0,firstContext:o}}else Yg=Yg.next=o;return e}var fh=null;function gh(o){fh===null?fh=[o]:fh.push(o)}function hh(o,e,s,a){var c=e.interleaved;return c===null?(s.next=s,gh(e)):(s.next=c.next,c.next=s),e.interleaved=s,ih(o,a)}function ih(o,e){o.lanes|=e;var s=o.alternate;for(s!==null&&(s.lanes|=e),s=o,o=o.return;o!==null;)o.childLanes|=e,s=o.alternate,s!==null&&(s.childLanes|=e),s=o,o=o.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(o,e){o=o.updateQueue,e.updateQueue===o&&(e.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function mh(o,e){return{eventTime:o,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(o,e,s){var a=o.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var c=a.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),a.pending=e,ih(o,s)}return c=a.interleaved,c===null?(e.next=e,gh(a)):(e.next=c.next,c.next=e),a.interleaved=e,ih(o,s)}function oh(o,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var a=e.lanes;a&=o.pendingLanes,s|=a,e.lanes=s,Cc(o,s)}}function ph(o,e){var s=o.updateQueue,a=o.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var g={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=g:d=d.next=g,s=s.next}while(s!==null);d===null?c=d=e:d=d.next=e}else c=d=e;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},o.updateQueue=s;return}o=s.lastBaseUpdate,o===null?s.firstBaseUpdate=e:o.next=e,s.lastBaseUpdate=e}function qh(o,e,s,a){var c=o.updateQueue;jh=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,$=c.shared.pending;if($!==null){c.shared.pending=null;var j=$,tt=j.next;j.next=null,g===null?d=tt:g.next=tt,g=j;var et=o.alternate;et!==null&&(et=et.updateQueue,$=et.lastBaseUpdate,$!==g&&($===null?et.firstBaseUpdate=tt:$.next=tt,et.lastBaseUpdate=j))}if(d!==null){var b=c.baseState;g=0,et=tt=j=null,$=d;do{var h=$.lane,_e=$.eventTime;if((a&h)===h){et!==null&&(et=et.next={eventTime:_e,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var nt=o,rt=$;switch(h=e,_e=s,rt.tag){case 1:if(nt=rt.payload,typeof nt=="function"){b=nt.call(_e,b,h);break e}b=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=rt.payload,h=typeof nt=="function"?nt.call(_e,b,h):nt,h==null)break e;b=A({},b,h);break e;case 2:jh=!0}}$.callback!==null&&$.lane!==0&&(o.flags|=64,h=c.effects,h===null?c.effects=[$]:h.push($))}else _e={eventTime:_e,lane:h,tag:$.tag,payload:$.payload,callback:$.callback,next:null},et===null?(tt=et=_e,j=b):et=et.next=_e,g|=h;if($=$.next,$===null){if($=c.shared.pending,$===null)break;h=$,$=h.next,h.next=null,c.lastBaseUpdate=h,c.shared.pending=null}}while(!0);if(et===null&&(j=b),c.baseState=j,c.firstBaseUpdate=tt,c.lastBaseUpdate=et,e=c.shared.interleaved,e!==null){c=e;do g|=c.lane,c=c.next;while(c!==e)}else d===null&&(c.shared.lanes=0);rh|=g,o.lanes=g,o.memoizedState=b}}function sh(o,e,s){if(o=e.effects,e.effects=null,o!==null)for(e=0;e<o.length;e++){var a=o[e],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(p(191,c));c.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(o){if(o===th)throw Error(p(174));return o}function yh(o,e){switch(G(wh,e),G(vh,o),G(uh,th),o=e.nodeType,o){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:o=o===8?e.parentNode:e,e=o.namespaceURI||null,o=o.tagName,e=lb(e,o)}E(uh),G(uh,e)}function zh(){E(uh),E(vh),E(wh)}function Ah(o){xh(wh.current);var e=xh(uh.current),s=lb(e,o.type);e!==s&&(G(vh,o),G(uh,s))}function Bh(o){vh.current===o&&(E(uh),E(vh))}var L=Uf(0);function Ch(o){for(var e=o;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var o=0;o<Dh.length;o++)Dh[o]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(o,e){if(e===null)return!1;for(var s=0;s<e.length&&s<o.length;s++)if(!He(o[s],e[s]))return!1;return!0}function Nh(o,e,s,a,c,d){if(Hh=d,M=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=o===null||o.memoizedState===null?Oh:Ph,o=s(a,c),Jh){d=0;do{if(Jh=!1,Kh=0,25<=d)throw Error(p(301));d+=1,O=N=null,e.updateQueue=null,Fh.current=Qh,o=s(a,c)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,e)throw Error(p(300));return o}function Sh(){var o=Kh!==0;return Kh=0,o}function Th(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=o:O=O.next=o,O}function Uh(){if(N===null){var o=M.alternate;o=o!==null?o.memoizedState:null}else o=N.next;var e=O===null?M.memoizedState:O.next;if(e!==null)O=e,N=o;else{if(o===null)throw Error(p(310));N=o,o={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=o:O=O.next=o}return O}function Vh(o,e){return typeof e=="function"?e(o):e}function Wh(o){var e=Uh(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=o;var a=N,c=a.baseQueue,d=s.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}a.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,a=a.baseState;var $=g=null,j=null,tt=d;do{var et=tt.lane;if((Hh&et)===et)j!==null&&(j=j.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),a=tt.hasEagerState?tt.eagerState:o(a,tt.action);else{var b={lane:et,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};j===null?($=j=b,g=a):j=j.next=b,M.lanes|=et,rh|=et}tt=tt.next}while(tt!==null&&tt!==d);j===null?g=a:j.next=$,He(a,e.memoizedState)||(dh=!0),e.memoizedState=a,e.baseState=g,e.baseQueue=j,s.lastRenderedState=a}if(o=s.interleaved,o!==null){c=o;do d=c.lane,M.lanes|=d,rh|=d,c=c.next;while(c!==o)}else c===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Xh(o){var e=Uh(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=o;var a=s.dispatch,c=s.pending,d=e.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do d=o(d,g.action),g=g.next;while(g!==c);He(d,e.memoizedState)||(dh=!0),e.memoizedState=d,e.baseQueue===null&&(e.baseState=d),s.lastRenderedState=d}return[d,a]}function Yh(){}function Zh(o,e){var s=M,a=Uh(),c=e(),d=!He(a.memoizedState,c);if(d&&(a.memoizedState=c,dh=!0),a=a.queue,$h(ai.bind(null,s,a,o),[o]),a.getSnapshot!==e||d||O!==null&&O.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,a,c,e),void 0,null),Q===null)throw Error(p(349));Hh&30||di(s,e,c)}return c}function di(o,e,s){o.flags|=16384,o={getSnapshot:e,value:s},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.stores=[o]):(s=e.stores,s===null?e.stores=[o]:s.push(o))}function ci(o,e,s,a){e.value=s,e.getSnapshot=a,ei(e)&&fi(o)}function ai(o,e,s){return s(function(){ei(e)&&fi(o)})}function ei(o){var e=o.getSnapshot;o=o.value;try{var s=e();return!He(o,s)}catch{return!0}}function fi(o){var e=ih(o,1);e!==null&&gi(e,o,1,-1)}function hi(o){var e=Th();return typeof o=="function"&&(o=o()),e.memoizedState=e.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:o},e.queue=o,o=o.dispatch=ii.bind(null,M,o),[e.memoizedState,o]}function bi(o,e,s,a){return o={tag:o,create:e,destroy:s,deps:a,next:null},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.lastEffect=o.next=o):(s=e.lastEffect,s===null?e.lastEffect=o.next=o:(a=s.next,s.next=o,o.next=a,e.lastEffect=o)),o}function ji(){return Uh().memoizedState}function ki(o,e,s,a){var c=Th();M.flags|=o,c.memoizedState=bi(1|e,s,void 0,a===void 0?null:a)}function li(o,e,s,a){var c=Uh();a=a===void 0?null:a;var d=void 0;if(N!==null){var g=N.memoizedState;if(d=g.destroy,a!==null&&Mh(a,g.deps)){c.memoizedState=bi(e,s,d,a);return}}M.flags|=o,c.memoizedState=bi(1|e,s,d,a)}function mi(o,e){return ki(8390656,8,o,e)}function $h(o,e){return li(2048,8,o,e)}function ni(o,e){return li(4,2,o,e)}function oi(o,e){return li(4,4,o,e)}function pi(o,e){if(typeof e=="function")return o=o(),e(o),function(){e(null)};if(e!=null)return o=o(),e.current=o,function(){e.current=null}}function qi(o,e,s){return s=s!=null?s.concat([o]):null,li(4,4,pi.bind(null,e,o),s)}function ri(){}function si(o,e){var s=Uh();e=e===void 0?null:e;var a=s.memoizedState;return a!==null&&e!==null&&Mh(e,a[1])?a[0]:(s.memoizedState=[o,e],o)}function ti(o,e){var s=Uh();e=e===void 0?null:e;var a=s.memoizedState;return a!==null&&e!==null&&Mh(e,a[1])?a[0]:(o=o(),s.memoizedState=[o,e],o)}function ui(o,e,s){return Hh&21?(He(s,e)||(s=yc(),M.lanes|=s,rh|=s,o.baseState=!0),e):(o.baseState&&(o.baseState=!1,dh=!0),o.memoizedState=s)}function vi(o,e){var s=C;C=s!==0&&4>s?s:4,o(!0);var a=Gh.transition;Gh.transition={};try{o(!1),e()}finally{C=s,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(o,e,s){var a=yi(o);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},zi(o))Ai(e,s);else if(s=hh(o,e,s,a),s!==null){var c=R();gi(s,o,a,c),Bi(s,e,a)}}function ii(o,e,s){var a=yi(o),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(o))Ai(e,c);else{var d=o.alternate;if(o.lanes===0&&(d===null||d.lanes===0)&&(d=e.lastRenderedReducer,d!==null))try{var g=e.lastRenderedState,$=d(g,s);if(c.hasEagerState=!0,c.eagerState=$,He($,g)){var j=e.interleaved;j===null?(c.next=c,gh(e)):(c.next=j.next,j.next=c),e.interleaved=c;return}}catch{}finally{}s=hh(o,e,c,a),s!==null&&(c=R(),gi(s,o,a,c),Bi(s,e,a))}}function zi(o){var e=o.alternate;return o===M||e!==null&&e===M}function Ai(o,e){Jh=Ih=!0;var s=o.pending;s===null?e.next=e:(e.next=s.next,s.next=e),o.pending=e}function Bi(o,e,s){if(s&4194240){var a=e.lanes;a&=o.pendingLanes,s|=a,e.lanes=s,Cc(o,s)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(o,e){return Th().memoizedState=[o,e===void 0?null:e],o},useContext:eh,useEffect:mi,useImperativeHandle:function(o,e,s){return s=s!=null?s.concat([o]):null,ki(4194308,4,pi.bind(null,e,o),s)},useLayoutEffect:function(o,e){return ki(4194308,4,o,e)},useInsertionEffect:function(o,e){return ki(4,2,o,e)},useMemo:function(o,e){var s=Th();return e=e===void 0?null:e,o=o(),s.memoizedState=[o,e],o},useReducer:function(o,e,s){var a=Th();return e=s!==void 0?s(e):e,a.memoizedState=a.baseState=e,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:e},a.queue=o,o=o.dispatch=xi.bind(null,M,o),[a.memoizedState,o]},useRef:function(o){var e=Th();return o={current:o},e.memoizedState=o},useState:hi,useDebugValue:ri,useDeferredValue:function(o){return Th().memoizedState=o},useTransition:function(){var o=hi(!1),e=o[0];return o=vi.bind(null,o[1]),Th().memoizedState=o,[e,o]},useMutableSource:function(){},useSyncExternalStore:function(o,e,s){var a=M,c=Th();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=e(),Q===null)throw Error(p(349));Hh&30||di(a,e,s)}c.memoizedState=s;var d={value:s,getSnapshot:e};return c.queue=d,mi(ai.bind(null,a,d,o),[o]),a.flags|=2048,bi(9,ci.bind(null,a,d,s,e),void 0,null),s},useId:function(){var o=Th(),e=Q.identifierPrefix;if(I){var s=sg,a=rg;s=(a&~(1<<32-oc(a)-1)).toString(32)+s,e=":"+e+"R"+s,s=Kh++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=Lh++,e=":"+e+"r"+s.toString(32)+":";return o.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var e=Uh();return ui(e,N.memoizedState,o)},useTransition:function(){var o=Wh(Vh)[0],e=Uh().memoizedState;return[o,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var e=Uh();return N===null?e.memoizedState=o:ui(e,N.memoizedState,o)},useTransition:function(){var o=Xh(Vh)[0],e=Uh().memoizedState;return[o,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(o,e){if(o&&o.defaultProps){e=A({},e),o=o.defaultProps;for(var s in o)e[s]===void 0&&(e[s]=o[s]);return e}return e}function Di(o,e,s,a){e=o.memoizedState,s=s(a,e),s=s==null?e:A({},e,s),o.memoizedState=s,o.lanes===0&&(o.updateQueue.baseState=s)}var Ei={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,e,s){o=o._reactInternals;var a=R(),c=yi(o),d=mh(a,c);d.payload=e,s!=null&&(d.callback=s),e=nh(o,d,c),e!==null&&(gi(e,o,c,a),oh(e,o,c))},enqueueReplaceState:function(o,e,s){o=o._reactInternals;var a=R(),c=yi(o),d=mh(a,c);d.tag=1,d.payload=e,s!=null&&(d.callback=s),e=nh(o,d,c),e!==null&&(gi(e,o,c,a),oh(e,o,c))},enqueueForceUpdate:function(o,e){o=o._reactInternals;var s=R(),a=yi(o),c=mh(s,a);c.tag=2,e!=null&&(c.callback=e),e=nh(o,c,a),e!==null&&(gi(e,o,a,s),oh(e,o,a))}};function Fi(o,e,s,a,c,d,g){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(a,d,g):e.prototype&&e.prototype.isPureReactComponent?!Ie(s,a)||!Ie(c,d):!0}function Gi(o,e,s){var a=!1,c=Vf,d=e.contextType;return typeof d=="object"&&d!==null?d=eh(d):(c=Zf(e)?Xf:H.current,a=e.contextTypes,d=(a=a!=null)?Yf(o,c):Vf),e=new e(s,d),o.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,o.stateNode=e,e._reactInternals=o,a&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=d),e}function Hi(o,e,s,a){o=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,a),e.state!==o&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(o,e,s,a){var c=o.stateNode;c.props=s,c.state=o.memoizedState,c.refs={},kh(o);var d=e.contextType;typeof d=="object"&&d!==null?c.context=eh(d):(d=Zf(e)?Xf:H.current,c.context=Yf(o,d)),c.state=o.memoizedState,d=e.getDerivedStateFromProps,typeof d=="function"&&(Di(o,e,d,s),c.state=o.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(e=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),e!==c.state&&Ei.enqueueReplaceState(c,c.state,null),qh(o,s,c,a),c.state=o.memoizedState),typeof c.componentDidMount=="function"&&(o.flags|=4194308)}function Ji(o,e){try{var s="",a=e;do s+=Pa(a),a=a.return;while(a);var c=s}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:o,source:e,stack:c,digest:null}}function Ki(o,e,s){return{value:o,source:null,stack:s??null,digest:e??null}}function Li(o,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(o,e,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var a=e.value;return s.callback=function(){Oi||(Oi=!0,Pi=a),Li(o,e)},s}function Qi(o,e,s){s=mh(-1,s),s.tag=3;var a=o.type.getDerivedStateFromError;if(typeof a=="function"){var c=e.value;s.payload=function(){return a(c)},s.callback=function(){Li(o,e)}}var d=o.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){Li(o,e),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var g=e.stack;this.componentDidCatch(e.value,{componentStack:g!==null?g:""})}),s}function Si(o,e,s){var a=o.pingCache;if(a===null){a=o.pingCache=new Mi;var c=new Set;a.set(e,c)}else c=a.get(e),c===void 0&&(c=new Set,a.set(e,c));c.has(s)||(c.add(s),o=Ti.bind(null,o,e,s),e.then(o,o))}function Ui(o){do{var e;if((e=o.tag===13)&&(e=o.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return o;o=o.return}while(o!==null);return null}function Vi(o,e,s,a,c){return o.mode&1?(o.flags|=65536,o.lanes=c,o):(o===e?o.flags|=65536:(o.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=mh(-1,1),e.tag=2,nh(s,e,1))),s.lanes|=1),o)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(o,e,s,a){e.child=o===null?Vg(e,null,s,a):Ug(e,o.child,s,a)}function Yi(o,e,s,a,c){s=s.render;var d=e.ref;return ch(e,c),a=Nh(o,e,s,a,d,c),s=Sh(),o!==null&&!dh?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~c,Zi(o,e,c)):(I&&s&&vg(e),e.flags|=1,Xi(o,e,a,c),e.child)}function $i(o,e,s,a,c){if(o===null){var d=s.type;return typeof d=="function"&&!aj(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=d,bj(o,e,d,a,c)):(o=Rg(s.type,null,a,e,e.mode,c),o.ref=e.ref,o.return=e,e.child=o)}if(d=o.child,!(o.lanes&c)){var g=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(g,a)&&o.ref===e.ref)return Zi(o,e,c)}return e.flags|=1,o=Pg(d,a),o.ref=e.ref,o.return=e,e.child=o}function bj(o,e,s,a,c){if(o!==null){var d=o.memoizedProps;if(Ie(d,a)&&o.ref===e.ref)if(dh=!1,e.pendingProps=a=d,(o.lanes&c)!==0)o.flags&131072&&(dh=!0);else return e.lanes=o.lanes,Zi(o,e,c)}return cj(o,e,s,a,c)}function dj(o,e,s){var a=e.pendingProps,c=a.children,d=o!==null?o.memoizedState:null;if(a.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return o=d!==null?d.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:o,cachePool:null,transitions:null},e.updateQueue=null,G(ej,fj),fj|=o,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:s,G(ej,fj),fj|=a}else d!==null?(a=d.baseLanes|s,e.memoizedState=null):a=s,G(ej,fj),fj|=a;return Xi(o,e,c,s),e.child}function gj(o,e){var s=e.ref;(o===null&&s!==null||o!==null&&o.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function cj(o,e,s,a,c){var d=Zf(s)?Xf:H.current;return d=Yf(e,d),ch(e,c),s=Nh(o,e,s,a,d,c),a=Sh(),o!==null&&!dh?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~c,Zi(o,e,c)):(I&&a&&vg(e),e.flags|=1,Xi(o,e,s,c),e.child)}function hj(o,e,s,a,c){if(Zf(s)){var d=!0;cg(e)}else d=!1;if(ch(e,c),e.stateNode===null)ij(o,e),Gi(e,s,a),Ii(e,s,a,c),a=!0;else if(o===null){var g=e.stateNode,$=e.memoizedProps;g.props=$;var j=g.context,tt=s.contextType;typeof tt=="object"&&tt!==null?tt=eh(tt):(tt=Zf(s)?Xf:H.current,tt=Yf(e,tt));var et=s.getDerivedStateFromProps,b=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function";b||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||($!==a||j!==tt)&&Hi(e,g,a,tt),jh=!1;var h=e.memoizedState;g.state=h,qh(e,a,g,c),j=e.memoizedState,$!==a||h!==j||Wf.current||jh?(typeof et=="function"&&(Di(e,s,et,a),j=e.memoizedState),($=jh||Fi(e,s,$,a,h,j,tt))?(b||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(e.flags|=4194308)):(typeof g.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=j),g.props=a,g.state=j,g.context=tt,a=$):(typeof g.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{g=e.stateNode,lh(o,e),$=e.memoizedProps,tt=e.type===e.elementType?$:Ci(e.type,$),g.props=tt,b=e.pendingProps,h=g.context,j=s.contextType,typeof j=="object"&&j!==null?j=eh(j):(j=Zf(s)?Xf:H.current,j=Yf(e,j));var _e=s.getDerivedStateFromProps;(et=typeof _e=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||($!==b||h!==j)&&Hi(e,g,a,j),jh=!1,h=e.memoizedState,g.state=h,qh(e,a,g,c);var nt=e.memoizedState;$!==b||h!==nt||Wf.current||jh?(typeof _e=="function"&&(Di(e,s,_e,a),nt=e.memoizedState),(tt=jh||Fi(e,s,tt,a,h,nt,j)||!1)?(et||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,nt,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,nt,j)),typeof g.componentDidUpdate=="function"&&(e.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof g.componentDidUpdate!="function"||$===o.memoizedProps&&h===o.memoizedState||(e.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&h===o.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=nt),g.props=a,g.state=nt,g.context=j,a=tt):(typeof g.componentDidUpdate!="function"||$===o.memoizedProps&&h===o.memoizedState||(e.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&h===o.memoizedState||(e.flags|=1024),a=!1)}return jj(o,e,s,a,d,c)}function jj(o,e,s,a,c,d){gj(o,e);var g=(e.flags&128)!==0;if(!a&&!g)return c&&dg(e,s,!1),Zi(o,e,d);a=e.stateNode,Wi.current=e;var $=g&&typeof s.getDerivedStateFromError!="function"?null:a.render();return e.flags|=1,o!==null&&g?(e.child=Ug(e,o.child,null,d),e.child=Ug(e,null,$,d)):Xi(o,e,$,d),e.memoizedState=a.state,c&&dg(e,s,!0),e.child}function kj(o){var e=o.stateNode;e.pendingContext?ag(o,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(o,e.context,!1),yh(o,e.containerInfo)}function lj(o,e,s,a,c){return Ig(),Jg(c),e.flags|=256,Xi(o,e,s,a),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(o){return{baseLanes:o,cachePool:null,transitions:null}}function oj(o,e,s){var a=e.pendingProps,c=L.current,d=!1,g=(e.flags&128)!==0,$;if(($=g)||($=o!==null&&o.memoizedState===null?!1:(c&2)!==0),$?(d=!0,e.flags&=-129):(o===null||o.memoizedState!==null)&&(c|=1),G(L,c&1),o===null)return Eg(e),o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(e.mode&1?o.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(g=a.children,o=a.fallback,d?(a=e.mode,d=e.child,g={mode:"hidden",children:g},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=g):d=pj(g,a,0,null),o=Tg(o,a,s,null),d.return=e,o.return=e,d.sibling=o,e.child=d,e.child.memoizedState=nj(s),e.memoizedState=mj,o):qj(e,g));if(c=o.memoizedState,c!==null&&($=c.dehydrated,$!==null))return rj(o,e,g,a,$,c,s);if(d){d=a.fallback,g=e.mode,c=o.child,$=c.sibling;var j={mode:"hidden",children:a.children};return!(g&1)&&e.child!==c?(a=e.child,a.childLanes=0,a.pendingProps=j,e.deletions=null):(a=Pg(c,j),a.subtreeFlags=c.subtreeFlags&14680064),$!==null?d=Pg($,d):(d=Tg(d,g,s,null),d.flags|=2),d.return=e,a.return=e,a.sibling=d,e.child=a,a=d,d=e.child,g=o.child.memoizedState,g=g===null?nj(s):{baseLanes:g.baseLanes|s,cachePool:null,transitions:g.transitions},d.memoizedState=g,d.childLanes=o.childLanes&~s,e.memoizedState=mj,a}return d=o.child,o=d.sibling,a=Pg(d,{mode:"visible",children:a.children}),!(e.mode&1)&&(a.lanes=s),a.return=e,a.sibling=null,o!==null&&(s=e.deletions,s===null?(e.deletions=[o],e.flags|=16):s.push(o)),e.child=a,e.memoizedState=null,a}function qj(o,e){return e=pj({mode:"visible",children:e},o.mode,0,null),e.return=o,o.child=e}function sj(o,e,s,a){return a!==null&&Jg(a),Ug(e,o.child,null,s),o=qj(e,e.pendingProps.children),o.flags|=2,e.memoizedState=null,o}function rj(o,e,s,a,c,d,g){if(s)return e.flags&256?(e.flags&=-257,a=Ki(Error(p(422))),sj(o,e,g,a)):e.memoizedState!==null?(e.child=o.child,e.flags|=128,null):(d=a.fallback,c=e.mode,a=pj({mode:"visible",children:a.children},c,0,null),d=Tg(d,c,g,null),d.flags|=2,a.return=e,d.return=e,a.sibling=d,e.child=a,e.mode&1&&Ug(e,o.child,null,g),e.child.memoizedState=nj(g),e.memoizedState=mj,d);if(!(e.mode&1))return sj(o,e,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var $=a.dgst;return a=$,d=Error(p(419)),a=Ki(d,a,void 0),sj(o,e,g,a)}if($=(g&o.childLanes)!==0,dh||$){if(a=Q,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|g)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,ih(o,c),gi(a,o,c,-1))}return tj(),a=Ki(Error(p(421))),sj(o,e,g,a)}return c.data==="$?"?(e.flags|=128,e.child=o.child,e=uj.bind(null,o),c._reactRetry=e,null):(o=d.treeContext,yg=Lf(c.nextSibling),xg=e,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=e),e=qj(e,a.children),e.flags|=4096,e)}function vj(o,e,s){o.lanes|=e;var a=o.alternate;a!==null&&(a.lanes|=e),bh(o.return,e,s)}function wj(o,e,s,a,c){var d=o.memoizedState;d===null?o.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(d.isBackwards=e,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=s,d.tailMode=c)}function xj(o,e,s){var a=e.pendingProps,c=a.revealOrder,d=a.tail;if(Xi(o,e,a.children,s),a=L.current,a&2)a=a&1|2,e.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=e.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vj(o,s,e);else if(o.tag===19)vj(o,s,e);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}a&=1}if(G(L,a),!(e.mode&1))e.memoizedState=null;else switch(c){case"forwards":for(s=e.child,c=null;s!==null;)o=s.alternate,o!==null&&Ch(o)===null&&(c=s),s=s.sibling;s=c,s===null?(c=e.child,e.child=null):(c=s.sibling,s.sibling=null),wj(e,!1,c,s,d);break;case"backwards":for(s=null,c=e.child,e.child=null;c!==null;){if(o=c.alternate,o!==null&&Ch(o)===null){e.child=c;break}o=c.sibling,c.sibling=s,s=c,c=o}wj(e,!0,s,null,d);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(o,e){!(e.mode&1)&&o!==null&&(o.alternate=null,e.alternate=null,e.flags|=2)}function Zi(o,e,s){if(o!==null&&(e.dependencies=o.dependencies),rh|=e.lanes,!(s&e.childLanes))return null;if(o!==null&&e.child!==o.child)throw Error(p(153));if(e.child!==null){for(o=e.child,s=Pg(o,o.pendingProps),e.child=s,s.return=e;o.sibling!==null;)o=o.sibling,s=s.sibling=Pg(o,o.pendingProps),s.return=e;s.sibling=null}return e.child}function yj(o,e,s){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var a=e.type._context,c=e.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=c;break;case 13:if(a=e.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),e.flags|=128,null):s&e.child.childLanes?oj(o,e,s):(G(L,L.current&1),o=Zi(o,e,s),o!==null?o.sibling:null);G(L,L.current&1);break;case 19:if(a=(s&e.childLanes)!==0,o.flags&128){if(a)return xj(o,e,s);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return e.lanes=0,dj(o,e,s)}return Zi(o,e,s)}var zj,Aj,Bj,Cj;zj=function(o,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(o,e,s,a){var c=o.memoizedProps;if(c!==a){o=e.stateNode,xh(uh.current);var d=null;switch(s){case"input":c=Ya(o,c),a=Ya(o,a),d=[];break;case"select":c=A({},c,{value:void 0}),a=A({},a,{value:void 0}),d=[];break;case"textarea":c=gb(o,c),a=gb(o,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(o.onclick=Bf)}ub(s,a);var g;s=null;for(tt in c)if(!a.hasOwnProperty(tt)&&c.hasOwnProperty(tt)&&c[tt]!=null)if(tt==="style"){var $=c[tt];for(g in $)$.hasOwnProperty(g)&&(s||(s={}),s[g]="")}else tt!=="dangerouslySetInnerHTML"&&tt!=="children"&&tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?d||(d=[]):(d=d||[]).push(tt,null));for(tt in a){var j=a[tt];if($=c!=null?c[tt]:void 0,a.hasOwnProperty(tt)&&j!==$&&(j!=null||$!=null))if(tt==="style")if($){for(g in $)!$.hasOwnProperty(g)||j&&j.hasOwnProperty(g)||(s||(s={}),s[g]="");for(g in j)j.hasOwnProperty(g)&&$[g]!==j[g]&&(s||(s={}),s[g]=j[g])}else s||(d||(d=[]),d.push(tt,s)),s=j;else tt==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,$=$?$.__html:void 0,j!=null&&$!==j&&(d=d||[]).push(tt,j)):tt==="children"?typeof j!="string"&&typeof j!="number"||(d=d||[]).push(tt,""+j):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(tt)?(j!=null&&tt==="onScroll"&&D("scroll",o),d||$===j||(d=[])):(d=d||[]).push(tt,j))}s&&(d=d||[]).push("style",s);var tt=d;(e.updateQueue=tt)&&(e.flags|=4)}};Cj=function(o,e,s,a){s!==a&&(e.flags|=4)};function Dj(o,e){if(!I)switch(o.tailMode){case"hidden":e=o.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?o.tail=null:s.sibling=null;break;case"collapsed":s=o.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e||o.tail===null?o.tail=null:o.tail.sibling=null:a.sibling=null}}function S(o){var e=o.alternate!==null&&o.alternate.child===o.child,s=0,a=0;if(e)for(var c=o.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=o,c=c.sibling;else for(c=o.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=o,c=c.sibling;return o.subtreeFlags|=a,o.childLanes=s,e}function Ej(o,e,s){var a=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(e),null;case 1:return Zf(e.type)&&$f(),S(e),null;case 3:return a=e.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(o===null||o.child===null)&&(Gg(e)?e.flags|=4:o===null||o.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(o,e),S(e),null;case 5:Bh(e);var c=xh(wh.current);if(s=e.type,o!==null&&e.stateNode!=null)Bj(o,e,s,a,c),o.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!a){if(e.stateNode===null)throw Error(p(166));return S(e),null}if(o=xh(uh.current),Gg(e)){a=e.stateNode,s=e.type;var d=e.memoizedProps;switch(a[Of]=e,a[Pf]=d,o=(e.mode&1)!==0,s){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,d),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},D("invalid",a);break;case"textarea":hb(a,d),D("invalid",a)}ub(s,d),c=null;for(var g in d)if(d.hasOwnProperty(g)){var $=d[g];g==="children"?typeof $=="string"?a.textContent!==$&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,$,o),c=["children",$]):typeof $=="number"&&a.textContent!==""+$&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,$,o),c=["children",""+$]):ea.hasOwnProperty(g)&&$!=null&&g==="onScroll"&&D("scroll",a)}switch(s){case"input":Va(a),db(a,d,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Bf)}a=c,e.updateQueue=a,a!==null&&(e.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(s)),o==="http://www.w3.org/1999/xhtml"?s==="script"?(o=g.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof a.is=="string"?o=g.createElement(s,{is:a.is}):(o=g.createElement(s),s==="select"&&(g=o,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):o=g.createElementNS(o,s),o[Of]=e,o[Pf]=a,zj(o,e,!1,!1),e.stateNode=o;e:{switch(g=vb(s,a),s){case"dialog":D("cancel",o),D("close",o),c=a;break;case"iframe":case"object":case"embed":D("load",o),c=a;break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],o);c=a;break;case"source":D("error",o),c=a;break;case"img":case"image":case"link":D("error",o),D("load",o),c=a;break;case"details":D("toggle",o),c=a;break;case"input":Za(o,a),c=Ya(o,a),D("invalid",o);break;case"option":c=a;break;case"select":o._wrapperState={wasMultiple:!!a.multiple},c=A({},a,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,a),c=gb(o,a),D("invalid",o);break;default:c=a}ub(s,c),$=c;for(d in $)if($.hasOwnProperty(d)){var j=$[d];d==="style"?sb(o,j):d==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&nb(o,j)):d==="children"?typeof j=="string"?(s!=="textarea"||j!=="")&&ob(o,j):typeof j=="number"&&ob(o,""+j):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ea.hasOwnProperty(d)?j!=null&&d==="onScroll"&&D("scroll",o):j!=null&&ta(o,d,j,g))}switch(s){case"input":Va(o),db(o,a,!1);break;case"textarea":Va(o),jb(o);break;case"option":a.value!=null&&o.setAttribute("value",""+Sa(a.value));break;case"select":o.multiple=!!a.multiple,d=a.value,d!=null?fb(o,!!a.multiple,d,!1):a.defaultValue!=null&&fb(o,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S(e),null;case 6:if(o&&e.stateNode!=null)Cj(o,e,o.memoizedProps,a);else{if(typeof a!="string"&&e.stateNode===null)throw Error(p(166));if(s=xh(wh.current),xh(uh.current),Gg(e)){if(a=e.stateNode,s=e.memoizedProps,a[Of]=e,(d=a.nodeValue!==s)&&(o=xg,o!==null))switch(o.tag){case 3:Af(a.nodeValue,s,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,s,(o.mode&1)!==0)}d&&(e.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Of]=e,e.stateNode=a}return S(e),null;case 13:if(E(L),a=e.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,d=!1;else if(d=Gg(e),a!==null&&a.dehydrated!==null){if(o===null){if(!d)throw Error(p(318));if(d=e.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(p(317));d[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S(e),d=!1}else zg!==null&&(Fj(zg),zg=null),d=!0;if(!d)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(a=a!==null,a!==(o!==null&&o.memoizedState!==null)&&a&&(e.child.flags|=8192,e.mode&1&&(o===null||L.current&1?T===0&&(T=3):tj())),e.updateQueue!==null&&(e.flags|=4),S(e),null);case 4:return zh(),Aj(o,e),o===null&&sf(e.stateNode.containerInfo),S(e),null;case 10:return ah(e.type._context),S(e),null;case 17:return Zf(e.type)&&$f(),S(e),null;case 19:if(E(L),d=e.memoizedState,d===null)return S(e),null;if(a=(e.flags&128)!==0,g=d.rendering,g===null)if(a)Dj(d,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=e.child;o!==null;){if(g=Ch(o),g!==null){for(e.flags|=128,Dj(d,!1),a=g.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),e.subtreeFlags=0,a=s,s=e.child;s!==null;)d=s,o=a,d.flags&=14680066,g=d.alternate,g===null?(d.childLanes=0,d.lanes=o,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=g.childLanes,d.lanes=g.lanes,d.child=g.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=g.memoizedProps,d.memoizedState=g.memoizedState,d.updateQueue=g.updateQueue,d.type=g.type,o=g.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s=s.sibling;return G(L,L.current&1|2),e.child}o=o.sibling}d.tail!==null&&B()>Gj&&(e.flags|=128,a=!0,Dj(d,!1),e.lanes=4194304)}else{if(!a)if(o=Ch(g),o!==null){if(e.flags|=128,a=!0,s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Dj(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!I)return S(e),null}else 2*B()-d.renderingStartTime>Gj&&s!==1073741824&&(e.flags|=128,a=!0,Dj(d,!1),e.lanes=4194304);d.isBackwards?(g.sibling=e.child,e.child=g):(s=d.last,s!==null?s.sibling=g:e.child=g,d.last=g)}return d.tail!==null?(e=d.tail,d.rendering=e,d.tail=e.sibling,d.renderingStartTime=B(),e.sibling=null,s=L.current,G(L,a?s&1|2:s&1),e):(S(e),null);case 22:case 23:return Hj(),a=e.memoizedState!==null,o!==null&&o.memoizedState!==null!==a&&(e.flags|=8192),a&&e.mode&1?fj&1073741824&&(S(e),e.subtreeFlags&6&&(e.flags|=8192)):S(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Ij(o,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 3:return zh(),E(Wf),E(H),Eh(),o=e.flags,o&65536&&!(o&128)?(e.flags=o&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E(L),o=e.memoizedState,o!==null&&o.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(o,e){var s=o.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){W(o,e,a)}else s.current=null}function Mj(o,e,s){try{s()}catch(a){W(o,e,a)}}var Nj=!1;function Oj(o,e){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{s=(s=o.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var g=0,$=-1,j=-1,tt=0,et=0,b=o,h=null;t:for(;;){for(var _e;b!==s||c!==0&&b.nodeType!==3||($=g+c),b!==d||a!==0&&b.nodeType!==3||(j=g+a),b.nodeType===3&&(g+=b.nodeValue.length),(_e=b.firstChild)!==null;)h=b,b=_e;for(;;){if(b===o)break t;if(h===s&&++tt===c&&($=g),h===d&&++et===a&&(j=g),(_e=b.nextSibling)!==null)break;b=h,h=b.parentNode}b=_e}s=$===-1||j===-1?null:{start:$,end:j}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:o,selectionRange:s},dd=!1,V=e;V!==null;)if(e=V,o=e.child,(e.subtreeFlags&1028)!==0&&o!==null)o.return=e,V=o;else for(;V!==null;){e=V;try{var nt=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var rt=nt.memoizedProps,it=nt.memoizedState,st=e.stateNode,ot=st.getSnapshotBeforeUpdate(e.elementType===e.type?rt:Ci(e.type,rt),it);st.__reactInternalSnapshotBeforeUpdate=ot}break;case 3:var at=e.stateNode.containerInfo;at.nodeType===1?at.textContent="":at.nodeType===9&&at.documentElement&&at.removeChild(at.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ct){W(e,e.return,ct)}if(o=e.sibling,o!==null){o.return=e.return,V=o;break}V=e.return}return nt=Nj,Nj=!1,nt}function Pj(o,e,s){var a=e.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var d=c.destroy;c.destroy=void 0,d!==void 0&&Mj(e,s,d)}c=c.next}while(c!==a)}}function Qj(o,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&o)===o){var a=s.create;s.destroy=a()}s=s.next}while(s!==e)}}function Rj(o){var e=o.ref;if(e!==null){var s=o.stateNode;switch(o.tag){case 5:o=s;break;default:o=s}typeof e=="function"?e(o):e.current=o}}function Sj(o){var e=o.alternate;e!==null&&(o.alternate=null,Sj(e)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(e=o.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Tj(o){return o.tag===5||o.tag===3||o.tag===4}function Uj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Tj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vj(o,e,s){var a=o.tag;if(a===5||a===6)o=o.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(o,e):s.insertBefore(o,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(o,s)):(e=s,e.appendChild(o)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Bf));else if(a!==4&&(o=o.child,o!==null))for(Vj(o,e,s),o=o.sibling;o!==null;)Vj(o,e,s),o=o.sibling}function Wj(o,e,s){var a=o.tag;if(a===5||a===6)o=o.stateNode,e?s.insertBefore(o,e):s.appendChild(o);else if(a!==4&&(o=o.child,o!==null))for(Wj(o,e,s),o=o.sibling;o!==null;)Wj(o,e,s),o=o.sibling}var X=null,Xj=!1;function Yj(o,e,s){for(s=s.child;s!==null;)Zj(o,e,s),s=s.sibling}function Zj(o,e,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,e);case 6:var a=X,c=Xj;X=null,Yj(o,e,s),X=a,Xj=c,X!==null&&(Xj?(o=X,s=s.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Xj?(o=X,s=s.stateNode,o.nodeType===8?Kf(o.parentNode,s):o.nodeType===1&&Kf(o,s),bd(o)):Kf(X,s.stateNode));break;case 4:a=X,c=Xj,X=s.stateNode.containerInfo,Xj=!0,Yj(o,e,s),X=a,Xj=c;break;case 0:case 11:case 14:case 15:if(!U&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,g=d.destroy;d=d.tag,g!==void 0&&(d&2||d&4)&&Mj(s,e,g),c=c.next}while(c!==a)}Yj(o,e,s);break;case 1:if(!U&&(Lj(s,e),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch($){W(s,e,$)}Yj(o,e,s);break;case 21:Yj(o,e,s);break;case 22:s.mode&1?(U=(a=U)||s.memoizedState!==null,Yj(o,e,s),U=a):Yj(o,e,s);break;default:Yj(o,e,s)}}function ak(o){var e=o.updateQueue;if(e!==null){o.updateQueue=null;var s=o.stateNode;s===null&&(s=o.stateNode=new Kj),e.forEach(function(a){var c=bk.bind(null,o,a);s.has(a)||(s.add(a),a.then(c,c))})}}function ck(o,e){var s=e.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var d=o,g=e,$=g;e:for(;$!==null;){switch($.tag){case 5:X=$.stateNode,Xj=!1;break e;case 3:X=$.stateNode.containerInfo,Xj=!0;break e;case 4:X=$.stateNode.containerInfo,Xj=!0;break e}$=$.return}if(X===null)throw Error(p(160));Zj(d,g,c),X=null,Xj=!1;var j=c.alternate;j!==null&&(j.return=null),c.return=null}catch(tt){W(c,e,tt)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,o),e=e.sibling}function dk(o,e){var s=o.alternate,a=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ck(e,o),ek(o),a&4){try{Pj(3,o,o.return),Qj(3,o)}catch(rt){W(o,o.return,rt)}try{Pj(5,o,o.return)}catch(rt){W(o,o.return,rt)}}break;case 1:ck(e,o),ek(o),a&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(e,o),ek(o),a&512&&s!==null&&Lj(s,s.return),o.flags&32){var c=o.stateNode;try{ob(c,"")}catch(rt){W(o,o.return,rt)}}if(a&4&&(c=o.stateNode,c!=null)){var d=o.memoizedProps,g=s!==null?s.memoizedProps:d,$=o.type,j=o.updateQueue;if(o.updateQueue=null,j!==null)try{$==="input"&&d.type==="radio"&&d.name!=null&&ab(c,d),vb($,g);var tt=vb($,d);for(g=0;g<j.length;g+=2){var et=j[g],b=j[g+1];et==="style"?sb(c,b):et==="dangerouslySetInnerHTML"?nb(c,b):et==="children"?ob(c,b):ta(c,et,b,tt)}switch($){case"input":bb(c,d);break;case"textarea":ib(c,d);break;case"select":var h=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var _e=d.value;_e!=null?fb(c,!!d.multiple,_e,!1):h!==!!d.multiple&&(d.defaultValue!=null?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:"",!1))}c[Pf]=d}catch(rt){W(o,o.return,rt)}}break;case 6:if(ck(e,o),ek(o),a&4){if(o.stateNode===null)throw Error(p(162));c=o.stateNode,d=o.memoizedProps;try{c.nodeValue=d}catch(rt){W(o,o.return,rt)}}break;case 3:if(ck(e,o),ek(o),a&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(rt){W(o,o.return,rt)}break;case 4:ck(e,o),ek(o);break;case 13:ck(e,o),ek(o),c=o.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(fk=B())),a&4&&ak(o);break;case 22:if(et=s!==null&&s.memoizedState!==null,o.mode&1?(U=(tt=U)||et,ck(e,o),U=tt):ck(e,o),ek(o),a&8192){if(tt=o.memoizedState!==null,(o.stateNode.isHidden=tt)&&!et&&o.mode&1)for(V=o,et=o.child;et!==null;){for(b=V=et;V!==null;){switch(h=V,_e=h.child,h.tag){case 0:case 11:case 14:case 15:Pj(4,h,h.return);break;case 1:Lj(h,h.return);var nt=h.stateNode;if(typeof nt.componentWillUnmount=="function"){a=h,s=h.return;try{e=a,nt.props=e.memoizedProps,nt.state=e.memoizedState,nt.componentWillUnmount()}catch(rt){W(a,s,rt)}}break;case 5:Lj(h,h.return);break;case 22:if(h.memoizedState!==null){gk(b);continue}}_e!==null?(_e.return=h,V=_e):gk(b)}et=et.sibling}e:for(et=null,b=o;;){if(b.tag===5){if(et===null){et=b;try{c=b.stateNode,tt?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):($=b.stateNode,j=b.memoizedProps.style,g=j!=null&&j.hasOwnProperty("display")?j.display:null,$.style.display=rb("display",g))}catch(rt){W(o,o.return,rt)}}}else if(b.tag===6){if(et===null)try{b.stateNode.nodeValue=tt?"":b.memoizedProps}catch(rt){W(o,o.return,rt)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===o)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===o)break e;for(;b.sibling===null;){if(b.return===null||b.return===o)break e;et===b&&(et=null),b=b.return}et===b&&(et=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:ck(e,o),ek(o),a&4&&ak(o);break;case 21:break;default:ck(e,o),ek(o)}}function ek(o){var e=o.flags;if(e&2){try{e:{for(var s=o.return;s!==null;){if(Tj(s)){var a=s;break e}s=s.return}throw Error(p(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ob(c,""),a.flags&=-33);var d=Uj(o);Wj(o,d,c);break;case 3:case 4:var g=a.stateNode.containerInfo,$=Uj(o);Vj(o,$,g);break;default:throw Error(p(161))}}catch(j){W(o,o.return,j)}o.flags&=-3}e&4096&&(o.flags&=-4097)}function hk(o,e,s){V=o,ik(o)}function ik(o,e,s){for(var a=(o.mode&1)!==0;V!==null;){var c=V,d=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Jj;if(!g){var $=c.alternate,j=$!==null&&$.memoizedState!==null||U;$=Jj;var tt=U;if(Jj=g,(U=j)&&!tt)for(V=c;V!==null;)g=V,j=g.child,g.tag===22&&g.memoizedState!==null?jk(c):j!==null?(j.return=g,V=j):jk(c);for(;d!==null;)V=d,ik(d),d=d.sibling;V=c,Jj=$,U=tt}kk(o)}else c.subtreeFlags&8772&&d!==null?(d.return=c,V=d):kk(o)}}function kk(o){for(;V!==null;){var e=V;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Qj(5,e);break;case 1:var a=e.stateNode;if(e.flags&4&&!U)if(s===null)a.componentDidMount();else{var c=e.elementType===e.type?s.memoizedProps:Ci(e.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=e.updateQueue;d!==null&&sh(e,d,a);break;case 3:var g=e.updateQueue;if(g!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}sh(e,g,s)}break;case 5:var $=e.stateNode;if(s===null&&e.flags&4){s=$;var j=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&s.focus();break;case"img":j.src&&(s.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var tt=e.alternate;if(tt!==null){var et=tt.memoizedState;if(et!==null){var b=et.dehydrated;b!==null&&bd(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||e.flags&512&&Rj(e)}catch(h){W(e,e.return,h)}}if(e===o){V=null;break}if(s=e.sibling,s!==null){s.return=e.return,V=s;break}V=e.return}}function gk(o){for(;V!==null;){var e=V;if(e===o){V=null;break}var s=e.sibling;if(s!==null){s.return=e.return,V=s;break}V=e.return}}function jk(o){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Qj(4,e)}catch(j){W(e,s,j)}break;case 1:var a=e.stateNode;if(typeof a.componentDidMount=="function"){var c=e.return;try{a.componentDidMount()}catch(j){W(e,c,j)}}var d=e.return;try{Rj(e)}catch(j){W(e,d,j)}break;case 5:var g=e.return;try{Rj(e)}catch(j){W(e,g,j)}}}catch(j){W(e,e.return,j)}if(e===o){V=null;break}var $=e.sibling;if($!==null){$.return=e.return,V=$;break}V=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(o){return o.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function gi(o,e,s,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(o,s,a),(!(K&2)||o!==Q)&&(o===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(o,Z)),Dk(o,a),s===1&&K===0&&!(e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(o,e){var s=o.callbackNode;wc(o,e);var a=uc(o,o===Q?Z:0);if(a===0)s!==null&&bc(s),o.callbackNode=null,o.callbackPriority=0;else if(e=a&-a,o.callbackPriority!==e){if(s!=null&&bc(s),e===1)o.tag===0?ig(Ek.bind(null,o)):hg(Ek.bind(null,o)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(a)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,o))}o.callbackPriority=e,o.callbackNode=s}}function Gk(o,e){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var s=o.callbackNode;if(Hk()&&o.callbackNode!==s)return null;var a=uc(o,o===Q?Z:0);if(a===0)return null;if(a&30||a&o.expiredLanes||e)e=Ik(o,a);else{e=a;var c=K;K|=2;var d=Jk();(Q!==o||Z!==e)&&(uk=null,Gj=B()+500,Kk(o,e));do try{Lk();break}catch($){Mk(o,$)}while(!0);$g(),mk.current=d,K=c,Y!==null?e=0:(Q=null,Z=0,e=T)}if(e!==0){if(e===2&&(c=xc(o),c!==0&&(a=c,e=Nk(o,c))),e===1)throw s=pk,Kk(o,0),Ck(o,a),Dk(o,B()),s;if(e===6)Ck(o,a);else{if(c=o.current.alternate,!(a&30)&&!Ok(c)&&(e=Ik(o,a),e===2&&(d=xc(o),d!==0&&(a=d,e=Nk(o,d))),e===1))throw s=pk,Kk(o,0),Ck(o,a),Dk(o,B()),s;switch(o.finishedWork=c,o.finishedLanes=a,e){case 0:case 1:throw Error(p(345));case 2:Pk(o,tk,uk);break;case 3:if(Ck(o,a),(a&130023424)===a&&(e=fk+500-B(),10<e)){if(uc(o,0)!==0)break;if(c=o.suspendedLanes,(c&a)!==a){R(),o.pingedLanes|=o.suspendedLanes&c;break}o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),e);break}Pk(o,tk,uk);break;case 4:if(Ck(o,a),(a&4194240)===a)break;for(e=o.eventTimes,c=-1;0<a;){var g=31-oc(a);d=1<<g,g=e[g],g>c&&(c=g),a&=~d}if(a=c,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),a);break}Pk(o,tk,uk);break;case 5:Pk(o,tk,uk);break;default:throw Error(p(329))}}}return Dk(o,B()),o.callbackNode===s?Gk.bind(null,o):null}function Nk(o,e){var s=sk;return o.current.memoizedState.isDehydrated&&(Kk(o,e).flags|=256),o=Ik(o,e),o!==2&&(e=tk,tk=s,e!==null&&Fj(e)),o}function Fj(o){tk===null?tk=o:tk.push.apply(tk,o)}function Ok(o){for(var e=o;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],d=c.getSnapshot;c=c.value;try{if(!He(d(),c))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(o,e){for(e&=~rk,e&=~qk,o.suspendedLanes|=e,o.pingedLanes&=~e,o=o.expirationTimes;0<e;){var s=31-oc(e),a=1<<s;o[s]=-1,e&=~a}}function Ek(o){if(K&6)throw Error(p(327));Hk();var e=uc(o,0);if(!(e&1))return Dk(o,B()),null;var s=Ik(o,e);if(o.tag!==0&&s===2){var a=xc(o);a!==0&&(e=a,s=Nk(o,a))}if(s===1)throw s=pk,Kk(o,0),Ck(o,e),Dk(o,B()),s;if(s===6)throw Error(p(345));return o.finishedWork=o.current.alternate,o.finishedLanes=e,Pk(o,tk,uk),Dk(o,B()),null}function Qk(o,e){var s=K;K|=1;try{return o(e)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(o){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var e=K;K|=1;var s=ok.transition,a=C;try{if(ok.transition=null,C=1,o)return o()}finally{C=a,ok.transition=s,K=e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(o,e){o.finishedWork=null,o.finishedLanes=0;var s=o.timeoutHandle;if(s!==-1&&(o.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var a=s;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=o,Y=o=Pg(o.current,null),Z=fj=e,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(s=fh[e],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,d=s.pending;if(d!==null){var g=d.next;d.next=c,a.next=g}s.pending=a}fh=null}return o}function Mk(o,e){do{var s=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=e,Y=null;break}e:{var d=o,g=s.return,$=s,j=e;if(e=Z,$.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var tt=j,et=$,b=et.tag;if(!(et.mode&1)&&(b===0||b===11||b===15)){var h=et.alternate;h?(et.updateQueue=h.updateQueue,et.memoizedState=h.memoizedState,et.lanes=h.lanes):(et.updateQueue=null,et.memoizedState=null)}var _e=Ui(g);if(_e!==null){_e.flags&=-257,Vi(_e,g,$,d,e),_e.mode&1&&Si(d,tt,e),e=_e,j=tt;var nt=e.updateQueue;if(nt===null){var rt=new Set;rt.add(j),e.updateQueue=rt}else nt.add(j);break e}else{if(!(e&1)){Si(d,tt,e),tj();break e}j=Error(p(426))}}else if(I&&$.mode&1){var it=Ui(g);if(it!==null){!(it.flags&65536)&&(it.flags|=256),Vi(it,g,$,d,e),Jg(Ji(j,$));break e}}d=j=Ji(j,$),T!==4&&(T=2),sk===null?sk=[d]:sk.push(d),d=g;do{switch(d.tag){case 3:d.flags|=65536,e&=-e,d.lanes|=e;var st=Ni(d,j,e);ph(d,st);break e;case 1:$=j;var ot=d.type,at=d.stateNode;if(!(d.flags&128)&&(typeof ot.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Ri===null||!Ri.has(at)))){d.flags|=65536,e&=-e,d.lanes|=e;var ct=Qi(d,$,e);ph(d,ct);break e}}d=d.return}while(d!==null)}Sk(s)}catch(ut){e=ut,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Jk(){var o=mk.current;return mk.current=Rh,o===null?Rh:o}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(o,e){var s=K;K|=2;var a=Jk();(Q!==o||Z!==e)&&(uk=null,Kk(o,e));do try{Tk();break}catch(c){Mk(o,c)}while(!0);if($g(),K=s,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(o){var e=Vk(o.alternate,o,fj);o.memoizedProps=o.pendingProps,e===null?Sk(o):Y=e,nk.current=null}function Sk(o){var e=o;do{var s=e.alternate;if(o=e.return,e.flags&32768){if(s=Ij(s,e),s!==null){s.flags&=32767,Y=s;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y=null;return}}else if(s=Ej(s,e,fj),s!==null){Y=s;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=o}while(e!==null);T===0&&(T=5)}function Pk(o,e,s){var a=C,c=ok.transition;try{ok.transition=null,C=1,Wk(o,e,s,a)}finally{ok.transition=c,C=a}return null}function Wk(o,e,s,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));s=o.finishedWork;var c=o.finishedLanes;if(s===null)return null;if(o.finishedWork=null,o.finishedLanes=0,s===o.current)throw Error(p(177));o.callbackNode=null,o.callbackPriority=0;var d=s.lanes|s.childLanes;if(Bc(o,d),o===Q&&(Y=Q=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=ok.transition,ok.transition=null;var g=C;C=1;var $=K;K|=4,nk.current=null,Oj(o,s),dk(s,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=s,hk(s),dc(),K=$,C=g,ok.transition=d}else o.current=s;if(vk&&(vk=!1,wk=o,xk=c),d=o.pendingLanes,d===0&&(Ri=null),mc(s.stateNode),Dk(o,B()),e!==null)for(a=o.onRecoverableError,s=0;s<e.length;s++)c=e[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(Oi)throw Oi=!1,o=Pi,Pi=null,o;return xk&1&&o.tag!==0&&Hk(),d=o.pendingLanes,d&1?o===zk?yk++:(yk=0,zk=o):yk=0,jg(),null}function Hk(){if(wk!==null){var o=Dc(xk),e=ok.transition,s=C;try{if(ok.transition=null,C=16>o?16:o,wk===null)var a=!1;else{if(o=wk,wk=null,xk=0,K&6)throw Error(p(331));var c=K;for(K|=4,V=o.current;V!==null;){var d=V,g=d.child;if(V.flags&16){var $=d.deletions;if($!==null){for(var j=0;j<$.length;j++){var tt=$[j];for(V=tt;V!==null;){var et=V;switch(et.tag){case 0:case 11:case 15:Pj(8,et,d)}var b=et.child;if(b!==null)b.return=et,V=b;else for(;V!==null;){et=V;var h=et.sibling,_e=et.return;if(Sj(et),et===tt){V=null;break}if(h!==null){h.return=_e,V=h;break}V=_e}}}var nt=d.alternate;if(nt!==null){var rt=nt.child;if(rt!==null){nt.child=null;do{var it=rt.sibling;rt.sibling=null,rt=it}while(rt!==null)}}V=d}}if(d.subtreeFlags&2064&&g!==null)g.return=d,V=g;else e:for(;V!==null;){if(d=V,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Pj(9,d,d.return)}var st=d.sibling;if(st!==null){st.return=d.return,V=st;break e}V=d.return}}var ot=o.current;for(V=ot;V!==null;){g=V;var at=g.child;if(g.subtreeFlags&2064&&at!==null)at.return=g,V=at;else e:for(g=ot;V!==null;){if($=V,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:Qj(9,$)}}catch(ut){W($,$.return,ut)}if($===g){V=null;break e}var ct=$.sibling;if(ct!==null){ct.return=$.return,V=ct;break e}V=$.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}a=!0}return a}finally{C=s,ok.transition=e}}return!1}function Xk(o,e,s){e=Ji(s,e),e=Ni(o,e,1),o=nh(o,e,1),e=R(),o!==null&&(Ac(o,1,e),Dk(o,e))}function W(o,e,s){if(o.tag===3)Xk(o,o,s);else for(;e!==null;){if(e.tag===3){Xk(e,o,s);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){o=Ji(s,o),o=Qi(e,o,1),e=nh(e,o,1),o=R(),e!==null&&(Ac(e,1,o),Dk(e,o));break}}e=e.return}}function Ti(o,e,s){var a=o.pingCache;a!==null&&a.delete(e),e=R(),o.pingedLanes|=o.suspendedLanes&s,Q===o&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(o,0):rk|=s),Dk(o,e)}function Yk(o,e){e===0&&(o.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var s=R();o=ih(o,e),o!==null&&(Ac(o,e,s),Dk(o,s))}function uj(o){var e=o.memoizedState,s=0;e!==null&&(s=e.retryLane),Yk(o,s)}function bk(o,e){var s=0;switch(o.tag){case 13:var a=o.stateNode,c=o.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=o.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(e),Yk(o,s)}var Vk;Vk=function(o,e,s){if(o!==null)if(o.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(o.lanes&s)&&!(e.flags&128))return dh=!1,yj(o,e,s);dh=!!(o.flags&131072)}else dh=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var a=e.type;ij(o,e),o=e.pendingProps;var c=Yf(e,H.current);ch(e,s),c=Nh(null,e,a,o,c,s);var d=Sh();return e.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(a)?(d=!0,cg(e)):d=!1,e.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,kh(e),c.updater=Ei,e.stateNode=c,c._reactInternals=e,Ii(e,a,o,s),e=jj(null,e,a,!0,d,s)):(e.tag=0,I&&d&&vg(e),Xi(null,e,c,s),e=e.child),e;case 16:a=e.elementType;e:{switch(ij(o,e),o=e.pendingProps,c=a._init,a=c(a._payload),e.type=a,c=e.tag=Zk(a),o=Ci(a,o),c){case 0:e=cj(null,e,a,o,s);break e;case 1:e=hj(null,e,a,o,s);break e;case 11:e=Yi(null,e,a,o,s);break e;case 14:e=$i(null,e,a,Ci(a.type,o),s);break e}throw Error(p(306,a,""))}return e;case 0:return a=e.type,c=e.pendingProps,c=e.elementType===a?c:Ci(a,c),cj(o,e,a,c,s);case 1:return a=e.type,c=e.pendingProps,c=e.elementType===a?c:Ci(a,c),hj(o,e,a,c,s);case 3:e:{if(kj(e),o===null)throw Error(p(387));a=e.pendingProps,d=e.memoizedState,c=d.element,lh(o,e),qh(e,a,null,s);var g=e.memoizedState;if(a=g.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},e.updateQueue.baseState=d,e.memoizedState=d,e.flags&256){c=Ji(Error(p(423)),e),e=lj(o,e,a,s,c);break e}else if(a!==c){c=Ji(Error(p(424)),e),e=lj(o,e,a,s,c);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,s=Vg(e,null,a,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),a===c){e=Zi(o,e,s);break e}Xi(o,e,a,s)}e=e.child}return e;case 5:return Ah(e),o===null&&Eg(e),a=e.type,c=e.pendingProps,d=o!==null?o.memoizedProps:null,g=c.children,Ef(a,c)?g=null:d!==null&&Ef(a,d)&&(e.flags|=32),gj(o,e),Xi(o,e,g,s),e.child;case 6:return o===null&&Eg(e),null;case 13:return oj(o,e,s);case 4:return yh(e,e.stateNode.containerInfo),a=e.pendingProps,o===null?e.child=Ug(e,null,a,s):Xi(o,e,a,s),e.child;case 11:return a=e.type,c=e.pendingProps,c=e.elementType===a?c:Ci(a,c),Yi(o,e,a,c,s);case 7:return Xi(o,e,e.pendingProps,s),e.child;case 8:return Xi(o,e,e.pendingProps.children,s),e.child;case 12:return Xi(o,e,e.pendingProps.children,s),e.child;case 10:e:{if(a=e.type._context,c=e.pendingProps,d=e.memoizedProps,g=c.value,G(Wg,a._currentValue),a._currentValue=g,d!==null)if(He(d.value,g)){if(d.children===c.children&&!Wf.current){e=Zi(o,e,s);break e}}else for(d=e.child,d!==null&&(d.return=e);d!==null;){var $=d.dependencies;if($!==null){g=d.child;for(var j=$.firstContext;j!==null;){if(j.context===a){if(d.tag===1){j=mh(-1,s&-s),j.tag=2;var tt=d.updateQueue;if(tt!==null){tt=tt.shared;var et=tt.pending;et===null?j.next=j:(j.next=et.next,et.next=j),tt.pending=j}}d.lanes|=s,j=d.alternate,j!==null&&(j.lanes|=s),bh(d.return,s,e),$.lanes|=s;break}j=j.next}}else if(d.tag===10)g=d.type===e.type?null:d.child;else if(d.tag===18){if(g=d.return,g===null)throw Error(p(341));g.lanes|=s,$=g.alternate,$!==null&&($.lanes|=s),bh(g,s,e),g=d.sibling}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===e){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}Xi(o,e,c.children,s),e=e.child}return e;case 9:return c=e.type,a=e.pendingProps.children,ch(e,s),c=eh(c),a=a(c),e.flags|=1,Xi(o,e,a,s),e.child;case 14:return a=e.type,c=Ci(a,e.pendingProps),c=Ci(a.type,c),$i(o,e,a,c,s);case 15:return bj(o,e,e.type,e.pendingProps,s);case 17:return a=e.type,c=e.pendingProps,c=e.elementType===a?c:Ci(a,c),ij(o,e),e.tag=1,Zf(a)?(o=!0,cg(e)):o=!1,ch(e,s),Gi(e,a,c),Ii(e,a,c,s),jj(null,e,a,!0,o,s);case 19:return xj(o,e,s);case 22:return dj(o,e,s)}throw Error(p(156,e.tag))};function Fk(o,e){return ac(o,e)}function $k(o,e,s,a){this.tag=o,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,e,s,a){return new $k(o,e,s,a)}function aj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zk(o){if(typeof o=="function")return aj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function Pg(o,e){var s=o.alternate;return s===null?(s=Bg(o.tag,e,o.key,o.mode),s.elementType=o.elementType,s.type=o.type,s.stateNode=o.stateNode,s.alternate=o,o.alternate=s):(s.pendingProps=e,s.type=o.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=o.flags&14680064,s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=o.sibling,s.index=o.index,s.ref=o.ref,s}function Rg(o,e,s,a,c,d){var g=2;if(a=o,typeof o=="function")aj(o)&&(g=1);else if(typeof o=="string")g=5;else e:switch(o){case ya:return Tg(s.children,c,d,e);case za:g=8,c|=8;break;case Aa:return o=Bg(12,s,e,c|2),o.elementType=Aa,o.lanes=d,o;case Ea:return o=Bg(13,s,e,c),o.elementType=Ea,o.lanes=d,o;case Fa:return o=Bg(19,s,e,c),o.elementType=Fa,o.lanes=d,o;case Ia:return pj(s,c,d,e);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:g=10;break e;case Ca:g=9;break e;case Da:g=11;break e;case Ga:g=14;break e;case Ha:g=16,a=null;break e}throw Error(p(130,o==null?o:typeof o,""))}return e=Bg(g,s,e,c),e.elementType=o,e.type=a,e.lanes=d,e}function Tg(o,e,s,a){return o=Bg(7,o,a,e),o.lanes=s,o}function pj(o,e,s,a){return o=Bg(22,o,a,e),o.elementType=Ia,o.lanes=s,o.stateNode={isHidden:!1},o}function Qg(o,e,s){return o=Bg(6,o,null,e),o.lanes=s,o}function Sg(o,e,s){return e=Bg(4,o.children!==null?o.children:[],o.key,e),e.lanes=s,e.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},e}function al(o,e,s,a,c){this.tag=e,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function bl(o,e,s,a,c,d,g,$,j){return o=new al(o,e,s,$,j),e===1?(e=1,d===!0&&(e|=8)):e=0,d=Bg(3,null,null,e),o.current=d,d.stateNode=o,d.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(d),o}function cl(o,e,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:o,containerInfo:e,implementation:s}}function dl(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p(170));var e=o;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(o.tag===1){var s=o.type;if(Zf(s))return bg(o,s,e)}return e}function el(o,e,s,a,c,d,g,$,j){return o=bl(s,a,!0,o,c,d,g,$,j),o.context=dl(null),s=o.current,a=R(),c=yi(s),d=mh(a,c),d.callback=e??null,nh(s,d,c),o.current.lanes=c,Ac(o,c,a),Dk(o,a),o}function fl(o,e,s,a){var c=e.current,d=R(),g=yi(c);return s=dl(s),e.context===null?e.context=s:e.pendingContext=s,e=mh(d,g),e.payload={element:o},a=a===void 0?null:a,a!==null&&(e.callback=a),o=nh(c,e,g),o!==null&&(gi(o,c,g,d),oh(o,c,g)),g}function gl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hl(o,e){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var s=o.retryLane;o.retryLane=s!==0&&s<e?s:e}}function il(o,e){hl(o,e),(o=o.alternate)&&hl(o,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(o){console.error(o)};function ll(o){this._internalRoot=o}ml.prototype.render=ll.prototype.render=function(o){var e=this._internalRoot;if(e===null)throw Error(p(409));fl(o,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var e=o.containerInfo;Rk(function(){fl(null,o,null,null)}),e[uf]=null}};function ml(o){this._internalRoot=o}ml.prototype.unstable_scheduleHydration=function(o){if(o){var e=Hc();o={blockedOn:null,target:o,priority:e};for(var s=0;s<Qc.length&&e!==0&&e<Qc[s].priority;s++);Qc.splice(s,0,o),s===0&&Vc(o)}};function nl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(o,e,s,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var tt=gl(g);d.call(tt)}}var g=el(e,a,o,0,null,!1,!1,"",pl);return o._reactRootContainer=g,o[uf]=g.current,sf(o.nodeType===8?o.parentNode:o),Rk(),g}for(;c=o.lastChild;)o.removeChild(c);if(typeof a=="function"){var $=a;a=function(){var tt=gl(j);$.call(tt)}}var j=bl(o,0,!1,null,null,!1,!1,"",pl);return o._reactRootContainer=j,o[uf]=j.current,sf(o.nodeType===8?o.parentNode:o),Rk(function(){fl(e,j,s,a)}),j}function rl(o,e,s,a,c){var d=s._reactRootContainer;if(d){var g=d;if(typeof c=="function"){var $=c;c=function(){var j=gl(g);$.call(j)}}fl(e,g,o,c)}else g=ql(s,e,o,c,a);return gl(g)}Ec=function(o){switch(o.tag){case 3:var e=o.stateNode;if(e.current.memoizedState.isDehydrated){var s=tc(e.pendingLanes);s!==0&&(Cc(e,s|1),Dk(e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(o,1);if(a!==null){var c=R();gi(a,o,1,c)}}),il(o,1)}};Fc=function(o){if(o.tag===13){var e=ih(o,134217728);if(e!==null){var s=R();gi(e,o,134217728,s)}il(o,134217728)}};Gc=function(o){if(o.tag===13){var e=yi(o),s=ih(o,e);if(s!==null){var a=R();gi(s,o,e,a)}il(o,e)}};Hc=function(){return C};Ic=function(o,e){var s=C;try{return C=o,e()}finally{C=s}};yb=function(o,e,s){switch(e){case"input":if(bb(o,s),e=s.name,s.type==="radio"&&e!=null){for(s=o;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var a=s[e];if(a!==o&&a.form===o.form){var c=Db(a);if(!c)throw Error(p(90));Wa(a),bb(a,c)}}}break;case"textarea":ib(o,s);break;case"select":e=s.value,e!=null&&fb(o,!!s.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(o,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p(200));return cl(o,e,null,s)};reactDom_production_min.createRoot=function(o,e){if(!nl(o))throw Error(p(299));var s=!1,a="",c=kl;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onRecoverableError!==void 0&&(c=e.onRecoverableError)),e=bl(o,1,!1,null,null,s,!1,a,c),o[uf]=e.current,sf(o.nodeType===8?o.parentNode:o),new ll(e)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var e=o._reactInternals;if(e===void 0)throw typeof o.render=="function"?Error(p(188)):(o=Object.keys(o).join(","),Error(p(268,o)));return o=Zb(e),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Rk(o)};reactDom_production_min.hydrate=function(o,e,s){if(!ol(e))throw Error(p(200));return rl(null,o,e,!0,s)};reactDom_production_min.hydrateRoot=function(o,e,s){if(!nl(o))throw Error(p(405));var a=s!=null&&s.hydratedSources||null,c=!1,d="",g=kl;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),e=el(e,null,o,1,s??null,c,!1,d,g),o[uf]=e.current,sf(o),a)for(o=0;o<a.length;o++)s=a[o],c=s._getVersion,c=c(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,c]:e.mutableSourceEagerHydrationData.push(s,c);return new ml(e)};reactDom_production_min.render=function(o,e,s){if(!ol(e))throw Error(p(200));return rl(null,o,e,!1,s)};reactDom_production_min.unmountComponentAtNode=function(o){if(!ol(o))throw Error(p(40));return o._reactRootContainer?(Rk(function(){rl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,e,s,a){if(!ol(s))throw Error(p(200));if(o==null||o._reactInternals===void 0)throw Error(p(38));return rl(o,e,s,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;var __webpack_require__={};__webpack_require__.d=(o,e)=>{for(var s in e)__webpack_require__.o(e,s)&&!__webpack_require__.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:e[s]})};__webpack_require__.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,OutputScale:()=>OutputScale,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,TouchManager:()=>TouchManager,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,stopEvent:()=>stopEvent,version:()=>version$2});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(o){Number.isInteger(o)&&(verbosity=o)}function getVerbosityLevel(){return verbosity}function info(o){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${o}`)}function warn(o){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${o}`)}function unreachable(o){throw new Error(o)}function assert(o,e){o||unreachable(e)}function _isValidProtocol(o){switch(o==null?void 0:o.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(o,e=null,s=null){if(!o)return null;try{if(s&&typeof o=="string"){if(s.addDefaultProtocol&&o.startsWith("www.")){const c=o.match(/\./g);(c==null?void 0:c.length)>=2&&(o=`http://${o}`)}if(s.tryConvertEncoding)try{o=stringToUTF8String(o)}catch{}}const a=e?new URL(o,e):new URL(o);if(_isValidProtocol(a))return a}catch{}return null}function shadow(o,e,s,a=!1){return Object.defineProperty(o,e,{value:s,enumerable:!a,configurable:!0,writable:!1}),s}const BaseException=function(){function e(s,a){this.message=s,this.name=a}return e.prototype=new Error,e.constructor=e,e}();class PasswordException extends BaseException{constructor(e,s){super(e,"PasswordException"),this.code=s}}class UnknownErrorException extends BaseException{constructor(e,s){super(e,"UnknownErrorException"),this.details=s}}class InvalidPDFException extends BaseException{constructor(e){super(e,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(e){super(e,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(e,s){super(e,"UnexpectedResponseException"),this.status=s}}class FormatError extends BaseException{constructor(e){super(e,"FormatError")}}class AbortException extends BaseException{constructor(e){super(e,"AbortException")}}function bytesToString(o){(typeof o!="object"||(o==null?void 0:o.length)===void 0)&&unreachable("Invalid argument for bytesToString");const e=o.length,s=8192;if(e<s)return String.fromCharCode.apply(null,o);const a=[];for(let c=0;c<e;c+=s){const d=Math.min(c+s,e),g=o.subarray(c,d);a.push(String.fromCharCode.apply(null,g))}return a.join("")}function stringToBytes(o){typeof o!="string"&&unreachable("Invalid argument for stringToBytes");const e=o.length,s=new Uint8Array(e);for(let a=0;a<e;++a)s[a]=o.charCodeAt(a)&255;return s}function string32(o){return String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255)}function objectFromMap(o){const e=Object.create(null);for(const[s,a]of o)e[s]=a;return e}function isLittleEndian(){const o=new Uint8Array(4);return o[0]=1,new Uint32Array(o.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return shadow(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):shadow(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,s;return shadow(this,"isCSSRoundSupported",(s=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:s.call(e,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),o=>o.toString(16).padStart(2,"0"));var Vo,f_,f0;class Util{static makeHexColor(e,s,a){return`#${hexNumbers[e]}${hexNumbers[s]}${hexNumbers[a]}`}static scaleMinMax(e,s){let a;e[0]?(e[0]<0&&(a=s[0],s[0]=s[2],s[2]=a),s[0]*=e[0],s[2]*=e[0],e[3]<0&&(a=s[1],s[1]=s[3],s[3]=a),s[1]*=e[3],s[3]*=e[3]):(a=s[0],s[0]=s[1],s[1]=a,a=s[2],s[2]=s[3],s[3]=a,e[1]<0&&(a=s[1],s[1]=s[3],s[3]=a),s[1]*=e[1],s[3]*=e[1],e[2]<0&&(a=s[0],s[0]=s[2],s[2]=a),s[0]*=e[2],s[2]*=e[2]),s[0]+=e[4],s[1]+=e[5],s[2]+=e[4],s[3]+=e[5]}static transform(e,s){return[e[0]*s[0]+e[2]*s[1],e[1]*s[0]+e[3]*s[1],e[0]*s[2]+e[2]*s[3],e[1]*s[2]+e[3]*s[3],e[0]*s[4]+e[2]*s[5]+e[4],e[1]*s[4]+e[3]*s[5]+e[5]]}static applyTransform(e,s){const a=e[0]*s[0]+e[1]*s[2]+s[4],c=e[0]*s[1]+e[1]*s[3]+s[5];return[a,c]}static applyInverseTransform(e,s){const a=s[0]*s[3]-s[1]*s[2],c=(e[0]*s[3]-e[1]*s[2]+s[2]*s[5]-s[4]*s[3])/a,d=(-e[0]*s[1]+e[1]*s[0]+s[4]*s[1]-s[5]*s[0])/a;return[c,d]}static getAxialAlignedBoundingBox(e,s){const a=this.applyTransform(e,s),c=this.applyTransform(e.slice(2,4),s),d=this.applyTransform([e[0],e[3]],s),g=this.applyTransform([e[2],e[1]],s);return[Math.min(a[0],c[0],d[0],g[0]),Math.min(a[1],c[1],d[1],g[1]),Math.max(a[0],c[0],d[0],g[0]),Math.max(a[1],c[1],d[1],g[1])]}static inverseTransform(e){const s=e[0]*e[3]-e[1]*e[2];return[e[3]/s,-e[1]/s,-e[2]/s,e[0]/s,(e[2]*e[5]-e[4]*e[3])/s,(e[4]*e[1]-e[5]*e[0])/s]}static singularValueDecompose2dScale(e){const s=[e[0],e[2],e[1],e[3]],a=e[0]*s[0]+e[1]*s[2],c=e[0]*s[1]+e[1]*s[3],d=e[2]*s[0]+e[3]*s[2],g=e[2]*s[1]+e[3]*s[3],$=(a+g)/2,j=Math.sqrt((a+g)**2-4*(a*g-d*c))/2,tt=$+j||1,et=$-j||1;return[Math.sqrt(tt),Math.sqrt(et)]}static normalizeRect(e){const s=e.slice(0);return e[0]>e[2]&&(s[0]=e[2],s[2]=e[0]),e[1]>e[3]&&(s[1]=e[3],s[3]=e[1]),s}static intersect(e,s){const a=Math.max(Math.min(e[0],e[2]),Math.min(s[0],s[2])),c=Math.min(Math.max(e[0],e[2]),Math.max(s[0],s[2]));if(a>c)return null;const d=Math.max(Math.min(e[1],e[3]),Math.min(s[1],s[3])),g=Math.min(Math.max(e[1],e[3]),Math.max(s[1],s[3]));return d>g?null:[a,d,c,g]}static bezierBoundingBox(e,s,a,c,d,g,$,j,tt){return tt?(tt[0]=Math.min(tt[0],e,$),tt[1]=Math.min(tt[1],s,j),tt[2]=Math.max(tt[2],e,$),tt[3]=Math.max(tt[3],s,j)):tt=[Math.min(e,$),Math.min(s,j),Math.max(e,$),Math.max(s,j)],Pt(this,Vo,f0).call(this,e,a,d,$,s,c,g,j,3*(-e+3*(a-d)+$),6*(e-2*a+d),3*(a-e),tt),Pt(this,Vo,f0).call(this,e,a,d,$,s,c,g,j,3*(-s+3*(c-g)+j),6*(s-2*c+g),3*(c-s),tt),tt}}Vo=new WeakSet,f_=function(e,s,a,c,d,g,$,j,tt,et){if(tt<=0||tt>=1)return;const b=1-tt,h=tt*tt,_e=h*tt,nt=b*(b*(b*e+3*tt*s)+3*h*a)+_e*c,rt=b*(b*(b*d+3*tt*g)+3*h*$)+_e*j;et[0]=Math.min(et[0],nt),et[1]=Math.min(et[1],rt),et[2]=Math.max(et[2],nt),et[3]=Math.max(et[3],rt)},f0=function(e,s,a,c,d,g,$,j,tt,et,b,h){if(Math.abs(tt)<1e-12){Math.abs(et)>=1e-12&&Pt(this,Vo,f_).call(this,e,s,a,c,d,g,$,j,-b/et,h);return}const _e=et**2-4*b*tt;if(_e<0)return;const nt=Math.sqrt(_e),rt=2*tt;Pt(this,Vo,f_).call(this,e,s,a,c,d,g,$,j,(-et+nt)/rt,h),Pt(this,Vo,f_).call(this,e,s,a,c,d,g,$,j,(-et-nt)/rt,h)},Mt(Util,Vo);function stringToUTF8String(o){return decodeURIComponent(escape(o))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(o){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["ﬅ","ſt"]])),o.replaceAll(NormalizeRegex,(e,s,a)=>s?s.normalize("NFKC"):NormalizationMap.get(a))}function getUuid(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const o=new Uint8Array(32);return crypto.getRandomValues(o),bytesToString(o)}const AnnotationPrefix="pdfjs_internal_id_";function toBase64Util(o){return Uint8Array.prototype.toBase64?o.toBase64():btoa(bytesToString(o))}typeof Promise.try!="function"&&(Promise.try=function(o,...e){return new Promise(s=>{s(o(...e))})});const SVG_NS="http://www.w3.org/2000/svg",Yl=class Yl{};nn(Yl,"CSS",96),nn(Yl,"PDF",72),nn(Yl,"PDF_TO_CSS_UNITS",Yl.CSS/Yl.PDF);let PixelsPerInch=Yl;async function fetchData(o,e="text"){if(isValidFetchUrl(o,document.baseURI)){const s=await fetch(o);if(!s.ok)throw new Error(s.statusText);switch(e){case"arraybuffer":return s.arrayBuffer();case"blob":return s.blob();case"json":return s.json()}return s.text()}return new Promise((s,a)=>{const c=new XMLHttpRequest;c.open("GET",o,!0),c.responseType=e,c.onreadystatechange=()=>{if(c.readyState===XMLHttpRequest.DONE){if(c.status===200||c.status===0){switch(e){case"arraybuffer":case"blob":case"json":s(c.response);return}s(c.responseText);return}a(new Error(c.statusText))}},c.send(null)})}class PageViewport{constructor({viewBox:e,userUnit:s,scale:a,rotation:c,offsetX:d=0,offsetY:g=0,dontFlip:$=!1}){this.viewBox=e,this.userUnit=s,this.scale=a,this.rotation=c,this.offsetX=d,this.offsetY=g,a*=s;const j=(e[2]+e[0])/2,tt=(e[3]+e[1])/2;let et,b,h,_e;switch(c%=360,c<0&&(c+=360),c){case 180:et=-1,b=0,h=0,_e=1;break;case 90:et=0,b=1,h=1,_e=0;break;case 270:et=0,b=-1,h=-1,_e=0;break;case 0:et=1,b=0,h=0,_e=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}$&&(h=-h,_e=-_e);let nt,rt,it,st;et===0?(nt=Math.abs(tt-e[1])*a+d,rt=Math.abs(j-e[0])*a+g,it=(e[3]-e[1])*a,st=(e[2]-e[0])*a):(nt=Math.abs(j-e[0])*a+d,rt=Math.abs(tt-e[1])*a+g,it=(e[2]-e[0])*a,st=(e[3]-e[1])*a),this.transform=[et*a,b*a,h*a,_e*a,nt-et*a*j-h*a*tt,rt-b*a*j-_e*a*tt],this.width=it,this.height=st}get rawDims(){const{userUnit:e,viewBox:s}=this,a=s.map(c=>c*e);return shadow(this,"rawDims",{pageWidth:a[2]-a[0],pageHeight:a[3]-a[1],pageX:a[0],pageY:a[1]})}clone({scale:e=this.scale,rotation:s=this.rotation,offsetX:a=this.offsetX,offsetY:c=this.offsetY,dontFlip:d=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:s,offsetX:a,offsetY:c,dontFlip:d})}convertToViewportPoint(e,s){return Util.applyTransform([e,s],this.transform)}convertToViewportRectangle(e){const s=Util.applyTransform([e[0],e[1]],this.transform),a=Util.applyTransform([e[2],e[3]],this.transform);return[s[0],s[1],a[0],a[1]]}convertToPdfPoint(e,s){return Util.applyInverseTransform([e,s],this.transform)}}class RenderingCancelledException extends BaseException{constructor(e,s=0){super(e,"RenderingCancelledException"),this.extraDelay=s}}function isDataScheme(o){const e=o.length;let s=0;for(;s<e&&o[s].trim()==="";)s++;return o.substring(s,s+5).toLowerCase()==="data:"}function isPdfFile(o){return typeof o=="string"&&/\.pdf$/i.test(o)}function getFilenameFromUrl(o){return[o]=o.split(/[#?]/,1),o.substring(o.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(o,e="document.pdf"){if(typeof o!="string")return e;if(isDataScheme(o))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const s=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,a=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,c=s.exec(o);let d=a.exec(c[1])||a.exec(c[2])||a.exec(c[3]);if(d&&(d=d[0],d.includes("%")))try{d=a.exec(decodeURIComponent(d))[0]}catch{}return d||e}class StatTimer{constructor(){nn(this,"started",Object.create(null));nn(this,"times",[])}time(e){e in this.started&&warn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||warn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let s=0;for(const{name:a}of this.times)s=Math.max(a.length,s);for(const{name:a,start:c,end:d}of this.times)e.push(`${a.padEnd(s)} ${d-c}ms
`);return e.join("")}}function isValidFetchUrl(o,e){try{const{protocol:s}=e?new URL(o,e):new URL(o);return s==="http:"||s==="https:"}catch{return!1}}function noContextMenu(o){o.preventDefault()}function stopEvent(o){o.preventDefault(),o.stopPropagation()}var $m;class PDFDateString{static toDateObject(e){if(!e||typeof e!="string")return null;lt(this,$m)||xt(this,$m,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const s=lt(this,$m).exec(e);if(!s)return null;const a=parseInt(s[1],10);let c=parseInt(s[2],10);c=c>=1&&c<=12?c-1:0;let d=parseInt(s[3],10);d=d>=1&&d<=31?d:1;let g=parseInt(s[4],10);g=g>=0&&g<=23?g:0;let $=parseInt(s[5],10);$=$>=0&&$<=59?$:0;let j=parseInt(s[6],10);j=j>=0&&j<=59?j:0;const tt=s[7]||"Z";let et=parseInt(s[8],10);et=et>=0&&et<=23?et:0;let b=parseInt(s[9],10)||0;return b=b>=0&&b<=59?b:0,tt==="-"?(g+=et,$+=b):tt==="+"&&(g-=et,$-=b),new Date(Date.UTC(a,c,d,g,$,j))}}$m=new WeakMap,Mt(PDFDateString,$m);function getXfaPageViewport(o,{scale:e=1,rotation:s=0}){const{width:a,height:c}=o.attributes.style,d=[0,0,parseInt(a),parseInt(c)];return new PageViewport({viewBox:d,userUnit:1,scale:e,rotation:s})}function getRGB(o){if(o.startsWith("#")){const e=parseInt(o.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return o.startsWith("rgb(")?o.slice(4,-1).split(",").map(e=>parseInt(e)):o.startsWith("rgba(")?o.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(warn(`Not a valid color format: "${o}"`),[0,0,0])}function getColorValues(o){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const s of o.keys()){e.style.color=s;const a=window.getComputedStyle(e).color;o.set(s,getRGB(a))}e.remove()}function getCurrentTransform(o){const{a:e,b:s,c:a,d:c,e:d,f:g}=o.getTransform();return[e,s,a,c,d,g]}function getCurrentTransformInverse(o){const{a:e,b:s,c:a,d:c,e:d,f:g}=o.getTransform().invertSelf();return[e,s,a,c,d,g]}function setLayerDimensions(o,e,s=!1,a=!0){if(e instanceof PageViewport){const{pageWidth:c,pageHeight:d}=e.rawDims,{style:g}=o,$=util_FeatureTest.isCSSRoundSupported,j=`var(--scale-factor) * ${c}px`,tt=`var(--scale-factor) * ${d}px`,et=$?`round(down, ${j}, var(--scale-round-x, 1px))`:`calc(${j})`,b=$?`round(down, ${tt}, var(--scale-round-y, 1px))`:`calc(${tt})`;!s||e.rotation%180===0?(g.width=et,g.height=b):(g.width=b,g.height=et)}a&&o.setAttribute("data-main-rotation",e.rotation)}class OutputScale{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Ko,Ql,Os,Zl,Bm,jm,z_,$1,Xr,B1,j1,p_,z1,p0;const yo=class yo{constructor(e){Mt(this,Xr);Mt(this,Ko,null);Mt(this,Ql,null);Mt(this,Os);Mt(this,Zl,null);Mt(this,Bm,null);xt(this,Os,e),lt(yo,jm)||xt(yo,jm,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=xt(this,Ko,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const s=lt(this,Os)._uiManager._signal;e.addEventListener("contextmenu",noContextMenu,{signal:s}),e.addEventListener("pointerdown",Pt(yo,z_,$1),{signal:s});const a=xt(this,Zl,document.createElement("div"));a.className="buttons",e.append(a);const c=lt(this,Os).toolbarPosition;if(c){const{style:d}=e,g=lt(this,Os)._uiManager.direction==="ltr"?1-c[0]:c[0];d.insetInlineEnd=`${100*g}%`,d.top=`calc(${100*c[1]}% + var(--editor-toolbar-vert-offset))`}return Pt(this,Xr,z1).call(this),e}get div(){return lt(this,Ko)}hide(){var e;lt(this,Ko).classList.add("hidden"),(e=lt(this,Ql))==null||e.hideDropdown()}show(){var e;lt(this,Ko).classList.remove("hidden"),(e=lt(this,Bm))==null||e.shown()}async addAltText(e){const s=await e.render();Pt(this,Xr,p_).call(this,s),lt(this,Zl).prepend(s,lt(this,Xr,p0)),xt(this,Bm,e)}addColorPicker(e){xt(this,Ql,e);const s=e.renderButton();Pt(this,Xr,p_).call(this,s),lt(this,Zl).prepend(s,lt(this,Xr,p0))}remove(){var e;lt(this,Ko).remove(),(e=lt(this,Ql))==null||e.destroy(),xt(this,Ql,null)}};Ko=new WeakMap,Ql=new WeakMap,Os=new WeakMap,Zl=new WeakMap,Bm=new WeakMap,jm=new WeakMap,z_=new WeakSet,$1=function(e){e.stopPropagation()},Xr=new WeakSet,B1=function(e){lt(this,Os)._focusEventsAllowed=!1,stopEvent(e)},j1=function(e){lt(this,Os)._focusEventsAllowed=!0,stopEvent(e)},p_=function(e){const s=lt(this,Os)._uiManager._signal;e.addEventListener("focusin",Pt(this,Xr,B1).bind(this),{capture:!0,signal:s}),e.addEventListener("focusout",Pt(this,Xr,j1).bind(this),{capture:!0,signal:s}),e.addEventListener("contextmenu",noContextMenu,{signal:s})},z1=function(){const{editorType:e,_uiManager:s}=lt(this,Os),a=document.createElement("button");a.className="delete",a.tabIndex=0,a.setAttribute("data-l10n-id",lt(yo,jm)[e]),Pt(this,Xr,p_).call(this,a),a.addEventListener("click",c=>{s.delete()},{signal:s._signal}),lt(this,Zl).append(a)},p0=function(){const e=document.createElement("div");return e.className="divider",e},Mt(yo,z_),Mt(yo,jm,null);let EditorToolbar=yo;var zm,Jl,_c,Bl,W1,V1,q1;class HighlightToolbar{constructor(e){Mt(this,Bl);Mt(this,zm,null);Mt(this,Jl,null);Mt(this,_c);xt(this,_c,e)}show(e,s,a){const[c,d]=Pt(this,Bl,V1).call(this,s,a),{style:g}=lt(this,Jl)||xt(this,Jl,Pt(this,Bl,W1).call(this));e.append(lt(this,Jl)),g.insetInlineEnd=`${100*c}%`,g.top=`calc(${100*d}% + var(--editor-toolbar-vert-offset))`}hide(){lt(this,Jl).remove()}}zm=new WeakMap,Jl=new WeakMap,_c=new WeakMap,Bl=new WeakSet,W1=function(){const e=xt(this,Jl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",noContextMenu,{signal:lt(this,_c)._signal});const s=xt(this,zm,document.createElement("div"));return s.className="buttons",e.append(s),Pt(this,Bl,q1).call(this),e},V1=function(e,s){let a=0,c=0;for(const d of e){const g=d.y+d.height;if(g<a)continue;const $=d.x+(s?d.width:0);if(g>a){c=$,a=g;continue}s?$>c&&(c=$):$<c&&(c=$)}return[s?1-c:c,a]},q1=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const s=document.createElement("span");e.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const a=lt(this,_c)._signal;e.addEventListener("contextmenu",noContextMenu,{signal:a}),e.addEventListener("click",()=>{lt(this,_c).highlightSelection("floating_button")},{signal:a}),lt(this,zm).append(e)};function bindEvents(o,e,s){for(const a of s)e.addEventListener(a,o[a].bind(o))}var W_;class IdManager{constructor(){Mt(this,W_,0)}get id(){return`${AnnotationEditorPrefix}${zr(this,W_)._++}`}}W_=new WeakMap;var ap,Wm,Ur,lp,g_;const o1=class o1{constructor(){Mt(this,lp);Mt(this,ap,getUuid());Mt(this,Wm,0);Mt(this,Ur,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',a=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),c=new Image;c.src=e;const d=c.decode().then(()=>(a.drawImage(c,0,0,1,1,0,0,1,3),new Uint32Array(a.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",d)}async getFromFile(e){const{lastModified:s,name:a,size:c,type:d}=e;return Pt(this,lp,g_).call(this,`${s}_${a}_${c}_${d}`,e)}async getFromUrl(e){return Pt(this,lp,g_).call(this,e,e)}async getFromBlob(e,s){const a=await s;return Pt(this,lp,g_).call(this,e,a)}async getFromId(e){lt(this,Ur)||xt(this,Ur,new Map);const s=lt(this,Ur).get(e);if(!s)return null;if(s.bitmap)return s.refCounter+=1,s;if(s.file)return this.getFromFile(s.file);if(s.blobPromise){const{blobPromise:a}=s;return delete s.blobPromise,this.getFromBlob(s.id,a)}return this.getFromUrl(s.url)}getFromCanvas(e,s){lt(this,Ur)||xt(this,Ur,new Map);let a=lt(this,Ur).get(e);if(a!=null&&a.bitmap)return a.refCounter+=1,a;const c=new OffscreenCanvas(s.width,s.height);return c.getContext("2d").drawImage(s,0,0),a={bitmap:c.transferToImageBitmap(),id:`image_${lt(this,ap)}_${zr(this,Wm)._++}`,refCounter:1,isSvg:!1},lt(this,Ur).set(e,a),lt(this,Ur).set(a.id,a),a}getSvgUrl(e){const s=lt(this,Ur).get(e);return s!=null&&s.isSvg?s.svgUrl:null}deleteId(e){var c;lt(this,Ur)||xt(this,Ur,new Map);const s=lt(this,Ur).get(e);if(!s||(s.refCounter-=1,s.refCounter!==0))return;const{bitmap:a}=s;if(!s.url&&!s.file){const d=new OffscreenCanvas(a.width,a.height);d.getContext("bitmaprenderer").transferFromImageBitmap(a),s.blobPromise=d.convertToBlob()}(c=a.close)==null||c.call(a),s.bitmap=null}isValidId(e){return e.startsWith(`image_${lt(this,ap)}_`)}};ap=new WeakMap,Wm=new WeakMap,Ur=new WeakMap,lp=new WeakSet,g_=async function(e,s){lt(this,Ur)||xt(this,Ur,new Map);let a=lt(this,Ur).get(e);if(a===null)return null;if(a!=null&&a.bitmap)return a.refCounter+=1,a;try{a||(a={bitmap:null,id:`image_${lt(this,ap)}_${zr(this,Wm)._++}`,refCounter:0,isSvg:!1});let c;if(typeof s=="string"?(a.url=s,c=await fetchData(s,"blob")):s instanceof File?c=a.file=s:s instanceof Blob&&(c=s),c.type==="image/svg+xml"){const d=o1._isSVGFittingCanvas,g=new FileReader,$=new Image,j=new Promise((tt,et)=>{$.onload=()=>{a.bitmap=$,a.isSvg=!0,tt()},g.onload=async()=>{const b=a.svgUrl=g.result;$.src=await d?`${b}#svgView(preserveAspectRatio(none))`:b},$.onerror=g.onerror=et});g.readAsDataURL(c),await j}else a.bitmap=await createImageBitmap(c);a.refCounter=1}catch(c){warn(c),a=null}return lt(this,Ur).set(e,a),a&&lt(this,Ur).set(a.id,a),a};let ImageManager=o1;var pr,Qo,Vm,ur;class CommandManager{constructor(e=128){Mt(this,pr,[]);Mt(this,Qo,!1);Mt(this,Vm);Mt(this,ur,-1);xt(this,Vm,e)}add({cmd:e,undo:s,post:a,mustExec:c,type:d=NaN,overwriteIfSameType:g=!1,keepUndo:$=!1}){if(c&&e(),lt(this,Qo))return;const j={cmd:e,undo:s,post:a,type:d};if(lt(this,ur)===-1){lt(this,pr).length>0&&(lt(this,pr).length=0),xt(this,ur,0),lt(this,pr).push(j);return}if(g&&lt(this,pr)[lt(this,ur)].type===d){$&&(j.undo=lt(this,pr)[lt(this,ur)].undo),lt(this,pr)[lt(this,ur)]=j;return}const tt=lt(this,ur)+1;tt===lt(this,Vm)?lt(this,pr).splice(0,1):(xt(this,ur,tt),tt<lt(this,pr).length&&lt(this,pr).splice(tt)),lt(this,pr).push(j)}undo(){if(lt(this,ur)===-1)return;xt(this,Qo,!0);const{undo:e,post:s}=lt(this,pr)[lt(this,ur)];e(),s==null||s(),xt(this,Qo,!1),xt(this,ur,lt(this,ur)-1)}redo(){if(lt(this,ur)<lt(this,pr).length-1){xt(this,ur,lt(this,ur)+1),xt(this,Qo,!0);const{cmd:e,post:s}=lt(this,pr)[lt(this,ur)];e(),s==null||s(),xt(this,Qo,!1)}}hasSomethingToUndo(){return lt(this,ur)!==-1}hasSomethingToRedo(){return lt(this,ur)<lt(this,pr).length-1}cleanType(e){if(lt(this,ur)!==-1){for(let s=lt(this,ur);s>=0;s--)if(lt(this,pr)[s].type!==e){lt(this,pr).splice(s+1,lt(this,ur)-s),xt(this,ur,s);return}lt(this,pr).length=0,xt(this,ur,-1)}}destroy(){xt(this,pr,null)}}pr=new WeakMap,Qo=new WeakMap,Vm=new WeakMap,ur=new WeakMap;var V_,G1;class KeyboardManager{constructor(e){Mt(this,V_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:s}=util_FeatureTest.platform;for(const[a,c,d={}]of e)for(const g of a){const $=g.startsWith("mac+");s&&$?(this.callbacks.set(g.slice(4),{callback:c,options:d}),this.allKeys.add(g.split("+").at(-1))):!s&&!$&&(this.callbacks.set(g,{callback:c,options:d}),this.allKeys.add(g.split("+").at(-1)))}}exec(e,s){if(!this.allKeys.has(s.key))return;const a=this.callbacks.get(Pt(this,V_,G1).call(this,s));if(!a)return;const{callback:c,options:{bubbles:d=!1,args:g=[],checker:$=null}}=a;$&&!$(e,s)||(c.bind(e,...g,s)(),d||stopEvent(s))}}V_=new WeakSet,G1=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const s=this.buffer.join("+");return this.buffer.length=0,s};const q_=class q_{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(e),shadow(this,"_colors",e)}convert(e){const s=getRGB(e);if(!window.matchMedia("(forced-colors: active)").matches)return s;for(const[a,c]of this._colors)if(c.every((d,g)=>d===s[g]))return q_._colorsMapping.get(a);return s}getHexCode(e){const s=this._colors.get(e);return s?Util.makeHexColor(...s):e}};nn(q_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=q_;var cp,rs,_r,kr,up,_o,dp,_s,Zo,eu,hp,tu,Hs,Ps,nu,qm,Gm,fp,Hm,Xs,Jo,pp,na,Ys,G_,ga,Xm,ba,ru,Ym,Km,Tr,er,vo,iu,Qm,Zm,_a,Ks,wo,Jm,vs,bn,m_,g0,H1,X1,y_,Y1,K1,Q1,m0,Z1,y0,b0,J1,Wr,go,ev,tv,_0,nv,Em,v0;const sp=class sp{constructor(e,s,a,c,d,g,$,j,tt,et,b,h,_e){Mt(this,bn);Mt(this,cp,new AbortController);Mt(this,rs,null);Mt(this,_r,new Map);Mt(this,kr,new Map);Mt(this,up,null);Mt(this,_o,null);Mt(this,dp,null);Mt(this,_s,new CommandManager);Mt(this,Zo,null);Mt(this,eu,null);Mt(this,hp,0);Mt(this,tu,new Set);Mt(this,Hs,null);Mt(this,Ps,null);Mt(this,nu,new Set);nn(this,"_editorUndoBar",null);Mt(this,qm,!1);Mt(this,Gm,!1);Mt(this,fp,!1);Mt(this,Hm,null);Mt(this,Xs,null);Mt(this,Jo,null);Mt(this,pp,null);Mt(this,na,!1);Mt(this,Ys,null);Mt(this,G_,new IdManager);Mt(this,ga,!1);Mt(this,Xm,!1);Mt(this,ba,null);Mt(this,ru,null);Mt(this,Ym,null);Mt(this,Km,null);Mt(this,Tr,AnnotationEditorType.NONE);Mt(this,er,new Set);Mt(this,vo,null);Mt(this,iu,null);Mt(this,Qm,null);Mt(this,Zm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Mt(this,_a,[0,0]);Mt(this,Ks,null);Mt(this,wo,null);Mt(this,Jm,null);Mt(this,vs,null);const nt=this._signal=lt(this,cp).signal;xt(this,wo,e),xt(this,Jm,s),xt(this,up,a),this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:nt}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:nt}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:nt}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:nt}),c._on("setpreference",this.onSetPreference.bind(this),{signal:nt}),c._on("switchannotationeditorparams",rt=>this.updateParams(rt.type,rt.value),{signal:nt}),Pt(this,bn,Y1).call(this),Pt(this,bn,J1).call(this),Pt(this,bn,m0).call(this),xt(this,_o,d.annotationStorage),xt(this,Hm,d.filterFactory),xt(this,iu,g),xt(this,pp,$||null),xt(this,qm,j),xt(this,Gm,tt),xt(this,fp,et),xt(this,Km,b||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=h||null,this._supportsPinchToZoom=_e!==!1}static get _keyboardManager(){const e=sp.prototype,s=g=>lt(g,wo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&g.hasSomethingToControl(),a=(g,{target:$})=>{if($ instanceof HTMLInputElement){const{type:j}=$;return j!=="text"&&j!=="number"}return!0},c=this.TRANSLATE_SMALL,d=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:a}],[["ctrl+z","mac+meta+z"],e.undo,{checker:a}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:a}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:a}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(g,{target:$})=>!($ instanceof HTMLButtonElement)&&lt(g,wo).contains($)&&!g.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(g,{target:$})=>!($ instanceof HTMLButtonElement)&&lt(g,wo).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-c,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-d,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[c,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[d,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-c],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-d],checker:s}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,c],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,d],checker:s}]]))}destroy(){var e,s,a,c,d;(e=lt(this,vs))==null||e.resolve(),xt(this,vs,null),(s=lt(this,cp))==null||s.abort(),xt(this,cp,null),this._signal=null;for(const g of lt(this,kr).values())g.destroy();lt(this,kr).clear(),lt(this,_r).clear(),lt(this,nu).clear(),xt(this,rs,null),lt(this,er).clear(),lt(this,_s).destroy(),(a=lt(this,up))==null||a.destroy(),(c=lt(this,Ys))==null||c.hide(),xt(this,Ys,null),lt(this,Xs)&&(clearTimeout(lt(this,Xs)),xt(this,Xs,null)),lt(this,Ks)&&(clearTimeout(lt(this,Ks)),xt(this,Ks,null)),(d=this._editorUndoBar)==null||d.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return lt(this,Km)}get useNewAltTextFlow(){return lt(this,Gm)}get useNewAltTextWhenAddingImage(){return lt(this,fp)}get hcmFilter(){return shadow(this,"hcmFilter",lt(this,iu)?lt(this,Hm).addHCMFilter(lt(this,iu).foreground,lt(this,iu).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(lt(this,wo)).direction)}get highlightColors(){return shadow(this,"highlightColors",lt(this,pp)?new Map(lt(this,pp).split(",").map(e=>e.split("=").map(s=>s.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),xt(this,eu,e)}setMainHighlightColorPicker(e){xt(this,Ym,e)}editAltText(e,s=!1){var a;(a=lt(this,up))==null||a.editAltText(this,e,s)}switchToMode(e,s){this._eventBus.on("annotationeditormodechanged",s,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,s){this._eventBus.dispatch("setpreference",{source:this,name:e,value:s})}onSetPreference({name:e,value:s}){switch(e){case"enableNewAltTextWhenAddingImage":xt(this,fp,s);break}}onPageChanging({pageNumber:e}){xt(this,hp,e-1)}focusMainContainer(){lt(this,wo).focus()}findParent(e,s){for(const a of lt(this,kr).values()){const{x:c,y:d,width:g,height:$}=a.div.getBoundingClientRect();if(e>=c&&e<=c+g&&s>=d&&s<=d+$)return a}return null}disableUserSelect(e=!1){lt(this,Jm).classList.toggle("noUserSelect",e)}addShouldRescale(e){lt(this,nu).add(e)}removeShouldRescale(e){lt(this,nu).delete(e)}onScaleChanging({scale:e}){var s;this.commitOrRemove(),this.viewParameters.realScale=e*PixelsPerInch.PDF_TO_CSS_UNITS;for(const a of lt(this,nu))a.onScaleChanging();(s=lt(this,eu))==null||s.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:a,anchorOffset:c,focusNode:d,focusOffset:g}=s,$=s.toString(),tt=Pt(this,bn,m_).call(this,s).closest(".textLayer"),et=this.getSelectionBoxes(tt);if(!et)return;s.empty();const b=Pt(this,bn,g0).call(this,tt),h=lt(this,Tr)===AnnotationEditorType.NONE,_e=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:et,anchorNode:a,anchorOffset:c,focusNode:d,focusOffset:g,text:$}),h&&this.showAllEditors("highlight",!0,!0)};if(h){this.switchToMode(AnnotationEditorType.HIGHLIGHT,_e);return}_e()}addToAnnotationStorage(e){!e.isEmpty()&&lt(this,_o)&&!lt(this,_o).has(e.id)&&lt(this,_o).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,lt(this,na)&&(xt(this,na,!1),Pt(this,bn,y_).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const s of lt(this,er))if(s.div.contains(e)){xt(this,ru,[s,e]),s._focusEventsAllowed=!1;break}}focus(){if(!lt(this,ru))return;const[e,s]=lt(this,ru);xt(this,ru,null),s.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),s.focus()}addEditListeners(){Pt(this,bn,m0).call(this),Pt(this,bn,y0).call(this)}removeEditListeners(){Pt(this,bn,Z1).call(this),Pt(this,bn,b0).call(this)}dragOver(e){for(const{type:s}of e.dataTransfer.items)for(const a of lt(this,Ps))if(a.isHandlingMimeForPasting(s)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const s of e.dataTransfer.items)for(const a of lt(this,Ps))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer),e.preventDefault();return}}copy(e){var a;if(e.preventDefault(),(a=lt(this,rs))==null||a.commitOrRemove(),!this.hasSelection)return;const s=[];for(const c of lt(this,er)){const d=c.serialize(!0);d&&s.push(d)}s.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(s))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:s}=e;for(const d of s.items)for(const g of lt(this,Ps))if(g.isHandlingMimeForPasting(d.type)){g.paste(d,this.currentLayer);return}let a=s.getData("application/pdfjs");if(!a)return;try{a=JSON.parse(a)}catch(d){warn(`paste: "${d.message}".`);return}if(!Array.isArray(a))return;this.unselectAll();const c=this.currentLayer;try{const d=[];for(const j of a){const tt=await c.deserialize(j);if(!tt)return;d.push(tt)}const g=()=>{for(const j of d)Pt(this,bn,_0).call(this,j);Pt(this,bn,v0).call(this,d)},$=()=>{for(const j of d)j.remove()};this.addCommands({cmd:g,undo:$,mustExec:!0})}catch(d){warn(`paste: "${d.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),lt(this,Tr)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&sp._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,lt(this,na)&&(xt(this,na,!1),Pt(this,bn,y_).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(Pt(this,bn,K1).call(this),Pt(this,bn,y0).call(this),Pt(this,bn,Wr).call(this,{isEditing:lt(this,Tr)!==AnnotationEditorType.NONE,isEmpty:Pt(this,bn,Em).call(this),hasSomethingToUndo:lt(this,_s).hasSomethingToUndo(),hasSomethingToRedo:lt(this,_s).hasSomethingToRedo(),hasSelectedEditor:!1})):(Pt(this,bn,Q1).call(this),Pt(this,bn,b0).call(this),Pt(this,bn,Wr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!lt(this,Ps)){xt(this,Ps,e);for(const s of lt(this,Ps))Pt(this,bn,go).call(this,s.defaultPropertiesToUpdate)}}getId(){return lt(this,G_).id}get currentLayer(){return lt(this,kr).get(lt(this,hp))}getLayer(e){return lt(this,kr).get(e)}get currentPageIndex(){return lt(this,hp)}addLayer(e){lt(this,kr).set(e.pageIndex,e),lt(this,ga)?e.enable():e.disable()}removeLayer(e){lt(this,kr).delete(e.pageIndex)}async updateMode(e,s=null,a=!1){var c;if(lt(this,Tr)!==e&&!(lt(this,vs)&&(await lt(this,vs).promise,!lt(this,vs)))){if(xt(this,vs,Promise.withResolvers()),xt(this,Tr,e),e===AnnotationEditorType.NONE){this.setEditingState(!1),Pt(this,bn,tv).call(this),(c=this._editorUndoBar)==null||c.hide(),lt(this,vs).resolve();return}this.setEditingState(!0),await Pt(this,bn,ev).call(this),this.unselectAll();for(const d of lt(this,kr).values())d.updateMode(e);if(!s){a&&this.addNewEditorFromKeyboard(),lt(this,vs).resolve();return}for(const d of lt(this,_r).values())d.annotationElementId===s?(this.setSelected(d),d.enterInEditMode()):d.unselect();lt(this,vs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==lt(this,Tr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,s){var a;if(lt(this,Ps)){switch(e){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(a=lt(this,Ym))==null||a.updateColor(s);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(lt(this,Qm)||xt(this,Qm,new Map)).set(e,s),this.showAllEditors("highlight",s);break}for(const c of lt(this,er))c.updateParams(e,s);for(const c of lt(this,Ps))c.updateDefaultParams(e,s)}}showAllEditors(e,s,a=!1){var d;for(const g of lt(this,_r).values())g.editorType===e&&g.show(s);(((d=lt(this,Qm))==null?void 0:d.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==s&&Pt(this,bn,go).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,s]])}enableWaiting(e=!1){if(lt(this,Xm)!==e){xt(this,Xm,e);for(const s of lt(this,kr).values())e?s.disableClick():s.enableClick(),s.div.classList.toggle("waiting",e)}}getEditors(e){const s=[];for(const a of lt(this,_r).values())a.pageIndex===e&&s.push(a);return s}getEditor(e){return lt(this,_r).get(e)}addEditor(e){lt(this,_r).set(e.id,e)}removeEditor(e){var s;e.div.contains(document.activeElement)&&(lt(this,Xs)&&clearTimeout(lt(this,Xs)),xt(this,Xs,setTimeout(()=>{this.focusMainContainer(),xt(this,Xs,null)},0))),lt(this,_r).delete(e.id),this.unselect(e),(!e.annotationElementId||!lt(this,tu).has(e.annotationElementId))&&((s=lt(this,_o))==null||s.remove(e.id))}addDeletedAnnotationElement(e){lt(this,tu).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return lt(this,tu).has(e)}removeDeletedAnnotationElement(e){lt(this,tu).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){lt(this,rs)!==e&&(xt(this,rs,e),e&&Pt(this,bn,go).call(this,e.propertiesToUpdate))}updateUI(e){lt(this,bn,nv)===e&&Pt(this,bn,go).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){Pt(this,bn,go).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(lt(this,er).has(e)){lt(this,er).delete(e),e.unselect(),Pt(this,bn,Wr).call(this,{hasSelectedEditor:this.hasSelection});return}lt(this,er).add(e),e.select(),Pt(this,bn,go).call(this,e.propertiesToUpdate),Pt(this,bn,Wr).call(this,{hasSelectedEditor:!0})}setSelected(e){var s;(s=lt(this,eu))==null||s.commitOrRemove();for(const a of lt(this,er))a!==e&&a.unselect();lt(this,er).clear(),lt(this,er).add(e),e.select(),Pt(this,bn,go).call(this,e.propertiesToUpdate),Pt(this,bn,Wr).call(this,{hasSelectedEditor:!0})}isSelected(e){return lt(this,er).has(e)}get firstSelectedEditor(){return lt(this,er).values().next().value}unselect(e){e.unselect(),lt(this,er).delete(e),Pt(this,bn,Wr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return lt(this,er).size!==0}get isEnterHandled(){return lt(this,er).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;lt(this,_s).undo(),Pt(this,bn,Wr).call(this,{hasSomethingToUndo:lt(this,_s).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Pt(this,bn,Em).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){lt(this,_s).redo(),Pt(this,bn,Wr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:lt(this,_s).hasSomethingToRedo(),isEmpty:Pt(this,bn,Em).call(this)})}addCommands(e){lt(this,_s).add(e),Pt(this,bn,Wr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Pt(this,bn,Em).call(this)})}cleanUndoStack(e){lt(this,_s).cleanType(e)}delete(){var d;this.commitOrRemove();const e=(d=this.currentLayer)==null?void 0:d.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const s=e?[e]:[...lt(this,er)],a=()=>{var g;(g=this._editorUndoBar)==null||g.show(c,s.length===1?s[0].editorType:s.length);for(const $ of s)$.remove()},c=()=>{for(const g of s)Pt(this,bn,_0).call(this,g)};this.addCommands({cmd:a,undo:c,mustExec:!0})}commitOrRemove(){var e;(e=lt(this,rs))==null||e.commitOrRemove()}hasSomethingToControl(){return lt(this,rs)||this.hasSelection}selectAll(){for(const e of lt(this,er))e.commit();Pt(this,bn,v0).call(this,lt(this,_r).values())}unselectAll(){var e;if(!(lt(this,rs)&&(lt(this,rs).commitOrRemove(),lt(this,Tr)!==AnnotationEditorType.NONE))&&!((e=lt(this,eu))!=null&&e.commitOrRemove())&&this.hasSelection){for(const s of lt(this,er))s.unselect();lt(this,er).clear(),Pt(this,bn,Wr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,s,a=!1){if(a||this.commitOrRemove(),!this.hasSelection)return;lt(this,_a)[0]+=e,lt(this,_a)[1]+=s;const[c,d]=lt(this,_a),g=[...lt(this,er)],$=1e3;lt(this,Ks)&&clearTimeout(lt(this,Ks)),xt(this,Ks,setTimeout(()=>{xt(this,Ks,null),lt(this,_a)[0]=lt(this,_a)[1]=0,this.addCommands({cmd:()=>{for(const j of g)lt(this,_r).has(j.id)&&j.translateInPage(c,d)},undo:()=>{for(const j of g)lt(this,_r).has(j.id)&&j.translateInPage(-c,-d)},mustExec:!1})},$));for(const j of g)j.translateInPage(e,s)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),xt(this,Hs,new Map);for(const e of lt(this,er))lt(this,Hs).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!lt(this,Hs))return!1;this.disableUserSelect(!1);const e=lt(this,Hs);xt(this,Hs,null);let s=!1;for(const[{x:c,y:d,pageIndex:g},$]of e)$.newX=c,$.newY=d,$.newPageIndex=g,s||(s=c!==$.savedX||d!==$.savedY||g!==$.savedPageIndex);if(!s)return!1;const a=(c,d,g,$)=>{if(lt(this,_r).has(c.id)){const j=lt(this,kr).get($);j?c._setParentAndPosition(j,d,g):(c.pageIndex=$,c.x=d,c.y=g)}};return this.addCommands({cmd:()=>{for(const[c,{newX:d,newY:g,newPageIndex:$}]of e)a(c,d,g,$)},undo:()=>{for(const[c,{savedX:d,savedY:g,savedPageIndex:$}]of e)a(c,d,g,$)},mustExec:!0}),!0}dragSelectedEditors(e,s){if(lt(this,Hs))for(const a of lt(this,Hs).keys())a.drag(e,s)}rebuild(e){if(e.parent===null){const s=this.getLayer(e.pageIndex);s?(s.changeParent(e),s.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||lt(this,er).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return lt(this,rs)===e}getActive(){return lt(this,rs)}getMode(){return lt(this,Tr)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(e){if(!e)return null;const s=document.getSelection();for(let tt=0,et=s.rangeCount;tt<et;tt++)if(!e.contains(s.getRangeAt(tt).commonAncestorContainer))return null;const{x:a,y:c,width:d,height:g}=e.getBoundingClientRect();let $;switch(e.getAttribute("data-main-rotation")){case"90":$=(tt,et,b,h)=>({x:(et-c)/g,y:1-(tt+b-a)/d,width:h/g,height:b/d});break;case"180":$=(tt,et,b,h)=>({x:1-(tt+b-a)/d,y:1-(et+h-c)/g,width:b/d,height:h/g});break;case"270":$=(tt,et,b,h)=>({x:1-(et+h-c)/g,y:(tt-a)/d,width:h/g,height:b/d});break;default:$=(tt,et,b,h)=>({x:(tt-a)/d,y:(et-c)/g,width:b/d,height:h/g});break}const j=[];for(let tt=0,et=s.rangeCount;tt<et;tt++){const b=s.getRangeAt(tt);if(!b.collapsed)for(const{x:h,y:_e,width:nt,height:rt}of b.getClientRects())nt===0||rt===0||j.push($(h,_e,nt,rt))}return j.length===0?null:j}addChangedExistingAnnotation({annotationElementId:e,id:s}){(lt(this,dp)||xt(this,dp,new Map)).set(e,s)}removeChangedExistingAnnotation({annotationElementId:e}){var s;(s=lt(this,dp))==null||s.delete(e)}renderAnnotationElement(e){var c;const s=(c=lt(this,dp))==null?void 0:c.get(e.data.id);if(!s)return;const a=lt(this,_o).getRawValue(s);a&&(lt(this,Tr)===AnnotationEditorType.NONE&&!a.hasBeenModified||a.renderAnnotationElement(e))}};cp=new WeakMap,rs=new WeakMap,_r=new WeakMap,kr=new WeakMap,up=new WeakMap,_o=new WeakMap,dp=new WeakMap,_s=new WeakMap,Zo=new WeakMap,eu=new WeakMap,hp=new WeakMap,tu=new WeakMap,Hs=new WeakMap,Ps=new WeakMap,nu=new WeakMap,qm=new WeakMap,Gm=new WeakMap,fp=new WeakMap,Hm=new WeakMap,Xs=new WeakMap,Jo=new WeakMap,pp=new WeakMap,na=new WeakMap,Ys=new WeakMap,G_=new WeakMap,ga=new WeakMap,Xm=new WeakMap,ba=new WeakMap,ru=new WeakMap,Ym=new WeakMap,Km=new WeakMap,Tr=new WeakMap,er=new WeakMap,vo=new WeakMap,iu=new WeakMap,Qm=new WeakMap,Zm=new WeakMap,_a=new WeakMap,Ks=new WeakMap,wo=new WeakMap,Jm=new WeakMap,vs=new WeakMap,bn=new WeakSet,m_=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},g0=function(e){const{currentLayer:s}=this;if(s.hasTextLayer(e))return s;for(const a of lt(this,kr).values())if(a.hasTextLayer(e))return a;return null},H1=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const a=Pt(this,bn,m_).call(this,e).closest(".textLayer"),c=this.getSelectionBoxes(a);c&&(lt(this,Ys)||xt(this,Ys,new HighlightToolbar(this)),lt(this,Ys).show(a,c,this.direction==="ltr"))},X1=function(){var d,g,$;const e=document.getSelection();if(!e||e.isCollapsed){lt(this,vo)&&((d=lt(this,Ys))==null||d.hide(),xt(this,vo,null),Pt(this,bn,Wr).call(this,{hasSelectedText:!1}));return}const{anchorNode:s}=e;if(s===lt(this,vo))return;const c=Pt(this,bn,m_).call(this,e).closest(".textLayer");if(!c){lt(this,vo)&&((g=lt(this,Ys))==null||g.hide(),xt(this,vo,null),Pt(this,bn,Wr).call(this,{hasSelectedText:!1}));return}if(($=lt(this,Ys))==null||$.hide(),xt(this,vo,s),Pt(this,bn,Wr).call(this,{hasSelectedText:!0}),!(lt(this,Tr)!==AnnotationEditorType.HIGHLIGHT&&lt(this,Tr)!==AnnotationEditorType.NONE)&&(lt(this,Tr)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),xt(this,na,this.isShiftKeyDown),!this.isShiftKeyDown)){const j=lt(this,Tr)===AnnotationEditorType.HIGHLIGHT?Pt(this,bn,g0).call(this,c):null;j==null||j.toggleDrawing();const tt=new AbortController,et=this.combinedSignal(tt),b=h=>{h.type==="pointerup"&&h.button!==0||(tt.abort(),j==null||j.toggleDrawing(!0),h.type==="pointerup"&&Pt(this,bn,y_).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:et}),window.addEventListener("blur",b,{signal:et})}},y_=function(e=""){lt(this,Tr)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(e):lt(this,qm)&&Pt(this,bn,H1).call(this)},Y1=function(){document.addEventListener("selectionchange",Pt(this,bn,X1).bind(this),{signal:this._signal})},K1=function(){if(lt(this,Jo))return;xt(this,Jo,new AbortController);const e=this.combinedSignal(lt(this,Jo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Q1=function(){var e;(e=lt(this,Jo))==null||e.abort(),xt(this,Jo,null)},m0=function(){if(lt(this,ba))return;xt(this,ba,new AbortController);const e=this.combinedSignal(lt(this,ba));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Z1=function(){var e;(e=lt(this,ba))==null||e.abort(),xt(this,ba,null)},y0=function(){if(lt(this,Zo))return;xt(this,Zo,new AbortController);const e=this.combinedSignal(lt(this,Zo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},b0=function(){var e;(e=lt(this,Zo))==null||e.abort(),xt(this,Zo,null)},J1=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Wr=function(e){Object.entries(e).some(([a,c])=>lt(this,Zm)[a]!==c)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(lt(this,Zm),e)}),lt(this,Tr)===AnnotationEditorType.HIGHLIGHT&&e.hasSelectedEditor===!1&&Pt(this,bn,go).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},go=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},ev=async function(){if(!lt(this,ga)){xt(this,ga,!0);const e=[];for(const s of lt(this,kr).values())e.push(s.enable());await Promise.all(e);for(const s of lt(this,_r).values())s.enable()}},tv=function(){if(this.unselectAll(),lt(this,ga)){xt(this,ga,!1);for(const e of lt(this,kr).values())e.disable();for(const e of lt(this,_r).values())e.disable()}},_0=function(e){const s=lt(this,kr).get(e.pageIndex);s?s.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},nv=function(){let e=null;for(e of lt(this,er));return e},Em=function(){if(lt(this,_r).size===0)return!0;if(lt(this,_r).size===1)for(const e of lt(this,_r).values())return e.isEmpty();return!1},v0=function(e){for(const s of lt(this,er))s.unselect();lt(this,er).clear();for(const s of e)s.isEmpty()||(lt(this,er).add(s),s.select());Pt(this,bn,Wr).call(this,{hasSelectedEditor:this.hasSelection})},nn(sp,"TRANSLATE_SMALL",1),nn(sp,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=sp;var Er,Qs,Fs,gp,Zs,is,mp,Js,Jr,xo,su,eo,xa,Ws,Am,b_;const Vr=class Vr{constructor(e){Mt(this,Ws);Mt(this,Er,null);Mt(this,Qs,!1);Mt(this,Fs,null);Mt(this,gp,null);Mt(this,Zs,null);Mt(this,is,null);Mt(this,mp,!1);Mt(this,Js,null);Mt(this,Jr,null);Mt(this,xo,null);Mt(this,su,null);Mt(this,eo,!1);xt(this,Jr,e),xt(this,eo,e._uiManager.useNewAltTextFlow),lt(Vr,xa)||xt(Vr,xa,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Vr._l10n??(Vr._l10n=e)}async render(){const e=xt(this,Fs,document.createElement("button"));e.className="altText",e.tabIndex="0";const s=xt(this,gp,document.createElement("span"));e.append(s),lt(this,eo)?(e.classList.add("new"),e.setAttribute("data-l10n-id",lt(Vr,xa).missing),s.setAttribute("data-l10n-id",lt(Vr,xa)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const a=lt(this,Jr)._uiManager._signal;e.addEventListener("contextmenu",noContextMenu,{signal:a}),e.addEventListener("pointerdown",d=>d.stopPropagation(),{signal:a});const c=d=>{d.preventDefault(),lt(this,Jr)._uiManager.editAltText(lt(this,Jr)),lt(this,eo)&&lt(this,Jr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:lt(this,Ws,Am)}})};return e.addEventListener("click",c,{capture:!0,signal:a}),e.addEventListener("keydown",d=>{d.target===e&&d.key==="Enter"&&(xt(this,mp,!0),c(d))},{signal:a}),await Pt(this,Ws,b_).call(this),e}finish(){lt(this,Fs)&&(lt(this,Fs).focus({focusVisible:lt(this,mp)}),xt(this,mp,!1))}isEmpty(){return lt(this,eo)?lt(this,Er)===null:!lt(this,Er)&&!lt(this,Qs)}hasData(){return lt(this,eo)?lt(this,Er)!==null||!!lt(this,xo):this.isEmpty()}get guessedText(){return lt(this,xo)}async setGuessedText(e){lt(this,Er)===null&&(xt(this,xo,e),xt(this,su,await Vr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),Pt(this,Ws,b_).call(this))}toggleAltTextBadge(e=!1){var s;if(!lt(this,eo)||lt(this,Er)){(s=lt(this,Js))==null||s.remove(),xt(this,Js,null);return}if(!lt(this,Js)){const a=xt(this,Js,document.createElement("div"));a.className="noAltTextBadge",lt(this,Jr).div.append(a)}lt(this,Js).classList.toggle("hidden",!e)}serialize(e){let s=lt(this,Er);return!e&&lt(this,xo)===s&&(s=lt(this,su)),{altText:s,decorative:lt(this,Qs),guessedText:lt(this,xo),textWithDisclaimer:lt(this,su)}}get data(){return{altText:lt(this,Er),decorative:lt(this,Qs)}}set data({altText:e,decorative:s,guessedText:a,textWithDisclaimer:c,cancel:d=!1}){a&&(xt(this,xo,a),xt(this,su,c)),!(lt(this,Er)===e&&lt(this,Qs)===s)&&(d||(xt(this,Er,e),xt(this,Qs,s)),Pt(this,Ws,b_).call(this))}toggle(e=!1){lt(this,Fs)&&(!e&&lt(this,is)&&(clearTimeout(lt(this,is)),xt(this,is,null)),lt(this,Fs).disabled=!e)}shown(){lt(this,Jr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:lt(this,Ws,Am)}})}destroy(){var e,s;(e=lt(this,Fs))==null||e.remove(),xt(this,Fs,null),xt(this,gp,null),xt(this,Zs,null),(s=lt(this,Js))==null||s.remove(),xt(this,Js,null)}};Er=new WeakMap,Qs=new WeakMap,Fs=new WeakMap,gp=new WeakMap,Zs=new WeakMap,is=new WeakMap,mp=new WeakMap,Js=new WeakMap,Jr=new WeakMap,xo=new WeakMap,su=new WeakMap,eo=new WeakMap,xa=new WeakMap,Ws=new WeakSet,Am=function(){return lt(this,Er)&&"added"||lt(this,Er)===null&&this.guessedText&&"review"||"missing"},b_=async function(){var c,d,g;const e=lt(this,Fs);if(!e)return;if(lt(this,eo)){if(e.classList.toggle("done",!!lt(this,Er)),e.setAttribute("data-l10n-id",lt(Vr,xa)[lt(this,Ws,Am)]),(c=lt(this,gp))==null||c.setAttribute("data-l10n-id",lt(Vr,xa)[`${lt(this,Ws,Am)}-label`]),!lt(this,Er)){(d=lt(this,Zs))==null||d.remove();return}}else{if(!lt(this,Er)&&!lt(this,Qs)){e.classList.remove("done"),(g=lt(this,Zs))==null||g.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let s=lt(this,Zs);if(!s){xt(this,Zs,s=document.createElement("span")),s.className="tooltip",s.setAttribute("role","tooltip"),s.id=`alt-text-tooltip-${lt(this,Jr).id}`;const $=100,j=lt(this,Jr)._uiManager._signal;j.addEventListener("abort",()=>{clearTimeout(lt(this,is)),xt(this,is,null)},{once:!0}),e.addEventListener("mouseenter",()=>{xt(this,is,setTimeout(()=>{xt(this,is,null),lt(this,Zs).classList.add("show"),lt(this,Jr)._reportTelemetry({action:"alt_text_tooltip"})},$))},{signal:j}),e.addEventListener("mouseleave",()=>{var tt;lt(this,is)&&(clearTimeout(lt(this,is)),xt(this,is,null)),(tt=lt(this,Zs))==null||tt.classList.remove("show")},{signal:j})}lt(this,Qs)?s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(s.removeAttribute("data-l10n-id"),s.textContent=lt(this,Er)),s.parentNode||e.append(s);const a=lt(this,Jr).getImageForAltText();a==null||a.setAttribute("aria-describedby",s.id)},Mt(Vr,xa,null),nn(Vr,"_l10n",null);let AltText=Vr;var ey,ou,ty,ny,ry,iy,sy,yp,To,au,$a,Go,rv,iv,w0;const a1=class a1{constructor({container:e,isPinchingDisabled:s=null,isPinchingStopped:a=null,onPinchStart:c=null,onPinching:d=null,onPinchEnd:g=null,signal:$}){Mt(this,Go);Mt(this,ey);Mt(this,ou,!1);Mt(this,ty,null);Mt(this,ny);Mt(this,ry);Mt(this,iy);Mt(this,sy);Mt(this,yp);Mt(this,To,null);Mt(this,au);Mt(this,$a,null);xt(this,ey,e),xt(this,ty,a),xt(this,ny,s),xt(this,ry,c),xt(this,iy,d),xt(this,sy,g),xt(this,au,new AbortController),xt(this,yp,AbortSignal.any([$,lt(this,au).signal])),e.addEventListener("touchstart",Pt(this,Go,rv).bind(this),{passive:!1,signal:lt(this,yp)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return shadow(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=lt(this,au))==null||e.abort(),xt(this,au,null)}};ey=new WeakMap,ou=new WeakMap,ty=new WeakMap,ny=new WeakMap,ry=new WeakMap,iy=new WeakMap,sy=new WeakMap,yp=new WeakMap,To=new WeakMap,au=new WeakMap,$a=new WeakMap,Go=new WeakSet,rv=function(e){var c,d,g;if((c=lt(this,ny))!=null&&c.call(this)||e.touches.length<2)return;if(!lt(this,$a)){xt(this,$a,new AbortController);const $=AbortSignal.any([lt(this,yp),lt(this,$a).signal]),j=lt(this,ey),tt={signal:$,passive:!1};j.addEventListener("touchmove",Pt(this,Go,iv).bind(this),tt),j.addEventListener("touchend",Pt(this,Go,w0).bind(this),tt),j.addEventListener("touchcancel",Pt(this,Go,w0).bind(this),tt),(d=lt(this,ry))==null||d.call(this)}if(stopEvent(e),e.touches.length!==2||(g=lt(this,ty))!=null&&g.call(this)){xt(this,To,null);return}let[s,a]=e.touches;s.identifier>a.identifier&&([s,a]=[a,s]),xt(this,To,{touch0X:s.screenX,touch0Y:s.screenY,touch1X:a.screenX,touch1Y:a.screenY})},iv=function(e){var ct;if(!lt(this,To)||e.touches.length!==2)return;let[s,a]=e.touches;s.identifier>a.identifier&&([s,a]=[a,s]);const{screenX:c,screenY:d}=s,{screenX:g,screenY:$}=a,j=lt(this,To),{touch0X:tt,touch0Y:et,touch1X:b,touch1Y:h}=j,_e=b-tt,nt=h-et,rt=g-c,it=$-d,st=Math.hypot(rt,it)||1,ot=Math.hypot(_e,nt)||1;if(!lt(this,ou)&&Math.abs(ot-st)<=a1.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(j.touch0X=c,j.touch0Y=d,j.touch1X=g,j.touch1Y=$,e.preventDefault(),!lt(this,ou)){xt(this,ou,!0);return}const at=[(c+g)/2,(d+$)/2];(ct=lt(this,iy))==null||ct.call(this,at,ot,st)},w0=function(e){var s;lt(this,$a).abort(),xt(this,$a,null),(s=lt(this,sy))==null||s.call(this),lt(this,To)&&(e.preventDefault(),xt(this,To,null),xt(this,ou,!1))};let TouchManager=a1;var lu,Is,or,bp,yl,oy,cu,Mr,uu,Eo,_l,ay,du,ss,ly,hu,Ao,to,_p,vp,ws,fu,cy,H_,Mn,x0,uy,T0,__,sv,ov,E0,v_,A0,av,lv,cv,D0,uv,S0,dv,hv,fv,C0,Dm;const Bn=class Bn{constructor(e){Mt(this,Mn);Mt(this,lu,null);Mt(this,Is,null);Mt(this,or,null);Mt(this,bp,!1);Mt(this,yl,null);Mt(this,oy,"");Mt(this,cu,!1);Mt(this,Mr,null);Mt(this,uu,null);Mt(this,Eo,null);Mt(this,_l,null);Mt(this,ay,"");Mt(this,du,!1);Mt(this,ss,null);Mt(this,ly,!1);Mt(this,hu,!1);Mt(this,Ao,!1);Mt(this,to,null);Mt(this,_p,0);Mt(this,vp,0);Mt(this,ws,null);Mt(this,fu,null);nn(this,"_editToolbar",null);nn(this,"_initialOptions",Object.create(null));nn(this,"_initialData",null);nn(this,"_isVisible",!0);nn(this,"_uiManager",null);nn(this,"_focusEventsAllowed",!0);Mt(this,cy,!1);Mt(this,H_,Bn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:s,rawDims:{pageWidth:a,pageHeight:c,pageX:d,pageY:g}}=this.parent.viewport;this.rotation=s,this.pageRotation=(360+s-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,c],this.pageTranslation=[d,g];const[$,j]=this.parentDimensions;this.x=e.x/$,this.y=e.y/j,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Bn.prototype._resizeWithKeyboard,s=AnnotationEditorUIManager.TRANSLATE_SMALL,a=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-s,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-a,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[s,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[a,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-s]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-a]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,s]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,a]}],[["Escape","mac+Escape"],Bn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const s=new FakeEditor({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});s.annotationElementId=e.annotationElementId,s.deleted=!0,s._uiManager.addToAnnotationStorage(s)}static initialize(e,s){if(Bn._l10n??(Bn._l10n=e),Bn._l10nResizer||(Bn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Bn._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);Bn._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,s){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,s){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return lt(this,cy)}set _isDraggable(e){var s;xt(this,cy,e),(s=this.div)==null||s.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,s]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*s/(e*2),this.y+=this.width*e/(s*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*s/(e*2),this.y-=this.width*e/(s*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=lt(this,H_)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):Pt(this,Mn,Dm).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(lt(this,du)?xt(this,du,!1):this.parent.setSelected(this))}focusout(e){var a;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const s=e.relatedTarget;s!=null&&s.closest(`#${this.id}`)||(e.preventDefault(),(a=this.parent)!=null&&a.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,s,a,c){const[d,g]=this.parentDimensions;[a,c]=this.screenToPageTranslation(a,c),this.x=(e+a)/d,this.y=(s+c)/g,this.fixAndSetPosition()}translate(e,s){Pt(this,Mn,x0).call(this,this.parentDimensions,e,s)}translateInPage(e,s){lt(this,ss)||xt(this,ss,[this.x,this.y,this.width,this.height]),Pt(this,Mn,x0).call(this,this.pageDimensions,e,s),this.div.scrollIntoView({block:"nearest"})}drag(e,s){lt(this,ss)||xt(this,ss,[this.x,this.y,this.width,this.height]);const{div:a,parentDimensions:[c,d]}=this;if(this.x+=e/c,this.y+=s/d,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:b,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,b,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:g,y:$}=this;const[j,tt]=this.getBaseTranslation();g+=j,$+=tt;const{style:et}=a;et.left=`${(100*g).toFixed(2)}%`,et.top=`${(100*$).toFixed(2)}%`,this._onTranslating(g,$),a.scrollIntoView({block:"nearest"})}_onTranslating(e,s){}_onTranslated(e,s){}get _hasBeenMoved(){return!!lt(this,ss)&&(lt(this,ss)[0]!==this.x||lt(this,ss)[1]!==this.y)}get _hasBeenResized(){return!!lt(this,ss)&&(lt(this,ss)[2]!==this.width||lt(this,ss)[3]!==this.height)}getBaseTranslation(){const[e,s]=this.parentDimensions,{_borderLineWidth:a}=Bn,c=a/e,d=a/s;switch(this.rotation){case 90:return[-c,d];case 180:return[c,d];case 270:return[c,-d];default:return[-c,-d]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:s},pageDimensions:[a,c]}=this;let{x:d,y:g,width:$,height:j}=this;if($*=a,j*=c,d*=a,g*=c,this._mustFixPosition)switch(e){case 0:d=Math.max(0,Math.min(a-$,d)),g=Math.max(0,Math.min(c-j,g));break;case 90:d=Math.max(0,Math.min(a-j,d)),g=Math.min(c,Math.max($,g));break;case 180:d=Math.min(a,Math.max($,d)),g=Math.min(c,Math.max(j,g));break;case 270:d=Math.min(a,Math.max(j,d)),g=Math.max(0,Math.min(c-$,g));break}this.x=d/=a,this.y=g/=c;const[tt,et]=this.getBaseTranslation();d+=tt,g+=et,s.left=`${(100*d).toFixed(2)}%`,s.top=`${(100*g).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,s){var a;return Pt(a=Bn,uy,T0).call(a,e,s,this.parentRotation)}pageTranslationToScreen(e,s){var a;return Pt(a=Bn,uy,T0).call(a,e,s,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[s,a]}=this;return[s*e,a*e]}setDims(e,s){const[a,c]=this.parentDimensions,{style:d}=this.div;d.width=`${(100*e/a).toFixed(2)}%`,lt(this,cu)||(d.height=`${(100*s/c).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:s,width:a}=e,c=a.endsWith("%"),d=!lt(this,cu)&&s.endsWith("%");if(c&&d)return;const[g,$]=this.parentDimensions;c||(e.width=`${(100*parseFloat(a)/g).toFixed(2)}%`),!lt(this,cu)&&!d&&(e.height=`${(100*parseFloat(s)/$).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=lt(this,or))==null||e.finish()}async addEditToolbar(){return this._editToolbar||lt(this,hu)?this._editToolbar:(this._editToolbar=new EditorToolbar(this),this.div.append(this._editToolbar.render()),lt(this,or)&&await this._editToolbar.addAltText(lt(this,or)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=lt(this,or))==null||e.destroy())}addContainer(e){var a;const s=(a=this._editToolbar)==null?void 0:a.div;s?s.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){lt(this,or)||(AltText.initialize(Bn._l10n),xt(this,or,new AltText(this)),lt(this,lu)&&(lt(this,or).data=lt(this,lu),xt(this,lu,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=lt(this,or))==null?void 0:e.data}set altTextData(e){lt(this,or)&&(lt(this,or).data=e)}get guessedAltText(){var e;return(e=lt(this,or))==null?void 0:e.guessedText}async setGuessedAltText(e){var s;await((s=lt(this,or))==null?void 0:s.setGuessedText(e))}serializeAltText(e){var s;return(s=lt(this,or))==null?void 0:s.serialize(e)}hasAltText(){return!!lt(this,or)&&!lt(this,or).isEmpty()}hasAltTextData(){var e;return((e=lt(this,or))==null?void 0:e.hasData())??!1}render(){var d;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=lt(this,bp)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),Pt(this,Mn,S0).call(this);const[e,s]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*s/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/s).toFixed(2)}%`);const[a,c]=this.getInitialTranslation();return this.translate(a,c),bindEvents(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(lt(this,fu)||xt(this,fu,new TouchManager({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:Pt(this,Mn,av).bind(this),onPinching:Pt(this,Mn,lv).bind(this),onPinchEnd:Pt(this,Mn,cv).bind(this),signal:this._uiManager._signal}))),(d=this._uiManager._editorUndoBar)==null||d.hide(),this.div}pointerdown(e){const{isMac:s}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&s){e.preventDefault();return}if(xt(this,du,!0),this._isDraggable){Pt(this,Mn,uv).call(this,e);return}Pt(this,Mn,D0).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){lt(this,to)&&clearTimeout(lt(this,to)),xt(this,to,setTimeout(()=>{var e;xt(this,to,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,s,a){e.changeParent(this),this.x=s,this.y=a,this.fixAndSetPosition(),this._onTranslated()}getRect(e,s,a=this.rotation){const c=this.parentScale,[d,g]=this.pageDimensions,[$,j]=this.pageTranslation,tt=e/c,et=s/c,b=this.x*d,h=this.y*g,_e=this.width*d,nt=this.height*g;switch(a){case 0:return[b+tt+$,g-h-et-nt+j,b+tt+_e+$,g-h-et+j];case 90:return[b+et+$,g-h+tt+j,b+et+nt+$,g-h+tt+_e+j];case 180:return[b-tt-_e+$,g-h+et+j,b-tt+$,g-h+et+nt+j];case 270:return[b-et-nt+$,g-h-tt-_e+j,b-et+$,g-h-tt+j];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,s){const[a,c,d,g]=e,$=d-a,j=g-c;switch(this.rotation){case 0:return[a,s-g,$,j];case 90:return[a,s-c,j,$];case 180:return[d,s-c,$,j];case 270:return[d,s-g,j,$];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){xt(this,hu,!0)}disableEditMode(){xt(this,hu,!1)}isInEditMode(){return lt(this,hu)}shouldGetKeyboardEvents(){return lt(this,Ao)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:s,bottom:a,right:c}=this.getClientDimensions(),{innerHeight:d,innerWidth:g}=window;return s<g&&c>0&&e<d&&a>0}rebuild(){Pt(this,Mn,S0).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,s=null){unreachable("An editor must be serializable")}static async deserialize(e,s,a){const c=new this.prototype.constructor({parent:s,id:s.getNextId(),uiManager:a});c.rotation=e.rotation,xt(c,lu,e.accessibilityData);const[d,g]=c.pageDimensions,[$,j,tt,et]=c.getRectInCurrentCoords(e.rect,g);return c.x=$/d,c.y=j/g,c.width=tt/d,c.height=et/g,c}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,s;if((e=lt(this,_l))==null||e.abort(),xt(this,_l,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),lt(this,to)&&(clearTimeout(lt(this,to)),xt(this,to,null)),Pt(this,Mn,Dm).call(this),this.removeEditToolbar(),lt(this,ws)){for(const a of lt(this,ws).values())clearTimeout(a);xt(this,ws,null)}this.parent=null,(s=lt(this,fu))==null||s.destroy(),xt(this,fu,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Pt(this,Mn,sv).call(this),lt(this,Mr).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),xt(this,Eo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const s=lt(this,Mr).children;if(!lt(this,Is)){xt(this,Is,Array.from(s));const g=Pt(this,Mn,dv).bind(this),$=Pt(this,Mn,hv).bind(this),j=this._uiManager._signal;for(const tt of lt(this,Is)){const et=tt.getAttribute("data-resizer-name");tt.setAttribute("role","spinbutton"),tt.addEventListener("keydown",g,{signal:j}),tt.addEventListener("blur",$,{signal:j}),tt.addEventListener("focus",Pt(this,Mn,fv).bind(this,et),{signal:j}),tt.setAttribute("data-l10n-id",Bn._l10nResizer[et])}}const a=lt(this,Is)[0];let c=0;for(const g of s){if(g===a)break;c++}const d=(360-this.rotation+this.parentRotation)%360/90*(lt(this,Is).length/4);if(d!==c){if(d<c)for(let $=0;$<c-d;$++)lt(this,Mr).append(lt(this,Mr).firstChild);else if(d>c)for(let $=0;$<d-c;$++)lt(this,Mr).firstChild.before(lt(this,Mr).lastChild);let g=0;for(const $ of s){const tt=lt(this,Is)[g++].getAttribute("data-resizer-name");$.setAttribute("data-l10n-id",Bn._l10nResizer[tt])}}Pt(this,Mn,C0).call(this,0),xt(this,Ao,!0),lt(this,Mr).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,s){lt(this,Ao)&&Pt(this,Mn,A0).call(this,lt(this,ay),{deltaX:e,deltaY:s,fromKeyboard:!0})}_stopResizingWithKeyboard(){Pt(this,Mn,Dm).call(this),this.div.focus()}select(){var e,s,a;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var c,d;(c=this.div)!=null&&c.classList.contains("selectedEditor")&&((d=this._editToolbar)==null||d.show())});return}(s=this._editToolbar)==null||s.show(),(a=lt(this,or))==null||a.toggleAltTextBadge(!1)}unselect(){var e,s,a,c,d;(e=lt(this,Mr))==null||e.classList.add("hidden"),(s=this.div)==null||s.classList.remove("selectedEditor"),(a=this.div)!=null&&a.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(c=this._editToolbar)==null||c.hide(),(d=lt(this,or))==null||d.toggleAltTextBadge(!0)}updateParams(e,s){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return lt(this,ly)}set isEditing(e){xt(this,ly,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,s){xt(this,cu,!0);const a=e/s,{style:c}=this.div;c.aspectRatio=a,c.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,s=!1){if(s){lt(this,ws)||xt(this,ws,new Map);const{action:a}=e;let c=lt(this,ws).get(a);c&&clearTimeout(c),c=setTimeout(()=>{this._reportTelemetry(e),lt(this,ws).delete(a),lt(this,ws).size===0&&xt(this,ws,null)},Bn._telemetryTimeout),lt(this,ws).set(a,c);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),xt(this,bp,!1)}disable(){this.div&&(this.div.tabIndex=-1),xt(this,bp,!0)}renderAnnotationElement(e){let s=e.container.querySelector(".annotationContent");if(!s)s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),e.container.prepend(s);else if(s.nodeName==="CANVAS"){const a=s;s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),a.before(s)}return s}resetAnnotationElement(e){const{firstChild:s}=e.container;(s==null?void 0:s.nodeName)==="DIV"&&s.classList.contains("annotationContent")&&s.remove()}};lu=new WeakMap,Is=new WeakMap,or=new WeakMap,bp=new WeakMap,yl=new WeakMap,oy=new WeakMap,cu=new WeakMap,Mr=new WeakMap,uu=new WeakMap,Eo=new WeakMap,_l=new WeakMap,ay=new WeakMap,du=new WeakMap,ss=new WeakMap,ly=new WeakMap,hu=new WeakMap,Ao=new WeakMap,to=new WeakMap,_p=new WeakMap,vp=new WeakMap,ws=new WeakMap,fu=new WeakMap,cy=new WeakMap,H_=new WeakMap,Mn=new WeakSet,x0=function([e,s],a,c){[a,c]=this.screenToPageTranslation(a,c),this.x+=a/e,this.y+=c/s,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},uy=new WeakSet,T0=function(e,s,a){switch(a){case 90:return[s,-e];case 180:return[-e,-s];case 270:return[-s,e];default:return[e,s]}},__=function(e){switch(e){case 90:{const[s,a]=this.pageDimensions;return[0,-s/a,a/s,0]}case 180:return[-1,0,0,-1];case 270:{const[s,a]=this.pageDimensions;return[0,s/a,-a/s,0]}default:return[1,0,0,1]}},sv=function(){if(lt(this,Mr))return;xt(this,Mr,document.createElement("div")),lt(this,Mr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],s=this._uiManager._signal;for(const a of e){const c=document.createElement("div");lt(this,Mr).append(c),c.classList.add("resizer",a),c.setAttribute("data-resizer-name",a),c.addEventListener("pointerdown",Pt(this,Mn,ov).bind(this,a),{signal:s}),c.addEventListener("contextmenu",noContextMenu,{signal:s}),c.tabIndex=-1}this.div.prepend(lt(this,Mr))},ov=function(e,s){var et;s.preventDefault();const{isMac:a}=util_FeatureTest.platform;if(s.button!==0||s.ctrlKey&&a)return;(et=lt(this,or))==null||et.toggle(!1);const c=this._isDraggable;this._isDraggable=!1,xt(this,uu,[s.screenX,s.screenY]);const d=new AbortController,g=this._uiManager.combinedSignal(d);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",Pt(this,Mn,A0).bind(this,e),{passive:!0,capture:!0,signal:g}),window.addEventListener("touchmove",stopEvent,{passive:!1,signal:g}),window.addEventListener("contextmenu",noContextMenu,{signal:g}),xt(this,Eo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const $=this.parent.div.style.cursor,j=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(s.target).cursor;const tt=()=>{var b;d.abort(),this.parent.togglePointerEvents(!0),(b=lt(this,or))==null||b.toggle(!0),this._isDraggable=c,this.parent.div.style.cursor=$,this.div.style.cursor=j,Pt(this,Mn,v_).call(this)};window.addEventListener("pointerup",tt,{signal:g}),window.addEventListener("blur",tt,{signal:g})},E0=function(e,s,a,c){this.width=a,this.height=c,this.x=e,this.y=s;const[d,g]=this.parentDimensions;this.setDims(d*a,g*c),this.fixAndSetPosition(),this._onResized()},v_=function(){if(!lt(this,Eo))return;const{savedX:e,savedY:s,savedWidth:a,savedHeight:c}=lt(this,Eo);xt(this,Eo,null);const d=this.x,g=this.y,$=this.width,j=this.height;d===e&&g===s&&$===a&&j===c||this.addCommands({cmd:Pt(this,Mn,E0).bind(this,d,g,$,j),undo:Pt(this,Mn,E0).bind(this,e,s,a,c),mustExec:!0})},A0=function(e,s){const[a,c]=this.parentDimensions,d=this.x,g=this.y,$=this.width,j=this.height,tt=Bn.MIN_SIZE/a,et=Bn.MIN_SIZE/c,b=Pt(this,Mn,__).call(this,this.rotation),h=(mt,_t)=>[b[0]*mt+b[2]*_t,b[1]*mt+b[3]*_t],_e=Pt(this,Mn,__).call(this,360-this.rotation),nt=(mt,_t)=>[_e[0]*mt+_e[2]*_t,_e[1]*mt+_e[3]*_t];let rt,it,st=!1,ot=!1;switch(e){case"topLeft":st=!0,rt=(mt,_t)=>[0,0],it=(mt,_t)=>[mt,_t];break;case"topMiddle":rt=(mt,_t)=>[mt/2,0],it=(mt,_t)=>[mt/2,_t];break;case"topRight":st=!0,rt=(mt,_t)=>[mt,0],it=(mt,_t)=>[0,_t];break;case"middleRight":ot=!0,rt=(mt,_t)=>[mt,_t/2],it=(mt,_t)=>[0,_t/2];break;case"bottomRight":st=!0,rt=(mt,_t)=>[mt,_t],it=(mt,_t)=>[0,0];break;case"bottomMiddle":rt=(mt,_t)=>[mt/2,_t],it=(mt,_t)=>[mt/2,0];break;case"bottomLeft":st=!0,rt=(mt,_t)=>[0,_t],it=(mt,_t)=>[mt,0];break;case"middleLeft":ot=!0,rt=(mt,_t)=>[0,_t/2],it=(mt,_t)=>[mt,_t/2];break}const at=rt($,j),ct=it($,j);let ut=h(...ct);const dt=Bn._round(d+ut[0]),ht=Bn._round(g+ut[1]);let pt=1,ft=1,bt,Ct;if(s.fromKeyboard)({deltaX:bt,deltaY:Ct}=s);else{const{screenX:mt,screenY:_t}=s,[St,wt]=lt(this,uu);[bt,Ct]=this.screenToPageTranslation(mt-St,_t-wt),lt(this,uu)[0]=mt,lt(this,uu)[1]=_t}if([bt,Ct]=nt(bt/a,Ct/c),st){const mt=Math.hypot($,j);pt=ft=Math.max(Math.min(Math.hypot(ct[0]-at[0]-bt,ct[1]-at[1]-Ct)/mt,1/$,1/j),tt/$,et/j)}else ot?pt=Math.max(tt,Math.min(1,Math.abs(ct[0]-at[0]-bt)))/$:ft=Math.max(et,Math.min(1,Math.abs(ct[1]-at[1]-Ct)))/j;const yt=Bn._round($*pt),Et=Bn._round(j*ft);ut=h(...it(yt,Et));const gt=dt-ut[0],At=ht-ut[1];lt(this,ss)||xt(this,ss,[this.x,this.y,this.width,this.height]),this.width=yt,this.height=Et,this.x=gt,this.y=At,this.setDims(a*yt,c*Et),this.fixAndSetPosition(),this._onResizing()},av=function(){var e;xt(this,Eo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=lt(this,or))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},lv=function(e,s,a){let d=.7*(a/s)+1-.7;if(d===1)return;const g=Pt(this,Mn,__).call(this,this.rotation),$=(dt,ht)=>[g[0]*dt+g[2]*ht,g[1]*dt+g[3]*ht],[j,tt]=this.parentDimensions,et=this.x,b=this.y,h=this.width,_e=this.height,nt=Bn.MIN_SIZE/j,rt=Bn.MIN_SIZE/tt;d=Math.max(Math.min(d,1/h,1/_e),nt/h,rt/_e);const it=Bn._round(h*d),st=Bn._round(_e*d);if(it===h&&st===_e)return;lt(this,ss)||xt(this,ss,[et,b,h,_e]);const ot=$(h/2,_e/2),at=Bn._round(et+ot[0]),ct=Bn._round(b+ot[1]),ut=$(it/2,st/2);this.x=at-ut[0],this.y=ct-ut[1],this.width=it,this.height=st,this.setDims(j*it,tt*st),this.fixAndSetPosition(),this._onResizing()},cv=function(){var e;(e=lt(this,or))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),Pt(this,Mn,v_).call(this)},D0=function(e){const{isMac:s}=util_FeatureTest.platform;e.ctrlKey&&!s||e.shiftKey||e.metaKey&&s?this.parent.toggleSelected(this):this.parent.setSelected(this)},uv=function(e){const{isSelected:s}=this;this._uiManager.setUpDragSession();let a=!1;const c=new AbortController,d=this._uiManager.combinedSignal(c),g={capture:!0,passive:!1,signal:d},$=tt=>{c.abort(),xt(this,yl,null),xt(this,du,!1),this._uiManager.endDragSession()||Pt(this,Mn,D0).call(this,tt),a&&this._onStopDragging()};s&&(xt(this,_p,e.clientX),xt(this,vp,e.clientY),xt(this,yl,e.pointerId),xt(this,oy,e.pointerType),window.addEventListener("pointermove",tt=>{a||(a=!0,this._onStartDragging());const{clientX:et,clientY:b,pointerId:h}=tt;if(h!==lt(this,yl)){stopEvent(tt);return}const[_e,nt]=this.screenToPageTranslation(et-lt(this,_p),b-lt(this,vp));xt(this,_p,et),xt(this,vp,b),this._uiManager.dragSelectedEditors(_e,nt)},g),window.addEventListener("touchmove",stopEvent,g),window.addEventListener("pointerdown",tt=>{tt.pointerType===lt(this,oy)&&(lt(this,fu)||tt.isPrimary)&&$(tt),stopEvent(tt)},g));const j=tt=>{if(!lt(this,yl)||lt(this,yl)===tt.pointerId){$(tt);return}stopEvent(tt)};window.addEventListener("pointerup",j,{signal:d}),window.addEventListener("blur",j,{signal:d})},S0=function(){if(lt(this,_l)||!this.div)return;xt(this,_l,new AbortController);const e=this._uiManager.combinedSignal(lt(this,_l));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},dv=function(e){Bn._resizerKeyboardManager.exec(this,e)},hv=function(e){var s;lt(this,Ao)&&((s=e.relatedTarget)==null?void 0:s.parentNode)!==lt(this,Mr)&&Pt(this,Mn,Dm).call(this)},fv=function(e){xt(this,ay,lt(this,Ao)?e:"")},C0=function(e){if(lt(this,Is))for(const s of lt(this,Is))s.tabIndex=e},Dm=function(){xt(this,Ao,!1),Pt(this,Mn,C0).call(this,-1),Pt(this,Mn,v_).call(this)},Mt(Bn,uy),nn(Bn,"_l10n",null),nn(Bn,"_l10nResizer",null),nn(Bn,"_borderLineWidth",-1),nn(Bn,"_colorManager",new ColorManager),nn(Bn,"_zIndex",1),nn(Bn,"_telemetryTimeout",1e3);let AnnotationEditor=Bn;class FakeEditor extends AnnotationEditor{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(e){this.h1=e?e&4294967295:SEED,this.h2=e?e&4294967295:SEED}update(e){let s,a;if(typeof e=="string"){s=new Uint8Array(e.length*2),a=0;for(let rt=0,it=e.length;rt<it;rt++){const st=e.charCodeAt(rt);st<=255?s[a++]=st:(s[a++]=st>>>8,s[a++]=st&255)}}else if(ArrayBuffer.isView(e))s=e.slice(),a=s.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const c=a>>2,d=a-c*4,g=new Uint32Array(s.buffer,0,c);let $=0,j=0,tt=this.h1,et=this.h2;const b=3432918353,h=461845907,_e=b&MASK_LOW,nt=h&MASK_LOW;for(let rt=0;rt<c;rt++)rt&1?($=g[rt],$=$*b&MASK_HIGH|$*_e&MASK_LOW,$=$<<15|$>>>17,$=$*h&MASK_HIGH|$*nt&MASK_LOW,tt^=$,tt=tt<<13|tt>>>19,tt=tt*5+3864292196):(j=g[rt],j=j*b&MASK_HIGH|j*_e&MASK_LOW,j=j<<15|j>>>17,j=j*h&MASK_HIGH|j*nt&MASK_LOW,et^=j,et=et<<13|et>>>19,et=et*5+3864292196);switch($=0,d){case 3:$^=s[c*4+2]<<16;case 2:$^=s[c*4+1]<<8;case 1:$^=s[c*4],$=$*b&MASK_HIGH|$*_e&MASK_LOW,$=$<<15|$>>>17,$=$*h&MASK_HIGH|$*nt&MASK_LOW,c&1?tt^=$:et^=$}this.h1=tt,this.h2=et}hexdigest(){let e=this.h1,s=this.h2;return e^=s>>>1,e=e*3981806797&MASK_HIGH|e*36045&MASK_LOW,s=s*4283543511&MASK_HIGH|((s<<16|e>>>16)*2950163797&MASK_HIGH)>>>16,e^=s>>>1,e=e*444984403&MASK_HIGH|e*60499&MASK_LOW,s=s*3301882366&MASK_HIGH|((s<<16|e>>>16)*3120437893&MASK_HIGH)>>>16,e^=s>>>1,(e>>>0).toString(16).padStart(8,"0")+(s>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var pu,gu,Ar,X_,pv;class AnnotationStorage{constructor(){Mt(this,X_);Mt(this,pu,!1);Mt(this,gu,null);Mt(this,Ar,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,s){const a=lt(this,Ar).get(e);return a===void 0?s:Object.assign(s,a)}getRawValue(e){return lt(this,Ar).get(e)}remove(e){if(lt(this,Ar).delete(e),lt(this,Ar).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const s of lt(this,Ar).values())if(s instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,s){const a=lt(this,Ar).get(e);let c=!1;if(a!==void 0)for(const[d,g]of Object.entries(s))a[d]!==g&&(c=!0,a[d]=g);else c=!0,lt(this,Ar).set(e,s);c&&Pt(this,X_,pv).call(this),s instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(s.constructor._type)}has(e){return lt(this,Ar).has(e)}getAll(){return lt(this,Ar).size>0?objectFromMap(lt(this,Ar)):null}setAll(e){for(const[s,a]of Object.entries(e))this.setValue(s,a)}get size(){return lt(this,Ar).size}resetModified(){lt(this,pu)&&(xt(this,pu,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(lt(this,Ar).size===0)return SerializableEmpty;const e=new Map,s=new MurmurHash3_64,a=[],c=Object.create(null);let d=!1;for(const[g,$]of lt(this,Ar)){const j=$ instanceof AnnotationEditor?$.serialize(!1,c):$;j&&(e.set(g,j),s.update(`${g}:${JSON.stringify(j)}`),d||(d=!!j.bitmap))}if(d)for(const g of e.values())g.bitmap&&a.push(g.bitmap);return e.size>0?{map:e,hash:s.hexdigest(),transfer:a}:SerializableEmpty}get editorStats(){let e=null;const s=new Map;for(const a of lt(this,Ar).values()){if(!(a instanceof AnnotationEditor))continue;const c=a.telemetryFinalData;if(!c)continue;const{type:d}=c;s.has(d)||s.set(d,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const g=e[d]||(e[d]=new Map);for(const[$,j]of Object.entries(c)){if($==="type")continue;let tt=g.get($);tt||(tt=new Map,g.set($,tt));const et=tt.get(j)??0;tt.set(j,et+1)}}for(const[a,c]of s)e[a]=c.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){xt(this,gu,null)}get modifiedIds(){if(lt(this,gu))return lt(this,gu);const e=[];for(const s of lt(this,Ar).values())!(s instanceof AnnotationEditor)||!s.annotationElementId||!s.serialize()||e.push(s.annotationElementId);return xt(this,gu,{ids:new Set(e),hash:e.join(",")})}}pu=new WeakMap,gu=new WeakMap,Ar=new WeakMap,X_=new WeakSet,pv=function(){lt(this,pu)||(xt(this,pu,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var dy;class PrintAnnotationStorage extends AnnotationStorage{constructor(s){super();Mt(this,dy);const{map:a,hash:c,transfer:d}=s.serializable,g=structuredClone(a,d?{transfer:d}:null);xt(this,dy,{map:g,hash:c,transfer:d})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return lt(this,dy)}get modifiedIds(){return shadow(this,"modifiedIds",{ids:new Set,hash:""})}}dy=new WeakMap;var wp;class FontLoader{constructor({ownerDocument:e=globalThis.document,styleElement:s=null}){Mt(this,wp,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const s=this.styleElement.sheet;s.insertRule(e,s.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),lt(this,wp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:s}){if(!(!e||lt(this,wp).has(e.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:c,style:d}=e,g=new FontFace(a,c,d);this.addNativeFontFace(g);try{await g.load(),lt(this,wp).add(a),s==null||s(e)}catch{warn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(g)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const a=e.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(c){throw warn(`Failed to load font '${a.family}': '${c}'.`),e.disableFontFace=!0,c}}return}const s=e.createFontFaceRule();if(s){if(this.insertRule(s),this.isSyncFontLoadingSupported)return;await new Promise(a=>{const c=this._queueLoadingCallback(a);this._prepareFontLoadEvent(e,c)})}}get isFontLoadingAPISupported(){var s;const e=!!((s=this._document)!=null&&s.fonts);return shadow(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),shadow(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function s(){for(assert(!c.done,"completeRequest() cannot be called twice."),c.done=!0;a.length>0&&a[0].done;){const d=a.shift();setTimeout(d.callback,0)}}const{loadingRequests:a}=this,c={done:!1,complete:s,callback:e};return a.push(c),c}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,s){function a(ct,ut){return ct.charCodeAt(ut)<<24|ct.charCodeAt(ut+1)<<16|ct.charCodeAt(ut+2)<<8|ct.charCodeAt(ut+3)&255}function c(ct,ut,dt,ht){const pt=ct.substring(0,ut),ft=ct.substring(ut+dt);return pt+ht+ft}let d,g;const $=this._document.createElement("canvas");$.width=1,$.height=1;const j=$.getContext("2d");let tt=0;function et(ct,ut){if(++tt>30){warn("Load test font never loaded."),ut();return}if(j.font="30px "+ct,j.fillText(".",0,20),j.getImageData(0,0,1,1).data[3]>0){ut();return}setTimeout(et.bind(null,ct,ut))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=c(h,976,b.length,b);const nt=16,rt=1482184792;let it=a(h,nt);for(d=0,g=b.length-3;d<g;d+=4)it=it-rt+a(b,d)|0;d<b.length&&(it=it-rt+a(b+"XXX",d)|0),h=c(h,nt,4,string32(it));const st=`url(data:font/opentype;base64,${btoa(h)});`,ot=`@font-face {font-family:"${b}";src:${st}}`;this.insertRule(ot);const at=this._document.createElement("div");at.style.visibility="hidden",at.style.width=at.style.height="10px",at.style.position="absolute",at.style.top=at.style.left="0px";for(const ct of[e.loadedName,b]){const ut=this._document.createElement("span");ut.textContent="Hi",ut.style.fontFamily=ct,at.append(ut)}this._document.body.append(at),et(b,()=>{at.remove(),s.complete()})}}wp=new WeakMap;class FontFaceObject{constructor(e,{disableFontFace:s=!1,fontExtraProperties:a=!1,inspectFont:c=null}){this.compiledGlyphs=Object.create(null);for(const d in e)this[d]=e[d];this.disableFontFace=s===!0,this.fontExtraProperties=a===!0,this._inspectFont=c}createNativeFontFace(){var s;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const a={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(a.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,a)}return(s=this._inspectFont)==null||s.call(this,this),e}createFontFaceRule(){var a;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;let s;if(!this.cssFontInfo)s=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),s=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${e}}`}return(a=this._inspectFont)==null||a.call(this,this,e),s}getPathGenerator(e,s){if(this.compiledGlyphs[s]!==void 0)return this.compiledGlyphs[s];const a=this.loadedName+"_path_"+s;let c;try{c=e.get(a)}catch(g){warn(`getPathGenerator - ignoring character: "${g}".`)}const d=new Path2D(c||"");return this.fontExtraProperties||e.delete(a),this.compiledGlyphs[s]=d}}const CallbackKind={DATA:1,ERROR:2},StreamKind={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function onFn(){}function wrapReason(o){if(o instanceof AbortException||o instanceof InvalidPDFException||o instanceof MissingPDFException||o instanceof PasswordException||o instanceof UnexpectedResponseException||o instanceof UnknownErrorException)return o;switch(o instanceof Error||typeof o=="object"&&o!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),o.name){case"AbortException":return new AbortException(o.message);case"InvalidPDFException":return new InvalidPDFException(o.message);case"MissingPDFException":return new MissingPDFException(o.message);case"PasswordException":return new PasswordException(o.message,o.code);case"UnexpectedResponseException":return new UnexpectedResponseException(o.message,o.status);case"UnknownErrorException":return new UnknownErrorException(o.message,o.details)}return new UnknownErrorException(o.message,o.toString())}var xp,Cs,gv,mv,yv,w_;class MessageHandler{constructor(e,s,a){Mt(this,Cs);Mt(this,xp,new AbortController);this.sourceName=e,this.targetName=s,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),a.addEventListener("message",Pt(this,Cs,gv).bind(this),{signal:lt(this,xp).signal})}on(e,s){const a=this.actionHandler;if(a[e])throw new Error(`There is already an actionName called "${e}"`);a[e]=s}send(e,s,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:s},a)}sendWithPromise(e,s,a){const c=this.callbackId++,d=Promise.withResolvers();this.callbackCapabilities[c]=d;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:c,data:s},a)}catch(g){d.reject(g)}return d.promise}sendWithStream(e,s,a,c){const d=this.streamId++,g=this.sourceName,$=this.targetName,j=this.comObj;return new ReadableStream({start:tt=>{const et=Promise.withResolvers();return this.streamControllers[d]={controller:tt,startCall:et,pullCall:null,cancelCall:null,isClosed:!1},j.postMessage({sourceName:g,targetName:$,action:e,streamId:d,data:s,desiredSize:tt.desiredSize},c),et.promise},pull:tt=>{const et=Promise.withResolvers();return this.streamControllers[d].pullCall=et,j.postMessage({sourceName:g,targetName:$,stream:StreamKind.PULL,streamId:d,desiredSize:tt.desiredSize}),et.promise},cancel:tt=>{assert(tt instanceof Error,"cancel must have a valid reason");const et=Promise.withResolvers();return this.streamControllers[d].cancelCall=et,this.streamControllers[d].isClosed=!0,j.postMessage({sourceName:g,targetName:$,stream:StreamKind.CANCEL,streamId:d,reason:wrapReason(tt)}),et.promise}},a)}destroy(){var e;(e=lt(this,xp))==null||e.abort(),xt(this,xp,null)}}xp=new WeakMap,Cs=new WeakSet,gv=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){Pt(this,Cs,yv).call(this,e);return}if(e.callback){const a=e.callbackId,c=this.callbackCapabilities[a];if(!c)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],e.callback===CallbackKind.DATA)c.resolve(e.data);else if(e.callback===CallbackKind.ERROR)c.reject(wrapReason(e.reason));else throw new Error("Unexpected callback case");return}const s=this.actionHandler[e.action];if(!s)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const a=this.sourceName,c=e.sourceName,d=this.comObj;Promise.try(s,e.data).then(function(g){d.postMessage({sourceName:a,targetName:c,callback:CallbackKind.DATA,callbackId:e.callbackId,data:g})},function(g){d.postMessage({sourceName:a,targetName:c,callback:CallbackKind.ERROR,callbackId:e.callbackId,reason:wrapReason(g)})});return}if(e.streamId){Pt(this,Cs,mv).call(this,e);return}s(e.data)},mv=function(e){const s=e.streamId,a=this.sourceName,c=e.sourceName,d=this.comObj,g=this,$=this.actionHandler[e.action],j={enqueue(tt,et=1,b){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=et,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),d.postMessage({sourceName:a,targetName:c,stream:StreamKind.ENQUEUE,streamId:s,chunk:tt},b)},close(){this.isCancelled||(this.isCancelled=!0,d.postMessage({sourceName:a,targetName:c,stream:StreamKind.CLOSE,streamId:s}),delete g.streamSinks[s])},error(tt){assert(tt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,d.postMessage({sourceName:a,targetName:c,stream:StreamKind.ERROR,streamId:s,reason:wrapReason(tt)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};j.sinkCapability.resolve(),j.ready=j.sinkCapability.promise,this.streamSinks[s]=j,Promise.try($,e.data,j).then(function(){d.postMessage({sourceName:a,targetName:c,stream:StreamKind.START_COMPLETE,streamId:s,success:!0})},function(tt){d.postMessage({sourceName:a,targetName:c,stream:StreamKind.START_COMPLETE,streamId:s,reason:wrapReason(tt)})})},yv=function(e){const s=e.streamId,a=this.sourceName,c=e.sourceName,d=this.comObj,g=this.streamControllers[s],$=this.streamSinks[s];switch(e.stream){case StreamKind.START_COMPLETE:e.success?g.startCall.resolve():g.startCall.reject(wrapReason(e.reason));break;case StreamKind.PULL_COMPLETE:e.success?g.pullCall.resolve():g.pullCall.reject(wrapReason(e.reason));break;case StreamKind.PULL:if(!$){d.postMessage({sourceName:a,targetName:c,stream:StreamKind.PULL_COMPLETE,streamId:s,success:!0});break}$.desiredSize<=0&&e.desiredSize>0&&$.sinkCapability.resolve(),$.desiredSize=e.desiredSize,Promise.try($.onPull||onFn).then(function(){d.postMessage({sourceName:a,targetName:c,stream:StreamKind.PULL_COMPLETE,streamId:s,success:!0})},function(tt){d.postMessage({sourceName:a,targetName:c,stream:StreamKind.PULL_COMPLETE,streamId:s,reason:wrapReason(tt)})});break;case StreamKind.ENQUEUE:if(assert(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(e.chunk);break;case StreamKind.CLOSE:if(assert(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),Pt(this,Cs,w_).call(this,g,s);break;case StreamKind.ERROR:assert(g,"error should have stream controller"),g.controller.error(wrapReason(e.reason)),Pt(this,Cs,w_).call(this,g,s);break;case StreamKind.CANCEL_COMPLETE:e.success?g.cancelCall.resolve():g.cancelCall.reject(wrapReason(e.reason)),Pt(this,Cs,w_).call(this,g,s);break;case StreamKind.CANCEL:if(!$)break;const j=wrapReason(e.reason);Promise.try($.onCancel||onFn,j).then(function(){d.postMessage({sourceName:a,targetName:c,stream:StreamKind.CANCEL_COMPLETE,streamId:s,success:!0})},function(tt){d.postMessage({sourceName:a,targetName:c,stream:StreamKind.CANCEL_COMPLETE,streamId:s,reason:wrapReason(tt)})}),$.sinkCapability.reject(j),$.isCancelled=!0,delete this.streamSinks[s];break;default:throw new Error("Unexpected stream case")}},w_=async function(e,s){var a,c,d;await Promise.allSettled([(a=e.startCall)==null?void 0:a.promise,(c=e.pullCall)==null?void 0:c.promise,(d=e.cancelCall)==null?void 0:d.promise]),delete this.streamControllers[s]};var hy;class BaseCanvasFactory{constructor({enableHWA:e=!1}){Mt(this,hy,!1);xt(this,hy,e)}create(e,s){if(e<=0||s<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(e,s);return{canvas:a,context:a.getContext("2d",{willReadFrequently:!lt(this,hy)})}}reset(e,s,a){if(!e.canvas)throw new Error("Canvas is not specified");if(s<=0||a<=0)throw new Error("Invalid canvas size");e.canvas.width=s,e.canvas.height=a}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,s){unreachable("Abstract method `_createCanvas` called.")}}hy=new WeakMap;class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:e=globalThis.document,enableHWA:s=!1}){super({enableHWA:s}),this._document=e}_createCanvas(e,s){const a=this._document.createElement("canvas");return a.width=e,a.height=s,a}}class BaseCMapReaderFactory{constructor({baseUrl:e=null,isCompressed:s=!0}){this.baseUrl=e,this.isCompressed=s}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const s=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(s).then(a=>({cMapData:a,isCompressed:this.isCompressed})).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${s}`)})}async _fetch(e){unreachable("Abstract method `_fetch` called.")}}class DOMCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(e){const s=await fetchData(e,this.isCompressed?"arraybuffer":"text");return s instanceof ArrayBuffer?new Uint8Array(s):stringToBytes(s)}}class BaseFilterFactory{addFilter(e){return"none"}addHCMFilter(e,s){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,s,a,c,d){return"none"}destroy(e=!1){}}var mu,Tp,Do,So,$r,yu,bu,wn,Rr,Sm,_f,x_,ep,bv,k0,tp,Cm,km,M0,Mm;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:s,ownerDocument:a=globalThis.document}){super();Mt(this,wn);Mt(this,mu);Mt(this,Tp);Mt(this,Do);Mt(this,So);Mt(this,$r);Mt(this,yu);Mt(this,bu,0);xt(this,So,s),xt(this,$r,a)}addFilter(s){if(!s)return"none";let a=lt(this,wn,Rr).get(s);if(a)return a;const[c,d,g]=Pt(this,wn,x_).call(this,s),$=s.length===1?c:`${c}${d}${g}`;if(a=lt(this,wn,Rr).get($),a)return lt(this,wn,Rr).set(s,a),a;const j=`g_${lt(this,So)}_transfer_map_${zr(this,bu)._++}`,tt=Pt(this,wn,ep).call(this,j);lt(this,wn,Rr).set(s,tt),lt(this,wn,Rr).set($,tt);const et=Pt(this,wn,tp).call(this,j);return Pt(this,wn,km).call(this,c,d,g,et),tt}addHCMFilter(s,a){var nt;const c=`${s}-${a}`,d="base";let g=lt(this,wn,Sm).get(d);if((g==null?void 0:g.key)===c||(g?((nt=g.filter)==null||nt.remove(),g.key=c,g.url="none",g.filter=null):(g={key:c,url:"none",filter:null},lt(this,wn,Sm).set(d,g)),!s||!a))return g.url;const $=Pt(this,wn,Mm).call(this,s);s=Util.makeHexColor(...$);const j=Pt(this,wn,Mm).call(this,a);if(a=Util.makeHexColor(...j),lt(this,wn,_f).style.color="",s==="#000000"&&a==="#ffffff"||s===a)return g.url;const tt=new Array(256);for(let rt=0;rt<=255;rt++){const it=rt/255;tt[rt]=it<=.03928?it/12.92:((it+.055)/1.055)**2.4}const et=tt.join(","),b=`g_${lt(this,So)}_hcm_filter`,h=g.filter=Pt(this,wn,tp).call(this,b);Pt(this,wn,km).call(this,et,et,et,h),Pt(this,wn,k0).call(this,h);const _e=(rt,it)=>{const st=$[rt]/255,ot=j[rt]/255,at=new Array(it+1);for(let ct=0;ct<=it;ct++)at[ct]=st+ct/it*(ot-st);return at.join(",")};return Pt(this,wn,km).call(this,_e(0,5),_e(1,5),_e(2,5),h),g.url=Pt(this,wn,ep).call(this,b),g.url}addAlphaFilter(s){let a=lt(this,wn,Rr).get(s);if(a)return a;const[c]=Pt(this,wn,x_).call(this,[s]),d=`alpha_${c}`;if(a=lt(this,wn,Rr).get(d),a)return lt(this,wn,Rr).set(s,a),a;const g=`g_${lt(this,So)}_alpha_map_${zr(this,bu)._++}`,$=Pt(this,wn,ep).call(this,g);lt(this,wn,Rr).set(s,$),lt(this,wn,Rr).set(d,$);const j=Pt(this,wn,tp).call(this,g);return Pt(this,wn,M0).call(this,c,j),$}addLuminosityFilter(s){let a=lt(this,wn,Rr).get(s||"luminosity");if(a)return a;let c,d;if(s?([c]=Pt(this,wn,x_).call(this,[s]),d=`luminosity_${c}`):d="luminosity",a=lt(this,wn,Rr).get(d),a)return lt(this,wn,Rr).set(s,a),a;const g=`g_${lt(this,So)}_luminosity_map_${zr(this,bu)._++}`,$=Pt(this,wn,ep).call(this,g);lt(this,wn,Rr).set(s,$),lt(this,wn,Rr).set(d,$);const j=Pt(this,wn,tp).call(this,g);return Pt(this,wn,bv).call(this,j),s&&Pt(this,wn,M0).call(this,c,j),$}addHighlightHCMFilter(s,a,c,d,g){var ot;const $=`${a}-${c}-${d}-${g}`;let j=lt(this,wn,Sm).get(s);if((j==null?void 0:j.key)===$||(j?((ot=j.filter)==null||ot.remove(),j.key=$,j.url="none",j.filter=null):(j={key:$,url:"none",filter:null},lt(this,wn,Sm).set(s,j)),!a||!c))return j.url;const[tt,et]=[a,c].map(Pt(this,wn,Mm).bind(this));let b=Math.round(.2126*tt[0]+.7152*tt[1]+.0722*tt[2]),h=Math.round(.2126*et[0]+.7152*et[1]+.0722*et[2]),[_e,nt]=[d,g].map(Pt(this,wn,Mm).bind(this));h<b&&([b,h,_e,nt]=[h,b,nt,_e]),lt(this,wn,_f).style.color="";const rt=(at,ct,ut)=>{const dt=new Array(256),ht=(h-b)/ut,pt=at/255,ft=(ct-at)/(255*ut);let bt=0;for(let Ct=0;Ct<=ut;Ct++){const yt=Math.round(b+Ct*ht),Et=pt+Ct*ft;for(let gt=bt;gt<=yt;gt++)dt[gt]=Et;bt=yt+1}for(let Ct=bt;Ct<256;Ct++)dt[Ct]=dt[bt-1];return dt.join(",")},it=`g_${lt(this,So)}_hcm_${s}_filter`,st=j.filter=Pt(this,wn,tp).call(this,it);return Pt(this,wn,k0).call(this,st),Pt(this,wn,km).call(this,rt(_e[0],nt[0],5),rt(_e[1],nt[1],5),rt(_e[2],nt[2],5),st),j.url=Pt(this,wn,ep).call(this,it),j.url}destroy(s=!1){var a,c,d,g;s&&((a=lt(this,yu))!=null&&a.size)||((c=lt(this,Do))==null||c.parentNode.parentNode.remove(),xt(this,Do,null),(d=lt(this,Tp))==null||d.clear(),xt(this,Tp,null),(g=lt(this,yu))==null||g.clear(),xt(this,yu,null),xt(this,bu,0))}}mu=new WeakMap,Tp=new WeakMap,Do=new WeakMap,So=new WeakMap,$r=new WeakMap,yu=new WeakMap,bu=new WeakMap,wn=new WeakSet,Rr=function(){return lt(this,Tp)||xt(this,Tp,new Map)},Sm=function(){return lt(this,yu)||xt(this,yu,new Map)},_f=function(){if(!lt(this,Do)){const s=lt(this,$r).createElement("div"),{style:a}=s;a.visibility="hidden",a.contain="strict",a.width=a.height=0,a.position="absolute",a.top=a.left=0,a.zIndex=-1;const c=lt(this,$r).createElementNS(SVG_NS,"svg");c.setAttribute("width",0),c.setAttribute("height",0),xt(this,Do,lt(this,$r).createElementNS(SVG_NS,"defs")),s.append(c),c.append(lt(this,Do)),lt(this,$r).body.append(s)}return lt(this,Do)},x_=function(s){if(s.length===1){const tt=s[0],et=new Array(256);for(let h=0;h<256;h++)et[h]=tt[h]/255;const b=et.join(",");return[b,b,b]}const[a,c,d]=s,g=new Array(256),$=new Array(256),j=new Array(256);for(let tt=0;tt<256;tt++)g[tt]=a[tt]/255,$[tt]=c[tt]/255,j[tt]=d[tt]/255;return[g.join(","),$.join(","),j.join(",")]},ep=function(s){if(lt(this,mu)===void 0){xt(this,mu,"");const a=lt(this,$r).URL;a!==lt(this,$r).baseURI&&(isDataScheme(a)?warn('#createUrl: ignore "data:"-URL for performance reasons.'):xt(this,mu,a.split("#",1)[0]))}return`url(${lt(this,mu)}#${s})`},bv=function(s){const a=lt(this,$r).createElementNS(SVG_NS,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),s.append(a)},k0=function(s){const a=lt(this,$r).createElementNS(SVG_NS,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),s.append(a)},tp=function(s){const a=lt(this,$r).createElementNS(SVG_NS,"filter");return a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("id",s),lt(this,wn,_f).append(a),a},Cm=function(s,a,c){const d=lt(this,$r).createElementNS(SVG_NS,a);d.setAttribute("type","discrete"),d.setAttribute("tableValues",c),s.append(d)},km=function(s,a,c,d){const g=lt(this,$r).createElementNS(SVG_NS,"feComponentTransfer");d.append(g),Pt(this,wn,Cm).call(this,g,"feFuncR",s),Pt(this,wn,Cm).call(this,g,"feFuncG",a),Pt(this,wn,Cm).call(this,g,"feFuncB",c)},M0=function(s,a){const c=lt(this,$r).createElementNS(SVG_NS,"feComponentTransfer");a.append(c),Pt(this,wn,Cm).call(this,c,"feFuncA",s)},Mm=function(s){return lt(this,wn,_f).style.color=s,getRGB(getComputedStyle(lt(this,wn,_f)).getPropertyValue("color"))};class BaseStandardFontDataFactory{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const s=`${this.baseUrl}${e}`;return this._fetch(s).catch(a=>{throw new Error(`Unable to load font data at: ${s}`)})}async _fetch(e){unreachable("Abstract method `_fetch` called.")}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(e){const s=await fetchData(e,"arraybuffer");return new Uint8Array(s)}}isNodeJS&&warn("Please use the `legacy` build in Node.js environments.");async function node_utils_fetchData(o){const s=await process.getBuiltinModule("fs").promises.readFile(o);return new Uint8Array(s)}class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(e,s){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,s)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(e){return node_utils_fetchData(e)}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(e){return node_utils_fetchData(e)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(o,e){if(!e)return;const s=e[2]-e[0],a=e[3]-e[1],c=new Path2D;c.rect(e[0],e[1],s,a),o.clip(c)}class BaseShadingPattern{getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let s;this._type==="axial"?s=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(s=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)s.addColorStop(a[0],a[1]);return s}getPattern(e,s,a,c){let d;if(c===PathType.STROKE||c===PathType.FILL){const g=s.current.getClippedPathBoundingBox(c,getCurrentTransform(e))||[0,0,0,0],$=Math.ceil(g[2]-g[0])||1,j=Math.ceil(g[3]-g[1])||1,tt=s.cachedCanvases.getCanvas("pattern",$,j),et=tt.context;et.clearRect(0,0,et.canvas.width,et.canvas.height),et.beginPath(),et.rect(0,0,et.canvas.width,et.canvas.height),et.translate(-g[0],-g[1]),a=Util.transform(a,[1,0,0,1,g[0],g[1]]),et.transform(...s.baseTransform),this.matrix&&et.transform(...this.matrix),applyBoundingBox(et,this._bbox),et.fillStyle=this._createGradient(et),et.fill(),d=e.createPattern(tt.canvas,"no-repeat");const b=new DOMMatrix(a);d.setTransform(b)}else applyBoundingBox(e,this._bbox),d=this._createGradient(e);return d}}function drawTriangle(o,e,s,a,c,d,g,$){const j=e.coords,tt=e.colors,et=o.data,b=o.width*4;let h;j[s+1]>j[a+1]&&(h=s,s=a,a=h,h=d,d=g,g=h),j[a+1]>j[c+1]&&(h=a,a=c,c=h,h=g,g=$,$=h),j[s+1]>j[a+1]&&(h=s,s=a,a=h,h=d,d=g,g=h);const _e=(j[s]+e.offsetX)*e.scaleX,nt=(j[s+1]+e.offsetY)*e.scaleY,rt=(j[a]+e.offsetX)*e.scaleX,it=(j[a+1]+e.offsetY)*e.scaleY,st=(j[c]+e.offsetX)*e.scaleX,ot=(j[c+1]+e.offsetY)*e.scaleY;if(nt>=ot)return;const at=tt[d],ct=tt[d+1],ut=tt[d+2],dt=tt[g],ht=tt[g+1],pt=tt[g+2],ft=tt[$],bt=tt[$+1],Ct=tt[$+2],yt=Math.round(nt),Et=Math.round(ot);let gt,At,mt,_t,St,wt,kt,Dt;for(let Ft=yt;Ft<=Et;Ft++){if(Ft<it){const Jt=Ft<nt?0:(nt-Ft)/(nt-it);gt=_e-(_e-rt)*Jt,At=at-(at-dt)*Jt,mt=ct-(ct-ht)*Jt,_t=ut-(ut-pt)*Jt}else{let Jt;Ft>ot?Jt=1:it===ot?Jt=0:Jt=(it-Ft)/(it-ot),gt=rt-(rt-st)*Jt,At=dt-(dt-ft)*Jt,mt=ht-(ht-bt)*Jt,_t=pt-(pt-Ct)*Jt}let Ot;Ft<nt?Ot=0:Ft>ot?Ot=1:Ot=(nt-Ft)/(nt-ot),St=_e-(_e-st)*Ot,wt=at-(at-ft)*Ot,kt=ct-(ct-bt)*Ot,Dt=ut-(ut-Ct)*Ot;const Bt=Math.round(Math.min(gt,St)),Vt=Math.round(Math.max(gt,St));let Zt=b*Ft+Bt*4;for(let Jt=Bt;Jt<=Vt;Jt++)Ot=(gt-Jt)/(gt-St),Ot<0?Ot=0:Ot>1&&(Ot=1),et[Zt++]=At-(At-wt)*Ot|0,et[Zt++]=mt-(mt-kt)*Ot|0,et[Zt++]=_t-(_t-Dt)*Ot|0,et[Zt++]=255}}function drawFigure(o,e,s){const a=e.coords,c=e.colors;let d,g;switch(e.type){case"lattice":const $=e.verticesPerRow,j=Math.floor(a.length/$)-1,tt=$-1;for(d=0;d<j;d++){let et=d*$;for(let b=0;b<tt;b++,et++)drawTriangle(o,s,a[et],a[et+1],a[et+$],c[et],c[et+1],c[et+$]),drawTriangle(o,s,a[et+$+1],a[et+1],a[et+$],c[et+$+1],c[et+1],c[et+$])}break;case"triangles":for(d=0,g=a.length;d<g;d+=3)drawTriangle(o,s,a[d],a[d+1],a[d+2],c[d],c[d+1],c[d+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,s,a){const $=Math.floor(this._bounds[0]),j=Math.floor(this._bounds[1]),tt=Math.ceil(this._bounds[2])-$,et=Math.ceil(this._bounds[3])-j,b=Math.min(Math.ceil(Math.abs(tt*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(et*e[1]*1.1)),3e3),_e=tt/b,nt=et/h,rt={coords:this._coords,colors:this._colors,offsetX:-$,offsetY:-j,scaleX:1/_e,scaleY:1/nt},it=b+2*2,st=h+2*2,ot=a.getCanvas("mesh",it,st),at=ot.context,ct=at.createImageData(b,h);if(s){const dt=ct.data;for(let ht=0,pt=dt.length;ht<pt;ht+=4)dt[ht]=s[0],dt[ht+1]=s[1],dt[ht+2]=s[2],dt[ht+3]=255}for(const dt of this._figures)drawFigure(ct,dt,rt);return at.putImageData(ct,2,2),{canvas:ot.canvas,offsetX:$-2*_e,offsetY:j-2*nt,scaleX:_e,scaleY:nt}}getPattern(e,s,a,c){applyBoundingBox(e,this._bbox);let d;if(c===PathType.SHADING)d=Util.singularValueDecompose2dScale(getCurrentTransform(e));else if(d=Util.singularValueDecompose2dScale(s.baseTransform),this.matrix){const $=Util.singularValueDecompose2dScale(this.matrix);d=[d[0]*$[0],d[1]*$[1]]}const g=this._createMeshCanvas(d,c===PathType.SHADING?null:this._background,s.cachedCanvases);return c!==PathType.SHADING&&(e.setTransform(...s.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(g.offsetX,g.offsetY),e.scale(g.scaleX,g.scaleY),e.createPattern(g.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(o){switch(o[0]){case"RadialAxial":return new RadialAxialShadingPattern(o);case"Mesh":return new MeshShadingPattern(o);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${o[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},Y_=class Y_{constructor(e,s,a,c,d){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=s,this.ctx=a,this.canvasGraphicsFactory=c,this.baseTransform=d}createPatternCanvas(e){const{bbox:s,operatorList:a,paintType:c,tilingType:d,color:g,canvasGraphicsFactory:$}=this;let{xstep:j,ystep:tt}=this;j=Math.abs(j),tt=Math.abs(tt),info("TilingType: "+d);const et=s[0],b=s[1],h=s[2],_e=s[3],nt=h-et,rt=_e-b,it=Util.singularValueDecompose2dScale(this.matrix),st=Util.singularValueDecompose2dScale(this.baseTransform),ot=it[0]*st[0],at=it[1]*st[1];let ct=nt,ut=rt,dt=!1,ht=!1;const pt=Math.ceil(j*ot),ft=Math.ceil(tt*at),bt=Math.ceil(nt*ot),Ct=Math.ceil(rt*at);pt>=bt?ct=j:dt=!0,ft>=Ct?ut=tt:ht=!0;const yt=this.getSizeAndScale(ct,this.ctx.canvas.width,ot),Et=this.getSizeAndScale(ut,this.ctx.canvas.height,at),gt=e.cachedCanvases.getCanvas("pattern",yt.size,Et.size),At=gt.context,mt=$.createCanvasGraphics(At);if(mt.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(mt,c,g),At.translate(-yt.scale*et,-Et.scale*b),mt.transform(yt.scale,0,0,Et.scale,0,0),At.save(),this.clipBbox(mt,et,b,h,_e),mt.baseTransform=getCurrentTransform(mt.ctx),mt.executeOperatorList(a),mt.endDrawing(),At.restore(),dt||ht){const _t=gt.canvas;dt&&(ct=j),ht&&(ut=tt);const St=this.getSizeAndScale(ct,this.ctx.canvas.width,ot),wt=this.getSizeAndScale(ut,this.ctx.canvas.height,at),kt=St.size,Dt=wt.size,Ft=e.cachedCanvases.getCanvas("pattern-workaround",kt,Dt),Ot=Ft.context,Bt=dt?Math.floor(nt/j):0,Vt=ht?Math.floor(rt/tt):0;for(let Zt=0;Zt<=Bt;Zt++)for(let Jt=0;Jt<=Vt;Jt++)Ot.drawImage(_t,kt*Zt,Dt*Jt,kt,Dt,0,0,kt,Dt);return{canvas:Ft.canvas,scaleX:St.scale,scaleY:wt.scale,offsetX:et,offsetY:b}}return{canvas:gt.canvas,scaleX:yt.scale,scaleY:Et.scale,offsetX:et,offsetY:b}}getSizeAndScale(e,s,a){const c=Math.max(Y_.MAX_PATTERN_SIZE,s);let d=Math.ceil(e*a);return d>=c?d=c:a=d/e,{scale:a,size:d}}clipBbox(e,s,a,c,d){const g=c-s,$=d-a;e.ctx.rect(s,a,g,$),e.current.updateRectMinMax(getCurrentTransform(e.ctx),[s,a,c,d]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,s,a){const c=e.ctx,d=e.current;switch(s){case PaintType.COLORED:const g=this.ctx;c.fillStyle=g.fillStyle,c.strokeStyle=g.strokeStyle,d.fillColor=g.fillStyle,d.strokeColor=g.strokeStyle;break;case PaintType.UNCOLORED:const $=Util.makeHexColor(a[0],a[1],a[2]);c.fillStyle=$,c.strokeStyle=$,d.fillColor=$,d.strokeColor=$;break;default:throw new FormatError(`Unsupported paint type: ${s}`)}}getPattern(e,s,a,c){let d=a;c!==PathType.SHADING&&(d=Util.transform(d,s.baseTransform),this.matrix&&(d=Util.transform(d,this.matrix)));const g=this.createPatternCanvas(s);let $=new DOMMatrix(d);$=$.translate(g.offsetX,g.offsetY),$=$.scale(1/g.scaleX,1/g.scaleY);const j=e.createPattern(g.canvas,"repeat");return j.setTransform($),j}};nn(Y_,"MAX_PATTERN_SIZE",3e3);let TilingPattern=Y_;function convertBlackAndWhiteToRGBA({src:o,srcPos:e=0,dest:s,width:a,height:c,nonBlackColor:d=4294967295,inverseDecode:g=!1}){const $=util_FeatureTest.isLittleEndian?4278190080:255,[j,tt]=g?[d,$]:[$,d],et=a>>3,b=a&7,h=o.length;s=new Uint32Array(s.buffer);let _e=0;for(let nt=0;nt<c;nt++){for(const it=e+et;e<it;e++){const st=e<h?o[e]:255;s[_e++]=st&128?tt:j,s[_e++]=st&64?tt:j,s[_e++]=st&32?tt:j,s[_e++]=st&16?tt:j,s[_e++]=st&8?tt:j,s[_e++]=st&4?tt:j,s[_e++]=st&2?tt:j,s[_e++]=st&1?tt:j}if(b===0)continue;const rt=e<h?o[e++]:255;for(let it=0;it<b;it++)s[_e++]=rt&1<<7-it?tt:j}return{srcPos:e,destPos:_e}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(o,e){if(o._removeMirroring)throw new Error("Context is already forwarding operations.");o.__originalSave=o.save,o.__originalRestore=o.restore,o.__originalRotate=o.rotate,o.__originalScale=o.scale,o.__originalTranslate=o.translate,o.__originalTransform=o.transform,o.__originalSetTransform=o.setTransform,o.__originalResetTransform=o.resetTransform,o.__originalClip=o.clip,o.__originalMoveTo=o.moveTo,o.__originalLineTo=o.lineTo,o.__originalBezierCurveTo=o.bezierCurveTo,o.__originalRect=o.rect,o.__originalClosePath=o.closePath,o.__originalBeginPath=o.beginPath,o._removeMirroring=()=>{o.save=o.__originalSave,o.restore=o.__originalRestore,o.rotate=o.__originalRotate,o.scale=o.__originalScale,o.translate=o.__originalTranslate,o.transform=o.__originalTransform,o.setTransform=o.__originalSetTransform,o.resetTransform=o.__originalResetTransform,o.clip=o.__originalClip,o.moveTo=o.__originalMoveTo,o.lineTo=o.__originalLineTo,o.bezierCurveTo=o.__originalBezierCurveTo,o.rect=o.__originalRect,o.closePath=o.__originalClosePath,o.beginPath=o.__originalBeginPath,delete o._removeMirroring},o.save=function(){e.save(),this.__originalSave()},o.restore=function(){e.restore(),this.__originalRestore()},o.translate=function(a,c){e.translate(a,c),this.__originalTranslate(a,c)},o.scale=function(a,c){e.scale(a,c),this.__originalScale(a,c)},o.transform=function(a,c,d,g,$,j){e.transform(a,c,d,g,$,j),this.__originalTransform(a,c,d,g,$,j)},o.setTransform=function(a,c,d,g,$,j){e.setTransform(a,c,d,g,$,j),this.__originalSetTransform(a,c,d,g,$,j)},o.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},o.rotate=function(a){e.rotate(a),this.__originalRotate(a)},o.clip=function(a){e.clip(a),this.__originalClip(a)},o.moveTo=function(s,a){e.moveTo(s,a),this.__originalMoveTo(s,a)},o.lineTo=function(s,a){e.lineTo(s,a),this.__originalLineTo(s,a)},o.bezierCurveTo=function(s,a,c,d,g,$){e.bezierCurveTo(s,a,c,d,g,$),this.__originalBezierCurveTo(s,a,c,d,g,$)},o.rect=function(s,a,c,d){e.rect(s,a,c,d),this.__originalRect(s,a,c,d)},o.closePath=function(){e.closePath(),this.__originalClosePath()},o.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,s,a){let c;return this.cache[e]!==void 0?(c=this.cache[e],this.canvasFactory.reset(c,s,a)):(c=this.canvasFactory.create(s,a),this.cache[e]=c),c}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const s=this.cache[e];this.canvasFactory.destroy(s),delete this.cache[e]}}}function drawImageAtIntegerCoords(o,e,s,a,c,d,g,$,j,tt){const[et,b,h,_e,nt,rt]=getCurrentTransform(o);if(b===0&&h===0){const ot=g*et+nt,at=Math.round(ot),ct=$*_e+rt,ut=Math.round(ct),dt=(g+j)*et+nt,ht=Math.abs(Math.round(dt)-at)||1,pt=($+tt)*_e+rt,ft=Math.abs(Math.round(pt)-ut)||1;return o.setTransform(Math.sign(et),0,0,Math.sign(_e),at,ut),o.drawImage(e,s,a,c,d,0,0,ht,ft),o.setTransform(et,b,h,_e,nt,rt),[ht,ft]}if(et===0&&_e===0){const ot=$*h+nt,at=Math.round(ot),ct=g*b+rt,ut=Math.round(ct),dt=($+tt)*h+nt,ht=Math.abs(Math.round(dt)-at)||1,pt=(g+j)*b+rt,ft=Math.abs(Math.round(pt)-ut)||1;return o.setTransform(0,Math.sign(b),Math.sign(h),0,at,ut),o.drawImage(e,s,a,c,d,0,0,ft,ht),o.setTransform(et,b,h,_e,nt,rt),[ft,ht]}o.drawImage(e,s,a,c,d,g,$,j,tt);const it=Math.hypot(et,b),st=Math.hypot(h,_e);return[it*j,st*tt]}function compileType3Glyph(o){const{width:e,height:s}=o;if(e>MAX_SIZE_TO_COMPILE||s>MAX_SIZE_TO_COMPILE)return null;const a=1e3,c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=e+1;let g=new Uint8Array(d*(s+1)),$,j,tt;const et=e+7&-8;let b=new Uint8Array(et*s),h=0;for(const st of o.data){let ot=128;for(;ot>0;)b[h++]=st&ot?0:255,ot>>=1}let _e=0;for(h=0,b[h]!==0&&(g[0]=1,++_e),j=1;j<e;j++)b[h]!==b[h+1]&&(g[j]=b[h]?2:1,++_e),h++;for(b[h]!==0&&(g[j]=2,++_e),$=1;$<s;$++){h=$*et,tt=$*d,b[h-et]!==b[h]&&(g[tt]=b[h]?1:8,++_e);let st=(b[h]?4:0)+(b[h-et]?8:0);for(j=1;j<e;j++)st=(st>>2)+(b[h+1]?4:0)+(b[h-et+1]?8:0),c[st]&&(g[tt+j]=c[st],++_e),h++;if(b[h-et]!==b[h]&&(g[tt+j]=b[h]?2:4,++_e),_e>a)return null}for(h=et*(s-1),tt=$*d,b[h]!==0&&(g[tt]=8,++_e),j=1;j<e;j++)b[h]!==b[h+1]&&(g[tt+j]=b[h]?4:8,++_e),h++;if(b[h]!==0&&(g[tt+j]=4,++_e),_e>a)return null;const nt=new Int32Array([0,d,-1,0,-d,0,0,0,1]),rt=new Path2D;for($=0;_e&&$<=s;$++){let st=$*d;const ot=st+e;for(;st<ot&&!g[st];)st++;if(st===ot)continue;rt.moveTo(st%d,$);const at=st;let ct=g[st];do{const ut=nt[ct];do st+=ut;while(!g[st]);const dt=g[st];dt!==5&&dt!==10?(ct=dt,g[st]=0):(ct=dt&51*ct>>4,g[st]&=ct>>2|ct<<2),rt.lineTo(st%d,st/d|0),g[st]||--_e}while(at!==st);--$}return b=null,g=null,function(st){st.save(),st.scale(1/e,-1/s),st.translate(0,-s),st.fill(rt),st.beginPath(),st.restore()}}class CanvasExtraState{constructor(e,s){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,s])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,s){this.x=e,this.y=s}updatePathMinMax(e,s,a){[s,a]=Util.applyTransform([s,a],e),this.minX=Math.min(this.minX,s),this.minY=Math.min(this.minY,a),this.maxX=Math.max(this.maxX,s),this.maxY=Math.max(this.maxY,a)}updateRectMinMax(e,s){const a=Util.applyTransform(s,e),c=Util.applyTransform(s.slice(2),e),d=Util.applyTransform([s[0],s[3]],e),g=Util.applyTransform([s[2],s[1]],e);this.minX=Math.min(this.minX,a[0],c[0],d[0],g[0]),this.minY=Math.min(this.minY,a[1],c[1],d[1],g[1]),this.maxX=Math.max(this.maxX,a[0],c[0],d[0],g[0]),this.maxY=Math.max(this.maxY,a[1],c[1],d[1],g[1])}updateScalingPathMinMax(e,s){Util.scaleMinMax(e,s),this.minX=Math.min(this.minX,s[0]),this.minY=Math.min(this.minY,s[1]),this.maxX=Math.max(this.maxX,s[2]),this.maxY=Math.max(this.maxY,s[3])}updateCurvePathMinMax(e,s,a,c,d,g,$,j,tt,et){const b=Util.bezierBoundingBox(s,a,c,d,g,$,j,tt,et);et||this.updateRectMinMax(e,b)}getPathBoundingBox(e=PathType.FILL,s=null){const a=[this.minX,this.minY,this.maxX,this.maxY];if(e===PathType.STROKE){s||unreachable("Stroke bounding box must include transform.");const c=Util.singularValueDecompose2dScale(s),d=c[0]*this.lineWidth/2,g=c[1]*this.lineWidth/2;a[0]-=d,a[1]-=g,a[2]+=d,a[3]+=g}return a}updateClipFromPath(){const e=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=PathType.FILL,s=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(e,s))}}function putBinaryImageData(o,e){if(e instanceof ImageData){o.putImageData(e,0,0);return}const s=e.height,a=e.width,c=s%FULL_CHUNK_HEIGHT,d=(s-c)/FULL_CHUNK_HEIGHT,g=c===0?d:d+1,$=o.createImageData(a,FULL_CHUNK_HEIGHT);let j=0,tt;const et=e.data,b=$.data;let h,_e,nt,rt;if(e.kind===util_ImageKind.GRAYSCALE_1BPP){const it=et.byteLength,st=new Uint32Array(b.buffer,0,b.byteLength>>2),ot=st.length,at=a+7>>3,ct=4294967295,ut=util_FeatureTest.isLittleEndian?4278190080:255;for(h=0;h<g;h++){for(nt=h<d?FULL_CHUNK_HEIGHT:c,tt=0,_e=0;_e<nt;_e++){const dt=it-j;let ht=0;const pt=dt>at?a:dt*8-7,ft=pt&-8;let bt=0,Ct=0;for(;ht<ft;ht+=8)Ct=et[j++],st[tt++]=Ct&128?ct:ut,st[tt++]=Ct&64?ct:ut,st[tt++]=Ct&32?ct:ut,st[tt++]=Ct&16?ct:ut,st[tt++]=Ct&8?ct:ut,st[tt++]=Ct&4?ct:ut,st[tt++]=Ct&2?ct:ut,st[tt++]=Ct&1?ct:ut;for(;ht<pt;ht++)bt===0&&(Ct=et[j++],bt=128),st[tt++]=Ct&bt?ct:ut,bt>>=1}for(;tt<ot;)st[tt++]=0;o.putImageData($,0,h*FULL_CHUNK_HEIGHT)}}else if(e.kind===util_ImageKind.RGBA_32BPP){for(_e=0,rt=a*FULL_CHUNK_HEIGHT*4,h=0;h<d;h++)b.set(et.subarray(j,j+rt)),j+=rt,o.putImageData($,0,_e),_e+=FULL_CHUNK_HEIGHT;h<g&&(rt=a*c*4,b.set(et.subarray(j,j+rt)),o.putImageData($,0,_e))}else if(e.kind===util_ImageKind.RGB_24BPP)for(nt=FULL_CHUNK_HEIGHT,rt=a*nt,h=0;h<g;h++){for(h>=d&&(nt=c,rt=a*nt),tt=0,_e=rt;_e--;)b[tt++]=et[j++],b[tt++]=et[j++],b[tt++]=et[j++],b[tt++]=255;o.putImageData($,0,h*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${e.kind}`)}function putBinaryImageMask(o,e){if(e.bitmap){o.drawImage(e.bitmap,0,0);return}const s=e.height,a=e.width,c=s%FULL_CHUNK_HEIGHT,d=(s-c)/FULL_CHUNK_HEIGHT,g=c===0?d:d+1,$=o.createImageData(a,FULL_CHUNK_HEIGHT);let j=0;const tt=e.data,et=$.data;for(let b=0;b<g;b++){const h=b<d?FULL_CHUNK_HEIGHT:c;({srcPos:j}=convertBlackAndWhiteToRGBA({src:tt,srcPos:j,dest:et,width:a,height:h,nonBlackColor:0})),o.putImageData($,0,b*FULL_CHUNK_HEIGHT)}}function copyCtxState(o,e){const s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of s)o[a]!==void 0&&(e[a]=o[a]);o.setLineDash!==void 0&&(e.setLineDash(o.getLineDash()),e.lineDashOffset=o.lineDashOffset)}function resetCtxToDefault(o){if(o.strokeStyle=o.fillStyle="#000000",o.fillRule="nonzero",o.globalAlpha=1,o.lineWidth=1,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=10,o.globalCompositeOperation="source-over",o.font="10px sans-serif",o.setLineDash!==void 0&&(o.setLineDash([]),o.lineDashOffset=0),!isNodeJS){const{filter:e}=o;e!=="none"&&e!==""&&(o.filter="none")}}function getImageSmoothingEnabled(o,e){if(e)return!0;const s=Util.singularValueDecompose2dScale(o);s[0]=Math.fround(s[0]),s[1]=Math.fround(s[1]);const a=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return s[0]<=a&&s[1]<=a}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Vs,O0,P0,F0;const l1=class l1{constructor(e,s,a,c,d,{optionalContentConfig:g,markedContentStack:$=null},j,tt){Mt(this,Vs);this.ctx=e,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=s,this.objs=a,this.canvasFactory=c,this.filterFactory=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=$||[],this.optionalContentConfig=g,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=j,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=tt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,s=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):s}beginDrawing({transform:e,viewport:s,transparency:a=!1,background:c=null}){const d=this.ctx.canvas.width,g=this.ctx.canvas.height,$=this.ctx.fillStyle;if(this.ctx.fillStyle=c||"#ffffff",this.ctx.fillRect(0,0,d,g),this.ctx.fillStyle=$,a){const j=this.cachedCanvases.getCanvas("transparent",d,g);this.compositeCtx=this.ctx,this.transparentCanvas=j.canvas,this.ctx=j.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...s.transform),this.viewportScale=s.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(e,s,a,c){const d=e.argsArray,g=e.fnArray;let $=s||0;const j=d.length;if(j===$)return $;const tt=j-$>EXECUTION_STEPS&&typeof a=="function",et=tt?Date.now()+EXECUTION_TIME:0;let b=0;const h=this.commonObjs,_e=this.objs;let nt;for(;;){if(c!==void 0&&$===c.nextBreakPoint)return c.breakIt($,a),$;if(nt=g[$],nt!==OPS.dependency)this[nt].apply(this,d[$]);else for(const rt of d[$]){const it=rt.startsWith("g_")?h:_e;if(!it.has(rt))return it.get(rt,a),$}if($++,$===j)return $;if(tt&&++b>EXECUTION_STEPS){if(Date.now()>et)return a(),$;b=0}}}endDrawing(){Pt(this,Vs,O0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const s of e.values())typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement&&(s.width=s.height=0);e.clear()}this._cachedBitmapsMap.clear(),Pt(this,Vs,P0).call(this)}_scaleImage(e,s){const a=e.width??e.displayWidth,c=e.height??e.displayHeight;let d=Math.max(Math.hypot(s[0],s[1]),1),g=Math.max(Math.hypot(s[2],s[3]),1),$=a,j=c,tt="prescale1",et,b;for(;d>2&&$>1||g>2&&j>1;){let h=$,_e=j;d>2&&$>1&&(h=$>=16384?Math.floor($/2)-1||1:Math.ceil($/2),d/=$/h),g>2&&j>1&&(_e=j>=16384?Math.floor(j/2)-1||1:Math.ceil(j)/2,g/=j/_e),et=this.cachedCanvases.getCanvas(tt,h,_e),b=et.context,b.clearRect(0,0,h,_e),b.drawImage(e,0,0,$,j,0,0,h,_e),e=et.canvas,$=h,j=_e,tt=tt==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:$,paintHeight:j}}_createMaskCanvas(e){const s=this.ctx,{width:a,height:c}=e,d=this.current.fillColor,g=this.current.patternFill,$=getCurrentTransform(s);let j,tt,et,b;if((e.bitmap||e.data)&&e.count>1){const pt=e.bitmap||e.data.buffer;tt=JSON.stringify(g?$:[$.slice(0,4),d]),j=this._cachedBitmapsMap.get(pt),j||(j=new Map,this._cachedBitmapsMap.set(pt,j));const ft=j.get(tt);if(ft&&!g){const bt=Math.round(Math.min($[0],$[2])+$[4]),Ct=Math.round(Math.min($[1],$[3])+$[5]);return{canvas:ft,offsetX:bt,offsetY:Ct}}et=ft}et||(b=this.cachedCanvases.getCanvas("maskCanvas",a,c),putBinaryImageMask(b.context,e));let h=Util.transform($,[1/a,0,0,-1/c,0,0]);h=Util.transform(h,[1,0,0,1,0,-c]);const[_e,nt,rt,it]=Util.getAxialAlignedBoundingBox([0,0,a,c],h),st=Math.round(rt-_e)||1,ot=Math.round(it-nt)||1,at=this.cachedCanvases.getCanvas("fillCanvas",st,ot),ct=at.context,ut=_e,dt=nt;ct.translate(-ut,-dt),ct.transform(...h),et||(et=this._scaleImage(b.canvas,getCurrentTransformInverse(ct)),et=et.img,j&&g&&j.set(tt,et)),ct.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(ct),e.interpolate),drawImageAtIntegerCoords(ct,et,0,0,et.width,et.height,0,0,a,c),ct.globalCompositeOperation="source-in";const ht=Util.transform(getCurrentTransformInverse(ct),[1,0,0,1,-ut,-dt]);return ct.fillStyle=g?d.getPattern(s,this,ht,PathType.FILL):d,ct.fillRect(0,0,a,c),j&&!g&&(this.cachedCanvases.delete("fillCanvas"),j.set(tt,at.canvas)),{canvas:at.canvas,offsetX:Math.round(ut),offsetY:Math.round(dt)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=LINE_CAP_STYLES[e]}setLineJoin(e){this.ctx.lineJoin=LINE_JOIN_STYLES[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,s){const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(e),a.lineDashOffset=s)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[s,a]of e)switch(s){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,s=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,c=this.cachedCanvases.getCanvas(a,e,s);this.suspendedCtx=this.ctx,this.ctx=c.context;const d=this.ctx;d.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,d),mirrorContextOperations(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const s=this.current.activeSMask,a=this.suspendedCtx;this.composeSMask(a,s,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,s,a,c){const d=c[0],g=c[1],$=c[2]-d,j=c[3]-g;$===0||j===0||(this.genericComposeSMask(s.context,a,$,j,s.subtype,s.backdrop,s.transferMap,d,g,s.offsetX,s.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(a.canvas,0,0),e.restore())}genericComposeSMask(e,s,a,c,d,g,$,j,tt,et,b){let h=e.canvas,_e=j-et,nt=tt-b;if(g){const it=Util.makeHexColor(...g);if(_e<0||nt<0||_e+a>h.width||nt+c>h.height){const st=this.cachedCanvases.getCanvas("maskExtension",a,c),ot=st.context;ot.drawImage(h,-_e,-nt),ot.globalCompositeOperation="destination-atop",ot.fillStyle=it,ot.fillRect(0,0,a,c),ot.globalCompositeOperation="source-over",h=st.canvas,_e=nt=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const st=new Path2D;st.rect(_e,nt,a,c),e.clip(st),e.globalCompositeOperation="destination-atop",e.fillStyle=it,e.fillRect(_e,nt,a,c),e.restore()}}s.save(),s.globalAlpha=1,s.setTransform(1,0,0,1,0,0),d==="Alpha"&&$?s.filter=this.filterFactory.addAlphaFilter($):d==="Luminosity"&&(s.filter=this.filterFactory.addLuminosityFilter($));const rt=new Path2D;rt.rect(j,tt,a,c),s.clip(rt),s.globalCompositeOperation="destination-in",s.drawImage(h,_e,nt,a,c,j,tt,a,c),s.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,s,a,c,d,g){this.ctx.transform(e,s,a,c,d,g),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,s,a){const c=this.ctx,d=this.current;let g=d.x,$=d.y,j,tt;const et=getCurrentTransform(c),b=et[0]===0&&et[3]===0||et[1]===0&&et[2]===0,h=b?a.slice(0):null;for(let _e=0,nt=0,rt=e.length;_e<rt;_e++)switch(e[_e]|0){case OPS.rectangle:g=s[nt++],$=s[nt++];const it=s[nt++],st=s[nt++],ot=g+it,at=$+st;c.moveTo(g,$),it===0||st===0?c.lineTo(ot,at):(c.lineTo(ot,$),c.lineTo(ot,at),c.lineTo(g,at)),b||d.updateRectMinMax(et,[g,$,ot,at]),c.closePath();break;case OPS.moveTo:g=s[nt++],$=s[nt++],c.moveTo(g,$),b||d.updatePathMinMax(et,g,$);break;case OPS.lineTo:g=s[nt++],$=s[nt++],c.lineTo(g,$),b||d.updatePathMinMax(et,g,$);break;case OPS.curveTo:j=g,tt=$,g=s[nt+4],$=s[nt+5],c.bezierCurveTo(s[nt],s[nt+1],s[nt+2],s[nt+3],g,$),d.updateCurvePathMinMax(et,j,tt,s[nt],s[nt+1],s[nt+2],s[nt+3],g,$,h),nt+=6;break;case OPS.curveTo2:j=g,tt=$,c.bezierCurveTo(g,$,s[nt],s[nt+1],s[nt+2],s[nt+3]),d.updateCurvePathMinMax(et,j,tt,g,$,s[nt],s[nt+1],s[nt+2],s[nt+3],h),g=s[nt+2],$=s[nt+3],nt+=4;break;case OPS.curveTo3:j=g,tt=$,g=s[nt+2],$=s[nt+3],c.bezierCurveTo(s[nt],s[nt+1],g,$,g,$),d.updateCurvePathMinMax(et,j,tt,s[nt],s[nt+1],g,$,g,$,h),nt+=4;break;case OPS.closePath:c.closePath();break}b&&d.updateScalingPathMinMax(et,h),d.setCurrentPoint(g,$)}closePath(){this.ctx.closePath()}stroke(e=!0){const s=this.ctx,a=this.current.strokeColor;s.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof a=="object"&&(a!=null&&a.getPattern)?(s.save(),s.strokeStyle=a.getPattern(s,this,getCurrentTransformInverse(s),PathType.STROKE),this.rescaleAndStroke(!1),s.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),s.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const s=this.ctx,a=this.current.fillColor,c=this.current.patternFill;let d=!1;c&&(s.save(),s.fillStyle=a.getPattern(s,this,getCurrentTransformInverse(s),PathType.FILL),d=!0);const g=this.current.getClippedPathBoundingBox();this.contentVisible&&g!==null&&(this.pendingEOFill?(s.fill("evenodd"),this.pendingEOFill=!1):s.fill()),d&&s.restore(),e&&this.consumePath(g)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,s=this.ctx;if(e===void 0){s.beginPath();return}const a=new Path2D,c=s.getTransform().invertSelf();for(const{transform:d,x:g,y:$,fontSize:j,path:tt}of e)a.addPath(tt,new DOMMatrix(d).preMultiplySelf(c).translate(g,$).scale(j,-j));s.clip(a),s.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,s){var et;const a=this.commonObjs.get(e),c=this.current;if(!a)throw new Error(`Can't find font for ${e}`);if(c.fontMatrix=a.fontMatrix||FONT_IDENTITY_MATRIX,(c.fontMatrix[0]===0||c.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+e),s<0?(s=-s,c.fontDirection=-1):c.fontDirection=1,this.current.font=a,this.current.fontSize=s,a.isType3Font)return;const d=a.loadedName||"sans-serif",g=((et=a.systemFontInfo)==null?void 0:et.css)||`"${d}", ${a.fallbackName}`;let $="normal";a.black?$="900":a.bold&&($="bold");const j=a.italic?"italic":"normal";let tt=s;s<MIN_FONT_SIZE?tt=MIN_FONT_SIZE:s>MAX_FONT_SIZE&&(tt=MAX_FONT_SIZE),this.current.fontSizeScale=s/tt,this.ctx.font=`${j} ${$} ${tt}px ${g}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,s){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=s}setLeadingMoveText(e,s){this.setLeading(-s),this.moveText(e,s)}setTextMatrix(e,s,a,c,d,g){this.current.textMatrix=[e,s,a,c,d,g],this.current.textMatrixScale=Math.hypot(e,s),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,s,a,c,d){const g=this.ctx,$=this.current,j=$.font,tt=$.textRenderingMode,et=$.fontSize/$.fontSizeScale,b=tt&TextRenderingMode.FILL_STROKE_MASK,h=!!(tt&TextRenderingMode.ADD_TO_PATH_FLAG),_e=$.patternFill&&!j.missingFile,nt=$.patternStroke&&!j.missingFile;let rt;if((j.disableFontFace||h||_e||nt)&&(rt=j.getPathGenerator(this.commonObjs,e)),j.disableFontFace||_e||nt){if(g.save(),g.translate(s,a),g.scale(et,-et),b===TextRenderingMode.FILL||b===TextRenderingMode.FILL_STROKE)if(c){const it=g.getTransform();g.setTransform(...c),g.fill(Pt(this,Vs,F0).call(this,rt,it,c))}else g.fill(rt);if(b===TextRenderingMode.STROKE||b===TextRenderingMode.FILL_STROKE)if(d){const it=g.getTransform();g.setTransform(...d),g.stroke(Pt(this,Vs,F0).call(this,rt,it,d))}else g.lineWidth/=et,g.stroke(rt);g.restore()}else(b===TextRenderingMode.FILL||b===TextRenderingMode.FILL_STROKE)&&g.fillText(e,s,a),(b===TextRenderingMode.STROKE||b===TextRenderingMode.FILL_STROKE)&&g.strokeText(e,s,a);h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(g),x:s,y:a,fontSize:et,path:rt})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const s=e.getImageData(0,0,10,10).data;let a=!1;for(let c=3;c<s.length;c+=4)if(s[c]>0&&s[c]<255){a=!0;break}return shadow(this,"isFontSubpixelAAEnabled",a)}showText(e){const s=this.current,a=s.font;if(a.isType3Font)return this.showType3Text(e);const c=s.fontSize;if(c===0)return;const d=this.ctx,g=s.fontSizeScale,$=s.charSpacing,j=s.wordSpacing,tt=s.fontDirection,et=s.textHScale*tt,b=e.length,h=a.vertical,_e=h?1:-1,nt=a.defaultVMetrics,rt=c*s.fontMatrix[0],it=s.textRenderingMode===TextRenderingMode.FILL&&!a.disableFontFace&&!s.patternFill;d.save(),d.transform(...s.textMatrix),d.translate(s.x,s.y+s.textRise),tt>0?d.scale(et,-1):d.scale(et,1);let st,ot;if(s.patternFill){d.save();const ht=s.fillColor.getPattern(d,this,getCurrentTransformInverse(d),PathType.FILL);st=getCurrentTransform(d),d.restore(),d.fillStyle=ht}if(s.patternStroke){d.save();const ht=s.strokeColor.getPattern(d,this,getCurrentTransformInverse(d),PathType.STROKE);ot=getCurrentTransform(d),d.restore(),d.strokeStyle=ht}let at=s.lineWidth;const ct=s.textMatrixScale;if(ct===0||at===0){const ht=s.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(ht===TextRenderingMode.STROKE||ht===TextRenderingMode.FILL_STROKE)&&(at=this.getSinglePixelWidth())}else at/=ct;if(g!==1&&(d.scale(g,g),at/=g),d.lineWidth=at,a.isInvalidPDFjsFont){const ht=[];let pt=0;for(const ft of e)ht.push(ft.unicode),pt+=ft.width;d.fillText(ht.join(""),0,0),s.x+=pt*rt*et,d.restore(),this.compose();return}let ut=0,dt;for(dt=0;dt<b;++dt){const ht=e[dt];if(typeof ht=="number"){ut+=_e*ht*c/1e3;continue}let pt=!1;const ft=(ht.isSpace?j:0)+$,bt=ht.fontChar,Ct=ht.accent;let yt,Et,gt=ht.width;if(h){const mt=ht.vmetric||nt,_t=-(ht.vmetric?mt[1]:gt*.5)*rt,St=mt[2]*rt;gt=mt?-mt[0]:gt,yt=_t/g,Et=(ut+St)/g}else yt=ut/g,Et=0;if(a.remeasure&&gt>0){const mt=d.measureText(bt).width*1e3/c*g;if(gt<mt&&this.isFontSubpixelAAEnabled){const _t=gt/mt;pt=!0,d.save(),d.scale(_t,1),yt/=_t}else gt!==mt&&(yt+=(gt-mt)/2e3*c/g)}if(this.contentVisible&&(ht.isInFont||a.missingFile)){if(it&&!Ct)d.fillText(bt,yt,Et);else if(this.paintChar(bt,yt,Et,st,ot),Ct){const mt=yt+c*Ct.offset.x/g,_t=Et-c*Ct.offset.y/g;this.paintChar(Ct.fontChar,mt,_t,st,ot)}}const At=h?gt*rt-ft*tt:gt*rt+ft*tt;ut+=At,pt&&d.restore()}h?s.y-=ut:s.x+=ut*et,d.restore(),this.compose()}showType3Text(e){const s=this.ctx,a=this.current,c=a.font,d=a.fontSize,g=a.fontDirection,$=c.vertical?1:-1,j=a.charSpacing,tt=a.wordSpacing,et=a.textHScale*g,b=a.fontMatrix||FONT_IDENTITY_MATRIX,h=e.length,_e=a.textRenderingMode===TextRenderingMode.INVISIBLE;let nt,rt,it,st;if(!(_e||d===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),s.transform(...a.textMatrix),s.translate(a.x,a.y),s.scale(et,g),nt=0;nt<h;++nt){if(rt=e[nt],typeof rt=="number"){st=$*rt*d/1e3,this.ctx.translate(st,0),a.x+=st*et;continue}const ot=(rt.isSpace?tt:0)+j,at=c.charProcOperatorList[rt.operatorListId];if(!at){warn(`Type3 character "${rt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=rt,this.save(),s.scale(d,d),s.transform(...b),this.executeOperatorList(at),this.restore()),it=Util.applyTransform([rt.width,0],b)[0]*d+ot,s.translate(it,0),a.x+=it*et}s.restore(),this.processingType3=null}}setCharWidth(e,s){}setCharWidthAndBounds(e,s,a,c,d,g){this.ctx.rect(a,c,d-a,g-c),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let s;if(e[0]==="TilingPattern"){const a=e[1],c=this.baseTransform||getCurrentTransform(this.ctx),d={createCanvasGraphics:g=>new l1(g,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};s=new TilingPattern(e,a,this.ctx,d,c)}else s=this._getPattern(e[1],e[2]);return s}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,s,a){this.ctx.strokeStyle=this.current.strokeColor=Util.makeHexColor(e,s,a),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,s,a){this.ctx.fillStyle=this.current.fillColor=Util.makeHexColor(e,s,a),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,s=null){let a;return this.cachedPatterns.has(e)?a=this.cachedPatterns.get(e):(a=getShadingPattern(this.getObject(e)),this.cachedPatterns.set(e,a)),s&&(a.matrix=s),a}shadingFill(e){if(!this.contentVisible)return;const s=this.ctx;this.save();const a=this._getPattern(e);s.fillStyle=a.getPattern(s,this,getCurrentTransformInverse(s),PathType.SHADING);const c=getCurrentTransformInverse(s);if(c){const{width:d,height:g}=s.canvas,[$,j,tt,et]=Util.getAxialAlignedBoundingBox([0,0,d,g],c);this.ctx.fillRect($,j,tt-$,et-j)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(e,s){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=getCurrentTransform(this.ctx),s)){const a=s[2]-s[0],c=s[3]-s[1];this.ctx.rect(s[0],s[1],a,c),this.current.updateRectMinMax(getCurrentTransform(this.ctx),s),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;e.isolated||info("TODO: Support non-isolated groups."),e.knockout&&warn("Knockout groups not supported.");const a=getCurrentTransform(s);if(e.matrix&&s.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let c=Util.getAxialAlignedBoundingBox(e.bbox,getCurrentTransform(s));const d=[0,0,s.canvas.width,s.canvas.height];c=Util.intersect(c,d)||[0,0,0,0];const g=Math.floor(c[0]),$=Math.floor(c[1]),j=Math.max(Math.ceil(c[2])-g,1),tt=Math.max(Math.ceil(c[3])-$,1);this.current.startNewPathAndClipBox([0,0,j,tt]);let et="groupAt"+this.groupLevel;e.smask&&(et+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(et,j,tt),h=b.context;h.translate(-g,-$),h.transform(...a),e.smask?this.smaskStack.push({canvas:b.canvas,context:h,offsetX:g,offsetY:$,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(s.setTransform(1,0,0,1,0,0),s.translate(g,$),s.save()),copyCtxState(s,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const c=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...c);const d=Util.getAxialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],c);this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotation(e,s,a,c,d){if(Pt(this,Vs,O0).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const g=s[2]-s[0],$=s[3]-s[1];if(d&&this.annotationCanvasMap){a=a.slice(),a[4]-=s[0],a[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=g,s[3]=$;const[j,tt]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:et}=this,b=Math.ceil(g*this.outputScaleX*et),h=Math.ceil($*this.outputScaleY*et);this.annotationCanvas=this.canvasFactory.create(b,h);const{canvas:_e,context:nt}=this.annotationCanvas;this.annotationCanvasMap.set(e,_e),this.annotationCanvas.savedCtx=this.ctx,this.ctx=nt,this.ctx.save(),this.ctx.setTransform(j,0,0,-tt,0,$*tt),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.endPath(),this.ctx.rect(s[0],s[1],g,$),this.ctx.clip(),this.ctx.beginPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...a),this.transform(...c)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Pt(this,Vs,P0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const s=e.count;e=this.getObject(e.data,e),e.count=s;const a=this.ctx,c=this.processingType3;if(c&&(c.compiled===void 0&&(c.compiled=compileType3Glyph(e)),c.compiled)){c.compiled(a);return}const d=this._createMaskCanvas(e),g=d.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(g,d.offsetX,d.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,s,a=0,c=0,d,g){if(!this.contentVisible)return;e=this.getObject(e.data,e);const $=this.ctx;$.save();const j=getCurrentTransform($);$.transform(s,a,c,d,0,0);const tt=this._createMaskCanvas(e);$.setTransform(1,0,0,1,tt.offsetX-j[4],tt.offsetY-j[5]);for(let et=0,b=g.length;et<b;et+=2){const h=Util.transform(j,[s,a,c,d,g[et],g[et+1]]),[_e,nt]=Util.applyTransform([0,0],h);$.drawImage(tt.canvas,_e,nt)}$.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const s=this.ctx,a=this.current.fillColor,c=this.current.patternFill;for(const d of e){const{data:g,width:$,height:j,transform:tt}=d,et=this.cachedCanvases.getCanvas("maskCanvas",$,j),b=et.context;b.save();const h=this.getObject(g,d);putBinaryImageMask(b,h),b.globalCompositeOperation="source-in",b.fillStyle=c?a.getPattern(b,this,getCurrentTransformInverse(s),PathType.FILL):a,b.fillRect(0,0,$,j),b.restore(),s.save(),s.transform(...tt),s.scale(1,-1),drawImageAtIntegerCoords(s,et.canvas,0,0,$,j,0,-1,1,1),s.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(s)}paintImageXObjectRepeat(e,s,a,c){if(!this.contentVisible)return;const d=this.getObject(e);if(!d){warn("Dependent image isn't ready yet");return}const g=d.width,$=d.height,j=[];for(let tt=0,et=c.length;tt<et;tt+=2)j.push({transform:[s,0,0,a,c[tt],c[tt+1]],x:0,y:0,w:g,h:$});this.paintInlineImageXObjectGroup(d,j)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:s,width:a,height:c}=e,d=this.cachedCanvases.getCanvas("inlineImage",a,c),g=d.context;return g.filter=this.current.transferMaps,g.drawImage(s,0,0),g.filter="none",d.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const s=e.width,a=e.height,c=this.ctx;if(this.save(),!isNodeJS){const{filter:$}=c;$!=="none"&&$!==""&&(c.filter="none")}c.scale(1/s,-1/a);let d;if(e.bitmap)d=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)d=e;else{const j=this.cachedCanvases.getCanvas("inlineImage",s,a).context;putBinaryImageData(j,e),d=this.applyTransferMapsToCanvas(j)}const g=this._scaleImage(d,getCurrentTransformInverse(c));c.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(c),e.interpolate),drawImageAtIntegerCoords(c,g.img,0,0,g.paintWidth,g.paintHeight,0,-a,s,a),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,s){if(!this.contentVisible)return;const a=this.ctx;let c;if(e.bitmap)c=e.bitmap;else{const d=e.width,g=e.height,j=this.cachedCanvases.getCanvas("inlineImage",d,g).context;putBinaryImageData(j,e),c=this.applyTransferMapsToCanvas(j)}for(const d of s)a.save(),a.transform(...d.transform),a.scale(1,-1),drawImageAtIntegerCoords(a,c,d.x,d.y,d.w,d.h,0,-1,1,1),a.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,s){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,s){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(s||(this.pendingClip===EO_CLIP?a.clip("evenodd"):a.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=getCurrentTransform(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const s=Math.abs(e[0]*e[3]-e[2]*e[1]),a=Math.hypot(e[0],e[2]),c=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(a,c)/s}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:s,b:a,c,d}=this.ctx.getTransform();let g,$;if(a===0&&c===0){const j=Math.abs(s),tt=Math.abs(d);if(j===tt)if(e===0)g=$=1/j;else{const et=j*e;g=$=et<1?1/et:1}else if(e===0)g=1/j,$=1/tt;else{const et=j*e,b=tt*e;g=et<1?1/et:1,$=b<1?1/b:1}}else{const j=Math.abs(s*d-a*c),tt=Math.hypot(s,a),et=Math.hypot(c,d);if(e===0)g=et/j,$=tt/j;else{const b=e*j;g=et>b?et/b:1,$=tt>b?tt/b:1}}this._cachedScaleForStroking[0]=g,this._cachedScaleForStroking[1]=$}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:s}=this,{lineWidth:a}=this.current,[c,d]=this.getScaleForStroking();if(s.lineWidth=a||1,c===1&&d===1){s.stroke();return}const g=s.getLineDash();if(e&&s.save(),s.scale(c,d),g.length>0){const $=Math.max(c,d);s.setLineDash(g.map(j=>j/$)),s.lineDashOffset/=$}s.stroke(),e&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Vs=new WeakSet,O0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},P0=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const s=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=s}}},F0=function(e,s,a){const c=new Path2D;return c.addPath(e,new DOMMatrix(a).invertSelf().multiplySelf(s)),c};let CanvasGraphics=l1;for(const o in OPS)CanvasGraphics.prototype[o]!==void 0&&(CanvasGraphics.prototype[OPS[o]]=CanvasGraphics.prototype[o]);var fy,py;class GlobalWorkerOptions{static get workerPort(){return lt(this,fy)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");xt(this,fy,e)}static get workerSrc(){return lt(this,py)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");xt(this,py,e)}}fy=new WeakMap,py=new WeakMap,Mt(GlobalWorkerOptions,fy,null),Mt(GlobalWorkerOptions,py,"");var _u,gy;class Metadata{constructor({parsedData:e,rawData:s}){Mt(this,_u);Mt(this,gy);xt(this,_u,e),xt(this,gy,s)}getRaw(){return lt(this,gy)}get(e){return lt(this,_u).get(e)??null}getAll(){return objectFromMap(lt(this,_u))}has(e){return lt(this,_u).has(e)}}_u=new WeakMap,gy=new WeakMap;const INTERNAL=Symbol("INTERNAL");var my,yy,by,Ep;class OptionalContentGroup{constructor(e,{name:s,intent:a,usage:c,rbGroups:d}){Mt(this,my,!1);Mt(this,yy,!1);Mt(this,by,!1);Mt(this,Ep,!0);xt(this,my,!!(e&RenderingIntentFlag.DISPLAY)),xt(this,yy,!!(e&RenderingIntentFlag.PRINT)),this.name=s,this.intent=a,this.usage=c,this.rbGroups=d}get visible(){if(lt(this,by))return lt(this,Ep);if(!lt(this,Ep))return!1;const{print:e,view:s}=this.usage;return lt(this,my)?(s==null?void 0:s.viewState)!=="OFF":lt(this,yy)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,s,a=!1){e!==INTERNAL&&unreachable("Internal method `_setVisible` called."),xt(this,by,a),xt(this,Ep,s)}}my=new WeakMap,yy=new WeakMap,by=new WeakMap,Ep=new WeakMap;var wl,tr,Ap,Dp,_y,I0;class OptionalContentConfig{constructor(e,s=RenderingIntentFlag.DISPLAY){Mt(this,_y);Mt(this,wl,null);Mt(this,tr,new Map);Mt(this,Ap,null);Mt(this,Dp,null);if(this.renderingIntent=s,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,xt(this,Dp,e.order);for(const a of e.groups)lt(this,tr).set(a.id,new OptionalContentGroup(s,a));if(e.baseState==="OFF")for(const a of lt(this,tr).values())a._setVisible(INTERNAL,!1);for(const a of e.on)lt(this,tr).get(a)._setVisible(INTERNAL,!0);for(const a of e.off)lt(this,tr).get(a)._setVisible(INTERNAL,!1);xt(this,Ap,this.getHash())}}isVisible(e){if(lt(this,tr).size===0)return!0;if(!e)return info("Optional content group not defined."),!0;if(e.type==="OCG")return lt(this,tr).has(e.id)?lt(this,tr).get(e.id).visible:(warn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return Pt(this,_y,I0).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const s of e.ids){if(!lt(this,tr).has(s))return warn(`Optional content group not found: ${s}`),!0;if(lt(this,tr).get(s).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const s of e.ids){if(!lt(this,tr).has(s))return warn(`Optional content group not found: ${s}`),!0;if(!lt(this,tr).get(s).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const s of e.ids){if(!lt(this,tr).has(s))return warn(`Optional content group not found: ${s}`),!0;if(!lt(this,tr).get(s).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const s of e.ids){if(!lt(this,tr).has(s))return warn(`Optional content group not found: ${s}`),!0;if(lt(this,tr).get(s).visible)return!1}return!0}return warn(`Unknown optional content policy ${e.policy}.`),!0}return warn(`Unknown group type ${e.type}.`),!0}setVisibility(e,s=!0,a=!0){var d;const c=lt(this,tr).get(e);if(!c){warn(`Optional content group not found: ${e}`);return}if(a&&s&&c.rbGroups.length)for(const g of c.rbGroups)for(const $ of g)$!==e&&((d=lt(this,tr).get($))==null||d._setVisible(INTERNAL,!1,!0));c._setVisible(INTERNAL,!!s,!0),xt(this,wl,null)}setOCGState({state:e,preserveRB:s}){let a;for(const c of e){switch(c){case"ON":case"OFF":case"Toggle":a=c;continue}const d=lt(this,tr).get(c);if(d)switch(a){case"ON":this.setVisibility(c,!0,s);break;case"OFF":this.setVisibility(c,!1,s);break;case"Toggle":this.setVisibility(c,!d.visible,s);break}}xt(this,wl,null)}get hasInitialVisibility(){return lt(this,Ap)===null||this.getHash()===lt(this,Ap)}getOrder(){return lt(this,tr).size?lt(this,Dp)?lt(this,Dp).slice():[...lt(this,tr).keys()]:null}getGroups(){return lt(this,tr).size>0?objectFromMap(lt(this,tr)):null}getGroup(e){return lt(this,tr).get(e)||null}getHash(){if(lt(this,wl)!==null)return lt(this,wl);const e=new MurmurHash3_64;for(const[s,a]of lt(this,tr))e.update(`${s}:${a.visible}`);return xt(this,wl,e.hexdigest())}}wl=new WeakMap,tr=new WeakMap,Ap=new WeakMap,Dp=new WeakMap,_y=new WeakSet,I0=function(e){const s=e.length;if(s<2)return!0;const a=e[0];for(let c=1;c<s;c++){const d=e[c];let g;if(Array.isArray(d))g=Pt(this,_y,I0).call(this,d);else if(lt(this,tr).has(d))g=lt(this,tr).get(d).visible;else return warn(`Optional content group not found: ${d}`),!0;switch(a){case"And":if(!g)return!1;break;case"Or":if(g)return!0;break;case"Not":return!g;default:return!0}}return a==="And"};class PDFDataTransportStream{constructor(e,{disableRange:s=!1,disableStream:a=!1}){assert(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:c,initialData:d,progressiveDone:g,contentDispositionFilename:$}=e;if(this._queuedChunks=[],this._progressiveDone=g,this._contentDispositionFilename=$,(d==null?void 0:d.length)>0){const j=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;this._queuedChunks.push(j)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!a,this._isRangeSupported=!s,this._contentLength=c,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((j,tt)=>{this._onReceiveData({begin:j,chunk:tt})}),e.addProgressListener((j,tt)=>{this._onProgress({loaded:j,total:tt})}),e.addProgressiveReadListener(j=>{this._onReceiveData({chunk:j})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:s}){const a=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const c=this._rangeReaders.some(function(d){return d._begin!==e?!1:(d._enqueue(a),!0)});assert(c,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var s,a,c,d;e.total===void 0?(a=(s=this._rangeReaders[0])==null?void 0:s.onProgress)==null||a.call(s,{loaded:e.loaded}):(d=(c=this._fullRequestReader)==null?void 0:c.onProgress)==null||d.call(c,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const s=this._rangeReaders.indexOf(e);s>=0&&this._rangeReaders.splice(s,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,s){if(s<=this._progressiveDataLength)return null;const a=new PDFDataTransportStreamRangeReader(this,e,s);return this._pdfDataRangeTransport.requestDataRange(e,s),this._rangeReaders.push(a),a}cancelAllRequests(e){var s;(s=this._fullRequestReader)==null||s.cancel(e);for(const a of this._rangeReaders.slice(0))a.cancel(e);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(e,s,a=!1,c=null){this._stream=e,this._done=a||!1,this._filename=isPdfFile(c)?c:null,this._queuedChunks=s||[],this._loaded=0;for(const d of this._queuedChunks)this._loaded+=d.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(e,s,a){this._stream=e,this._begin=s,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(o){let e=!0,s=a("filename\\*","i").exec(o);if(s){s=s[1];let et=$(s);return et=unescape(et),et=j(et),et=tt(et),d(et)}if(s=g(o),s){const et=tt(s);return d(et)}if(s=a("filename","i").exec(o),s){s=s[1];let et=$(s);return et=tt(et),d(et)}function a(et,b){return new RegExp("(?:^|;)\\s*"+et+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function c(et,b){if(et){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const h=new TextDecoder(et,{fatal:!0}),_e=stringToBytes(b);b=h.decode(_e),e=!1}catch{}}return b}function d(et){return e&&/[\x80-\xff]/.test(et)&&(et=c("utf-8",et),e&&(et=c("iso-8859-1",et))),et}function g(et){const b=[];let h;const _e=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=_e.exec(et))!==null;){let[,rt,it,st]=h;if(rt=parseInt(rt,10),rt in b){if(rt===0)break;continue}b[rt]=[it,st]}const nt=[];for(let rt=0;rt<b.length&&rt in b;++rt){let[it,st]=b[rt];st=$(st),it&&(st=unescape(st),rt===0&&(st=j(st))),nt.push(st)}return nt.join("")}function $(et){if(et.startsWith('"')){const b=et.slice(1).split('\\"');for(let h=0;h<b.length;++h){const _e=b[h].indexOf('"');_e!==-1&&(b[h]=b[h].slice(0,_e),b.length=h+1),b[h]=b[h].replaceAll(/\\(.)/g,"$1")}et=b.join('"')}return et}function j(et){const b=et.indexOf("'");if(b===-1)return et;const h=et.slice(0,b),nt=et.slice(b+1).replace(/^[^']*'/,"");return c(h,nt)}function tt(et){return!et.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(et)?et:et.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,h,_e,nt){if(_e==="q"||_e==="Q")return nt=nt.replaceAll("_"," "),nt=nt.replaceAll(/=([0-9a-fA-F]{2})/g,function(rt,it){return String.fromCharCode(parseInt(it,16))}),c(h,nt);try{nt=atob(nt)}catch{}return c(h,nt)})}return""}function createHeaders(o,e){const s=new Headers;if(!o||!e||typeof e!="object")return s;for(const a in e){const c=e[a];c!==void 0&&s.append(a,c)}return s}function getResponseOrigin(o){try{return new URL(o).origin}catch{}return null}function validateRangeRequestCapabilities({responseHeaders:o,isHttp:e,rangeChunkSize:s,disableRange:a}){const c={allowRangeRequests:!1,suggestedLength:void 0},d=parseInt(o.get("Content-Length"),10);return!Number.isInteger(d)||(c.suggestedLength=d,d<=2*s)||a||!e||o.get("Accept-Ranges")!=="bytes"||(o.get("Content-Encoding")||"identity")!=="identity"||(c.allowRangeRequests=!0),c}function extractFilenameFromHeader(o){const e=o.get("Content-Disposition");if(e){let s=getFilenameFromContentDispositionHeader(e);if(s.includes("%"))try{s=decodeURIComponent(s)}catch{}if(isPdfFile(s))return s}return null}function createResponseStatusError(o,e){return o===404||o===0&&e.startsWith("file:")?new MissingPDFException('Missing PDF "'+e+'".'):new UnexpectedResponseException(`Unexpected server response (${o}) while retrieving PDF "${e}".`,o)}function validateResponseStatus(o){return o===200||o===206}function createFetchOptions(o,e,s){return{method:"GET",headers:o,signal:s.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function getArrayBuffer(o){return o instanceof Uint8Array?o.buffer:o instanceof ArrayBuffer?o:(warn(`getArrayBuffer - unexpected data format: ${o}`),new Uint8Array(o).buffer)}class PDFFetchStream{constructor(e){nn(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=createHeaders(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(e,s){if(s<=this._progressiveDataLength)return null;const a=new PDFFetchStreamRangeReader(this,e,s);return this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var s;(s=this._fullRequestReader)==null||s.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class PDFFetchStreamReader{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const s=e.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange;const a=new Headers(e.headers),c=s.url;fetch(c,createFetchOptions(a,this._withCredentials,this._abortController)).then(d=>{if(e._responseOrigin=getResponseOrigin(d.url),!validateResponseStatus(d.status))throw createResponseStatusError(d.status,c);this._reader=d.body.getReader(),this._headersCapability.resolve();const g=d.headers,{allowRangeRequests:$,suggestedLength:j}=validateRangeRequestCapabilities({responseHeaders:g,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=$,this._contentLength=j||this._contentLength,this._filename=extractFilenameFromHeader(g),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._headersCapability.promise;const{value:e,done:s}=await this._reader.read();return s?{value:e,done:s}:(this._loaded+=e.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(e),done:!1})}cancel(e){var s;(s=this._reader)==null||s.cancel(e),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(e,s,a){this._stream=e,this._reader=null,this._loaded=0;const c=e.source;this._withCredentials=c.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!c.disableStream,this._abortController=new AbortController;const d=new Headers(e.headers);d.append("Range",`bytes=${s}-${a-1}`);const g=c.url;fetch(g,createFetchOptions(d,this._withCredentials,this._abortController)).then($=>{const j=getResponseOrigin($.url);if(j!==e._responseOrigin)throw new Error(`Expected range response-origin "${j}" to match "${e._responseOrigin}".`);if(!validateResponseStatus($.status))throw createResponseStatusError($.status,g);this._readCapability.resolve(),this._reader=$.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._readCapability.promise;const{value:e,done:s}=await this._reader.read();return s?{value:e,done:s}:(this._loaded+=e.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:getArrayBuffer(e),done:!1})}cancel(e){var s;(s=this._reader)==null||s.cancel(e),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(o){const e=o.response;return typeof e!="string"?e:stringToBytes(e).buffer}class NetworkManager{constructor({url:e,httpHeaders:s,withCredentials:a}){nn(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=createHeaders(this.isHttp,s),this.withCredentials=a||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const s=new XMLHttpRequest,a=this.currXhrId++,c=this.pendingRequests[a]={xhr:s};s.open("GET",this.url),s.withCredentials=this.withCredentials;for(const[d,g]of this.headers)s.setRequestHeader(d,g);return this.isHttp&&"begin"in e&&"end"in e?(s.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),c.expectedStatus=PARTIAL_CONTENT_RESPONSE):c.expectedStatus=OK_RESPONSE,s.responseType="arraybuffer",assert(e.onError,"Expected `onError` callback to be provided."),s.onerror=()=>{e.onError(s.status)},s.onreadystatechange=this.onStateChange.bind(this,a),s.onprogress=this.onProgress.bind(this,a),c.onHeadersReceived=e.onHeadersReceived,c.onDone=e.onDone,c.onError=e.onError,c.onProgress=e.onProgress,s.send(null),a}onProgress(e,s){var c;const a=this.pendingRequests[e];a&&((c=a.onProgress)==null||c.call(a,s))}onStateChange(e,s){const a=this.pendingRequests[e];if(!a)return;const c=a.xhr;if(c.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),c.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],c.status===0&&this.isHttp){a.onError(c.status);return}const d=c.status||OK_RESPONSE;if(!(d===OK_RESPONSE&&a.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&d!==a.expectedStatus){a.onError(c.status);return}const $=network_getArrayBuffer(c);if(d===PARTIAL_CONTENT_RESPONSE){const j=c.getResponseHeader("Content-Range"),tt=/bytes (\d+)-(\d+)\/(\d+)/.exec(j);tt?a.onDone({begin:parseInt(tt[1],10),chunk:$}):(warn('Missing or invalid "Content-Range" header.'),a.onError(0))}else $?a.onDone({begin:0,chunk:$}):a.onError(c.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const s=this.pendingRequests[e].xhr;delete this.pendingRequests[e],s.abort()}}class PDFNetworkStream{constructor(e){this._source=e,this._manager=new NetworkManager(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const s=this._rangeRequestReaders.indexOf(e);s>=0&&this._rangeRequestReaders.splice(s,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(e,s){const a=new PDFNetworkStreamRangeRequestReader(this._manager,e,s);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var s;(s=this._fullRequestReader)==null||s.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class PDFNetworkStreamFullRequestReader{constructor(e,s){this._manager=e,this._url=s.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._contentLength=s.length,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,s=this._manager.getRequestXhr(e);this._manager._responseOrigin=getResponseOrigin(s.responseURL);const a=s.getAllResponseHeaders(),c=new Headers(a?a.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map($=>{const[j,...tt]=$.split(": ");return[j,tt.join(": ")]}):[]),{allowRangeRequests:d,suggestedLength:g}=validateRangeRequestCapabilities({responseHeaders:c,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});d&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=extractFilenameFromHeader(c),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=createResponseStatusError(e,this._url),this._headersCapability.reject(this._storedError);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var s;(s=this.onProgress)==null||s.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(e,s,a){this._manager=e,this._url=e.url,this._requestId=e.request({begin:s,end:a,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var s;const e=getResponseOrigin((s=this._manager.getRequestXhr(this._requestId))==null?void 0:s.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const s=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunk=s,this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=createResponseStatusError(e,this._url));for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var s;this.isStreamingSupported||(s=this.onProgress)==null||s.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const urlRegex=/^[a-z][a-z0-9\-+.]+:/i;function parseUrlOrPath(o){if(urlRegex.test(o))return new URL(o);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(o))}class PDFNodeStream{constructor(e){this.source=e,this.url=parseUrlOrPath(e.url),assert(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNodeStreamFsFullReader(this),this._fullRequestReader}getRangeReader(e,s){if(s<=this._progressiveDataLength)return null;const a=new PDFNodeStreamFsRangeReader(this,e,s);return this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var s;(s=this._fullRequestReader)==null||s.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class PDFNodeStreamFsFullReader{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=e.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const a=process.getBuiltinModule("fs");a.promises.lstat(this._url).then(c=>{this._contentLength=c.size,this._setReadableStream(a.createReadStream(this._url)),this._headersCapability.resolve()},c=>{c.code==="ENOENT"&&(c=new MissingPDFException(`Missing PDF "${this._url}".`)),this._storedError=c,this._headersCapability.reject(c)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class PDFNodeStreamFsRangeReader{constructor(e,s,a){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const c=e.source;this._isStreamingSupported=!c.disableStream;const d=process.getBuiltinModule("fs");this._setReadableStream(d.createReadStream(this._url,{start:s,end:a-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var L1,xl,es,vy,wy,vu,Co,xy,Ty,wu,Sp,Cp,Tl,kp,Ey,Mp,xu,Ay,Dy,Tu,Eu,Sy,El,Op,Ho,_v,vv,N0,ms,T_,R0,wv,xv;const br=class br{constructor({textContentSource:e,container:s,viewport:a}){Mt(this,Ho);Mt(this,xl,Promise.withResolvers());Mt(this,es,null);Mt(this,vy,!1);Mt(this,wy,!!((L1=globalThis.FontInspector)!=null&&L1.enabled));Mt(this,vu,null);Mt(this,Co,null);Mt(this,xy,0);Mt(this,Ty,0);Mt(this,wu,null);Mt(this,Sp,null);Mt(this,Cp,0);Mt(this,Tl,0);Mt(this,kp,Object.create(null));Mt(this,Ey,[]);Mt(this,Mp,null);Mt(this,xu,[]);Mt(this,Ay,new WeakMap);Mt(this,Dy,null);var j;if(e instanceof ReadableStream)xt(this,Mp,e);else if(typeof e=="object")xt(this,Mp,new ReadableStream({start(tt){tt.enqueue(e),tt.close()}}));else throw new Error('No "textContentSource" parameter specified.');xt(this,es,xt(this,Sp,s)),xt(this,Tl,a.scale*(globalThis.devicePixelRatio||1)),xt(this,Cp,a.rotation),xt(this,Co,{div:null,properties:null,ctx:null});const{pageWidth:c,pageHeight:d,pageX:g,pageY:$}=a.rawDims;xt(this,Dy,[1,0,0,-1,-g,$+d]),xt(this,Ty,c),xt(this,xy,d),Pt(j=br,ms,wv).call(j),setLayerDimensions(s,a),lt(this,xl).promise.finally(()=>{lt(br,Op).delete(this),xt(this,Co,null),xt(this,kp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:s}=util_FeatureTest.platform;return shadow(this,"fontFamilyMap",new Map([["sans-serif",`${e&&s?"Calibri, ":""}sans-serif`],["monospace",`${e&&s?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{lt(this,wu).read().then(({value:s,done:a})=>{if(a){lt(this,xl).resolve();return}lt(this,vu)??xt(this,vu,s.lang),Object.assign(lt(this,kp),s.styles),Pt(this,Ho,_v).call(this,s.items),e()},lt(this,xl).reject)};return xt(this,wu,lt(this,Mp).getReader()),lt(br,Op).add(this),e(),lt(this,xl).promise}update({viewport:e,onBefore:s=null}){var d;const a=e.scale*(globalThis.devicePixelRatio||1),c=e.rotation;if(c!==lt(this,Cp)&&(s==null||s(),xt(this,Cp,c),setLayerDimensions(lt(this,Sp),{rotation:c})),a!==lt(this,Tl)){s==null||s(),xt(this,Tl,a);const g={div:null,properties:null,ctx:Pt(d=br,ms,T_).call(d,lt(this,vu))};for(const $ of lt(this,xu))g.properties=lt(this,Ay).get($),g.div=$,Pt(this,Ho,N0).call(this,g)}}cancel(){var s;const e=new AbortException("TextLayer task cancelled.");(s=lt(this,wu))==null||s.cancel(e).catch(()=>{}),xt(this,wu,null),lt(this,xl).reject(e)}get textDivs(){return lt(this,xu)}get textContentItemsStr(){return lt(this,Ey)}static cleanup(){if(!(lt(this,Op).size>0)){lt(this,Tu).clear();for(const{canvas:e}of lt(this,Eu).values())e.remove();lt(this,Eu).clear()}}};xl=new WeakMap,es=new WeakMap,vy=new WeakMap,wy=new WeakMap,vu=new WeakMap,Co=new WeakMap,xy=new WeakMap,Ty=new WeakMap,wu=new WeakMap,Sp=new WeakMap,Cp=new WeakMap,Tl=new WeakMap,kp=new WeakMap,Ey=new WeakMap,Mp=new WeakMap,xu=new WeakMap,Ay=new WeakMap,Dy=new WeakMap,Tu=new WeakMap,Eu=new WeakMap,Sy=new WeakMap,El=new WeakMap,Op=new WeakMap,Ho=new WeakSet,_v=function(e){var c,d;if(lt(this,vy))return;(d=lt(this,Co)).ctx??(d.ctx=Pt(c=br,ms,T_).call(c,lt(this,vu)));const s=lt(this,xu),a=lt(this,Ey);for(const g of e){if(s.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),xt(this,vy,!0);return}if(g.str===void 0){if(g.type==="beginMarkedContentProps"||g.type==="beginMarkedContent"){const $=lt(this,es);xt(this,es,document.createElement("span")),lt(this,es).classList.add("markedContent"),g.id!==null&&lt(this,es).setAttribute("id",`${g.id}`),$.append(lt(this,es))}else g.type==="endMarkedContent"&&xt(this,es,lt(this,es).parentNode);continue}a.push(g.str),Pt(this,Ho,vv).call(this,g)}},vv=function(e){var rt;const s=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};lt(this,xu).push(s);const c=Util.transform(lt(this,Dy),e.transform);let d=Math.atan2(c[1],c[0]);const g=lt(this,kp)[e.fontName];g.vertical&&(d+=Math.PI/2);let $=lt(this,wy)&&g.fontSubstitution||g.fontFamily;$=br.fontFamilyMap.get($)||$;const j=Math.hypot(c[2],c[3]),tt=j*Pt(rt=br,ms,xv).call(rt,$,lt(this,vu));let et,b;d===0?(et=c[4],b=c[5]-tt):(et=c[4]+tt*Math.sin(d),b=c[5]-tt*Math.cos(d));const h="calc(var(--scale-factor)*",_e=s.style;lt(this,es)===lt(this,Sp)?(_e.left=`${(100*et/lt(this,Ty)).toFixed(2)}%`,_e.top=`${(100*b/lt(this,xy)).toFixed(2)}%`):(_e.left=`${h}${et.toFixed(2)}px)`,_e.top=`${h}${b.toFixed(2)}px)`),_e.fontSize=`${h}${(lt(br,El)*j).toFixed(2)}px)`,_e.fontFamily=$,a.fontSize=j,s.setAttribute("role","presentation"),s.textContent=e.str,s.dir=e.dir,lt(this,wy)&&(s.dataset.fontName=g.fontSubstitutionLoadedName||e.fontName),d!==0&&(a.angle=d*(180/Math.PI));let nt=!1;if(e.str.length>1)nt=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const it=Math.abs(e.transform[0]),st=Math.abs(e.transform[3]);it!==st&&Math.max(it,st)/Math.min(it,st)>1.5&&(nt=!0)}if(nt&&(a.canvasWidth=g.vertical?e.height:e.width),lt(this,Ay).set(s,a),lt(this,Co).div=s,lt(this,Co).properties=a,Pt(this,Ho,N0).call(this,lt(this,Co)),a.hasText&&lt(this,es).append(s),a.hasEOL){const it=document.createElement("br");it.setAttribute("role","presentation"),lt(this,es).append(it)}},N0=function(e){var $;const{div:s,properties:a,ctx:c}=e,{style:d}=s;let g="";if(lt(br,El)>1&&(g=`scale(${1/lt(br,El)})`),a.canvasWidth!==0&&a.hasText){const{fontFamily:j}=d,{canvasWidth:tt,fontSize:et}=a;Pt($=br,ms,R0).call($,c,et*lt(this,Tl),j);const{width:b}=c.measureText(s.textContent);b>0&&(g=`scaleX(${tt*lt(this,Tl)/b}) ${g}`)}a.angle!==0&&(g=`rotate(${a.angle}deg) ${g}`),g.length>0&&(d.transform=g)},ms=new WeakSet,T_=function(e=null){let s=lt(this,Eu).get(e||(e=""));if(!s){const a=document.createElement("canvas");a.className="hiddenCanvasElement",a.lang=e,document.body.append(a),s=a.getContext("2d",{alpha:!1,willReadFrequently:!0}),lt(this,Eu).set(e,s),lt(this,Sy).set(s,{size:0,family:""})}return s},R0=function(e,s,a){const c=lt(this,Sy).get(e);s===c.size&&a===c.family||(e.font=`${s}px ${a}`,c.size=s,c.family=a)},wv=function(){if(lt(this,El)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),xt(this,El,e.getBoundingClientRect().height),e.remove()},xv=function(e,s){const a=lt(this,Tu).get(e);if(a)return a;const c=Pt(this,ms,T_).call(this,s);c.canvas.width=c.canvas.height=DEFAULT_FONT_SIZE,Pt(this,ms,R0).call(this,c,DEFAULT_FONT_SIZE,e);const d=c.measureText("");let g=d.fontBoundingBoxAscent,$=Math.abs(d.fontBoundingBoxDescent);if(g){const et=g/(g+$);return lt(this,Tu).set(e,et),c.canvas.width=c.canvas.height=0,et}c.strokeStyle="red",c.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),c.strokeText("g",0,0);let j=c.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;$=0;for(let et=j.length-1-3;et>=0;et-=4)if(j[et]>0){$=Math.ceil(et/4/DEFAULT_FONT_SIZE);break}c.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),c.strokeText("A",0,DEFAULT_FONT_SIZE),j=c.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,g=0;for(let et=0,b=j.length;et<b;et+=4)if(j[et]>0){g=DEFAULT_FONT_SIZE-Math.floor(et/4/DEFAULT_FONT_SIZE);break}c.canvas.width=c.canvas.height=0;const tt=g?g/(g+$):DEFAULT_FONT_ASCENT;return lt(this,Tu).set(e,tt),tt},Mt(br,ms),Mt(br,Tu,new Map),Mt(br,Eu,new Map),Mt(br,Sy,new WeakMap),Mt(br,El,null),Mt(br,Op,new Set);let TextLayer=br;class XfaText{static textContent(e){const s=[],a={items:s,styles:Object.create(null)};function c(d){var j;if(!d)return;let g=null;const $=d.name;if($==="#text")g=d.value;else if(XfaText.shouldBuildText($))(j=d==null?void 0:d.attributes)!=null&&j.textContent?g=d.attributes.textContent:d.value&&(g=d.value);else return;if(g!==null&&s.push({str:g}),!!d.children)for(const tt of d.children)c(tt)}return c(e),a}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(o={}){typeof o=="string"||o instanceof URL?o={url:o}:(o instanceof ArrayBuffer||ArrayBuffer.isView(o))&&(o={data:o});const e=new PDFDocumentLoadingTask,{docId:s}=e,a=o.url?getUrlProp(o.url):null,c=o.data?getDataProp(o.data):null,d=o.httpHeaders||null,g=o.withCredentials===!0,$=o.password??null,j=o.range instanceof PDFDataRangeTransport?o.range:null,tt=Number.isInteger(o.rangeChunkSize)&&o.rangeChunkSize>0?o.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let et=o.worker instanceof PDFWorker?o.worker:null;const b=o.verbosity,h=typeof o.docBaseUrl=="string"&&!isDataScheme(o.docBaseUrl)?o.docBaseUrl:null,_e=typeof o.cMapUrl=="string"?o.cMapUrl:null,nt=o.cMapPacked!==!1,rt=o.CMapReaderFactory||DefaultCMapReaderFactory,it=typeof o.standardFontDataUrl=="string"?o.standardFontDataUrl:null,st=o.StandardFontDataFactory||DefaultStandardFontDataFactory,ot=o.stopAtErrors!==!0,at=Number.isInteger(o.maxImageSize)&&o.maxImageSize>-1?o.maxImageSize:-1,ct=o.isEvalSupported!==!1,ut=typeof o.isOffscreenCanvasSupported=="boolean"?o.isOffscreenCanvasSupported:!isNodeJS,dt=typeof o.isImageDecoderSupported=="boolean"?o.isImageDecoderSupported:!isNodeJS&&(util_FeatureTest.platform.isFirefox||!globalThis.chrome),ht=Number.isInteger(o.canvasMaxAreaInBytes)?o.canvasMaxAreaInBytes:-1,pt=typeof o.disableFontFace=="boolean"?o.disableFontFace:isNodeJS,ft=o.fontExtraProperties===!0,bt=o.enableXfa===!0,Ct=o.ownerDocument||globalThis.document,yt=o.disableRange===!0,Et=o.disableStream===!0,gt=o.disableAutoFetch===!0,At=o.pdfBug===!0,mt=o.CanvasFactory||DefaultCanvasFactory,_t=o.FilterFactory||DefaultFilterFactory,St=o.enableHWA===!0,wt=j?j.length:o.length??NaN,kt=typeof o.useSystemFonts=="boolean"?o.useSystemFonts:!isNodeJS&&!pt,Dt=typeof o.useWorkerFetch=="boolean"?o.useWorkerFetch:rt===DOMCMapReaderFactory&&st===DOMStandardFontDataFactory&&_e&&it&&isValidFetchUrl(_e,document.baseURI)&&isValidFetchUrl(it,document.baseURI),Ft=null;setVerbosityLevel(b);const Ot={canvasFactory:new mt({ownerDocument:Ct,enableHWA:St}),filterFactory:new _t({docId:s,ownerDocument:Ct}),cMapReaderFactory:Dt?null:new rt({baseUrl:_e,isCompressed:nt}),standardFontDataFactory:Dt?null:new st({baseUrl:it})};if(!et){const Zt={verbosity:b,port:GlobalWorkerOptions.workerPort};et=Zt.port?PDFWorker.fromPort(Zt):new PDFWorker(Zt),e._worker=et}const Bt={docId:s,apiVersion:"4.10.38",data:c,password:$,disableAutoFetch:gt,rangeChunkSize:tt,length:wt,docBaseUrl:h,enableXfa:bt,evaluatorOptions:{maxImageSize:at,disableFontFace:pt,ignoreErrors:ot,isEvalSupported:ct,isOffscreenCanvasSupported:ut,isImageDecoderSupported:dt,canvasMaxAreaInBytes:ht,fontExtraProperties:ft,useSystemFonts:kt,cMapUrl:Dt?_e:null,standardFontDataUrl:Dt?it:null}},Vt={disableFontFace:pt,fontExtraProperties:ft,ownerDocument:Ct,pdfBug:At,styleElement:Ft,loadingParams:{disableAutoFetch:gt,enableXfa:bt}};return et.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(et.destroyed)throw new Error("Worker was destroyed");const Zt=et.messageHandler.sendWithPromise("GetDocRequest",Bt,c?[c.buffer]:null);let Jt;if(j)Jt=new PDFDataTransportStream(j,{disableRange:yt,disableStream:Et});else if(!c){if(!a)throw new Error("getDocument - no `url` parameter provided.");let fn;if(isNodeJS)if(isValidFetchUrl(a)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");fn=PDFFetchStream}else fn=PDFNodeStream;else fn=isValidFetchUrl(a)?PDFFetchStream:PDFNetworkStream;Jt=new fn({url:a,length:wt,httpHeaders:d,withCredentials:g,rangeChunkSize:tt,disableRange:yt,disableStream:Et})}return Zt.then(fn=>{if(e.destroyed)throw new Error("Loading aborted");if(et.destroyed)throw new Error("Worker was destroyed");const yn=new MessageHandler(s,fn,et.port),_n=new WorkerTransport(yn,e,Jt,Vt,Ot);e._transport=_n,yn.send("Ready",null)})}).catch(e._capability.reject),e}function getUrlProp(o){if(o instanceof URL)return o.href;try{return new URL(o,window.location).href}catch{if(isNodeJS&&typeof o=="string")return o}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(o){if(isNodeJS&&typeof Buffer<"u"&&o instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength)return o;if(typeof o=="string")return stringToBytes(o);if(o instanceof ArrayBuffer||ArrayBuffer.isView(o)||typeof o=="object"&&!isNaN(o==null?void 0:o.length))return new Uint8Array(o);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(o){return typeof o=="object"&&Number.isInteger(o==null?void 0:o.num)&&o.num>=0&&Number.isInteger(o==null?void 0:o.gen)&&o.gen>=0}var K_;const Q_=class Q_{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${zr(Q_,K_)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,s,a,c;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((s=this._transport)==null?void 0:s.destroy())}catch(d){throw(a=this._worker)!=null&&a.port&&delete this._worker._pendingDestroy,d}this._transport=null,(c=this._worker)==null||c.destroy(),this._worker=null}};K_=new WeakMap,Mt(Q_,K_,0);let PDFDocumentLoadingTask=Q_;class PDFDataRangeTransport{constructor(e,s,a=!1,c=null){this.length=e,this.initialData=s,this.progressiveDone=a,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,s){for(const a of this._rangeListeners)a(e,s)}onDataProgress(e,s){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(e,s)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const s of this._progressiveReadListeners)s(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,s){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor(e,s){this._pdfInfo=e,this._transport=s}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(s)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Al,ko,Ds,np,E_;class PDFPageProxy{constructor(e,s,a,c=!1){Mt(this,Ds);Mt(this,Al,null);Mt(this,ko,!1);this._pageIndex=e,this._pageInfo=s,this._transport=a,this._stats=c?new StatTimer:null,this._pdfBug=c,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:s=this.rotate,offsetX:a=0,offsetY:c=0,dontFlip:d=!1}={}){return new PageViewport({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:s,offsetX:a,offsetY:c,dontFlip:d})}getAnnotations({intent:e="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,s)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:s,intent:a="display",annotationMode:c=AnnotationMode.ENABLE,transform:d=null,background:g=null,optionalContentConfigPromise:$=null,annotationCanvasMap:j=null,pageColors:tt=null,printAnnotationStorage:et=null,isEditing:b=!1}){var ct,ut;(ct=this._stats)==null||ct.time("Overall");const h=this._transport.getRenderingIntent(a,c,et,b),{renderingIntent:_e,cacheKey:nt}=h;xt(this,ko,!1),Pt(this,Ds,E_).call(this),$||($=this._transport.getOptionalContentConfig(_e));let rt=this._intentStates.get(nt);rt||(rt=Object.create(null),this._intentStates.set(nt,rt)),rt.streamReaderCancelTimeout&&(clearTimeout(rt.streamReaderCancelTimeout),rt.streamReaderCancelTimeout=null);const it=!!(_e&RenderingIntentFlag.PRINT);rt.displayReadyCapability||(rt.displayReadyCapability=Promise.withResolvers(),rt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ut=this._stats)==null||ut.time("Page Request"),this._pumpOperatorList(h));const st=dt=>{var ht;rt.renderTasks.delete(ot),(this._maybeCleanupAfterRender||it)&&xt(this,ko,!0),Pt(this,Ds,np).call(this,!it),dt?(ot.capability.reject(dt),this._abortOperatorList({intentState:rt,reason:dt instanceof Error?dt:new Error(dt)})):ot.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(ht=globalThis.Stats)!=null&&ht.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},ot=new InternalRenderTask({callback:st,params:{canvasContext:e,viewport:s,transform:d,background:g},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:j,operatorList:rt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!it,pdfBug:this._pdfBug,pageColors:tt});(rt.renderTasks||(rt.renderTasks=new Set)).add(ot);const at=ot.task;return Promise.all([rt.displayReadyCapability.promise,$]).then(([dt,ht])=>{var pt;if(this.destroyed){st();return}if((pt=this._stats)==null||pt.time("Rendering"),!(ht.renderingIntent&_e))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");ot.initializeGraphics({transparency:dt,optionalContentConfig:ht}),ot.operatorListChanged()}).catch(st),at}getOperatorList({intent:e="display",annotationMode:s=AnnotationMode.ENABLE,printAnnotationStorage:a=null,isEditing:c=!1}={}){var tt;function d(){$.operatorList.lastChunk&&($.opListReadCapability.resolve($.operatorList),$.renderTasks.delete(j))}const g=this._transport.getRenderingIntent(e,s,a,c,!0);let $=this._intentStates.get(g.cacheKey);$||($=Object.create(null),this._intentStates.set(g.cacheKey,$));let j;return $.opListReadCapability||(j=Object.create(null),j.operatorListChanged=d,$.opListReadCapability=Promise.withResolvers(),($.renderTasks||($.renderTasks=new Set)).add(j),$.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(tt=this._stats)==null||tt.time("Page Request"),this._pumpOperatorList(g)),$.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:s===!0},{highWaterMark:100,size(c){return c.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>XfaText.textContent(a));const s=this.streamTextContent(e);return new Promise(function(a,c){function d(){g.read().then(function({value:j,done:tt}){if(tt){a($);return}$.lang??($.lang=j.lang),Object.assign($.styles,j.styles),$.items.push(...j.items),d()},c)}const g=s.getReader(),$={items:[],styles:Object.create(null),lang:null};d()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const a of s.renderTasks)e.push(a.completed),a.cancel();return this.objs.clear(),xt(this,ko,!1),Pt(this,Ds,E_).call(this),Promise.all(e)}cleanup(e=!1){xt(this,ko,!0);const s=Pt(this,Ds,np).call(this,!1);return e&&s&&this._stats&&(this._stats=new StatTimer),s}_startRenderPage(e,s){var c,d;const a=this._intentStates.get(s);a&&((c=this._stats)==null||c.timeEnd("Page Request"),(d=a.displayReadyCapability)==null||d.resolve(e))}_renderPageChunk(e,s){for(let a=0,c=e.length;a<c;a++)s.operatorList.fnArray.push(e.fnArray[a]),s.operatorList.argsArray.push(e.argsArray[a]);s.operatorList.lastChunk=e.lastChunk,s.operatorList.separateAnnots=e.separateAnnots;for(const a of s.renderTasks)a.operatorListChanged();e.lastChunk&&Pt(this,Ds,np).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:s,annotationStorageSerializable:a,modifiedIds:c}){const{map:d,transfer:g}=a,j=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:s,annotationStorage:d,modifiedIds:c},g).getReader(),tt=this._intentStates.get(s);tt.streamReader=j;const et=()=>{j.read().then(({value:b,done:h})=>{if(h){tt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,tt),et())},b=>{if(tt.streamReader=null,!this._transport.destroyed){if(tt.operatorList){tt.operatorList.lastChunk=!0;for(const h of tt.renderTasks)h.operatorListChanged();Pt(this,Ds,np).call(this,!0)}if(tt.displayReadyCapability)tt.displayReadyCapability.reject(b);else if(tt.opListReadCapability)tt.opListReadCapability.reject(b);else throw b}})};et()}_abortOperatorList({intentState:e,reason:s,force:a=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!a){if(e.renderTasks.size>0)return;if(s instanceof RenderingCancelledException){let c=RENDERING_CANCELLED_TIMEOUT;s.extraDelay>0&&s.extraDelay<1e3&&(c+=s.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:s,force:!0})},c);return}}if(e.streamReader.cancel(new AbortException(s.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[c,d]of this._intentStates)if(d===e){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}Al=new WeakMap,ko=new WeakMap,Ds=new WeakSet,np=function(e=!1){if(Pt(this,Ds,E_).call(this),!lt(this,ko)||this.destroyed)return!1;if(e)return xt(this,Al,setTimeout(()=>{xt(this,Al,null),Pt(this,Ds,np).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:s,operatorList:a}of this._intentStates.values())if(s.size>0||!a.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),xt(this,ko,!1),!0},E_=function(){lt(this,Al)&&(clearTimeout(lt(this,Al)),xt(this,Al,null))};var Mo,Z_;class LoopbackPort{constructor(){Mt(this,Mo,new Map);Mt(this,Z_,Promise.resolve())}postMessage(e,s){const a={data:structuredClone(e,s?{transfer:s}:null)};lt(this,Z_).then(()=>{for(const[c]of lt(this,Mo))c.call(this,a)})}addEventListener(e,s,a=null){let c=null;if((a==null?void 0:a.signal)instanceof AbortSignal){const{signal:d}=a;if(d.aborted){warn("LoopbackPort - cannot use an `aborted` signal.");return}const g=()=>this.removeEventListener(e,s);c=()=>d.removeEventListener("abort",g),d.addEventListener("abort",g)}lt(this,Mo).set(s,c)}removeEventListener(e,s){const a=lt(this,Mo).get(s);a==null||a(),lt(this,Mo).delete(s)}terminate(){for(const[,e]of lt(this,Mo))e==null||e();lt(this,Mo).clear()}}Mo=new WeakMap,Z_=new WeakMap;var J_,Au,Du,Pp,A_,Fp,D_;const ar=class ar{constructor({name:e=null,port:s=null,verbosity:a=getVerbosityLevel()}={}){Mt(this,Pp);var c;if(this.name=e,this.destroyed=!1,this.verbosity=a,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,s){if((c=lt(ar,Du))!=null&&c.has(s))throw new Error("Cannot use more than one PDFWorker per port.");(lt(ar,Du)||xt(ar,Du,new WeakMap)).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),Pt(this,Pp,A_).call(this)}_initialize(){if(lt(ar,Au)||lt(ar,Fp,D_)){this._setupFakeWorker();return}let{workerSrc:e}=ar;try{ar._isSameOrigin(window.location.href,e)||(e=ar._createCDNWrapper(new URL(e,window.location).href));const s=new Worker(e,{type:"module"}),a=new MessageHandler("main","worker",s),c=()=>{d.abort(),a.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},d=new AbortController;s.addEventListener("error",()=>{this._webWorker||c()},{signal:d.signal}),a.on("test",$=>{if(d.abort(),this.destroyed||!$){c();return}this._messageHandler=a,this._port=s,this._webWorker=s,Pt(this,Pp,A_).call(this)}),a.on("ready",$=>{if(d.abort(),this.destroyed){c();return}try{g()}catch{this._setupFakeWorker()}});const g=()=>{const $=new Uint8Array;a.send("test",$,[$.buffer])};g();return}catch{info("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){lt(ar,Au)||(warn("Setting up fake worker."),xt(ar,Au,!0)),ar._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const a=`fake${zr(ar,J_)._++}`,c=new MessageHandler(a+"_worker",a,s);e.setup(c,s),this._messageHandler=new MessageHandler(a,a+"_worker",s),Pt(this,Pp,A_).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,s,a;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(s=lt(ar,Du))==null||s.delete(this._port),this._port=null,(a=this._messageHandler)==null||a.destroy(),this._messageHandler=null}static fromPort(e){var a;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const s=(a=lt(this,Du))==null?void 0:a.get(e.port);if(s){if(s._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return s}return new ar(e)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>lt(this,Fp,D_)?lt(this,Fp,D_):(await import(this.workerSrc)).WorkerMessageHandler)())}};J_=new WeakMap,Au=new WeakMap,Du=new WeakMap,Pp=new WeakSet,A_=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Fp=new WeakSet,D_=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},Mt(ar,Fp),Mt(ar,J_,0),Mt(ar,Au,!1),Mt(ar,Du),isNodeJS&&(xt(ar,Au,!0),GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),ar._isSameOrigin=(e,s)=>{let a;try{if(a=new URL(e),!a.origin||a.origin==="null")return!1}catch{return!1}const c=new URL(s,a);return a.origin===c.origin},ar._createCDNWrapper=e=>{const s=`await import("${e}");`;return URL.createObjectURL(new Blob([s],{type:"text/javascript"}))};let PDFWorker=ar;var Oo,no,Ip,Np,Po,Su,Om;class WorkerTransport{constructor(e,s,a,c,d){Mt(this,Su);Mt(this,Oo,new Map);Mt(this,no,new Map);Mt(this,Ip,new Map);Mt(this,Np,new Map);Mt(this,Po,null);this.messageHandler=e,this.loadingTask=s,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this.loadingParams=c.loadingParams,this._params=c,this.canvasFactory=d.canvasFactory,this.filterFactory=d.filterFactory,this.cMapReaderFactory=d.cMapReaderFactory,this.standardFontDataFactory=d.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(e,s=AnnotationMode.ENABLE,a=null,c=!1,d=!1){let g=RenderingIntentFlag.DISPLAY,$=SerializableEmpty;switch(e){case"any":g=RenderingIntentFlag.ANY;break;case"display":break;case"print":g=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${e}`)}const j=g&RenderingIntentFlag.PRINT&&a instanceof PrintAnnotationStorage?a:this.annotationStorage;switch(s){case AnnotationMode.DISABLE:g+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:g+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:g+=RenderingIntentFlag.ANNOTATIONS_STORAGE,$=j.serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${s}`)}c&&(g+=RenderingIntentFlag.IS_EDITING),d&&(g+=RenderingIntentFlag.OPLIST);const{ids:tt,hash:et}=j.modifiedIds,b=[g,$.hash,et];return{renderingIntent:g,cacheKey:b.join("_"),annotationStorageSerializable:$,modifiedIds:tt}}destroy(){var a;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(a=lt(this,Po))==null||a.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const c of lt(this,no).values())e.push(c._destroy());lt(this,no).clear(),lt(this,Ip).clear(),lt(this,Np).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return e.push(s),Promise.all(e).then(()=>{var c,d;this.commonObjs.clear(),this.fontLoader.clear(),lt(this,Oo).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(c=this._networkStream)==null||c.cancelAllRequests(new AbortException("Worker was terminated.")),(d=this.messageHandler)==null||d.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:s}=this;e.on("GetReader",(a,c)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=d=>{this._lastProgress={loaded:d.loaded,total:d.total}},c.onPull=()=>{this._fullReader.read().then(function({value:d,done:g}){if(g){c.close();return}assert(d instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(d),1,[d])}).catch(d=>{c.error(d)})},c.onCancel=d=>{this._fullReader.cancel(d),c.ready.catch(g=>{if(!this.destroyed)throw g})}}),e.on("ReaderHeadersReady",async a=>{var $;await this._fullReader.headersReady;const{isStreamingSupported:c,isRangeSupported:d,contentLength:g}=this._fullReader;return(!c||!d)&&(this._lastProgress&&(($=s.onProgress)==null||$.call(s,this._lastProgress)),this._fullReader.onProgress=j=>{var tt;(tt=s.onProgress)==null||tt.call(s,{loaded:j.loaded,total:j.total})}),{isStreamingSupported:c,isRangeSupported:d,contentLength:g}}),e.on("GetRangeReader",(a,c)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const d=this._networkStream.getRangeReader(a.begin,a.end);if(!d){c.close();return}c.onPull=()=>{d.read().then(function({value:g,done:$}){if($){c.close();return}assert(g instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(g),1,[g])}).catch(g=>{c.error(g)})},c.onCancel=g=>{d.cancel(g),c.ready.catch($=>{if(!this.destroyed)throw $})}}),e.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,s._capability.resolve(new PDFDocumentProxy(a,this))}),e.on("DocException",a=>{s._capability.reject(wrapReason(a))}),e.on("PasswordRequest",a=>{xt(this,Po,Promise.withResolvers());try{if(!s.onPassword)throw wrapReason(a);const c=d=>{d instanceof Error?lt(this,Po).reject(d):lt(this,Po).resolve({password:d})};s.onPassword(c,a.code)}catch(c){lt(this,Po).reject(c)}return lt(this,Po).promise}),e.on("DataLoaded",a=>{var c;(c=s.onProgress)==null||c.call(s,{loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),e.on("StartRenderPage",a=>{if(this.destroyed)return;lt(this,no).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),e.on("commonobj",([a,c,d])=>{var g;if(this.destroyed||this.commonObjs.has(a))return null;switch(c){case"Font":const{disableFontFace:$,fontExtraProperties:j,pdfBug:tt}=this._params;if("error"in d){const _e=d.error;warn(`Error during font loading: ${_e}`),this.commonObjs.resolve(a,_e);break}const et=tt&&((g=globalThis.FontInspector)!=null&&g.enabled)?(_e,nt)=>globalThis.FontInspector.fontAdded(_e,nt):null,b=new FontFaceObject(d,{disableFontFace:$,fontExtraProperties:j,inspectFont:et});this.fontLoader.bind(b).catch(()=>e.sendWithPromise("FontFallback",{id:a})).finally(()=>{!j&&b.data&&(b.data=null),this.commonObjs.resolve(a,b)});break;case"CopyLocalImage":const{imageRef:h}=d;assert(h,"The imageRef must be defined.");for(const _e of lt(this,no).values())for(const[,nt]of _e.objs)if((nt==null?void 0:nt.ref)===h)return nt.dataLen?(this.commonObjs.resolve(a,structuredClone(nt)),nt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,d);break;default:throw new Error(`Got unknown common object type ${c}`)}return null}),e.on("obj",([a,c,d,g])=>{var j;if(this.destroyed)return;const $=lt(this,no).get(c);if(!$.objs.has(a)){if($._intentStates.size===0){(j=g==null?void 0:g.bitmap)==null||j.close();return}switch(d){case"Image":$.objs.resolve(a,g),(g==null?void 0:g.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&($._maybeCleanupAfterRender=!0);break;case"Pattern":$.objs.resolve(a,g);break;default:throw new Error(`Got unknown object type ${d}`)}}}),e.on("DocProgress",a=>{var c;this.destroyed||(c=s.onProgress)==null||c.call(s,{loaded:a.loaded,total:a.total})}),e.on("FetchBuiltInCMap",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(a)}),e.on("FetchStandardFontData",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(a)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var a;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((a=this._fullReader)==null?void 0:a.filename)??null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=e-1,a=lt(this,Ip).get(s);if(a)return a;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(d=>{if(this.destroyed)throw new Error("Transport destroyed");d.refStr&&lt(this,Np).set(d.refStr,e);const g=new PDFPageProxy(s,d,this,this._params.pdfBug);return lt(this,no).set(s,g),g});return lt(this,Ip).set(s,c),c}getPageIndex(e){return isRefProxy(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:s})}getFieldObjects(){return Pt(this,Su,Om).call(this,"GetFieldObjects")}hasJSActions(){return Pt(this,Su,Om).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Pt(this,Su,Om).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return Pt(this,Su,Om).call(this,"GetOptionalContentConfig").then(s=>new OptionalContentConfig(s,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",s=lt(this,Oo).get(e);if(s)return s;const a=this.messageHandler.sendWithPromise(e,null).then(c=>{var d,g;return{info:c[0],metadata:c[1]?new Metadata(c[1]):null,contentDispositionFilename:((d=this._fullReader)==null?void 0:d.filename)??null,contentLength:((g=this._fullReader)==null?void 0:g.contentLength)??null}});return lt(this,Oo).set(e,a),a}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const s of lt(this,no).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),lt(this,Oo).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber(e){if(!isRefProxy(e))return null;const s=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return lt(this,Np).get(s)??null}}Oo=new WeakMap,no=new WeakMap,Ip=new WeakMap,Np=new WeakMap,Po=new WeakMap,Su=new WeakSet,Om=function(e,s=null){const a=lt(this,Oo).get(e);if(a)return a;const c=this.messageHandler.sendWithPromise(e,s);return lt(this,Oo).set(e,c),c};const INITIAL_DATA=Symbol("INITIAL_DATA");var os,Cy,L0;class PDFObjects{constructor(){Mt(this,Cy);Mt(this,os,Object.create(null))}get(e,s=null){if(s){const c=Pt(this,Cy,L0).call(this,e);return c.promise.then(()=>s(c.data)),null}const a=lt(this,os)[e];if(!a||a.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return a.data}has(e){const s=lt(this,os)[e];return!!s&&s.data!==INITIAL_DATA}delete(e){const s=lt(this,os)[e];return!s||s.data===INITIAL_DATA?!1:(delete lt(this,os)[e],!0)}resolve(e,s=null){const a=Pt(this,Cy,L0).call(this,e);a.data=s,a.resolve()}clear(){var e;for(const s in lt(this,os)){const{data:a}=lt(this,os)[s];(e=a==null?void 0:a.bitmap)==null||e.close()}xt(this,os,Object.create(null))}*[Symbol.iterator](){for(const e in lt(this,os)){const{data:s}=lt(this,os)[e];s!==INITIAL_DATA&&(yield[e,s])}}}os=new WeakMap,Cy=new WeakSet,L0=function(e){var s;return(s=lt(this,os))[e]||(s[e]={...Promise.withResolvers(),data:INITIAL_DATA})};var Dl;class RenderTask{constructor(e){Mt(this,Dl,null);xt(this,Dl,e),this.onContinue=null}get promise(){return lt(this,Dl).capability.promise}cancel(e=0){lt(this,Dl).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=lt(this,Dl).operatorList;if(!e)return!1;const{annotationCanvasMap:s}=lt(this,Dl);return e.form||e.canvas&&(s==null?void 0:s.size)>0}}Dl=new WeakMap;var Sl,Cu;const Kl=class Kl{constructor({callback:e,params:s,objs:a,commonObjs:c,annotationCanvasMap:d,operatorList:g,pageIndex:$,canvasFactory:j,filterFactory:tt,useRequestAnimationFrame:et=!1,pdfBug:b=!1,pageColors:h=null}){Mt(this,Sl,null);this.callback=e,this.params=s,this.objs=a,this.commonObjs=c,this.annotationCanvasMap=d,this.operatorListIdx=null,this.operatorList=g,this._pageIndex=$,this.canvasFactory=j,this.filterFactory=tt,this._pdfBug=b,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=et===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:s}){var $,j;if(this.cancelled)return;if(this._canvas){if(lt(Kl,Cu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");lt(Kl,Cu).add(this._canvas)}this._pdfBug&&(($=globalThis.StepperManager)!=null&&$.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:c,transform:d,background:g}=this.params;this.gfx=new CanvasGraphics(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:d,viewport:c,transparency:e,background:g}),this.operatorListIdx=0,this.graphicsReady=!0,(j=this.graphicsReadyCallback)==null||j.call(this)}cancel(e=null,s=0){var a;this.running=!1,this.cancelled=!0,(a=this.gfx)==null||a.endDrawing(),lt(this,Sl)&&(window.cancelAnimationFrame(lt(this,Sl)),xt(this,Sl,null)),lt(Kl,Cu).delete(this._canvas),this.callback(e||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,s))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?xt(this,Sl,window.requestAnimationFrame(()=>{xt(this,Sl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),lt(Kl,Cu).delete(this._canvas),this.callback())))}};Sl=new WeakMap,Cu=new WeakMap,Mt(Kl,Cu,new WeakSet);let InternalRenderTask=Kl;const version$2="4.10.38",build="f9bea397f";function makeColorComp(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function scaleAndClamp(o){return Math.max(0,Math.min(255,255*o))}class ColorConverters{static CMYK_G([e,s,a,c]){return["G",1-Math.min(1,.3*e+.59*a+.11*s+c)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=scaleAndClamp(e),[e,e,e]}static G_HTML([e]){const s=makeColorComp(e);return`#${s}${s}${s}`}static RGB_G([e,s,a]){return["G",.3*e+.59*s+.11*a]}static RGB_rgb(e){return e.map(scaleAndClamp)}static RGB_HTML(e){return`#${e.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,s,a,c]){return["RGB",1-Math.min(1,e+c),1-Math.min(1,a+c),1-Math.min(1,s+c)]}static CMYK_rgb([e,s,a,c]){return[scaleAndClamp(1-Math.min(1,e+c)),scaleAndClamp(1-Math.min(1,a+c)),scaleAndClamp(1-Math.min(1,s+c))]}static CMYK_HTML(e){const s=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(s)}static RGB_CMYK([e,s,a]){const c=1-e,d=1-s,g=1-a,$=Math.min(c,d,g);return["CMYK",c,d,g,$]}}class BaseSVGFactory{create(e,s,a=!1){if(e<=0||s<=0)throw new Error("Invalid SVG dimensions");const c=this._createSVG("svg:svg");return c.setAttribute("version","1.1"),a||(c.setAttribute("width",`${e}px`),c.setAttribute("height",`${s}px`)),c.setAttribute("preserveAspectRatio","none"),c.setAttribute("viewBox",`0 0 ${e} ${s}`),c}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){unreachable("Abstract method `_createSVG` called.")}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(e){return document.createElementNS(SVG_NS,e)}}class XfaLayer{static setupStorage(e,s,a,c,d){const g=c.getValue(s,{value:null});switch(a.name){case"textarea":if(g.value!==null&&(e.textContent=g.value),d==="print")break;e.addEventListener("input",$=>{c.setValue(s,{value:$.target.value})});break;case"input":if(a.attributes.type==="radio"||a.attributes.type==="checkbox"){if(g.value===a.attributes.xfaOn?e.setAttribute("checked",!0):g.value===a.attributes.xfaOff&&e.removeAttribute("checked"),d==="print")break;e.addEventListener("change",$=>{c.setValue(s,{value:$.target.checked?$.target.getAttribute("xfaOn"):$.target.getAttribute("xfaOff")})})}else{if(g.value!==null&&e.setAttribute("value",g.value),d==="print")break;e.addEventListener("input",$=>{c.setValue(s,{value:$.target.value})})}break;case"select":if(g.value!==null){e.setAttribute("value",g.value);for(const $ of a.children)$.attributes.value===g.value?$.attributes.selected=!0:$.attributes.hasOwnProperty("selected")&&delete $.attributes.selected}e.addEventListener("input",$=>{const j=$.target.options,tt=j.selectedIndex===-1?"":j[j.selectedIndex].value;c.setValue(s,{value:tt})});break}}static setAttributes({html:e,element:s,storage:a=null,intent:c,linkService:d}){const{attributes:g}=s,$=e instanceof HTMLAnchorElement;g.type==="radio"&&(g.name=`${g.name}-${c}`);for(const[j,tt]of Object.entries(g))if(tt!=null)switch(j){case"class":tt.length&&e.setAttribute(j,tt.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",tt);break;case"style":Object.assign(e.style,tt);break;case"textContent":e.textContent=tt;break;default:(!$||j!=="href"&&j!=="newWindow")&&e.setAttribute(j,tt)}$&&d.addLinkAttributes(e,g.href,g.newWindow),a&&g.dataId&&this.setupStorage(e,g.dataId,s,a)}static render(e){var b,h;const s=e.annotationStorage,a=e.linkService,c=e.xfaHtml,d=e.intent||"display",g=document.createElement(c.name);c.attributes&&this.setAttributes({html:g,element:c,intent:d,linkService:a});const $=d!=="richText",j=e.div;if(j.append(g),e.viewport){const _e=`matrix(${e.viewport.transform.join(",")})`;j.style.transform=_e}$&&j.setAttribute("class","xfaLayer xfaFont");const tt=[];if(c.children.length===0){if(c.value){const _e=document.createTextNode(c.value);g.append(_e),$&&XfaText.shouldBuildText(c.name)&&tt.push(_e)}return{textDivs:tt}}const et=[[c,-1,g]];for(;et.length>0;){const[_e,nt,rt]=et.at(-1);if(nt+1===_e.children.length){et.pop();continue}const it=_e.children[++et.at(-1)[1]];if(it===null)continue;const{name:st}=it;if(st==="#text"){const at=document.createTextNode(it.value);tt.push(at),rt.append(at);continue}const ot=(b=it==null?void 0:it.attributes)!=null&&b.xmlns?document.createElementNS(it.attributes.xmlns,st):document.createElement(st);if(rt.append(ot),it.attributes&&this.setAttributes({html:ot,element:it,storage:s,intent:d,linkService:a}),((h=it.children)==null?void 0:h.length)>0)et.push([it,-1,ot]);else if(it.value){const at=document.createTextNode(it.value);$&&XfaText.shouldBuildText(st)&&tt.push(at),ot.append(at)}}for(const _e of j.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_e.setAttribute("readOnly",!0);return{textDivs:tt}}static update(e){const s=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=s,e.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(o){return{width:o[2]-o[0],height:o[3]-o[1]}}class AnnotationElementFactory{static create(e){switch(e.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(e);case AnnotationType.TEXT:return new TextAnnotationElement(e);case AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(e);case"Btn":return e.data.radioButton?new RadioButtonWidgetAnnotationElement(e):e.data.checkBox?new CheckboxWidgetAnnotationElement(e):new PushButtonWidgetAnnotationElement(e);case"Ch":return new ChoiceWidgetAnnotationElement(e);case"Sig":return new SignatureWidgetAnnotationElement(e)}return new WidgetAnnotationElement(e);case AnnotationType.POPUP:return new PopupAnnotationElement(e);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(e);case AnnotationType.LINE:return new LineAnnotationElement(e);case AnnotationType.SQUARE:return new SquareAnnotationElement(e);case AnnotationType.CIRCLE:return new CircleAnnotationElement(e);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(e);case AnnotationType.CARET:return new CaretAnnotationElement(e);case AnnotationType.INK:return new InkAnnotationElement(e);case AnnotationType.POLYGON:return new PolygonAnnotationElement(e);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(e);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(e);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(e);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(e);case AnnotationType.STAMP:return new StampAnnotationElement(e);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(e);default:return new AnnotationElement(e)}}}var ku,Rp,Lp,ky,U0;const c1=class c1{constructor(e,{isRenderable:s=!1,ignoreBorder:a=!1,createQuadrilaterals:c=!1}={}){Mt(this,ky);Mt(this,ku,null);Mt(this,Rp,!1);Mt(this,Lp,null);this.isRenderable=s,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,s&&(this.container=this._createContainer(a)),c&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:s,richText:a}){return!!(e!=null&&e.str||s!=null&&s.str||a!=null&&a.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return c1._hasPopupData(this.data)}updateEdited(e){var a;if(!this.container)return;lt(this,ku)||xt(this,ku,{rect:this.data.rect.slice(0)});const{rect:s}=e;s&&Pt(this,ky,U0).call(this,s),(a=lt(this,Lp))==null||a.popup.updateEdited(e)}resetEdited(){var e;lt(this,ku)&&(Pt(this,ky,U0).call(this,lt(this,ku).rect),(e=lt(this,Lp))==null||e.popup.resetEdited(),xt(this,ku,null))}_createContainer(e){const{data:s,parent:{page:a,viewport:c}}=this,d=document.createElement("section");d.setAttribute("data-annotation-id",s.id),this instanceof WidgetAnnotationElement||(d.tabIndex=DEFAULT_TAB_INDEX);const{style:g}=d;if(g.zIndex=this.parent.zIndex++,s.alternativeText&&(d.title=s.alternativeText),s.noRotate&&d.classList.add("norotate"),!s.rect||this instanceof PopupAnnotationElement){const{rotation:rt}=s;return!s.hasOwnCanvas&&rt!==0&&this.setRotation(rt,d),d}const{width:$,height:j}=getRectDims(s.rect);if(!e&&s.borderStyle.width>0){g.borderWidth=`${s.borderStyle.width}px`;const rt=s.borderStyle.horizontalCornerRadius,it=s.borderStyle.verticalCornerRadius;if(rt>0||it>0){const ot=`calc(${rt}px * var(--scale-factor)) / calc(${it}px * var(--scale-factor))`;g.borderRadius=ot}else if(this instanceof RadioButtonWidgetAnnotationElement){const ot=`calc(${$}px * var(--scale-factor)) / calc(${j}px * var(--scale-factor))`;g.borderRadius=ot}switch(s.borderStyle.style){case AnnotationBorderStyleType.SOLID:g.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:g.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:g.borderBottomStyle="solid";break}const st=s.borderColor||null;st?(xt(this,Rp,!0),g.borderColor=Util.makeHexColor(st[0]|0,st[1]|0,st[2]|0)):g.borderWidth=0}const tt=Util.normalizeRect([s.rect[0],a.view[3]-s.rect[1]+a.view[1],s.rect[2],a.view[3]-s.rect[3]+a.view[1]]),{pageWidth:et,pageHeight:b,pageX:h,pageY:_e}=c.rawDims;g.left=`${100*(tt[0]-h)/et}%`,g.top=`${100*(tt[1]-_e)/b}%`;const{rotation:nt}=s;return s.hasOwnCanvas||nt===0?(g.width=`${100*$/et}%`,g.height=`${100*j/b}%`):this.setRotation(nt,d),d}setRotation(e,s=this.container){if(!this.data.rect)return;const{pageWidth:a,pageHeight:c}=this.parent.viewport.rawDims,{width:d,height:g}=getRectDims(this.data.rect);let $,j;e%180===0?($=100*d/a,j=100*g/c):($=100*g/a,j=100*d/c),s.style.width=`${$}%`,s.style.height=`${j}%`,s.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(s,a,c)=>{const d=c.detail[s],g=d[0],$=d.slice(1);c.target.style[a]=ColorConverters[`${g}_HTML`]($),this.annotationStorage.setValue(this.data.id,{[a]:ColorConverters[`${g}_rgb`]($)})};return shadow(this,"_commonActions",{display:s=>{const{display:a}=s.detail,c=a%2===1;this.container.style.visibility=c?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:c,noPrint:a===1||a===2})},print:s=>{this.annotationStorage.setValue(this.data.id,{noPrint:!s.detail.print})},hidden:s=>{const{hidden:a}=s.detail;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:a,noView:a})},focus:s=>{setTimeout(()=>s.target.focus({preventScroll:!1}),0)},userName:s=>{s.target.title=s.detail.userName},readonly:s=>{s.target.disabled=s.detail.readonly},required:s=>{this._setRequired(s.target,s.detail.required)},bgColor:s=>{e("bgColor","backgroundColor",s)},fillColor:s=>{e("fillColor","backgroundColor",s)},fgColor:s=>{e("fgColor","color",s)},textColor:s=>{e("textColor","color",s)},borderColor:s=>{e("borderColor","borderColor",s)},strokeColor:s=>{e("strokeColor","borderColor",s)},rotation:s=>{const a=s.detail.rotation;this.setRotation(a),this.annotationStorage.setValue(this.data.id,{rotation:a})}})}_dispatchEventFromSandbox(e,s){const a=this._commonActions;for(const c of Object.keys(s.detail)){const d=e[c]||a[c];d==null||d(s)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const s=this.annotationStorage.getRawValue(this.data.id);if(!s)return;const a=this._commonActions;for(const[c,d]of Object.entries(s)){const g=a[c];if(g){const $={detail:{[c]:d},target:e};g($),delete s[c]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[s,a,c,d]=this.data.rect.map(rt=>Math.fround(rt));if(e.length===8){const[rt,it,st,ot]=e.subarray(2,6);if(c===rt&&d===it&&s===st&&a===ot)return}const{style:g}=this.container;let $;if(lt(this,Rp)){const{borderColor:rt,borderWidth:it}=g;g.borderWidth=0,$=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${rt}" stroke-width="${it}">`],this.container.classList.add("hasBorder")}const j=c-s,tt=d-a,{svgFactory:et}=this,b=et.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const h=et.createElement("defs");b.append(h);const _e=et.createElement("clipPath"),nt=`clippath_${this.data.id}`;_e.setAttribute("id",nt),_e.setAttribute("clipPathUnits","objectBoundingBox"),h.append(_e);for(let rt=2,it=e.length;rt<it;rt+=8){const st=e[rt],ot=e[rt+1],at=e[rt+2],ct=e[rt+3],ut=et.createElement("rect"),dt=(at-s)/j,ht=(d-ot)/tt,pt=(st-at)/j,ft=(ot-ct)/tt;ut.setAttribute("x",dt),ut.setAttribute("y",ht),ut.setAttribute("width",pt),ut.setAttribute("height",ft),_e.append(ut),$==null||$.push(`<rect vector-effect="non-scaling-stroke" x="${dt}" y="${ht}" width="${pt}" height="${ft}"/>`)}lt(this,Rp)&&($.push("</g></svg>')"),g.backgroundImage=$.join("")),this.container.append(b),this.container.style.clipPath=`url(#${nt})`}_createPopup(){const{data:e}=this,s=xt(this,Lp,new PopupAnnotationElement({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(s.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,s=null){const a=[];if(this._fieldObjects){const c=this._fieldObjects[e];if(c)for(const{page:d,id:g,exportValues:$}of c){if(d===-1||g===s)continue;const j=typeof $=="string"?$:null,tt=document.querySelector(`[data-element-id="${g}"]`);if(tt&&!GetElementsByNameSet.has(tt)){warn(`_getElementsByName - element not allowed: ${g}`);continue}a.push({id:g,exportValue:j,domElement:tt})}return a}for(const c of document.getElementsByName(e)){const{exportValue:d}=c,g=c.getAttribute("data-element-id");g!==s&&GetElementsByNameSet.has(c)&&a.push({id:g,exportValue:d,domElement:c})}return a}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const s of e)s.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:s}}=this;this.container.addEventListener("dblclick",()=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("switchannotationeditormode",{source:this,mode:e,editId:s})})}};ku=new WeakMap,Rp=new WeakMap,Lp=new WeakMap,ky=new WeakSet,U0=function(e){const{container:{style:s},data:{rect:a,rotation:c},parent:{viewport:{rawDims:{pageWidth:d,pageHeight:g,pageX:$,pageY:j}}}}=this;a==null||a.splice(0,4,...e);const{width:tt,height:et}=getRectDims(e);s.left=`${100*(e[0]-$)/d}%`,s.top=`${100*(g-e[3]+j)/g}%`,c===0?(s.width=`${100*tt/d}%`,s.height=`${100*et/g}%`):this.setRotation(c)};let AnnotationElement=c1;var gs,Vl,Tv,Ev;class LinkAnnotationElement extends AnnotationElement{constructor(s,a=null){super(s,{isRenderable:!0,ignoreBorder:!!(a!=null&&a.ignoreBorder),createQuadrilaterals:!0});Mt(this,gs);this.isTooltipOnly=s.data.isTooltipOnly}render(){const{data:s,linkService:a}=this,c=document.createElement("a");c.setAttribute("data-element-id",s.id);let d=!1;return s.url?(a.addLinkAttributes(c,s.url,s.newWindow),d=!0):s.action?(this._bindNamedAction(c,s.action),d=!0):s.attachment?(Pt(this,gs,Tv).call(this,c,s.attachment,s.attachmentDest),d=!0):s.setOCGState?(Pt(this,gs,Ev).call(this,c,s.setOCGState),d=!0):s.dest?(this._bindLink(c,s.dest),d=!0):(s.actions&&(s.actions.Action||s.actions["Mouse Up"]||s.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(c,s),d=!0),s.resetForm?(this._bindResetFormAction(c,s.resetForm),d=!0):this.isTooltipOnly&&!d&&(this._bindLink(c,""),d=!0)),this.container.classList.add("linkAnnotation"),d&&this.container.append(c),this.container}_bindLink(s,a){s.href=this.linkService.getDestinationHash(a),s.onclick=()=>(a&&this.linkService.goToDestination(a),!1),(a||a==="")&&Pt(this,gs,Vl).call(this)}_bindNamedAction(s,a){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeNamedAction(a),!1),Pt(this,gs,Vl).call(this)}_bindJSAction(s,a){s.href=this.linkService.getAnchorUrl("");const c=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const d of Object.keys(a.actions)){const g=c.get(d);g&&(s[g]=()=>{var $;return($=this.linkService.eventBus)==null||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a.id,name:d}}),!1})}s.onclick||(s.onclick=()=>!1),Pt(this,gs,Vl).call(this)}_bindResetFormAction(s,a){const c=s.onclick;if(c||(s.href=this.linkService.getAnchorUrl("")),Pt(this,gs,Vl).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),c||(s.onclick=()=>!1);return}s.onclick=()=>{var b;c==null||c();const{fields:d,refs:g,include:$}=a,j=[];if(d.length!==0||g.length!==0){const h=new Set(g);for(const _e of d){const nt=this._fieldObjects[_e]||[];for(const{id:rt}of nt)h.add(rt)}for(const _e of Object.values(this._fieldObjects))for(const nt of _e)h.has(nt.id)===$&&j.push(nt)}else for(const h of Object.values(this._fieldObjects))j.push(...h);const tt=this.annotationStorage,et=[];for(const h of j){const{id:_e}=h;switch(et.push(_e),h.type){case"text":{const rt=h.defaultValue||"";tt.setValue(_e,{value:rt});break}case"checkbox":case"radiobutton":{const rt=h.defaultValue===h.exportValues;tt.setValue(_e,{value:rt});break}case"combobox":case"listbox":{const rt=h.defaultValue||"";tt.setValue(_e,{value:rt});break}default:continue}const nt=document.querySelector(`[data-element-id="${_e}"]`);if(nt){if(!GetElementsByNameSet.has(nt)){warn(`_bindResetFormAction - element not allowed: ${_e}`);continue}}else continue;nt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:et,name:"ResetForm"}})),!1}}}gs=new WeakSet,Vl=function(){this.container.setAttribute("data-internal-link","")},Tv=function(s,a,c=null){s.href=this.linkService.getAnchorUrl(""),a.description&&(s.title=a.description),s.onclick=()=>{var d;return(d=this.downloadManager)==null||d.openOrDownloadData(a.content,a.filename,c),!1},Pt(this,gs,Vl).call(this)},Ev=function(s,a){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeSetOCGState(a),!1),Pt(this,gs,Vl).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(e){var s;this.data.hasOwnCanvas&&(((s=e.previousSibling)==null?void 0:s.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return util_FeatureTest.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,s,a,c,d){a.includes("mouse")?e.addEventListener(a,g=>{var $;($=this.linkService.eventBus)==null||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:c,value:d(g),shift:g.shiftKey,modifier:this._getKeyModifier(g)}})}):e.addEventListener(a,g=>{var $;if(a==="blur"){if(!s.focused||!g.relatedTarget)return;s.focused=!1}else if(a==="focus"){if(s.focused)return;s.focused=!0}d&&(($=this.linkService.eventBus)==null||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:c,value:d(g)}}))})}_setEventListeners(e,s,a,c){var d,g,$;for(const[j,tt]of a)(tt==="Action"||(d=this.data.actions)!=null&&d[tt])&&((tt==="Focus"||tt==="Blur")&&(s||(s={focused:!1})),this._setEventListener(e,s,j,tt,c),tt==="Focus"&&!((g=this.data.actions)!=null&&g.Blur)?this._setEventListener(e,s,"blur","Blur",null):tt==="Blur"&&!(($=this.data.actions)!=null&&$.Focus)&&this._setEventListener(e,s,"focus","Focus",null))}_setBackgroundColor(e){const s=this.data.backgroundColor||null;e.style.backgroundColor=s===null?"transparent":Util.makeHexColor(s[0],s[1],s[2])}_setTextStyle(e){const s=["left","center","right"],{fontColor:a}=this.data.defaultAppearanceData,c=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,d=e.style;let g;const $=2,j=tt=>Math.round(10*tt)/10;if(this.data.multiLine){const tt=Math.abs(this.data.rect[3]-this.data.rect[1]-$),et=Math.round(tt/(LINE_FACTOR*c))||1,b=tt/et;g=Math.min(c,j(b/LINE_FACTOR))}else{const tt=Math.abs(this.data.rect[3]-this.data.rect[1]-$);g=Math.min(c,j(tt/LINE_FACTOR))}d.fontSize=`calc(${g}px * var(--scale-factor))`,d.color=Util.makeHexColor(a[0],a[1],a[2]),this.data.textAlignment!==null&&(d.textAlign=s[this.data.textAlignment])}_setRequired(e,s){s?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",s)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){const s=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:s})}setPropertyOnSiblings(e,s,a,c){const d=this.annotationStorage;for(const g of this._getElementsByName(e.name,e.id))g.domElement&&(g.domElement[s]=a),d.setValue(g.id,{[c]:a})}render(){var c,d;const e=this.annotationStorage,s=this.data.id;this.container.classList.add("textWidgetAnnotation");let a=null;if(this.renderForms){const g=e.getValue(s,{value:this.data.fieldValue});let $=g.value||"";const j=e.getValue(s,{charLimit:this.data.maxLen}).charLimit;j&&$.length>j&&($=$.slice(0,j));let tt=g.formattedValue||((c=this.data.textContent)==null?void 0:c.join(`
`))||null;tt&&this.data.comb&&(tt=tt.replaceAll(/\s+/g,""));const et={userValue:$,formattedValue:tt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(a=document.createElement("textarea"),a.textContent=tt??$,this.data.doNotScroll&&(a.style.overflowY="hidden")):(a=document.createElement("input"),a.type="text",a.setAttribute("value",tt??$),this.data.doNotScroll&&(a.style.overflowX="hidden")),this.data.hasOwnCanvas&&(a.hidden=!0),GetElementsByNameSet.add(a),a.setAttribute("data-element-id",s),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(a,this.data.required),j&&(a.maxLength=j),a.addEventListener("input",h=>{e.setValue(s,{value:h.target.value}),this.setPropertyOnSiblings(a,"value",h.target.value,"value"),et.formattedValue=null}),a.addEventListener("resetform",h=>{const _e=this.data.defaultFieldValue??"";a.value=et.userValue=_e,et.formattedValue=null});let b=h=>{const{formattedValue:_e}=et;_e!=null&&(h.target.value=_e),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){a.addEventListener("focus",_e=>{var rt;if(et.focused)return;const{target:nt}=_e;et.userValue&&(nt.value=et.userValue),et.lastCommittedValue=nt.value,et.commitKey=1,(rt=this.data.actions)!=null&&rt.Focus||(et.focused=!0)}),a.addEventListener("updatefromsandbox",_e=>{this.showElementAndHideCanvas(_e.target);const nt={value(rt){et.userValue=rt.detail.value??"",e.setValue(s,{value:et.userValue.toString()}),rt.target.value=et.userValue},formattedValue(rt){const{formattedValue:it}=rt.detail;et.formattedValue=it,it!=null&&rt.target!==document.activeElement&&(rt.target.value=it),e.setValue(s,{formattedValue:it})},selRange(rt){rt.target.setSelectionRange(...rt.detail.selRange)},charLimit:rt=>{var at;const{charLimit:it}=rt.detail,{target:st}=rt;if(it===0){st.removeAttribute("maxLength");return}st.setAttribute("maxLength",it);let ot=et.userValue;!ot||ot.length<=it||(ot=ot.slice(0,it),st.value=et.userValue=ot,e.setValue(s,{value:ot}),(at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:ot,willCommit:!0,commitKey:1,selStart:st.selectionStart,selEnd:st.selectionEnd}}))}};this._dispatchEventFromSandbox(nt,_e)}),a.addEventListener("keydown",_e=>{var it;et.commitKey=1;let nt=-1;if(_e.key==="Escape"?nt=0:_e.key==="Enter"&&!this.data.multiLine?nt=2:_e.key==="Tab"&&(et.commitKey=3),nt===-1)return;const{value:rt}=_e.target;et.lastCommittedValue!==rt&&(et.lastCommittedValue=rt,et.userValue=rt,(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:rt,willCommit:!0,commitKey:nt,selStart:_e.target.selectionStart,selEnd:_e.target.selectionEnd}}))});const h=b;b=null,a.addEventListener("blur",_e=>{var rt,it;if(!et.focused||!_e.relatedTarget)return;(rt=this.data.actions)!=null&&rt.Blur||(et.focused=!1);const{value:nt}=_e.target;et.userValue=nt,et.lastCommittedValue!==nt&&((it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:nt,willCommit:!0,commitKey:et.commitKey,selStart:_e.target.selectionStart,selEnd:_e.target.selectionEnd}})),h(_e)}),(d=this.data.actions)!=null&&d.Keystroke&&a.addEventListener("beforeinput",_e=>{var ut;et.lastCommittedValue=null;const{data:nt,target:rt}=_e,{value:it,selectionStart:st,selectionEnd:ot}=rt;let at=st,ct=ot;switch(_e.inputType){case"deleteWordBackward":{const dt=it.substring(0,st).match(/\w*[^\w]*$/);dt&&(at-=dt[0].length);break}case"deleteWordForward":{const dt=it.substring(st).match(/^[^\w]*\w*/);dt&&(ct+=dt[0].length);break}case"deleteContentBackward":st===ot&&(at-=1);break;case"deleteContentForward":st===ot&&(ct+=1);break}_e.preventDefault(),(ut=this.linkService.eventBus)==null||ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:it,change:nt||"",willCommit:!1,selStart:at,selEnd:ct}})}),this._setEventListeners(a,et,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_e=>_e.target.value)}if(b&&a.addEventListener("blur",b),this.data.comb){const _e=(this.data.rect[2]-this.data.rect[0])/j;a.classList.add("comb"),a.style.letterSpacing=`calc(${_e}px * var(--scale-factor) - 1ch)`}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell",this.data.hasOwnCanvas&&(a.hidden=!0);return this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,s=this.data,a=s.id;let c=e.getValue(a,{value:s.exportValue===s.fieldValue}).value;typeof c=="string"&&(c=c!=="Off",e.setValue(a,{value:c})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const d=document.createElement("input");return GetElementsByNameSet.add(d),d.setAttribute("data-element-id",a),d.disabled=s.readOnly,this._setRequired(d,this.data.required),d.type="checkbox",d.name=s.fieldName,c&&d.setAttribute("checked",!0),d.setAttribute("exportValue",s.exportValue),d.tabIndex=DEFAULT_TAB_INDEX,d.addEventListener("change",g=>{const{name:$,checked:j}=g.target;for(const tt of this._getElementsByName($,a)){const et=j&&tt.exportValue===s.exportValue;tt.domElement&&(tt.domElement.checked=et),e.setValue(tt.id,{value:et})}e.setValue(a,{value:j})}),d.addEventListener("resetform",g=>{const $=s.defaultFieldValue||"Off";g.target.checked=$===s.exportValue}),this.enableScripting&&this.hasJSActions&&(d.addEventListener("updatefromsandbox",g=>{const $={value(j){j.target.checked=j.detail.value!=="Off",e.setValue(a,{value:j.target.checked})}};this._dispatchEventFromSandbox($,g)}),this._setEventListeners(d,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.checked)),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.append(d),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,s=this.data,a=s.id;let c=e.getValue(a,{value:s.fieldValue===s.buttonValue}).value;if(typeof c=="string"&&(c=c!==s.buttonValue,e.setValue(a,{value:c})),c)for(const g of this._getElementsByName(s.fieldName,a))e.setValue(g.id,{value:!1});const d=document.createElement("input");if(GetElementsByNameSet.add(d),d.setAttribute("data-element-id",a),d.disabled=s.readOnly,this._setRequired(d,this.data.required),d.type="radio",d.name=s.fieldName,c&&d.setAttribute("checked",!0),d.tabIndex=DEFAULT_TAB_INDEX,d.addEventListener("change",g=>{const{name:$,checked:j}=g.target;for(const tt of this._getElementsByName($,a))e.setValue(tt.id,{value:!1});e.setValue(a,{value:j})}),d.addEventListener("resetform",g=>{const $=s.defaultFieldValue;g.target.checked=$!=null&&$===s.buttonValue}),this.enableScripting&&this.hasJSActions){const g=s.buttonValue;d.addEventListener("updatefromsandbox",$=>{const j={value:tt=>{const et=g===tt.detail.value;for(const b of this._getElementsByName(tt.target.name)){const h=et&&b.id===a;b.domElement&&(b.domElement.checked=h),e.setValue(b.id,{value:h})}}};this._dispatchEventFromSandbox(j,$)}),this._setEventListeners(d,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$=>$.target.checked)}return this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.append(d),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const s=e.lastChild;return this.enableScripting&&this.hasJSActions&&s&&(this._setDefaultPropertiesFromJS(s),s.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({},a)})),e}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,s=this.data.id,a=e.getValue(s,{value:this.data.fieldValue}),c=document.createElement("select");GetElementsByNameSet.add(c),c.setAttribute("data-element-id",s),c.disabled=this.data.readOnly,this._setRequired(c,this.data.required),c.name=this.data.fieldName,c.tabIndex=DEFAULT_TAB_INDEX;let d=this.data.combo&&this.data.options.length>0;this.data.combo||(c.size=this.data.options.length,this.data.multiSelect&&(c.multiple=!0)),c.addEventListener("resetform",et=>{const b=this.data.defaultFieldValue;for(const h of c.options)h.selected=h.value===b});for(const et of this.data.options){const b=document.createElement("option");b.textContent=et.displayValue,b.value=et.exportValue,a.value.includes(et.exportValue)&&(b.setAttribute("selected",!0),d=!1),c.append(b)}let g=null;if(d){const et=document.createElement("option");et.value=" ",et.setAttribute("hidden",!0),et.setAttribute("selected",!0),c.prepend(et),g=()=>{et.remove(),c.removeEventListener("input",g),g=null},c.addEventListener("input",g)}const $=et=>{const b=et?"value":"textContent",{options:h,multiple:_e}=c;return _e?Array.prototype.filter.call(h,nt=>nt.selected).map(nt=>nt[b]):h.selectedIndex===-1?null:h[h.selectedIndex][b]};let j=$(!1);const tt=et=>{const b=et.target.options;return Array.prototype.map.call(b,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(c.addEventListener("updatefromsandbox",et=>{const b={value(h){g==null||g();const _e=h.detail.value,nt=new Set(Array.isArray(_e)?_e:[_e]);for(const rt of c.options)rt.selected=nt.has(rt.value);e.setValue(s,{value:$(!0)}),j=$(!1)},multipleSelection(h){c.multiple=!0},remove(h){const _e=c.options,nt=h.detail.remove;_e[nt].selected=!1,c.remove(nt),_e.length>0&&Array.prototype.findIndex.call(_e,it=>it.selected)===-1&&(_e[0].selected=!0),e.setValue(s,{value:$(!0),items:tt(h)}),j=$(!1)},clear(h){for(;c.length!==0;)c.remove(0);e.setValue(s,{value:null,items:[]}),j=$(!1)},insert(h){const{index:_e,displayValue:nt,exportValue:rt}=h.detail.insert,it=c.children[_e],st=document.createElement("option");st.textContent=nt,st.value=rt,it?it.before(st):c.append(st),e.setValue(s,{value:$(!0),items:tt(h)}),j=$(!1)},items(h){const{items:_e}=h.detail;for(;c.length!==0;)c.remove(0);for(const nt of _e){const{displayValue:rt,exportValue:it}=nt,st=document.createElement("option");st.textContent=rt,st.value=it,c.append(st)}c.options.length>0&&(c.options[0].selected=!0),e.setValue(s,{value:$(!0),items:tt(h)}),j=$(!1)},indices(h){const _e=new Set(h.detail.indices);for(const nt of h.target.options)nt.selected=_e.has(nt.index);e.setValue(s,{value:$(!0)}),j=$(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(b,et)}),c.addEventListener("input",et=>{var _e;const b=$(!0),h=$(!1);e.setValue(s,{value:b}),et.preventDefault(),(_e=this.linkService.eventBus)==null||_e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:j,change:h,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(c,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],et=>et.target.value)):c.addEventListener("input",function(et){e.setValue(s,{value:$(!0)})}),this.data.combo&&this._setTextStyle(c),this._setBackgroundColor(c),this._setDefaultPropertiesFromJS(c),this.container.append(c),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(e){const{data:s,elements:a}=e;super(e,{isRenderable:AnnotationElement._hasPopupData(s)}),this.elements=a,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",s.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(a=>`${AnnotationPrefix}${a}`).join(",")),this.container}}var Up,e0,t0,$p,Mu,fr,Fo,Bp,My,Oy,jp,Io,Ns,No,Py,Ro,Fy,Ou,Pu,rr,S_,$0,Av,Dv,Sv,Cv,C_,k_,B0;class PopupElement{constructor({container:e,color:s,elements:a,titleObj:c,modificationDate:d,contentsObj:g,richText:$,parent:j,rect:tt,parentRect:et,open:b}){Mt(this,rr);Mt(this,Up,Pt(this,rr,Sv).bind(this));Mt(this,e0,Pt(this,rr,B0).bind(this));Mt(this,t0,Pt(this,rr,k_).bind(this));Mt(this,$p,Pt(this,rr,C_).bind(this));Mt(this,Mu,null);Mt(this,fr,null);Mt(this,Fo,null);Mt(this,Bp,null);Mt(this,My,null);Mt(this,Oy,null);Mt(this,jp,null);Mt(this,Io,!1);Mt(this,Ns,null);Mt(this,No,null);Mt(this,Py,null);Mt(this,Ro,null);Mt(this,Fy,null);Mt(this,Ou,null);Mt(this,Pu,!1);var h;xt(this,fr,e),xt(this,Fy,c),xt(this,Fo,g),xt(this,Ro,$),xt(this,Oy,j),xt(this,Mu,s),xt(this,Py,tt),xt(this,jp,et),xt(this,My,a),xt(this,Bp,PDFDateString.toDateObject(d)),this.trigger=a.flatMap(_e=>_e.getElementsToTriggerPopup());for(const _e of this.trigger)_e.addEventListener("click",lt(this,$p)),_e.addEventListener("mouseenter",lt(this,t0)),_e.addEventListener("mouseleave",lt(this,e0)),_e.classList.add("popupTriggerArea");for(const _e of a)(h=_e.container)==null||h.addEventListener("keydown",lt(this,Up));lt(this,fr).hidden=!0,b&&Pt(this,rr,C_).call(this)}render(){if(lt(this,Ns))return;const e=xt(this,Ns,document.createElement("div"));if(e.className="popup",lt(this,Mu)){const d=e.style.outlineColor=Util.makeHexColor(...lt(this,Mu));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${d} 30%, white)`:e.style.backgroundColor=Util.makeHexColor(...lt(this,Mu).map($=>Math.floor(.7*(255-$)+$)))}const s=document.createElement("span");s.className="header";const a=document.createElement("h1");if(s.append(a),{dir:a.dir,str:a.textContent}=lt(this,Fy),e.append(s),lt(this,Bp)){const d=document.createElement("span");d.classList.add("popupDate"),d.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),d.setAttribute("data-l10n-args",JSON.stringify({dateObj:lt(this,Bp).valueOf()})),s.append(d)}const c=lt(this,rr,S_);if(c)XfaLayer.render({xfaHtml:c,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const d=this._formatContents(lt(this,Fo));e.append(d)}lt(this,fr).append(e)}_formatContents({str:e,dir:s}){const a=document.createElement("p");a.classList.add("popupContent"),a.dir=s;const c=e.split(/(?:\r\n?|\n)/);for(let d=0,g=c.length;d<g;++d){const $=c[d];a.append(document.createTextNode($)),d<g-1&&a.append(document.createElement("br"))}return a}updateEdited({rect:e,popupContent:s}){var a;lt(this,Ou)||xt(this,Ou,{contentsObj:lt(this,Fo),richText:lt(this,Ro)}),e&&xt(this,No,null),s&&(xt(this,Ro,Pt(this,rr,Dv).call(this,s)),xt(this,Fo,null)),(a=lt(this,Ns))==null||a.remove(),xt(this,Ns,null)}resetEdited(){var e;lt(this,Ou)&&({contentsObj:zr(this,Fo)._,richText:zr(this,Ro)._}=lt(this,Ou),xt(this,Ou,null),(e=lt(this,Ns))==null||e.remove(),xt(this,Ns,null),xt(this,No,null))}forceHide(){xt(this,Pu,this.isVisible),lt(this,Pu)&&(lt(this,fr).hidden=!0)}maybeShow(){lt(this,Pu)&&(lt(this,Ns)||Pt(this,rr,k_).call(this),xt(this,Pu,!1),lt(this,fr).hidden=!1)}get isVisible(){return lt(this,fr).hidden===!1}}Up=new WeakMap,e0=new WeakMap,t0=new WeakMap,$p=new WeakMap,Mu=new WeakMap,fr=new WeakMap,Fo=new WeakMap,Bp=new WeakMap,My=new WeakMap,Oy=new WeakMap,jp=new WeakMap,Io=new WeakMap,Ns=new WeakMap,No=new WeakMap,Py=new WeakMap,Ro=new WeakMap,Fy=new WeakMap,Ou=new WeakMap,Pu=new WeakMap,rr=new WeakSet,S_=function(){const e=lt(this,Ro),s=lt(this,Fo);return e!=null&&e.str&&(!(s!=null&&s.str)||s.str===e.str)&&lt(this,Ro).html||null},$0=function(){var e,s,a;return((a=(s=(e=lt(this,rr,S_))==null?void 0:e.attributes)==null?void 0:s.style)==null?void 0:a.fontSize)||0},Av=function(){var e,s,a;return((a=(s=(e=lt(this,rr,S_))==null?void 0:e.attributes)==null?void 0:s.style)==null?void 0:a.color)||null},Dv=function(e){const s=[],a={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:s}]}},c={style:{color:lt(this,rr,Av),fontSize:lt(this,rr,$0)?`calc(${lt(this,rr,$0)}px * var(--scale-factor))`:""}};for(const d of e.split(`
`))s.push({name:"span",value:d,attributes:c});return a},Sv=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&lt(this,Io))&&Pt(this,rr,C_).call(this)},Cv=function(){if(lt(this,No)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:c,pageY:d}}}=lt(this,Oy);let g=!!lt(this,jp),$=g?lt(this,jp):lt(this,Py);for(const nt of lt(this,My))if(!$||Util.intersect(nt.data.rect,$)!==null){$=nt.data.rect,g=!0;break}const j=Util.normalizeRect([$[0],e[3]-$[1]+e[1],$[2],e[3]-$[3]+e[1]]),et=g?$[2]-$[0]+5:0,b=j[0]+et,h=j[1];xt(this,No,[100*(b-c)/s,100*(h-d)/a]);const{style:_e}=lt(this,fr);_e.left=`${lt(this,No)[0]}%`,_e.top=`${lt(this,No)[1]}%`},C_=function(){xt(this,Io,!lt(this,Io)),lt(this,Io)?(Pt(this,rr,k_).call(this),lt(this,fr).addEventListener("click",lt(this,$p)),lt(this,fr).addEventListener("keydown",lt(this,Up))):(Pt(this,rr,B0).call(this),lt(this,fr).removeEventListener("click",lt(this,$p)),lt(this,fr).removeEventListener("keydown",lt(this,Up)))},k_=function(){lt(this,Ns)||this.render(),this.isVisible?lt(this,Io)&&lt(this,fr).classList.add("focused"):(Pt(this,rr,Cv).call(this),lt(this,fr).hidden=!1,lt(this,fr).style.zIndex=parseInt(lt(this,fr).style.zIndex)+1e3)},B0=function(){lt(this,fr).classList.remove("focused"),!(lt(this,Io)||!this.isVisible)&&(lt(this,fr).hidden=!0,lt(this,fr).style.zIndex=parseInt(lt(this,fr).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const s of this.textContent){const a=document.createElement("span");a.textContent=s,e.append(a)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Iy;class LineAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});Mt(this,Iy,null)}render(){this.container.classList.add("lineAnnotation");const s=this.data,{width:a,height:c}=getRectDims(s.rect),d=this.svgFactory.create(a,c,!0),g=xt(this,Iy,this.svgFactory.createElement("svg:line"));return g.setAttribute("x1",s.rect[2]-s.lineCoordinates[0]),g.setAttribute("y1",s.rect[3]-s.lineCoordinates[1]),g.setAttribute("x2",s.rect[2]-s.lineCoordinates[2]),g.setAttribute("y2",s.rect[3]-s.lineCoordinates[3]),g.setAttribute("stroke-width",s.borderStyle.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),d.append(g),this.container.append(d),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Iy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Iy=new WeakMap;var Ny;class SquareAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});Mt(this,Ny,null)}render(){this.container.classList.add("squareAnnotation");const s=this.data,{width:a,height:c}=getRectDims(s.rect),d=this.svgFactory.create(a,c,!0),g=s.borderStyle.width,$=xt(this,Ny,this.svgFactory.createElement("svg:rect"));return $.setAttribute("x",g/2),$.setAttribute("y",g/2),$.setAttribute("width",a-g),$.setAttribute("height",c-g),$.setAttribute("stroke-width",g||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),d.append($),this.container.append(d),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Ny)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ny=new WeakMap;var Ry;class CircleAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});Mt(this,Ry,null)}render(){this.container.classList.add("circleAnnotation");const s=this.data,{width:a,height:c}=getRectDims(s.rect),d=this.svgFactory.create(a,c,!0),g=s.borderStyle.width,$=xt(this,Ry,this.svgFactory.createElement("svg:ellipse"));return $.setAttribute("cx",a/2),$.setAttribute("cy",c/2),$.setAttribute("rx",a/2-g/2),$.setAttribute("ry",c/2-g/2),$.setAttribute("stroke-width",g||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),d.append($),this.container.append(d),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Ry)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ry=new WeakMap;var Ly;class PolylineAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});Mt(this,Ly,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:s,vertices:a,borderStyle:c,popupRef:d}}=this;if(!a)return this.container;const{width:g,height:$}=getRectDims(s),j=this.svgFactory.create(g,$,!0);let tt=[];for(let b=0,h=a.length;b<h;b+=2){const _e=a[b]-s[0],nt=s[3]-a[b+1];tt.push(`${_e},${nt}`)}tt=tt.join(" ");const et=xt(this,Ly,this.svgFactory.createElement(this.svgElementName));return et.setAttribute("points",tt),et.setAttribute("stroke-width",c.width||1),et.setAttribute("stroke","transparent"),et.setAttribute("fill","transparent"),j.append(et),this.container.append(j),!d&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Ly)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ly=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Uy,Fu,$y,j0;class InkAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});Mt(this,$y);Mt(this,Uy,null);Mt(this,Fu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?AnnotationEditorType.HIGHLIGHT:AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:s,rotation:a,inkLists:c,borderStyle:d,popupRef:g}}=this,{transform:$,width:j,height:tt}=Pt(this,$y,j0).call(this,a,s),et=this.svgFactory.create(j,tt,!0),b=xt(this,Uy,this.svgFactory.createElement("svg:g"));et.append(b),b.setAttribute("stroke-width",d.width||1),b.setAttribute("stroke-linecap","round"),b.setAttribute("stroke-linejoin","round"),b.setAttribute("stroke-miterlimit",10),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),b.setAttribute("transform",$);for(let h=0,_e=c.length;h<_e;h++){const nt=this.svgFactory.createElement(this.svgElementName);lt(this,Fu).push(nt),nt.setAttribute("points",c[h].join(",")),b.append(nt)}return!g&&this.hasPopupData&&this._createPopup(),this.container.append(et),this._editOnDoubleClick(),this.container}updateEdited(s){super.updateEdited(s);const{thickness:a,points:c,rect:d}=s,g=lt(this,Uy);if(a>=0&&g.setAttribute("stroke-width",a||1),c)for(let $=0,j=lt(this,Fu).length;$<j;$++)lt(this,Fu)[$].setAttribute("points",c[$].join(","));if(d){const{transform:$,width:j,height:tt}=Pt(this,$y,j0).call(this,this.data.rotation,d);g.parentElement.setAttribute("viewBox",`0 0 ${j} ${tt}`),g.setAttribute("transform",$)}}getElementsToTriggerPopup(){return lt(this,Fu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Uy=new WeakMap,Fu=new WeakMap,$y=new WeakSet,j0=function(s,a){switch(s){case 90:return{transform:`rotate(90) translate(${-a[0]},${a[1]}) scale(1,-1)`,width:a[3]-a[1],height:a[2]-a[0]};case 180:return{transform:`rotate(180) translate(${-a[2]},${a[1]}) scale(1,-1)`,width:a[2]-a[0],height:a[3]-a[1]};case 270:return{transform:`rotate(270) translate(${-a[2]},${a[3]}) scale(1,-1)`,width:a[3]-a[1],height:a[2]-a[0]};default:return{transform:`translate(${-a[0]},${a[3]}) scale(1,-1)`,width:a[2]-a[0],height:a[3]-a[1]}}};class HighlightAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=AnnotationEditorType.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=AnnotationEditorType.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var By,jy,z0;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(s){var c;super(s,{isRenderable:!0});Mt(this,jy);Mt(this,By,null);const{file:a}=this.data;this.filename=a.filename,this.content=a.content,(c=this.linkService.eventBus)==null||c.dispatch("fileattachmentannotation",{source:this,...a})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:s,data:a}=this;let c;a.hasAppearance||a.fillAlpha===0?c=document.createElement("div"):(c=document.createElement("img"),c.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(a.name)?"paperclip":"pushpin"}.svg`,a.fillAlpha&&a.fillAlpha<1&&(c.style=`filter: opacity(${Math.round(a.fillAlpha*100)}%);`)),c.addEventListener("dblclick",Pt(this,jy,z0).bind(this)),xt(this,By,c);const{isMac:d}=util_FeatureTest.platform;return s.addEventListener("keydown",g=>{g.key==="Enter"&&(d?g.metaKey:g.ctrlKey)&&Pt(this,jy,z0).call(this)}),!a.popupRef&&this.hasPopupData?this._createPopup():c.classList.add("popupTriggerArea"),s.append(c),s}getElementsToTriggerPopup(){return lt(this,By)}addHighlightArea(){this.container.classList.add("highlightArea")}}By=new WeakMap,jy=new WeakSet,z0=function(){var s;(s=this.downloadManager)==null||s.openOrDownloadData(this.content,this.filename)};var zy,Iu,Nu,Wy,_d,kv,W0;class AnnotationLayer{constructor({div:e,accessibilityManager:s,annotationCanvasMap:a,annotationEditorUIManager:c,page:d,viewport:g,structTreeLayer:$}){Mt(this,_d);Mt(this,zy,null);Mt(this,Iu,null);Mt(this,Nu,new Map);Mt(this,Wy,null);this.div=e,xt(this,zy,s),xt(this,Iu,a),xt(this,Wy,$||null),this.page=d,this.viewport=g,this.zIndex=0,this._annotationEditorUIManager=c}hasEditableAnnotations(){return lt(this,Nu).size>0}async render(e){var g;const{annotations:s}=e,a=this.div;setLayerDimensions(a,this.viewport);const c=new Map,d={data:null,layer:a,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:e.annotationStorage||new AnnotationStorage,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const $ of s){if($.noHTML)continue;const j=$.annotationType===AnnotationType.POPUP;if(j){const b=c.get($.id);if(!b)continue;d.elements=b}else{const{width:b,height:h}=getRectDims($.rect);if(b<=0||h<=0)continue}d.data=$;const tt=AnnotationElementFactory.create(d);if(!tt.isRenderable)continue;if(!j&&$.popupRef){const b=c.get($.popupRef);b?b.push(tt):c.set($.popupRef,[tt])}const et=tt.render();$.hidden&&(et.style.visibility="hidden"),await Pt(this,_d,kv).call(this,et,$.id),tt._isEditable&&(lt(this,Nu).set(tt.data.id,tt),(g=this._annotationEditorUIManager)==null||g.renderAnnotationElement(tt))}Pt(this,_d,W0).call(this)}update({viewport:e}){const s=this.div;this.viewport=e,setLayerDimensions(s,{rotation:e.rotation}),Pt(this,_d,W0).call(this),s.hidden=!1}getEditableAnnotations(){return Array.from(lt(this,Nu).values())}getEditableAnnotation(e){return lt(this,Nu).get(e)}}zy=new WeakMap,Iu=new WeakMap,Nu=new WeakMap,Wy=new WeakMap,_d=new WeakSet,kv=async function(e,s){var g,$;const a=e.firstChild||e,c=a.id=`${AnnotationPrefix}${s}`,d=await((g=lt(this,Wy))==null?void 0:g.getAriaAttributes(c));if(d)for(const[j,tt]of d)a.setAttribute(j,tt);this.div.append(e),($=lt(this,zy))==null||$.moveElementInDOM(this.div,e,a,!1)},W0=function(){if(!lt(this,Iu))return;const e=this.div;for(const[s,a]of lt(this,Iu)){const c=e.querySelector(`[data-annotation-id="${s}"]`);if(!c)continue;a.className="annotationContent";const{firstChild:d}=c;d?d.nodeName==="CANVAS"?d.replaceWith(a):d.classList.contains("annotationContent")?d.after(a):d.before(a):c.append(a)}lt(this,Iu).clear()};const EOL_PATTERN=/\r\n?|\n/g;var Rs,as,Vy,Ru,ls,mr,Mv,Ov,Pv,M_,qo,O_,P_,Fv,V0,Iv;const sr=class sr extends AnnotationEditor{constructor(s){super({...s,name:"freeTextEditor"});Mt(this,mr);Mt(this,Rs);Mt(this,as,"");Mt(this,Vy,`${this.id}-editor`);Mt(this,Ru,null);Mt(this,ls);xt(this,Rs,s.color||sr._defaultColor||AnnotationEditor._defaultLineColor),xt(this,ls,s.fontSize||sr._defaultFontSize)}static get _keyboardManager(){const s=sr.prototype,a=g=>g.isEmpty(),c=AnnotationEditorUIManager.TRANSLATE_SMALL,d=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],s.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],s._translateEmpty,{args:[-c,0],checker:a}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],s._translateEmpty,{args:[-d,0],checker:a}],[["ArrowRight","mac+ArrowRight"],s._translateEmpty,{args:[c,0],checker:a}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],s._translateEmpty,{args:[d,0],checker:a}],[["ArrowUp","mac+ArrowUp"],s._translateEmpty,{args:[0,-c],checker:a}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],s._translateEmpty,{args:[0,-d],checker:a}],[["ArrowDown","mac+ArrowDown"],s._translateEmpty,{args:[0,c],checker:a}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],s._translateEmpty,{args:[0,d],checker:a}]]))}static initialize(s,a){AnnotationEditor.initialize(s,a);const c=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(c.getPropertyValue("--freetext-padding"))}static updateDefaultParams(s,a){switch(s){case AnnotationEditorParamsType.FREETEXT_SIZE:sr._defaultFontSize=a;break;case AnnotationEditorParamsType.FREETEXT_COLOR:sr._defaultColor=a;break}}updateParams(s,a){switch(s){case AnnotationEditorParamsType.FREETEXT_SIZE:Pt(this,mr,Mv).call(this,a);break;case AnnotationEditorParamsType.FREETEXT_COLOR:Pt(this,mr,Ov).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,sr._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,sr._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,lt(this,ls)],[AnnotationEditorParamsType.FREETEXT_COLOR,lt(this,Rs)]]}_translateEmpty(s,a){this._uiManager.translateSelectedEditors(s,a,!0)}getInitialTranslation(){const s=this.parentScale;return[-sr._internalPadding*s,-(sr._internalPadding+lt(this,ls))*s]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),xt(this,Ru,new AbortController);const s=this._uiManager.combinedSignal(lt(this,Ru));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:s}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:s}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:s}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:s}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:s})}disableEditMode(){var s;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",lt(this,Vy)),this._isDraggable=!0,(s=lt(this,Ru))==null||s.abort(),xt(this,Ru,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),s.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(s){var a;this.width||(this.enableEditMode(),s&&this.editorDiv.focus(),(a=this._initialOptions)!=null&&a.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const s=lt(this,as),a=xt(this,as,Pt(this,mr,Pv).call(this).trimEnd());if(s===a)return;const c=d=>{if(xt(this,as,d),!d){this.remove();return}Pt(this,mr,P_).call(this),this._uiManager.rebuild(this),Pt(this,mr,M_).call(this)};this.addCommands({cmd:()=>{c(a)},undo:()=>{c(s)},mustExec:!1}),Pt(this,mr,M_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(s){this.enterInEditMode()}keydown(s){s.target===this.div&&s.key==="Enter"&&(this.enterInEditMode(),s.preventDefault())}editorDivKeydown(s){sr._keyboardManager.exec(this,s)}editorDivFocus(s){this.isEditing=!0}editorDivBlur(s){this.isEditing=!1}editorDivInput(s){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let s,a;this.width&&(s=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",lt(this,Vy)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:c}=this.editorDiv;if(c.fontSize=`calc(${lt(this,ls)}px * var(--scale-factor))`,c.color=lt(this,Rs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[d,g]=this.parentDimensions;if(this.annotationElementId){const{position:$}=this._initialData;let[j,tt]=this.getInitialTranslation();[j,tt]=this.pageTranslationToScreen(j,tt);const[et,b]=this.pageDimensions,[h,_e]=this.pageTranslation;let nt,rt;switch(this.rotation){case 0:nt=s+($[0]-h)/et,rt=a+this.height-($[1]-_e)/b;break;case 90:nt=s+($[0]-h)/et,rt=a-($[1]-_e)/b,[j,tt]=[tt,-j];break;case 180:nt=s-this.width+($[0]-h)/et,rt=a-($[1]-_e)/b,[j,tt]=[-j,-tt];break;case 270:nt=s+($[0]-h-this.height*b)/et,rt=a+($[1]-_e-this.width*et)/b,[j,tt]=[-tt,j];break}this.setAt(nt*d,rt*g,j,tt)}else this.setAt(s*d,a*g,this.width*d,this.height*g);Pt(this,mr,P_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(s){var nt,rt,it;const a=s.clipboardData||window.clipboardData,{types:c}=a;if(c.length===1&&c[0]==="text/plain")return;s.preventDefault();const d=Pt(nt=sr,qo,V0).call(nt,a.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!d)return;const g=window.getSelection();if(!g.rangeCount)return;this.editorDiv.normalize(),g.deleteFromDocument();const $=g.getRangeAt(0);if(!d.includes(`
`)){$.insertNode(document.createTextNode(d)),this.editorDiv.normalize(),g.collapseToStart();return}const{startContainer:j,startOffset:tt}=$,et=[],b=[];if(j.nodeType===Node.TEXT_NODE){const st=j.parentElement;if(b.push(j.nodeValue.slice(tt).replaceAll(EOL_PATTERN,"")),st!==this.editorDiv){let ot=et;for(const at of this.editorDiv.childNodes){if(at===st){ot=b;continue}ot.push(Pt(rt=sr,qo,O_).call(rt,at))}}et.push(j.nodeValue.slice(0,tt).replaceAll(EOL_PATTERN,""))}else if(j===this.editorDiv){let st=et,ot=0;for(const at of this.editorDiv.childNodes)ot++===tt&&(st=b),st.push(Pt(it=sr,qo,O_).call(it,at))}xt(this,as,`${et.join(`
`)}${d}${b.join(`
`)}`),Pt(this,mr,P_).call(this);const h=new Range;let _e=et.reduce((st,ot)=>st+ot.length,0);for(const{firstChild:st}of this.editorDiv.childNodes)if(st.nodeType===Node.TEXT_NODE){const ot=st.nodeValue.length;if(_e<=ot){h.setStart(st,_e),h.setEnd(st,_e);break}_e-=ot}g.removeAllRanges(),g.addRange(h)}get contentDiv(){return this.editorDiv}static async deserialize(s,a,c){var $;let d=null;if(s instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:j,fontColor:tt},rect:et,rotation:b,id:h,popupRef:_e},textContent:nt,textPosition:rt,parent:{page:{pageNumber:it}}}=s;if(!nt||nt.length===0)return null;d=s={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(tt),fontSize:j,value:nt.join(`
`),position:rt,pageIndex:it-1,rect:et.slice(0),rotation:b,id:h,deleted:!1,popupRef:_e}}const g=await super.deserialize(s,a,c);return xt(g,ls,s.fontSize),xt(g,Rs,Util.makeHexColor(...s.color)),xt(g,as,Pt($=sr,qo,V0).call($,s.value)),g.annotationElementId=s.id||null,g._initialData=d,g}serialize(s=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a=sr._internalPadding*this.parentScale,c=this.getRect(a,a),d=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:lt(this,Rs)),g={annotationType:AnnotationEditorType.FREETEXT,color:d,fontSize:lt(this,ls),value:Pt(this,mr,Fv).call(this),pageIndex:this.pageIndex,rect:c,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return s?g:this.annotationElementId&&!Pt(this,mr,Iv).call(this,g)?null:(g.id=this.annotationElementId,g)}renderAnnotationElement(s){const a=super.renderAnnotationElement(s);if(this.deleted)return a;const{style:c}=a;c.fontSize=`calc(${lt(this,ls)}px * var(--scale-factor))`,c.color=lt(this,Rs),a.replaceChildren();for(const g of lt(this,as).split(`
`)){const $=document.createElement("div");$.append(g?document.createTextNode(g):document.createElement("br")),a.append($)}const d=sr._internalPadding*this.parentScale;return s.updateEdited({rect:this.getRect(d,d),popupContent:lt(this,as)}),a}resetAnnotationElement(s){super.resetAnnotationElement(s),s.resetEdited()}};Rs=new WeakMap,as=new WeakMap,Vy=new WeakMap,Ru=new WeakMap,ls=new WeakMap,mr=new WeakSet,Mv=function(s){const a=d=>{this.editorDiv.style.fontSize=`calc(${d}px * var(--scale-factor))`,this.translate(0,-(d-lt(this,ls))*this.parentScale),xt(this,ls,d),Pt(this,mr,M_).call(this)},c=lt(this,ls);this.addCommands({cmd:a.bind(this,s),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Ov=function(s){const a=d=>{xt(this,Rs,this.editorDiv.style.color=d)},c=lt(this,Rs);this.addCommands({cmd:a.bind(this,s),undo:a.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Pv=function(){var c;const s=[];this.editorDiv.normalize();let a=null;for(const d of this.editorDiv.childNodes)(a==null?void 0:a.nodeType)===Node.TEXT_NODE&&d.nodeName==="BR"||(s.push(Pt(c=sr,qo,O_).call(c,d)),a=d);return s.join(`
`)},M_=function(){const[s,a]=this.parentDimensions;let c;if(this.isAttachedToDOM)c=this.div.getBoundingClientRect();else{const{currentLayer:d,div:g}=this,$=g.style.display,j=g.classList.contains("hidden");g.classList.remove("hidden"),g.style.display="hidden",d.div.append(this.div),c=g.getBoundingClientRect(),g.remove(),g.style.display=$,g.classList.toggle("hidden",j)}this.rotation%180===this.parentRotation%180?(this.width=c.width/s,this.height=c.height/a):(this.width=c.height/s,this.height=c.width/a),this.fixAndSetPosition()},qo=new WeakSet,O_=function(s){return(s.nodeType===Node.TEXT_NODE?s.nodeValue:s.innerText).replaceAll(EOL_PATTERN,"")},P_=function(){if(this.editorDiv.replaceChildren(),!!lt(this,as))for(const s of lt(this,as).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),this.editorDiv.append(a)}},Fv=function(){return lt(this,as).replaceAll(" "," ")},V0=function(s){return s.replaceAll(" "," ")},Iv=function(s){const{value:a,fontSize:c,color:d,pageIndex:g}=this._initialData;return this._hasBeenMoved||s.value!==a||s.fontSize!==c||s.color.some(($,j)=>$!==d[j])||s.pageIndex!==g},Mt(sr,qo),nn(sr,"_freeTextDefaultContent",""),nn(sr,"_internalPadding",0),nn(sr,"_defaultColor",null),nn(sr,"_defaultFontSize",10),nn(sr,"_type","freetext"),nn(sr,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=sr;class Outline{toSVGPath(){unreachable("Abstract method `toSVGPath` must be implemented.")}get box(){unreachable("Abstract getter `box` must be implemented.")}serialize(e,s){unreachable("Abstract method `serialize` must be implemented.")}static _rescale(e,s,a,c,d,g){g||(g=new Float32Array(e.length));for(let $=0,j=e.length;$<j;$+=2)g[$]=s+e[$]*c,g[$+1]=a+e[$+1]*d;return g}static _rescaleAndSwap(e,s,a,c,d,g){g||(g=new Float32Array(e.length));for(let $=0,j=e.length;$<j;$+=2)g[$]=s+e[$+1]*c,g[$+1]=a+e[$]*d;return g}static _translate(e,s,a,c){c||(c=new Float32Array(e.length));for(let d=0,g=e.length;d<g;d+=2)c[d]=s+e[d],c[d+1]=a+e[d+1];return c}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,s,a,c,d){switch(d){case 90:return[1-s/a,e/c];case 180:return[1-e/a,1-s/c];case 270:return[s/a,1-e/c];default:return[e/a,s/c]}}static _normalizePagePoint(e,s,a){switch(a){case 90:return[1-s,e];case 180:return[1-e,1-s];case 270:return[s,1-e];default:return[e,s]}}static createBezierPoints(e,s,a,c,d,g){return[(e+5*a)/6,(s+5*c)/6,(5*a+d)/6,(5*c+g)/6,(a+d)/2,(c+g)/2]}}nn(Outline,"PRECISION",1e-4);var cs,Ls,zp,Wp,ro,qn,Lu,Uu,qy,Gy,Vp,qp,Cl,Hy,n0,r0,wr,Pm,Nv,Rv,Lv,Uv,$v,Bv;const bo=class bo{constructor({x:e,y:s},a,c,d,g,$=0){Mt(this,wr);Mt(this,cs);Mt(this,Ls,[]);Mt(this,zp);Mt(this,Wp);Mt(this,ro,[]);Mt(this,qn,new Float32Array(18));Mt(this,Lu);Mt(this,Uu);Mt(this,qy);Mt(this,Gy);Mt(this,Vp);Mt(this,qp);Mt(this,Cl,[]);xt(this,cs,a),xt(this,qp,d*c),xt(this,Wp,g),lt(this,qn).set([NaN,NaN,NaN,NaN,e,s],6),xt(this,zp,$),xt(this,Gy,lt(bo,Hy)*c),xt(this,qy,lt(bo,r0)*c),xt(this,Vp,c),lt(this,Cl).push(e,s)}isEmpty(){return isNaN(lt(this,qn)[8])}add({x:e,y:s}){var ft;xt(this,Lu,e),xt(this,Uu,s);const[a,c,d,g]=lt(this,cs);let[$,j,tt,et]=lt(this,qn).subarray(8,12);const b=e-tt,h=s-et,_e=Math.hypot(b,h);if(_e<lt(this,qy))return!1;const nt=_e-lt(this,Gy),rt=nt/_e,it=rt*b,st=rt*h;let ot=$,at=j;$=tt,j=et,tt+=it,et+=st,(ft=lt(this,Cl))==null||ft.push(e,s);const ct=-st/nt,ut=it/nt,dt=ct*lt(this,qp),ht=ut*lt(this,qp);return lt(this,qn).set(lt(this,qn).subarray(2,8),0),lt(this,qn).set([tt+dt,et+ht],4),lt(this,qn).set(lt(this,qn).subarray(14,18),12),lt(this,qn).set([tt-dt,et-ht],16),isNaN(lt(this,qn)[6])?(lt(this,ro).length===0&&(lt(this,qn).set([$+dt,j+ht],2),lt(this,ro).push(NaN,NaN,NaN,NaN,($+dt-a)/d,(j+ht-c)/g),lt(this,qn).set([$-dt,j-ht],14),lt(this,Ls).push(NaN,NaN,NaN,NaN,($-dt-a)/d,(j-ht-c)/g)),lt(this,qn).set([ot,at,$,j,tt,et],6),!this.isEmpty()):(lt(this,qn).set([ot,at,$,j,tt,et],6),Math.abs(Math.atan2(at-j,ot-$)-Math.atan2(st,it))<Math.PI/2?([$,j,tt,et]=lt(this,qn).subarray(2,6),lt(this,ro).push(NaN,NaN,NaN,NaN,(($+tt)/2-a)/d,((j+et)/2-c)/g),[$,j,ot,at]=lt(this,qn).subarray(14,18),lt(this,Ls).push(NaN,NaN,NaN,NaN,((ot+$)/2-a)/d,((at+j)/2-c)/g),!0):([ot,at,$,j,tt,et]=lt(this,qn).subarray(0,6),lt(this,ro).push(((ot+5*$)/6-a)/d,((at+5*j)/6-c)/g,((5*$+tt)/6-a)/d,((5*j+et)/6-c)/g,(($+tt)/2-a)/d,((j+et)/2-c)/g),[tt,et,$,j,ot,at]=lt(this,qn).subarray(12,18),lt(this,Ls).push(((ot+5*$)/6-a)/d,((at+5*j)/6-c)/g,((5*$+tt)/6-a)/d,((5*j+et)/6-c)/g,(($+tt)/2-a)/d,((j+et)/2-c)/g),!0))}toSVGPath(){if(this.isEmpty())return"";const e=lt(this,ro),s=lt(this,Ls);if(isNaN(lt(this,qn)[6])&&!this.isEmpty())return Pt(this,wr,Nv).call(this);const a=[];a.push(`M${e[4]} ${e[5]}`);for(let c=6;c<e.length;c+=6)isNaN(e[c])?a.push(`L${e[c+4]} ${e[c+5]}`):a.push(`C${e[c]} ${e[c+1]} ${e[c+2]} ${e[c+3]} ${e[c+4]} ${e[c+5]}`);Pt(this,wr,Lv).call(this,a);for(let c=s.length-6;c>=6;c-=6)isNaN(s[c])?a.push(`L${s[c+4]} ${s[c+5]}`):a.push(`C${s[c]} ${s[c+1]} ${s[c+2]} ${s[c+3]} ${s[c+4]} ${s[c+5]}`);return Pt(this,wr,Rv).call(this,a),a.join(" ")}newFreeDrawOutline(e,s,a,c,d,g){return new FreeDrawOutline(e,s,a,c,d,g)}getOutlines(){var b;const e=lt(this,ro),s=lt(this,Ls),a=lt(this,qn),[c,d,g,$]=lt(this,cs),j=new Float32Array((((b=lt(this,Cl))==null?void 0:b.length)??0)+2);for(let h=0,_e=j.length-2;h<_e;h+=2)j[h]=(lt(this,Cl)[h]-c)/g,j[h+1]=(lt(this,Cl)[h+1]-d)/$;if(j[j.length-2]=(lt(this,Lu)-c)/g,j[j.length-1]=(lt(this,Uu)-d)/$,isNaN(a[6])&&!this.isEmpty())return Pt(this,wr,Uv).call(this,j);const tt=new Float32Array(lt(this,ro).length+24+lt(this,Ls).length);let et=e.length;for(let h=0;h<et;h+=2){if(isNaN(e[h])){tt[h]=tt[h+1]=NaN;continue}tt[h]=e[h],tt[h+1]=e[h+1]}et=Pt(this,wr,Bv).call(this,tt,et);for(let h=s.length-6;h>=6;h-=6)for(let _e=0;_e<6;_e+=2){if(isNaN(s[h+_e])){tt[et]=tt[et+1]=NaN,et+=2;continue}tt[et]=s[h+_e],tt[et+1]=s[h+_e+1],et+=2}return Pt(this,wr,$v).call(this,tt,et),this.newFreeDrawOutline(tt,j,lt(this,cs),lt(this,Vp),lt(this,zp),lt(this,Wp))}};cs=new WeakMap,Ls=new WeakMap,zp=new WeakMap,Wp=new WeakMap,ro=new WeakMap,qn=new WeakMap,Lu=new WeakMap,Uu=new WeakMap,qy=new WeakMap,Gy=new WeakMap,Vp=new WeakMap,qp=new WeakMap,Cl=new WeakMap,Hy=new WeakMap,n0=new WeakMap,r0=new WeakMap,wr=new WeakSet,Pm=function(){const e=lt(this,qn).subarray(4,6),s=lt(this,qn).subarray(16,18),[a,c,d,g]=lt(this,cs);return[(lt(this,Lu)+(e[0]-s[0])/2-a)/d,(lt(this,Uu)+(e[1]-s[1])/2-c)/g,(lt(this,Lu)+(s[0]-e[0])/2-a)/d,(lt(this,Uu)+(s[1]-e[1])/2-c)/g]},Nv=function(){const[e,s,a,c]=lt(this,cs),[d,g,$,j]=Pt(this,wr,Pm).call(this);return`M${(lt(this,qn)[2]-e)/a} ${(lt(this,qn)[3]-s)/c} L${(lt(this,qn)[4]-e)/a} ${(lt(this,qn)[5]-s)/c} L${d} ${g} L${$} ${j} L${(lt(this,qn)[16]-e)/a} ${(lt(this,qn)[17]-s)/c} L${(lt(this,qn)[14]-e)/a} ${(lt(this,qn)[15]-s)/c} Z`},Rv=function(e){const s=lt(this,Ls);e.push(`L${s[4]} ${s[5]} Z`)},Lv=function(e){const[s,a,c,d]=lt(this,cs),g=lt(this,qn).subarray(4,6),$=lt(this,qn).subarray(16,18),[j,tt,et,b]=Pt(this,wr,Pm).call(this);e.push(`L${(g[0]-s)/c} ${(g[1]-a)/d} L${j} ${tt} L${et} ${b} L${($[0]-s)/c} ${($[1]-a)/d}`)},Uv=function(e){const s=lt(this,qn),[a,c,d,g]=lt(this,cs),[$,j,tt,et]=Pt(this,wr,Pm).call(this),b=new Float32Array(36);return b.set([NaN,NaN,NaN,NaN,(s[2]-a)/d,(s[3]-c)/g,NaN,NaN,NaN,NaN,(s[4]-a)/d,(s[5]-c)/g,NaN,NaN,NaN,NaN,$,j,NaN,NaN,NaN,NaN,tt,et,NaN,NaN,NaN,NaN,(s[16]-a)/d,(s[17]-c)/g,NaN,NaN,NaN,NaN,(s[14]-a)/d,(s[15]-c)/g],0),this.newFreeDrawOutline(b,e,lt(this,cs),lt(this,Vp),lt(this,zp),lt(this,Wp))},$v=function(e,s){const a=lt(this,Ls);return e.set([NaN,NaN,NaN,NaN,a[4],a[5]],s),s+=6},Bv=function(e,s){const a=lt(this,qn).subarray(4,6),c=lt(this,qn).subarray(16,18),[d,g,$,j]=lt(this,cs),[tt,et,b,h]=Pt(this,wr,Pm).call(this);return e.set([NaN,NaN,NaN,NaN,(a[0]-d)/$,(a[1]-g)/j,NaN,NaN,NaN,NaN,tt,et,NaN,NaN,NaN,NaN,b,h,NaN,NaN,NaN,NaN,(c[0]-d)/$,(c[1]-g)/j],s),s+=24},Mt(bo,Hy,8),Mt(bo,n0,2),Mt(bo,r0,lt(bo,Hy)+lt(bo,n0));let FreeDrawOutliner=bo;var Gp,$u,Lo,Xy,us,Yy,gr,i0,jv;class FreeDrawOutline extends Outline{constructor(s,a,c,d,g,$){super();Mt(this,i0);Mt(this,Gp);Mt(this,$u,new Float32Array(4));Mt(this,Lo);Mt(this,Xy);Mt(this,us);Mt(this,Yy);Mt(this,gr);xt(this,gr,s),xt(this,us,a),xt(this,Gp,c),xt(this,Yy,d),xt(this,Lo,g),xt(this,Xy,$),this.lastPoint=[NaN,NaN],Pt(this,i0,jv).call(this,$);const[j,tt,et,b]=lt(this,$u);for(let h=0,_e=s.length;h<_e;h+=2)s[h]=(s[h]-j)/et,s[h+1]=(s[h+1]-tt)/b;for(let h=0,_e=a.length;h<_e;h+=2)a[h]=(a[h]-j)/et,a[h+1]=(a[h+1]-tt)/b}toSVGPath(){const s=[`M${lt(this,gr)[4]} ${lt(this,gr)[5]}`];for(let a=6,c=lt(this,gr).length;a<c;a+=6){if(isNaN(lt(this,gr)[a])){s.push(`L${lt(this,gr)[a+4]} ${lt(this,gr)[a+5]}`);continue}s.push(`C${lt(this,gr)[a]} ${lt(this,gr)[a+1]} ${lt(this,gr)[a+2]} ${lt(this,gr)[a+3]} ${lt(this,gr)[a+4]} ${lt(this,gr)[a+5]}`)}return s.push("Z"),s.join(" ")}serialize([s,a,c,d],g){const $=c-s,j=d-a;let tt,et;switch(g){case 0:tt=Outline._rescale(lt(this,gr),s,d,$,-j),et=Outline._rescale(lt(this,us),s,d,$,-j);break;case 90:tt=Outline._rescaleAndSwap(lt(this,gr),s,a,$,j),et=Outline._rescaleAndSwap(lt(this,us),s,a,$,j);break;case 180:tt=Outline._rescale(lt(this,gr),c,a,-$,j),et=Outline._rescale(lt(this,us),c,a,-$,j);break;case 270:tt=Outline._rescaleAndSwap(lt(this,gr),c,d,-$,-j),et=Outline._rescaleAndSwap(lt(this,us),c,d,-$,-j);break}return{outline:Array.from(tt),points:[Array.from(et)]}}get box(){return lt(this,$u)}newOutliner(s,a,c,d,g,$=0){return new FreeDrawOutliner(s,a,c,d,g,$)}getNewOutline(s,a){const[c,d,g,$]=lt(this,$u),[j,tt,et,b]=lt(this,Gp),h=g*et,_e=$*b,nt=c*et+j,rt=d*b+tt,it=this.newOutliner({x:lt(this,us)[0]*h+nt,y:lt(this,us)[1]*_e+rt},lt(this,Gp),lt(this,Yy),s,lt(this,Xy),a??lt(this,Lo));for(let st=2;st<lt(this,us).length;st+=2)it.add({x:lt(this,us)[st]*h+nt,y:lt(this,us)[st+1]*_e+rt});return it.getOutlines()}}Gp=new WeakMap,$u=new WeakMap,Lo=new WeakMap,Xy=new WeakMap,us=new WeakMap,Yy=new WeakMap,gr=new WeakMap,i0=new WeakSet,jv=function(s){const a=lt(this,gr);let c=a[4],d=a[5],g=c,$=d,j=c,tt=d,et=c,b=d;const h=s?Math.max:Math.min;for(let nt=6,rt=a.length;nt<rt;nt+=6){if(isNaN(a[nt]))g=Math.min(g,a[nt+4]),$=Math.min($,a[nt+5]),j=Math.max(j,a[nt+4]),tt=Math.max(tt,a[nt+5]),b<a[nt+5]?(et=a[nt+4],b=a[nt+5]):b===a[nt+5]&&(et=h(et,a[nt+4]));else{const it=Util.bezierBoundingBox(c,d,...a.slice(nt,nt+6));g=Math.min(g,it[0]),$=Math.min($,it[1]),j=Math.max(j,it[2]),tt=Math.max(tt,it[3]),b<it[3]?(et=it[2],b=it[3]):b===it[3]&&(et=h(et,it[2]))}c=a[nt+4],d=a[nt+5]}const _e=lt(this,$u);_e[0]=g-lt(this,Lo),_e[1]=$-lt(this,Lo),_e[2]=j-g+2*lt(this,Lo),_e[3]=tt-$+2*lt(this,Lo),this.lastPoint=[et,b]};var Ky,Qy,Ml,Us,Yr,zv,F_,Wv,Vv,q0;class HighlightOutliner{constructor(e,s=0,a=0,c=!0){Mt(this,Yr);Mt(this,Ky);Mt(this,Qy);Mt(this,Ml,[]);Mt(this,Us,[]);let d=1/0,g=-1/0,$=1/0,j=-1/0;const tt=10**-4;for(const{x:it,y:st,width:ot,height:at}of e){const ct=Math.floor((it-s)/tt)*tt,ut=Math.ceil((it+ot+s)/tt)*tt,dt=Math.floor((st-s)/tt)*tt,ht=Math.ceil((st+at+s)/tt)*tt,pt=[ct,dt,ht,!0],ft=[ut,dt,ht,!1];lt(this,Ml).push(pt,ft),d=Math.min(d,ct),g=Math.max(g,ut),$=Math.min($,dt),j=Math.max(j,ht)}const et=g-d+2*a,b=j-$+2*a,h=d-a,_e=$-a,nt=lt(this,Ml).at(c?-1:-2),rt=[nt[0],nt[2]];for(const it of lt(this,Ml)){const[st,ot,at]=it;it[0]=(st-h)/et,it[1]=(ot-_e)/b,it[2]=(at-_e)/b}xt(this,Ky,new Float32Array([h,_e,et,b])),xt(this,Qy,rt)}getOutlines(){lt(this,Ml).sort((s,a)=>s[0]-a[0]||s[1]-a[1]||s[2]-a[2]);const e=[];for(const s of lt(this,Ml))s[3]?(e.push(...Pt(this,Yr,q0).call(this,s)),Pt(this,Yr,Wv).call(this,s)):(Pt(this,Yr,Vv).call(this,s),e.push(...Pt(this,Yr,q0).call(this,s)));return Pt(this,Yr,zv).call(this,e)}}Ky=new WeakMap,Qy=new WeakMap,Ml=new WeakMap,Us=new WeakMap,Yr=new WeakSet,zv=function(e){const s=[],a=new Set;for(const g of e){const[$,j,tt]=g;s.push([$,j,g],[$,tt,g])}s.sort((g,$)=>g[1]-$[1]||g[0]-$[0]);for(let g=0,$=s.length;g<$;g+=2){const j=s[g][2],tt=s[g+1][2];j.push(tt),tt.push(j),a.add(j),a.add(tt)}const c=[];let d;for(;a.size>0;){const g=a.values().next().value;let[$,j,tt,et,b]=g;a.delete(g);let h=$,_e=j;for(d=[$,tt],c.push(d);;){let nt;if(a.has(et))nt=et;else if(a.has(b))nt=b;else break;a.delete(nt),[$,j,tt,et,b]=nt,h!==$&&(d.push(h,_e,$,_e===j?j:tt),h=$),_e=_e===j?tt:j}d.push(h,_e)}return new HighlightOutline(c,lt(this,Ky),lt(this,Qy))},F_=function(e){const s=lt(this,Us);let a=0,c=s.length-1;for(;a<=c;){const d=a+c>>1,g=s[d][0];if(g===e)return d;g<e?a=d+1:c=d-1}return c+1},Wv=function([,e,s]){const a=Pt(this,Yr,F_).call(this,e);lt(this,Us).splice(a,0,[e,s])},Vv=function([,e,s]){const a=Pt(this,Yr,F_).call(this,e);for(let c=a;c<lt(this,Us).length;c++){const[d,g]=lt(this,Us)[c];if(d!==e)break;if(d===e&&g===s){lt(this,Us).splice(c,1);return}}for(let c=a-1;c>=0;c--){const[d,g]=lt(this,Us)[c];if(d!==e)break;if(d===e&&g===s){lt(this,Us).splice(c,1);return}}},q0=function(e){const[s,a,c]=e,d=[[s,a,c]],g=Pt(this,Yr,F_).call(this,c);for(let $=0;$<g;$++){const[j,tt]=lt(this,Us)[$];for(let et=0,b=d.length;et<b;et++){const[,h,_e]=d[et];if(!(tt<=h||_e<=j)){if(h>=j){if(_e>tt)d[et][1]=tt;else{if(b===1)return[];d.splice(et,1),et--,b--}continue}d[et][2]=j,_e>tt&&d.push([s,tt,_e])}}}return d};var Zy,Hp;class HighlightOutline extends Outline{constructor(s,a,c){super();Mt(this,Zy);Mt(this,Hp);xt(this,Hp,s),xt(this,Zy,a),this.lastPoint=c}toSVGPath(){const s=[];for(const a of lt(this,Hp)){let[c,d]=a;s.push(`M${c} ${d}`);for(let g=2;g<a.length;g+=2){const $=a[g],j=a[g+1];$===c?(s.push(`V${j}`),d=j):j===d&&(s.push(`H${$}`),c=$)}s.push("Z")}return s.join(" ")}serialize([s,a,c,d],g){const $=[],j=c-s,tt=d-a;for(const et of lt(this,Hp)){const b=new Array(et.length);for(let h=0;h<et.length;h+=2)b[h]=s+et[h]*j,b[h+1]=d-et[h+1]*tt;$.push(b)}return $}get box(){return lt(this,Zy)}get classNamesForOutlining(){return["highlightOutline"]}}Zy=new WeakMap,Hp=new WeakMap;class FreeHighlightOutliner extends FreeDrawOutliner{newFreeDrawOutline(e,s,a,c,d,g){return new FreeHighlightOutline(e,s,a,c,d,g)}}class FreeHighlightOutline extends FreeDrawOutline{newOutliner(e,s,a,c,d,g=0){return new FreeHighlightOutliner(e,s,a,c,d,g)}}var $s,Bu,Xp,vr,Jy,Yp,_b,e_,Ol,Bs,Kp,t_,nr,G0,H0,X0,Gl,qv,Yo;const Zr=class Zr{constructor({editor:e=null,uiManager:s=null}){Mt(this,nr);Mt(this,$s,null);Mt(this,Bu,null);Mt(this,Xp);Mt(this,vr,null);Mt(this,Jy,!1);Mt(this,Yp,!1);Mt(this,_b,null);Mt(this,e_);Mt(this,Ol,null);Mt(this,Bs,null);Mt(this,Kp);var a;e?(xt(this,Yp,!1),xt(this,Kp,AnnotationEditorParamsType.HIGHLIGHT_COLOR),xt(this,_b,e)):(xt(this,Yp,!0),xt(this,Kp,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),xt(this,Bs,(e==null?void 0:e._uiManager)||s),xt(this,e_,lt(this,Bs)._eventBus),xt(this,Xp,(e==null?void 0:e.color)||((a=lt(this,Bs))==null?void 0:a.highlightColors.values().next().value)||"#FFFF98"),lt(Zr,t_)||xt(Zr,t_,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Zr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Zr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Zr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Zr.prototype._moveToPrevious],[["Home","mac+Home"],Zr.prototype._moveToBeginning],[["End","mac+End"],Zr.prototype._moveToEnd]]))}renderButton(){const e=xt(this,$s,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const s=lt(this,Bs)._signal;e.addEventListener("click",Pt(this,nr,Gl).bind(this),{signal:s}),e.addEventListener("keydown",Pt(this,nr,X0).bind(this),{signal:s});const a=xt(this,Bu,document.createElement("span"));return a.className="swatch",a.setAttribute("aria-hidden",!0),a.style.backgroundColor=lt(this,Xp),e.append(a),e}renderMainDropdown(){const e=xt(this,vr,Pt(this,nr,G0).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===lt(this,$s)){Pt(this,nr,Gl).call(this,e);return}const s=e.target.getAttribute("data-color");s&&Pt(this,nr,H0).call(this,s,e)}_moveToNext(e){var s,a;if(!lt(this,nr,Yo)){Pt(this,nr,Gl).call(this,e);return}if(e.target===lt(this,$s)){(s=lt(this,vr).firstChild)==null||s.focus();return}(a=e.target.nextSibling)==null||a.focus()}_moveToPrevious(e){var s,a;if(e.target===((s=lt(this,vr))==null?void 0:s.firstChild)||e.target===lt(this,$s)){lt(this,nr,Yo)&&this._hideDropdownFromKeyboard();return}lt(this,nr,Yo)||Pt(this,nr,Gl).call(this,e),(a=e.target.previousSibling)==null||a.focus()}_moveToBeginning(e){var s;if(!lt(this,nr,Yo)){Pt(this,nr,Gl).call(this,e);return}(s=lt(this,vr).firstChild)==null||s.focus()}_moveToEnd(e){var s;if(!lt(this,nr,Yo)){Pt(this,nr,Gl).call(this,e);return}(s=lt(this,vr).lastChild)==null||s.focus()}hideDropdown(){var e,s;(e=lt(this,vr))==null||e.classList.add("hidden"),(s=lt(this,Ol))==null||s.abort(),xt(this,Ol,null)}_hideDropdownFromKeyboard(){var e;if(!lt(this,Yp)){if(!lt(this,nr,Yo)){(e=lt(this,_b))==null||e.unselect();return}this.hideDropdown(),lt(this,$s).focus({preventScroll:!0,focusVisible:lt(this,Jy)})}}updateColor(e){if(lt(this,Bu)&&(lt(this,Bu).style.backgroundColor=e),!lt(this,vr))return;const s=lt(this,Bs).highlightColors.values();for(const a of lt(this,vr).children)a.setAttribute("aria-selected",s.next().value===e)}destroy(){var e,s;(e=lt(this,$s))==null||e.remove(),xt(this,$s,null),xt(this,Bu,null),(s=lt(this,vr))==null||s.remove(),xt(this,vr,null)}};$s=new WeakMap,Bu=new WeakMap,Xp=new WeakMap,vr=new WeakMap,Jy=new WeakMap,Yp=new WeakMap,_b=new WeakMap,e_=new WeakMap,Ol=new WeakMap,Bs=new WeakMap,Kp=new WeakMap,t_=new WeakMap,nr=new WeakSet,G0=function(){const e=document.createElement("div"),s=lt(this,Bs)._signal;e.addEventListener("contextmenu",noContextMenu,{signal:s}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[a,c]of lt(this,Bs).highlightColors){const d=document.createElement("button");d.tabIndex="0",d.role="option",d.setAttribute("data-color",c),d.title=a,d.setAttribute("data-l10n-id",lt(Zr,t_)[a]);const g=document.createElement("span");d.append(g),g.className="swatch",g.style.backgroundColor=c,d.setAttribute("aria-selected",c===lt(this,Xp)),d.addEventListener("click",Pt(this,nr,H0).bind(this,c),{signal:s}),e.append(d)}return e.addEventListener("keydown",Pt(this,nr,X0).bind(this),{signal:s}),e},H0=function(e,s){s.stopPropagation(),lt(this,e_).dispatch("switchannotationeditorparams",{source:this,type:lt(this,Kp),value:e})},X0=function(e){Zr._keyboardManager.exec(this,e)},Gl=function(e){if(lt(this,nr,Yo)){this.hideDropdown();return}if(xt(this,Jy,e.detail===0),lt(this,Ol)||(xt(this,Ol,new AbortController),window.addEventListener("pointerdown",Pt(this,nr,qv).bind(this),{signal:lt(this,Bs).combinedSignal(lt(this,Ol))})),lt(this,vr)){lt(this,vr).classList.remove("hidden");return}const s=xt(this,vr,Pt(this,nr,G0).call(this));lt(this,$s).append(s)},qv=function(e){var s;(s=lt(this,vr))!=null&&s.contains(e.target)||this.hideDropdown()},Yo=function(){return lt(this,vr)&&!lt(this,vr).classList.contains("hidden")},Mt(Zr,t_,null);let ColorPicker=Zr;var Qp,n_,Uo,ju,Zp,ts,r_,i_,zu,xs,ds,Or,Jp,$o,Br,_g,Ts,s_,Ln,Y0,I_,Gv,Hv,Xv,K0,Hl,Ss,rp,Yv,N_,Fm,Kv,Qv,Zv,Jv,e2;const Zn=class Zn extends AnnotationEditor{constructor(s){super({...s,name:"highlightEditor"});Mt(this,Ln);Mt(this,Qp,null);Mt(this,n_,0);Mt(this,Uo);Mt(this,ju,null);Mt(this,Zp,null);Mt(this,ts,null);Mt(this,r_,null);Mt(this,i_,0);Mt(this,zu,null);Mt(this,xs,null);Mt(this,ds,null);Mt(this,Or,!1);Mt(this,Jp,null);Mt(this,$o);Mt(this,Br,null);Mt(this,_g,"");Mt(this,Ts);Mt(this,s_,"");this.color=s.color||Zn._defaultColor,xt(this,Ts,s.thickness||Zn._defaultThickness),xt(this,$o,s.opacity||Zn._defaultOpacity),xt(this,Uo,s.boxes||null),xt(this,s_,s.methodOfCreation||""),xt(this,_g,s.text||""),this._isDraggable=!1,s.highlightId>-1?(xt(this,Or,!0),Pt(this,Ln,I_).call(this,s),Pt(this,Ln,Hl).call(this)):lt(this,Uo)&&(xt(this,Qp,s.anchorNode),xt(this,n_,s.anchorOffset),xt(this,r_,s.focusNode),xt(this,i_,s.focusOffset),Pt(this,Ln,Y0).call(this),Pt(this,Ln,Hl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const s=Zn.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],s._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],s._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],s._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],s._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:lt(this,Or)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:lt(this,Ts),methodOfCreation:lt(this,s_)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(s){return{numberOfColors:s.get("color").size}}static initialize(s,a){var c;AnnotationEditor.initialize(s,a),Zn._defaultColor||(Zn._defaultColor=((c=a.highlightColors)==null?void 0:c.values().next().value)||"#fff066")}static updateDefaultParams(s,a){switch(s){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:Zn._defaultColor=a;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Zn._defaultThickness=a;break}}translateInPage(s,a){}get toolbarPosition(){return lt(this,Jp)}updateParams(s,a){switch(s){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:Pt(this,Ln,Gv).call(this,a);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Pt(this,Ln,Hv).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,Zn._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Zn._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Zn._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,lt(this,Ts)||Zn._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,lt(this,Or)]]}async addEditToolbar(){const s=await super.addEditToolbar();return s?(this._uiManager.highlightColors&&(xt(this,Zp,new ColorPicker({editor:this})),s.addColorPicker(lt(this,Zp))),s):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Pt(this,Ln,Fm).call(this))}getBaseTranslation(){return[0,0]}getRect(s,a){return super.getRect(s,a,Pt(this,Ln,Fm).call(this))}onceAdded(s){this.annotationElementId||this.parent.addUndoableEditor(this),s&&this.div.focus()}remove(){Pt(this,Ln,K0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Pt(this,Ln,Hl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(s){var c;let a=!1;this.parent&&!s?Pt(this,Ln,K0).call(this):s&&(Pt(this,Ln,Hl).call(this,s),a=!this.parent&&((c=this.div)==null?void 0:c.classList.contains("selectedEditor"))),super.setParent(s),this.show(this._isVisible),a&&this.select()}rotate(s){var d,g,$;const{drawLayer:a}=this.parent;let c;lt(this,Or)?(s=(s-this.rotation+360)%360,c=Pt(d=Zn,Ss,rp).call(d,lt(this,xs).box,s)):c=Pt(g=Zn,Ss,rp).call(g,[this.x,this.y,this.width,this.height],s),a.updateProperties(lt(this,ds),{bbox:c,root:{"data-main-rotation":s}}),a.updateProperties(lt(this,Br),{bbox:Pt($=Zn,Ss,rp).call($,lt(this,ts).box,s),root:{"data-main-rotation":s}})}render(){if(this.div)return this.div;const s=super.render();lt(this,_g)&&(s.setAttribute("aria-label",lt(this,_g)),s.setAttribute("role","mark")),lt(this,Or)?s.classList.add("free"):this.div.addEventListener("keydown",Pt(this,Ln,Yv).bind(this),{signal:this._uiManager._signal});const a=xt(this,zu,document.createElement("div"));s.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",a.style.clipPath=lt(this,ju);const[c,d]=this.parentDimensions;return this.setDims(this.width*c,this.height*d),bindEvents(this,lt(this,zu),["pointerover","pointerleave"]),this.enableEditing(),s}pointerover(){var s;this.isSelected||(s=this.parent)==null||s.drawLayer.updateProperties(lt(this,Br),{rootClass:{hovered:!0}})}pointerleave(){var s;this.isSelected||(s=this.parent)==null||s.drawLayer.updateProperties(lt(this,Br),{rootClass:{hovered:!1}})}_moveCaret(s){switch(this.parent.unselect(this),s){case 0:case 2:Pt(this,Ln,N_).call(this,!0);break;case 1:case 3:Pt(this,Ln,N_).call(this,!1);break}}select(){var s;super.select(),lt(this,Br)&&((s=this.parent)==null||s.drawLayer.updateProperties(lt(this,Br),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var s;super.unselect(),lt(this,Br)&&((s=this.parent)==null||s.drawLayer.updateProperties(lt(this,Br),{rootClass:{selected:!1}}),lt(this,Or)||Pt(this,Ln,N_).call(this,!1))}get _mustFixPosition(){return!lt(this,Or)}show(s=this._isVisible){super.show(s),this.parent&&(this.parent.drawLayer.updateProperties(lt(this,ds),{rootClass:{hidden:!s}}),this.parent.drawLayer.updateProperties(lt(this,Br),{rootClass:{hidden:!s}}))}static startHighlighting(s,a,{target:c,x:d,y:g}){const{x:$,y:j,width:tt,height:et}=c.getBoundingClientRect(),b=new AbortController,h=s.combinedSignal(b),_e=nt=>{b.abort(),Pt(this,Ss,Jv).call(this,s,nt)};window.addEventListener("blur",_e,{signal:h}),window.addEventListener("pointerup",_e,{signal:h}),window.addEventListener("pointerdown",stopEvent,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",noContextMenu,{signal:h}),c.addEventListener("pointermove",Pt(this,Ss,Zv).bind(this,s),{signal:h}),this._freeHighlight=new FreeHighlightOutliner({x:d,y:g},[$,j,tt,et],s.scale,this._defaultThickness/2,a,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=s.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(s,a,c){var rt,it,st,ot;let d=null;if(s instanceof HighlightAnnotationElement){const{data:{quadPoints:at,rect:ct,rotation:ut,id:dt,color:ht,opacity:pt,popupRef:ft},parent:{page:{pageNumber:bt}}}=s;d=s={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(ht),opacity:pt,quadPoints:at,boxes:null,pageIndex:bt-1,rect:ct.slice(0),rotation:ut,id:dt,deleted:!1,popupRef:ft}}else if(s instanceof InkAnnotationElement){const{data:{inkLists:at,rect:ct,rotation:ut,id:dt,color:ht,borderStyle:{rawWidth:pt},popupRef:ft},parent:{page:{pageNumber:bt}}}=s;d=s={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(ht),thickness:pt,inkLists:at,boxes:null,pageIndex:bt-1,rect:ct.slice(0),rotation:ut,id:dt,deleted:!1,popupRef:ft}}const{color:g,quadPoints:$,inkLists:j,opacity:tt}=s,et=await super.deserialize(s,a,c);et.color=Util.makeHexColor(...g),xt(et,$o,tt||1),j&&xt(et,Ts,s.thickness),et.annotationElementId=s.id||null,et._initialData=d;const[b,h]=et.pageDimensions,[_e,nt]=et.pageTranslation;if($){const at=xt(et,Uo,[]);for(let ct=0;ct<$.length;ct+=8)at.push({x:($[ct]-_e)/b,y:1-($[ct+1]-nt)/h,width:($[ct+2]-$[ct])/b,height:($[ct+1]-$[ct+5])/h});Pt(rt=et,Ln,Y0).call(rt),Pt(it=et,Ln,Hl).call(it),et.rotate(et.rotation)}else if(j){xt(et,Or,!0);const at=j[0],ct={x:at[0]-_e,y:h-(at[1]-nt)},ut=new FreeHighlightOutliner(ct,[0,0,b,h],1,lt(et,Ts)/2,!0,.001);for(let pt=0,ft=at.length;pt<ft;pt+=2)ct.x=at[pt]-_e,ct.y=h-(at[pt+1]-nt),ut.add(ct);const{id:dt,clipPathId:ht}=a.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:et.color,"fill-opacity":et._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:ut.toSVGPath()}},!0,!0);Pt(st=et,Ln,I_).call(st,{highlightOutlines:ut.getOutlines(),highlightId:dt,clipPathId:ht}),Pt(ot=et,Ln,Hl).call(ot)}return et}serialize(s=!1){if(this.isEmpty()||s)return null;if(this.deleted)return this.serializeDeleted();const a=this.getRect(0,0),c=AnnotationEditor._colorManager.convert(this.color),d={annotationType:AnnotationEditorType.HIGHLIGHT,color:c,opacity:lt(this,$o),thickness:lt(this,Ts),quadPoints:Pt(this,Ln,Kv).call(this),outlines:Pt(this,Ln,Qv).call(this,a),pageIndex:this.pageIndex,rect:a,rotation:Pt(this,Ln,Fm).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!Pt(this,Ln,e2).call(this,d)?null:(d.id=this.annotationElementId,d)}renderAnnotationElement(s){return s.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Qp=new WeakMap,n_=new WeakMap,Uo=new WeakMap,ju=new WeakMap,Zp=new WeakMap,ts=new WeakMap,r_=new WeakMap,i_=new WeakMap,zu=new WeakMap,xs=new WeakMap,ds=new WeakMap,Or=new WeakMap,Jp=new WeakMap,$o=new WeakMap,Br=new WeakMap,_g=new WeakMap,Ts=new WeakMap,s_=new WeakMap,Ln=new WeakSet,Y0=function(){const s=new HighlightOutliner(lt(this,Uo),.001);xt(this,xs,s.getOutlines()),[this.x,this.y,this.width,this.height]=lt(this,xs).box;const a=new HighlightOutliner(lt(this,Uo),.0025,.001,this._uiManager.direction==="ltr");xt(this,ts,a.getOutlines());const{lastPoint:c}=lt(this,ts);xt(this,Jp,[(c[0]-this.x)/this.width,(c[1]-this.y)/this.height])},I_=function({highlightOutlines:s,highlightId:a,clipPathId:c}){var b,h;if(xt(this,xs,s),xt(this,ts,s.getNewOutline(lt(this,Ts)/2+1.5,.0025)),a>=0)xt(this,ds,a),xt(this,ju,c),this.parent.drawLayer.finalizeDraw(a,{bbox:s.box,path:{d:s.toSVGPath()}}),xt(this,Br,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:lt(this,ts).box,path:{d:lt(this,ts).toSVGPath()}},!0));else if(this.parent){const _e=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(lt(this,ds),{bbox:Pt(b=Zn,Ss,rp).call(b,lt(this,xs).box,(_e-this.rotation+360)%360),path:{d:s.toSVGPath()}}),this.parent.drawLayer.updateProperties(lt(this,Br),{bbox:Pt(h=Zn,Ss,rp).call(h,lt(this,ts).box,_e),path:{d:lt(this,ts).toSVGPath()}})}const[g,$,j,tt]=s.box;switch(this.rotation){case 0:this.x=g,this.y=$,this.width=j,this.height=tt;break;case 90:{const[_e,nt]=this.parentDimensions;this.x=$,this.y=1-g,this.width=j*nt/_e,this.height=tt*_e/nt;break}case 180:this.x=1-g,this.y=1-$,this.width=j,this.height=tt;break;case 270:{const[_e,nt]=this.parentDimensions;this.x=1-$,this.y=g,this.width=j*nt/_e,this.height=tt*_e/nt;break}}const{lastPoint:et}=lt(this,ts);xt(this,Jp,[(et[0]-g)/j,(et[1]-$)/tt])},Gv=function(s){const a=(g,$)=>{var j,tt;this.color=g,xt(this,$o,$),(j=this.parent)==null||j.drawLayer.updateProperties(lt(this,ds),{root:{fill:g,"fill-opacity":$}}),(tt=lt(this,Zp))==null||tt.updateColor(g)},c=this.color,d=lt(this,$o);this.addCommands({cmd:a.bind(this,s,Zn._defaultOpacity),undo:a.bind(this,c,d),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(s)},!0)},Hv=function(s){const a=lt(this,Ts),c=d=>{xt(this,Ts,d),Pt(this,Ln,Xv).call(this,d)};this.addCommands({cmd:c.bind(this,s),undo:c.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:s},!0)},Xv=function(s){if(!lt(this,Or))return;Pt(this,Ln,I_).call(this,{highlightOutlines:lt(this,xs).getNewOutline(s/2)}),this.fixAndSetPosition();const[a,c]=this.parentDimensions;this.setDims(this.width*a,this.height*c)},K0=function(){lt(this,ds)===null||!this.parent||(this.parent.drawLayer.remove(lt(this,ds)),xt(this,ds,null),this.parent.drawLayer.remove(lt(this,Br)),xt(this,Br,null))},Hl=function(s=this.parent){lt(this,ds)===null&&({id:zr(this,ds)._,clipPathId:zr(this,ju)._}=s.drawLayer.draw({bbox:lt(this,xs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":lt(this,$o)},rootClass:{highlight:!0,free:lt(this,Or)},path:{d:lt(this,xs).toSVGPath()}},!1,!0),xt(this,Br,s.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:lt(this,Or)},bbox:lt(this,ts).box,path:{d:lt(this,ts).toSVGPath()}},lt(this,Or))),lt(this,zu)&&(lt(this,zu).style.clipPath=lt(this,ju)))},Ss=new WeakSet,rp=function([s,a,c,d],g){switch(g){case 90:return[1-a-d,s,d,c];case 180:return[1-s-c,1-a-d,c,d];case 270:return[a,1-s-c,d,c]}return[s,a,c,d]},Yv=function(s){Zn._keyboardManager.exec(this,s)},N_=function(s){if(!lt(this,Qp))return;const a=window.getSelection();s?a.setPosition(lt(this,Qp),lt(this,n_)):a.setPosition(lt(this,r_),lt(this,i_))},Fm=function(){return lt(this,Or)?this.rotation:0},Kv=function(){if(lt(this,Or))return null;const[s,a]=this.pageDimensions,[c,d]=this.pageTranslation,g=lt(this,Uo),$=new Float32Array(g.length*8);let j=0;for(const{x:tt,y:et,width:b,height:h}of g){const _e=tt*s+c,nt=(1-et)*a+d;$[j]=$[j+4]=_e,$[j+1]=$[j+3]=nt,$[j+2]=$[j+6]=_e+b*s,$[j+5]=$[j+7]=nt-h*a,j+=8}return $},Qv=function(s){return lt(this,xs).serialize(s,Pt(this,Ln,Fm).call(this))},Zv=function(s,a){this._freeHighlight.add(a)&&s.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Jv=function(s,a){this._freeHighlight.isEmpty()?s.drawLayer.remove(this._freeHighlightId):s.createAndAddNewEditor(a,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},e2=function(s){const{color:a}=this._initialData;return s.color.some((c,d)=>c!==a[d])},Mt(Zn,Ss),nn(Zn,"_defaultColor",null),nn(Zn,"_defaultOpacity",1),nn(Zn,"_defaultThickness",12),nn(Zn,"_type","highlight"),nn(Zn,"_editorType",AnnotationEditorType.HIGHLIGHT),nn(Zn,"_freeHighlightId",-1),nn(Zn,"_freeHighlight",null),nn(Zn,"_freeHighlightClipId","");let HighlightEditor=Zn;var Wu;class DrawingOptions{constructor(){Mt(this,Wu,Object.create(null))}updateProperty(e,s){this[e]=s,this.updateSVGProperty(e,s)}updateProperties(e){if(e)for(const[s,a]of Object.entries(e))this.updateProperty(s,a)}updateSVGProperty(e,s){lt(this,Wu)[e]=s}toSVGProperties(){const e=lt(this,Wu);return xt(this,Wu,Object.create(null)),{root:e}}reset(){xt(this,Wu,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){unreachable("Not implemented")}}Wu=new WeakMap;var hs,em,Dr,Vu,qu,Pl,Fl,Il,Gu,Kn,Q0,Z0,J0,Im,t2,R_,Nm,ip;const xn=class xn extends AnnotationEditor{constructor(s){super(s);Mt(this,Kn);Mt(this,hs,null);Mt(this,em);nn(this,"_drawId",null);xt(this,em,s.mustBeCommitted||!1),s.drawOutlines&&(Pt(this,Kn,Q0).call(this,s),Pt(this,Kn,Im).call(this))}static _mergeSVGProperties(s,a){const c=new Set(Object.keys(s));for(const[d,g]of Object.entries(a))c.has(d)?Object.assign(s[d],g):s[d]=g;return s}static getDefaultDrawingOptions(s){unreachable("Not implemented")}static get typesMap(){unreachable("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(s,a){const c=this.typesMap.get(s);c&&this._defaultDrawingOptions.updateProperty(c,a),this._currentParent&&(lt(xn,Dr).updateProperty(c,a),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(s,a){const c=this.constructor.typesMap.get(s);c&&this._updateProperty(s,c,a)}static get defaultPropertiesToUpdate(){const s=[],a=this._defaultDrawingOptions;for(const[c,d]of this.typesMap)s.push([c,a[d]]);return s}get propertiesToUpdate(){const s=[],{_drawingOptions:a}=this;for(const[c,d]of this.constructor.typesMap)s.push([c,a[d]]);return s}_updateProperty(s,a,c){const d=this._drawingOptions,g=d[a],$=j=>{var et;d.updateProperty(a,j);const tt=lt(this,hs).updateProperty(a,j);tt&&Pt(this,Kn,Nm).call(this,tt),(et=this.parent)==null||et.drawLayer.updateProperties(this._drawId,d.toSVGProperties())};this.addCommands({cmd:$.bind(this,c),undo:$.bind(this,g),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:s,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,xn._mergeSVGProperties(lt(this,hs).getPathResizingSVGProperties(Pt(this,Kn,R_).call(this)),{bbox:Pt(this,Kn,ip).call(this)}))}_onResized(){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,xn._mergeSVGProperties(lt(this,hs).getPathResizedSVGProperties(Pt(this,Kn,R_).call(this)),{bbox:Pt(this,Kn,ip).call(this)}))}_onTranslating(s,a){var c;(c=this.parent)==null||c.drawLayer.updateProperties(this._drawId,{bbox:Pt(this,Kn,ip).call(this,s,a)})}_onTranslated(){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,xn._mergeSVGProperties(lt(this,hs).getPathTranslatedSVGProperties(Pt(this,Kn,R_).call(this),this.parentDimensions),{bbox:Pt(this,Kn,ip).call(this)}))}_onStartDragging(){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(s){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,lt(this,em)&&(xt(this,em,!1),this.commit(),this.parent.setSelected(this),s&&this.isOnScreen&&this.div.focus())}remove(){Pt(this,Kn,J0).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Pt(this,Kn,Im).call(this),Pt(this,Kn,Nm).call(this,lt(this,hs).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(s){var c;let a=!1;this.parent&&!s?(this._uiManager.removeShouldRescale(this),Pt(this,Kn,J0).call(this)):s&&(this._uiManager.addShouldRescale(this),Pt(this,Kn,Im).call(this,s),a=!this.parent&&((c=this.div)==null?void 0:c.classList.contains("selectedEditor"))),super.setParent(s),a&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,xn._mergeSVGProperties({bbox:Pt(this,Kn,ip).call(this)},lt(this,hs).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&Pt(this,Kn,Nm).call(this,lt(this,hs).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const s=super.render();s.classList.add("draw");const a=document.createElement("div");s.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[c,d]=this.parentDimensions;return this.setDims(this.width*c,this.height*d),this._uiManager.addShouldRescale(this),this.disableEditing(),s}static createDrawerInstance(s,a,c,d,g){unreachable("Not implemented")}static startDrawing(s,a,c,d){var it;const{target:g,offsetX:$,offsetY:j,pointerId:tt,pointerType:et}=d;if(lt(xn,Fl)&&lt(xn,Fl)!==et)return;const{viewport:{rotation:b}}=s,{width:h,height:_e}=g.getBoundingClientRect(),nt=xt(xn,Vu,new AbortController),rt=s.combinedSignal(nt);if(lt(xn,Pl)||xt(xn,Pl,tt),lt(xn,Fl)??xt(xn,Fl,et),window.addEventListener("pointerup",st=>{var ot;lt(xn,Pl)===st.pointerId?this._endDraw(st):(ot=lt(xn,Il))==null||ot.delete(st.pointerId)},{signal:rt}),window.addEventListener("pointercancel",st=>{var ot;lt(xn,Pl)===st.pointerId?this._currentParent.endDrawingSession():(ot=lt(xn,Il))==null||ot.delete(st.pointerId)},{signal:rt}),window.addEventListener("pointerdown",st=>{lt(xn,Fl)===st.pointerType&&((lt(xn,Il)||xt(xn,Il,new Set)).add(st.pointerId),lt(xn,Dr).isCancellable()&&(lt(xn,Dr).removeLastElement(),lt(xn,Dr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:rt}),window.addEventListener("contextmenu",noContextMenu,{signal:rt}),g.addEventListener("pointermove",this._drawMove.bind(this),{signal:rt}),g.addEventListener("touchmove",st=>{st.timeStamp===lt(xn,Gu)&&stopEvent(st)},{signal:rt}),s.toggleDrawing(),(it=a._editorUndoBar)==null||it.hide(),lt(xn,Dr)){s.drawLayer.updateProperties(this._currentDrawId,lt(xn,Dr).startNew($,j,h,_e,b));return}a.updateUIForDefaultProperties(this),xt(xn,Dr,this.createDrawerInstance($,j,h,_e,b)),xt(xn,qu,this.getDefaultDrawingOptions()),this._currentParent=s,{id:this._currentDrawId}=s.drawLayer.draw(this._mergeSVGProperties(lt(xn,qu).toSVGProperties(),lt(xn,Dr).defaultSVGProperties),!0,!1)}static _drawMove(s){var g;if(xt(xn,Gu,-1),!lt(xn,Dr))return;const{offsetX:a,offsetY:c,pointerId:d}=s;if(lt(xn,Pl)===d){if(((g=lt(xn,Il))==null?void 0:g.size)>=1){this._endDraw(s);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,lt(xn,Dr).add(a,c)),xt(xn,Gu,s.timeStamp),stopEvent(s)}}static _cleanup(s){s&&(this._currentDrawId=-1,this._currentParent=null,xt(xn,Dr,null),xt(xn,qu,null),xt(xn,Fl,null),xt(xn,Gu,NaN)),lt(xn,Vu)&&(lt(xn,Vu).abort(),xt(xn,Vu,null),xt(xn,Pl,NaN),xt(xn,Il,null))}static _endDraw(s){const a=this._currentParent;if(a){if(a.toggleDrawing(!0),this._cleanup(!1),s&&a.drawLayer.updateProperties(this._currentDrawId,lt(xn,Dr).end(s.offsetX,s.offsetY)),this.supportMultipleDrawings){const c=lt(xn,Dr),d=this._currentDrawId,g=c.getLastElement();a.addCommands({cmd:()=>{a.drawLayer.updateProperties(d,c.setLastElement(g))},undo:()=>{a.drawLayer.updateProperties(d,c.removeLastElement())},mustExec:!1,type:AnnotationEditorParamsType.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(s){const a=this._currentParent;if(!a)return null;if(a.toggleDrawing(!0),a.cleanUndoStack(AnnotationEditorParamsType.DRAW_STEP),!lt(xn,Dr).isEmpty()){const{pageDimensions:[c,d],scale:g}=a,$=a.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:lt(xn,Dr).getOutlines(c*g,d*g,g,this._INNER_MARGIN),drawingOptions:lt(xn,qu),mustBeCommitted:!s});return this._cleanup(!0),$}return a.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(s){}static deserializeDraw(s,a,c,d,g,$){unreachable("Not implemented")}static async deserialize(s,a,c){var b,h;const{rawDims:{pageWidth:d,pageHeight:g,pageX:$,pageY:j}}=a.viewport,tt=this.deserializeDraw($,j,d,g,this._INNER_MARGIN,s),et=await super.deserialize(s,a,c);return et.createDrawingOptions(s),Pt(b=et,Kn,Q0).call(b,{drawOutlines:tt}),Pt(h=et,Kn,Im).call(h),et.onScaleChanging(),et.rotate(),et}serializeDraw(s){const[a,c]=this.pageTranslation,[d,g]=this.pageDimensions;return lt(this,hs).serialize([a,c,d,g],s)}renderAnnotationElement(s){return s.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};hs=new WeakMap,em=new WeakMap,Dr=new WeakMap,Vu=new WeakMap,qu=new WeakMap,Pl=new WeakMap,Fl=new WeakMap,Il=new WeakMap,Gu=new WeakMap,Kn=new WeakSet,Q0=function({drawOutlines:s,drawId:a,drawingOptions:c}){xt(this,hs,s),this._drawingOptions||(this._drawingOptions=c),a>=0?(this._drawId=a,this.parent.drawLayer.finalizeDraw(a,s.defaultProperties)):this._drawId=Pt(this,Kn,Z0).call(this,s,this.parent),Pt(this,Kn,Nm).call(this,s.box)},Z0=function(s,a){const{id:c}=a.drawLayer.draw(xn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),s.defaultSVGProperties),!1,!1);return c},J0=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Im=function(s=this.parent){if(!(this._drawId!==null&&this.parent===s)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,s.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=Pt(this,Kn,Z0).call(this,lt(this,hs),s)}},t2=function([s,a,c,d]){const{parentDimensions:[g,$],rotation:j}=this;switch(j){case 90:return[a,1-s,c*($/g),d*(g/$)];case 180:return[1-s,1-a,c,d];case 270:return[1-a,s,c*($/g),d*(g/$)];default:return[s,a,c,d]}},R_=function(){const{x:s,y:a,width:c,height:d,parentDimensions:[g,$],rotation:j}=this;switch(j){case 90:return[1-a,s,c*(g/$),d*($/g)];case 180:return[1-s,1-a,c,d];case 270:return[a,1-s,c*(g/$),d*($/g)];default:return[s,a,c,d]}},Nm=function(s){if([this.x,this.y,this.width,this.height]=Pt(this,Kn,t2).call(this,s),this.div){this.fixAndSetPosition();const[a,c]=this.parentDimensions;this.setDims(this.width*a,this.height*c)}this._onResized()},ip=function(){const{x:s,y:a,width:c,height:d,rotation:g,parentRotation:$,parentDimensions:[j,tt]}=this;switch((g*4+$)/90){case 1:return[1-a-d,s,d,c];case 2:return[1-s-c,1-a-d,c,d];case 3:return[a,1-s-c,d,c];case 4:return[s,a-c*(j/tt),d*(tt/j),c*(j/tt)];case 5:return[1-a,s,c*(j/tt),d*(tt/j)];case 6:return[1-s-d*(tt/j),1-a,d*(tt/j),c*(j/tt)];case 7:return[a-c*(j/tt),1-s-d*(tt/j),c*(j/tt),d*(tt/j)];case 8:return[s-c,a-d,c,d];case 9:return[1-a,s-c,d,c];case 10:return[1-s,1-a,c,d];case 11:return[a-d,1-s,d,c];case 12:return[s-d*(tt/j),a,d*(tt/j),c*(j/tt)];case 13:return[1-a-c*(j/tt),s-d*(tt/j),c*(j/tt),d*(tt/j)];case 14:return[1-s,1-a-c*(j/tt),d*(tt/j),c*(j/tt)];case 15:return[a,1-s,c*(j/tt),d*(tt/j)];default:return[s,a,c,d]}},nn(xn,"_currentDrawId",-1),nn(xn,"_currentParent",null),Mt(xn,Dr,null),Mt(xn,Vu,null),Mt(xn,qu,null),Mt(xn,Pl,NaN),Mt(xn,Fl,null),Mt(xn,Il,null),Mt(xn,Gu,NaN),nn(xn,"_INNER_MARGIN",3);let DrawingEditor=xn;var io,Sr,Cr,Hu,tm,qr,Pr,Es,Xu,Yu,Ku,nm,L_;class InkDrawOutliner{constructor(e,s,a,c,d,g){Mt(this,nm);Mt(this,io,new Float64Array(6));Mt(this,Sr);Mt(this,Cr);Mt(this,Hu);Mt(this,tm);Mt(this,qr);Mt(this,Pr,"");Mt(this,Es,0);Mt(this,Xu,new InkDrawOutline);Mt(this,Yu);Mt(this,Ku);xt(this,Yu,a),xt(this,Ku,c),xt(this,Hu,d),xt(this,tm,g),[e,s]=Pt(this,nm,L_).call(this,e,s);const $=xt(this,Sr,[NaN,NaN,NaN,NaN,e,s]);xt(this,qr,[e,s]),xt(this,Cr,[{line:$,points:lt(this,qr)}]),lt(this,io).set($,0)}updateProperty(e,s){e==="stroke-width"&&xt(this,tm,s)}isEmpty(){return!lt(this,Cr)||lt(this,Cr).length===0}isCancellable(){return lt(this,qr).length<=10}add(e,s){[e,s]=Pt(this,nm,L_).call(this,e,s);const[a,c,d,g]=lt(this,io).subarray(2,6),$=e-d,j=s-g;return Math.hypot(lt(this,Yu)*$,lt(this,Ku)*j)<=2?null:(lt(this,qr).push(e,s),isNaN(a)?(lt(this,io).set([d,g,e,s],2),lt(this,Sr).push(NaN,NaN,NaN,NaN,e,s),{path:{d:this.toSVGPath()}}):(isNaN(lt(this,io)[0])&&lt(this,Sr).splice(6,6),lt(this,io).set([a,c,d,g,e,s],0),lt(this,Sr).push(...Outline.createBezierPoints(a,c,d,g,e,s)),{path:{d:this.toSVGPath()}}))}end(e,s){const a=this.add(e,s);return a||(lt(this,qr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,s,a,c,d){xt(this,Yu,a),xt(this,Ku,c),xt(this,Hu,d),[e,s]=Pt(this,nm,L_).call(this,e,s);const g=xt(this,Sr,[NaN,NaN,NaN,NaN,e,s]);xt(this,qr,[e,s]);const $=lt(this,Cr).at(-1);return $&&($.line=new Float32Array($.line),$.points=new Float32Array($.points)),lt(this,Cr).push({line:g,points:lt(this,qr)}),lt(this,io).set(g,0),xt(this,Es,0),this.toSVGPath(),null}getLastElement(){return lt(this,Cr).at(-1)}setLastElement(e){return lt(this,Cr)?(lt(this,Cr).push(e),xt(this,Sr,e.line),xt(this,qr,e.points),xt(this,Es,0),{path:{d:this.toSVGPath()}}):lt(this,Xu).setLastElement(e)}removeLastElement(){if(!lt(this,Cr))return lt(this,Xu).removeLastElement();lt(this,Cr).pop(),xt(this,Pr,"");for(let e=0,s=lt(this,Cr).length;e<s;e++){const{line:a,points:c}=lt(this,Cr)[e];xt(this,Sr,a),xt(this,qr,c),xt(this,Es,0),this.toSVGPath()}return{path:{d:lt(this,Pr)}}}toSVGPath(){const e=Outline.svgRound(lt(this,Sr)[4]),s=Outline.svgRound(lt(this,Sr)[5]);if(lt(this,qr).length===2)return xt(this,Pr,`${lt(this,Pr)} M ${e} ${s} Z`),lt(this,Pr);if(lt(this,qr).length<=6){const c=lt(this,Pr).lastIndexOf("M");xt(this,Pr,`${lt(this,Pr).slice(0,c)} M ${e} ${s}`),xt(this,Es,6)}if(lt(this,qr).length===4){const c=Outline.svgRound(lt(this,Sr)[10]),d=Outline.svgRound(lt(this,Sr)[11]);return xt(this,Pr,`${lt(this,Pr)} L ${c} ${d}`),xt(this,Es,12),lt(this,Pr)}const a=[];lt(this,Es)===0&&(a.push(`M ${e} ${s}`),xt(this,Es,6));for(let c=lt(this,Es),d=lt(this,Sr).length;c<d;c+=6){const[g,$,j,tt,et,b]=lt(this,Sr).slice(c,c+6).map(Outline.svgRound);a.push(`C${g} ${$} ${j} ${tt} ${et} ${b}`)}return xt(this,Pr,lt(this,Pr)+a.join(" ")),xt(this,Es,lt(this,Sr).length),lt(this,Pr)}getOutlines(e,s,a,c){const d=lt(this,Cr).at(-1);return d.line=new Float32Array(d.line),d.points=new Float32Array(d.points),lt(this,Xu).build(lt(this,Cr),e,s,a,lt(this,Hu),lt(this,tm),c),xt(this,io,null),xt(this,Sr,null),xt(this,Cr,null),xt(this,Pr,null),lt(this,Xu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}io=new WeakMap,Sr=new WeakMap,Cr=new WeakMap,Hu=new WeakMap,tm=new WeakMap,qr=new WeakMap,Pr=new WeakMap,Es=new WeakMap,Xu=new WeakMap,Yu=new WeakMap,Ku=new WeakMap,nm=new WeakSet,L_=function(e,s){return Outline._normalizePoint(e,s,lt(this,Yu),lt(this,Ku),lt(this,Hu))};var Gr,o_,a_,fs,so,oo,rm,im,sm,Ir,mo,n2,r2,i2;const u1=class u1 extends Outline{constructor(){super(...arguments);Mt(this,Ir);Mt(this,Gr);Mt(this,o_,0);Mt(this,a_);Mt(this,fs);Mt(this,so);Mt(this,oo);Mt(this,rm);Mt(this,im);Mt(this,sm)}build(s,a,c,d,g,$,j){xt(this,so,a),xt(this,oo,c),xt(this,rm,d),xt(this,im,g),xt(this,sm,$),xt(this,a_,j??0),xt(this,fs,s),Pt(this,Ir,r2).call(this)}setLastElement(s){return lt(this,fs).push(s),{path:{d:this.toSVGPath()}}}removeLastElement(){return lt(this,fs).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const s=[];for(const{line:a}of lt(this,fs)){if(s.push(`M${Outline.svgRound(a[4])} ${Outline.svgRound(a[5])}`),a.length===6){s.push("Z");continue}if(a.length===12){s.push(`L${Outline.svgRound(a[10])} ${Outline.svgRound(a[11])}`);continue}for(let c=6,d=a.length;c<d;c+=6){const[g,$,j,tt,et,b]=a.subarray(c,c+6).map(Outline.svgRound);s.push(`C${g} ${$} ${j} ${tt} ${et} ${b}`)}}return s.join("")}serialize([s,a,c,d],g){const $=[],j=[],[tt,et,b,h]=Pt(this,Ir,n2).call(this);let _e,nt,rt,it,st,ot,at,ct,ut;switch(lt(this,im)){case 0:ut=Outline._rescale,_e=s,nt=a+d,rt=c,it=-d,st=s+tt*c,ot=a+(1-et-h)*d,at=s+(tt+b)*c,ct=a+(1-et)*d;break;case 90:ut=Outline._rescaleAndSwap,_e=s,nt=a,rt=c,it=d,st=s+et*c,ot=a+tt*d,at=s+(et+h)*c,ct=a+(tt+b)*d;break;case 180:ut=Outline._rescale,_e=s+c,nt=a,rt=-c,it=d,st=s+(1-tt-b)*c,ot=a+et*d,at=s+(1-tt)*c,ct=a+(et+h)*d;break;case 270:ut=Outline._rescaleAndSwap,_e=s+c,nt=a+d,rt=-c,it=-d,st=s+(1-et-h)*c,ot=a+(1-tt-b)*d,at=s+(1-et)*c,ct=a+(1-tt)*d;break}for(const{line:dt,points:ht}of lt(this,fs))$.push(ut(dt,_e,nt,rt,it,g?new Array(dt.length):null)),j.push(ut(ht,_e,nt,rt,it,g?new Array(ht.length):null));return{lines:$,points:j,rect:[st,ot,at,ct]}}static deserialize(s,a,c,d,g,{paths:{lines:$,points:j},rotation:tt,thickness:et}){const b=[];let h,_e,nt,rt,it;switch(tt){case 0:it=Outline._rescale,h=-s/c,_e=a/d+1,nt=1/c,rt=-1/d;break;case 90:it=Outline._rescaleAndSwap,h=-a/d,_e=-s/c,nt=1/d,rt=1/c;break;case 180:it=Outline._rescale,h=s/c+1,_e=-a/d,nt=-1/c,rt=1/d;break;case 270:it=Outline._rescaleAndSwap,h=a/d+1,_e=s/c+1,nt=-1/d,rt=-1/c;break}if(!$){$=[];for(const ot of j){const at=ot.length;if(at===2){$.push(new Float32Array([NaN,NaN,NaN,NaN,ot[0],ot[1]]));continue}if(at===4){$.push(new Float32Array([NaN,NaN,NaN,NaN,ot[0],ot[1],NaN,NaN,NaN,NaN,ot[2],ot[3]]));continue}const ct=new Float32Array(3*(at-2));$.push(ct);let[ut,dt,ht,pt]=ot.subarray(0,4);ct.set([NaN,NaN,NaN,NaN,ut,dt],0);for(let ft=4;ft<at;ft+=2){const bt=ot[ft],Ct=ot[ft+1];ct.set(Outline.createBezierPoints(ut,dt,ht,pt,bt,Ct),(ft-2)*3),[ut,dt,ht,pt]=[ht,pt,bt,Ct]}}}for(let ot=0,at=$.length;ot<at;ot++)b.push({line:it($[ot].map(ct=>ct??NaN),h,_e,nt,rt),points:it(j[ot].map(ct=>ct??NaN),h,_e,nt,rt)});const st=new u1;return st.build(b,c,d,1,tt,et,g),st}get box(){return lt(this,Gr)}updateProperty(s,a){return s==="stroke-width"?Pt(this,Ir,i2).call(this,a):null}updateParentDimensions([s,a],c){const[d,g]=Pt(this,Ir,mo).call(this);xt(this,so,s),xt(this,oo,a),xt(this,rm,c);const[$,j]=Pt(this,Ir,mo).call(this),tt=$-d,et=j-g,b=lt(this,Gr);return b[0]-=tt,b[1]-=et,b[2]+=2*tt,b[3]+=2*et,b}updateRotation(s){return xt(this,o_,s),{path:{transform:this.rotationTransform}}}get viewBox(){return lt(this,Gr).map(Outline.svgRound).join(" ")}get defaultProperties(){const[s,a]=lt(this,Gr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(s)} ${Outline.svgRound(a)}`}}}get rotationTransform(){const[,,s,a]=lt(this,Gr);let c=0,d=0,g=0,$=0,j=0,tt=0;switch(lt(this,o_)){case 90:d=a/s,g=-s/a,j=s;break;case 180:c=-1,$=-1,j=s,tt=a;break;case 270:d=-a/s,g=s/a,tt=a;break;default:return""}return`matrix(${c} ${d} ${g} ${$} ${Outline.svgRound(j)} ${Outline.svgRound(tt)})`}getPathResizingSVGProperties([s,a,c,d]){const[g,$]=Pt(this,Ir,mo).call(this),[j,tt,et,b]=lt(this,Gr);if(Math.abs(et-g)<=Outline.PRECISION||Math.abs(b-$)<=Outline.PRECISION){const it=s+c/2-(j+et/2),st=a+d/2-(tt+b/2);return{path:{"transform-origin":`${Outline.svgRound(s)} ${Outline.svgRound(a)}`,transform:`${this.rotationTransform} translate(${it} ${st})`}}}const h=(c-2*g)/(et-2*g),_e=(d-2*$)/(b-2*$),nt=et/c,rt=b/d;return{path:{"transform-origin":`${Outline.svgRound(j)} ${Outline.svgRound(tt)}`,transform:`${this.rotationTransform} scale(${nt} ${rt}) translate(${Outline.svgRound(g)} ${Outline.svgRound($)}) scale(${h} ${_e}) translate(${Outline.svgRound(-g)} ${Outline.svgRound(-$)})`}}}getPathResizedSVGProperties([s,a,c,d]){const[g,$]=Pt(this,Ir,mo).call(this),j=lt(this,Gr),[tt,et,b,h]=j;if(j[0]=s,j[1]=a,j[2]=c,j[3]=d,Math.abs(b-g)<=Outline.PRECISION||Math.abs(h-$)<=Outline.PRECISION){const st=s+c/2-(tt+b/2),ot=a+d/2-(et+h/2);for(const{line:at,points:ct}of lt(this,fs))Outline._translate(at,st,ot,at),Outline._translate(ct,st,ot,ct);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(s)} ${Outline.svgRound(a)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const _e=(c-2*g)/(b-2*g),nt=(d-2*$)/(h-2*$),rt=-_e*(tt+g)+s+g,it=-nt*(et+$)+a+$;if(_e!==1||nt!==1||rt!==0||it!==0)for(const{line:st,points:ot}of lt(this,fs))Outline._rescale(st,rt,it,_e,nt,st),Outline._rescale(ot,rt,it,_e,nt,ot);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(s)} ${Outline.svgRound(a)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([s,a],c){const[d,g]=c,$=lt(this,Gr),j=s-$[0],tt=a-$[1];if(lt(this,so)===d&&lt(this,oo)===g)for(const{line:et,points:b}of lt(this,fs))Outline._translate(et,j,tt,et),Outline._translate(b,j,tt,b);else{const et=lt(this,so)/d,b=lt(this,oo)/g;xt(this,so,d),xt(this,oo,g);for(const{line:h,points:_e}of lt(this,fs))Outline._rescale(h,j,tt,et,b,h),Outline._rescale(_e,j,tt,et,b,_e);$[2]*=et,$[3]*=b}return $[0]=s,$[1]=a,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound(s)} ${Outline.svgRound(a)}`}}}get defaultSVGProperties(){const s=lt(this,Gr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound(s[0])} ${Outline.svgRound(s[1])}`,transform:this.rotationTransform||null},bbox:s}}};Gr=new WeakMap,o_=new WeakMap,a_=new WeakMap,fs=new WeakMap,so=new WeakMap,oo=new WeakMap,rm=new WeakMap,im=new WeakMap,sm=new WeakMap,Ir=new WeakSet,mo=function(s=lt(this,sm)){const a=lt(this,a_)+s/2*lt(this,rm);return lt(this,im)%180===0?[a/lt(this,so),a/lt(this,oo)]:[a/lt(this,oo),a/lt(this,so)]},n2=function(){const[s,a,c,d]=lt(this,Gr),[g,$]=Pt(this,Ir,mo).call(this,0);return[s+g,a+$,c-2*g,d-2*$]},r2=function(){const s=xt(this,Gr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:d}of lt(this,fs)){if(d.length<=12){for(let j=4,tt=d.length;j<tt;j+=6){const[et,b]=d.subarray(j,j+2);s[0]=Math.min(s[0],et),s[1]=Math.min(s[1],b),s[2]=Math.max(s[2],et),s[3]=Math.max(s[3],b)}continue}let g=d[4],$=d[5];for(let j=6,tt=d.length;j<tt;j+=6){const[et,b,h,_e,nt,rt]=d.subarray(j,j+6);Util.bezierBoundingBox(g,$,et,b,h,_e,nt,rt,s),g=nt,$=rt}}const[a,c]=Pt(this,Ir,mo).call(this);s[0]=Math.min(1,Math.max(0,s[0]-a)),s[1]=Math.min(1,Math.max(0,s[1]-c)),s[2]=Math.min(1,Math.max(0,s[2]+a)),s[3]=Math.min(1,Math.max(0,s[3]+c)),s[2]-=s[0],s[3]-=s[1]},i2=function(s){const[a,c]=Pt(this,Ir,mo).call(this);xt(this,sm,s);const[d,g]=Pt(this,Ir,mo).call(this),[$,j]=[d-a,g-c],tt=lt(this,Gr);return tt[0]-=$,tt[1]-=j,tt[2]+=2*$,tt[3]+=2*j,tt};let InkDrawOutline=u1;var om;const d1=class d1 extends DrawingOptions{constructor(s){super();Mt(this,om);xt(this,om,s),super.updateProperties({fill:"none",stroke:AnnotationEditor._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(s,a){s==="stroke-width"&&(a??(a=this["stroke-width"]),a*=lt(this,om).realScale),super.updateSVGProperty(s,a)}clone(){const s=new d1(lt(this,om));return s.updateAll(this),s}};om=new WeakMap;let InkDrawingOptions=d1;var s0,s2;const op=class op extends DrawingEditor{constructor(s){super({...s,name:"inkEditor"});Mt(this,s0);this._willKeepAspectRatio=!0}static initialize(s,a){AnnotationEditor.initialize(s,a),this._defaultDrawingOptions=new InkDrawingOptions(a.viewParameters)}static getDefaultDrawingOptions(s){const a=this._defaultDrawingOptions.clone();return a.updateProperties(s),a}static get supportMultipleDrawings(){return!0}static get typesMap(){return shadow(this,"typesMap",new Map([[AnnotationEditorParamsType.INK_THICKNESS,"stroke-width"],[AnnotationEditorParamsType.INK_COLOR,"stroke"],[AnnotationEditorParamsType.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(s,a,c,d,g){return new InkDrawOutliner(s,a,c,d,g,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(s,a,c,d,g,$){return InkDrawOutline.deserialize(s,a,c,d,g,$)}static async deserialize(s,a,c){let d=null;if(s instanceof InkAnnotationElement){const{data:{inkLists:$,rect:j,rotation:tt,id:et,color:b,opacity:h,borderStyle:{rawWidth:_e},popupRef:nt},parent:{page:{pageNumber:rt}}}=s;d=s={annotationType:AnnotationEditorType.INK,color:Array.from(b),thickness:_e,opacity:h,paths:{points:$},boxes:null,pageIndex:rt-1,rect:j.slice(0),rotation:tt,id:et,deleted:!1,popupRef:nt}}const g=await super.deserialize(s,a,c);return g.annotationElementId=s.id||null,g._initialData=d,g}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:s,_drawingOptions:a,parent:c}=this;a.updateSVGProperty("stroke-width"),c.drawLayer.updateProperties(s,a.toSVGProperties())}static onScaleChangingWhenDrawing(){const s=this._currentParent;s&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:s,thickness:a,opacity:c}){this._drawingOptions=op.getDefaultDrawingOptions({stroke:Util.makeHexColor(...s),"stroke-width":a,"stroke-opacity":c})}serialize(s=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:a,points:c,rect:d}=this.serializeDraw(s),{_drawingOptions:{stroke:g,"stroke-opacity":$,"stroke-width":j}}=this,tt={annotationType:AnnotationEditorType.INK,color:AnnotationEditor._colorManager.convert(g),opacity:$,thickness:j,paths:{lines:a,points:c},pageIndex:this.pageIndex,rect:d,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return s?tt:this.annotationElementId&&!Pt(this,s0,s2).call(this,tt)?null:(tt.id=this.annotationElementId,tt)}renderAnnotationElement(s){const{points:a,rect:c}=this.serializeDraw(!1);return s.updateEdited({rect:c,thickness:this._drawingOptions["stroke-width"],points:a}),null}};s0=new WeakSet,s2=function(s){const{color:a,thickness:c,opacity:d,pageIndex:g}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||s.color.some(($,j)=>$!==a[j])||s.thickness!==c||s.opacity!==d||s.pageIndex!==g},nn(op,"_type","ink"),nn(op,"_editorType",AnnotationEditorType.INK),nn(op,"_defaultDrawingOptions",null);let InkEditor=op;var dr,Fr,Nl,Bo,Rl,am,ao,lo,ps,lm,Qn,Rm,Lm,U_,e1,$_,t1,B_,o2;const Um=class Um extends AnnotationEditor{constructor(s){super({...s,name:"stampEditor"});Mt(this,Qn);Mt(this,dr,null);Mt(this,Fr,null);Mt(this,Nl,null);Mt(this,Bo,null);Mt(this,Rl,null);Mt(this,am,"");Mt(this,ao,null);Mt(this,lo,null);Mt(this,ps,!1);Mt(this,lm,!1);xt(this,Bo,s.bitmapUrl),xt(this,Rl,s.bitmapFile)}static initialize(s,a){AnnotationEditor.initialize(s,a)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(a=>`image/${a}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(s){return this.supportedTypes.includes(s)}static paste(s,a){a.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:s.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var s;return{type:"stamp",hasAltText:!!((s=this.altTextData)!=null&&s.altText)}}static computeTelemetryFinalData(s){const a=s.get("hasAltText");return{hasAltText:a.get(!0)??0,hasNoAltText:a.get(!1)??0}}async mlGuessAltText(s=null,a=!0){if(this.hasAltTextData())return null;const{mlManager:c}=this._uiManager;if(!c)throw new Error("No ML.");if(!await c.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:d,width:g,height:$}=s||this.copyCanvas(null,null,!0).imageData,j=await c.guess({name:"altText",request:{data:d,width:g,height:$,channels:d.length/(g*$)}});if(!j)throw new Error("No response from the AI service.");if(j.error)throw new Error("Error from the AI service.");if(j.cancel)return null;if(!j.output)throw new Error("No valid response from the AI service.");const tt=j.output;return await this.setGuessedAltText(tt),a&&!this.hasAltTextData()&&(this.altTextData={alt:tt,decorative:!1}),tt}remove(){var s;lt(this,Fr)&&(xt(this,dr,null),this._uiManager.imageManager.deleteId(lt(this,Fr)),(s=lt(this,ao))==null||s.remove(),xt(this,ao,null),lt(this,lo)&&(clearTimeout(lt(this,lo)),xt(this,lo,null))),super.remove()}rebuild(){if(!this.parent){lt(this,Fr)&&Pt(this,Qn,U_).call(this);return}super.rebuild(),this.div!==null&&(lt(this,Fr)&&lt(this,ao)===null&&Pt(this,Qn,U_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(s){this._isDraggable=!0,s&&this.div.focus()}isEmpty(){return!(lt(this,Nl)||lt(this,dr)||lt(this,Bo)||lt(this,Rl)||lt(this,Fr))}get isResizable(){return!0}render(){if(this.div)return this.div;let s,a;if(this.width&&(s=this.x,a=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),lt(this,dr)?Pt(this,Qn,e1).call(this):Pt(this,Qn,U_).call(this),this.width&&!this.annotationElementId){const[c,d]=this.parentDimensions;this.setAt(s*c,a*d,this.width*c,this.height*d)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;lt(this,lo)!==null&&clearTimeout(lt(this,lo)),xt(this,lo,setTimeout(()=>{xt(this,lo,null),Pt(this,Qn,t1).call(this)},200))}copyCanvas(s,a,c=!1){var _e;s||(s=224);const{width:d,height:g}=lt(this,dr),$=new OutputScale;let j=lt(this,dr),tt=d,et=g,b=null;if(a){if(d>a||g>a){const pt=Math.min(a/d,a/g);tt=Math.floor(d*pt),et=Math.floor(g*pt)}b=document.createElement("canvas");const nt=b.width=Math.ceil(tt*$.sx),rt=b.height=Math.ceil(et*$.sy);lt(this,ps)||(j=Pt(this,Qn,$_).call(this,nt,rt));const it=b.getContext("2d");it.filter=this._uiManager.hcmFilter;let st="white",ot="#cfcfd8";this._uiManager.hcmFilter!=="none"?ot="black":(_e=window.matchMedia)!=null&&_e.call(window,"(prefers-color-scheme: dark)").matches&&(st="#8f8f9d",ot="#42414d");const at=15,ct=at*$.sx,ut=at*$.sy,dt=new OffscreenCanvas(ct*2,ut*2),ht=dt.getContext("2d");ht.fillStyle=st,ht.fillRect(0,0,ct*2,ut*2),ht.fillStyle=ot,ht.fillRect(0,0,ct,ut),ht.fillRect(ct,ut,ct,ut),it.fillStyle=it.createPattern(dt,"repeat"),it.fillRect(0,0,nt,rt),it.drawImage(j,0,0,j.width,j.height,0,0,nt,rt)}let h=null;if(c){let nt,rt;if($.symmetric&&j.width<s&&j.height<s)nt=j.width,rt=j.height;else if(j=lt(this,dr),d>s||g>s){const ot=Math.min(s/d,s/g);nt=Math.floor(d*ot),rt=Math.floor(g*ot),lt(this,ps)||(j=Pt(this,Qn,$_).call(this,nt,rt))}const st=new OffscreenCanvas(nt,rt).getContext("2d",{willReadFrequently:!0});st.drawImage(j,0,0,j.width,j.height,0,0,nt,rt),h={width:nt,height:rt,data:st.getImageData(0,0,nt,rt).data}}return{canvas:b,width:tt,height:et,imageData:h}}getImageForAltText(){return lt(this,ao)}static async deserialize(s,a,c){var rt;let d=null;if(s instanceof StampAnnotationElement){const{data:{rect:it,rotation:st,id:ot,structParent:at,popupRef:ct},container:ut,parent:{page:{pageNumber:dt}}}=s,ht=ut.querySelector("canvas"),pt=c.imageManager.getFromCanvas(ut.id,ht);ht.remove();const ft=((rt=await a._structTree.getAriaAttributes(`${AnnotationPrefix}${ot}`))==null?void 0:rt.get("aria-label"))||"";d=s={annotationType:AnnotationEditorType.STAMP,bitmapId:pt.id,bitmap:pt.bitmap,pageIndex:dt-1,rect:it.slice(0),rotation:st,id:ot,deleted:!1,accessibilityData:{decorative:!1,altText:ft},isSvg:!1,structParent:at,popupRef:ct}}const g=await super.deserialize(s,a,c),{rect:$,bitmap:j,bitmapUrl:tt,bitmapId:et,isSvg:b,accessibilityData:h}=s;et&&c.imageManager.isValidId(et)?(xt(g,Fr,et),j&&xt(g,dr,j)):xt(g,Bo,tt),xt(g,ps,b);const[_e,nt]=g.pageDimensions;return g.width=($[2]-$[0])/_e,g.height=($[3]-$[1])/nt,g.annotationElementId=s.id||null,h&&(g.altTextData=h),g._initialData=d,xt(g,lm,!!d),g}serialize(s=!1,a=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const c={annotationType:AnnotationEditorType.STAMP,bitmapId:lt(this,Fr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:lt(this,ps),structTreeParentId:this._structTreeParentId};if(s)return c.bitmapUrl=Pt(this,Qn,B_).call(this,!0),c.accessibilityData=this.serializeAltText(!0),c;const{decorative:d,altText:g}=this.serializeAltText(!1);if(!d&&g&&(c.accessibilityData={type:"Figure",alt:g}),this.annotationElementId){const j=Pt(this,Qn,o2).call(this,c);if(j.isSame)return null;j.isSameAltText?delete c.accessibilityData:c.accessibilityData.structParent=this._initialData.structParent??-1}if(c.id=this.annotationElementId,a===null)return c;a.stamps||(a.stamps=new Map);const $=lt(this,ps)?(c.rect[2]-c.rect[0])*(c.rect[3]-c.rect[1]):null;if(!a.stamps.has(lt(this,Fr)))a.stamps.set(lt(this,Fr),{area:$,serialized:c}),c.bitmap=Pt(this,Qn,B_).call(this,!1);else if(lt(this,ps)){const j=a.stamps.get(lt(this,Fr));$>j.area&&(j.area=$,j.serialized.bitmap.close(),j.serialized.bitmap=Pt(this,Qn,B_).call(this,!1))}return c}renderAnnotationElement(s){return s.updateEdited({rect:this.getRect(0,0)}),null}};dr=new WeakMap,Fr=new WeakMap,Nl=new WeakMap,Bo=new WeakMap,Rl=new WeakMap,am=new WeakMap,ao=new WeakMap,lo=new WeakMap,ps=new WeakMap,lm=new WeakMap,Qn=new WeakSet,Rm=function(s,a=!1){if(!s){this.remove();return}xt(this,dr,s.bitmap),a||(xt(this,Fr,s.id),xt(this,ps,s.isSvg)),s.file&&xt(this,am,s.file.name),Pt(this,Qn,e1).call(this)},Lm=function(){if(xt(this,Nl,null),this._uiManager.enableWaiting(!1),!!lt(this,ao)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&lt(this,dr)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&lt(this,dr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},U_=function(){if(lt(this,Fr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(lt(this,Fr)).then(c=>Pt(this,Qn,Rm).call(this,c,!0)).finally(()=>Pt(this,Qn,Lm).call(this));return}if(lt(this,Bo)){const c=lt(this,Bo);xt(this,Bo,null),this._uiManager.enableWaiting(!0),xt(this,Nl,this._uiManager.imageManager.getFromUrl(c).then(d=>Pt(this,Qn,Rm).call(this,d)).finally(()=>Pt(this,Qn,Lm).call(this)));return}if(lt(this,Rl)){const c=lt(this,Rl);xt(this,Rl,null),this._uiManager.enableWaiting(!0),xt(this,Nl,this._uiManager.imageManager.getFromFile(c).then(d=>Pt(this,Qn,Rm).call(this,d)).finally(()=>Pt(this,Qn,Lm).call(this)));return}const s=document.createElement("input");s.type="file",s.accept=Um.supportedTypesStr;const a=this._uiManager._signal;xt(this,Nl,new Promise(c=>{s.addEventListener("change",async()=>{if(!s.files||s.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const d=await this._uiManager.imageManager.getFromFile(s.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),Pt(this,Qn,Rm).call(this,d)}c()},{signal:a}),s.addEventListener("cancel",()=>{this.remove(),c()},{signal:a})}).finally(()=>Pt(this,Qn,Lm).call(this))),s.click()},e1=function(){var b;const{div:s}=this;let{width:a,height:c}=lt(this,dr);const[d,g]=this.pageDimensions,$=.75;if(this.width)a=this.width*d,c=this.height*g;else if(a>$*d||c>$*g){const h=Math.min($*d/a,$*g/c);a*=h,c*=h}const[j,tt]=this.parentDimensions;this.setDims(a*j/d,c*tt/g),this._uiManager.enableWaiting(!1);const et=xt(this,ao,document.createElement("canvas"));et.setAttribute("role","img"),this.addContainer(et),this.width=a/d,this.height=c/g,(b=this._initialOptions)!=null&&b.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(s.hidden=!1),Pt(this,Qn,t1).call(this),lt(this,lm)||(this.parent.addUndoableEditor(this),xt(this,lm,!0)),this._reportTelemetry({action:"inserted_image"}),lt(this,am)&&et.setAttribute("aria-label",lt(this,am))},$_=function(s,a){const{width:c,height:d}=lt(this,dr);let g=c,$=d,j=lt(this,dr);for(;g>2*s||$>2*a;){const tt=g,et=$;g>2*s&&(g=g>=16384?Math.floor(g/2)-1:Math.ceil(g/2)),$>2*a&&($=$>=16384?Math.floor($/2)-1:Math.ceil($/2));const b=new OffscreenCanvas(g,$);b.getContext("2d").drawImage(j,0,0,tt,et,0,0,g,$),j=b.transferToImageBitmap()}return j},t1=function(){const[s,a]=this.parentDimensions,{width:c,height:d}=this,g=new OutputScale,$=Math.ceil(c*s*g.sx),j=Math.ceil(d*a*g.sy),tt=lt(this,ao);if(!tt||tt.width===$&&tt.height===j)return;tt.width=$,tt.height=j;const et=lt(this,ps)?lt(this,dr):Pt(this,Qn,$_).call(this,$,j),b=tt.getContext("2d");b.filter=this._uiManager.hcmFilter,b.drawImage(et,0,0,et.width,et.height,0,0,$,j)},B_=function(s){if(s){if(lt(this,ps)){const d=this._uiManager.imageManager.getSvgUrl(lt(this,Fr));if(d)return d}const a=document.createElement("canvas");return{width:a.width,height:a.height}=lt(this,dr),a.getContext("2d").drawImage(lt(this,dr),0,0),a.toDataURL()}if(lt(this,ps)){const[a,c]=this.pageDimensions,d=Math.round(this.width*a*PixelsPerInch.PDF_TO_CSS_UNITS),g=Math.round(this.height*c*PixelsPerInch.PDF_TO_CSS_UNITS),$=new OffscreenCanvas(d,g);return $.getContext("2d").drawImage(lt(this,dr),0,0,lt(this,dr).width,lt(this,dr).height,0,0,d,g),$.transferToImageBitmap()}return structuredClone(lt(this,dr))},o2=function(s){var $;const{pageIndex:a,accessibilityData:{altText:c}}=this._initialData,d=s.pageIndex===a,g=((($=s.accessibilityData)==null?void 0:$.alt)||"")===c;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&d&&g,isSameAltText:g}},nn(Um,"_type","stamp"),nn(Um,"_editorType",AnnotationEditorType.STAMP);let StampEditor=Um;var Qu,cm,co,Ll,jo,As,Ul,um,Zu,js,zo,jr,Wo,Dn,$l,lr,a2,Gs,n1,r1,j_;const Ms=class Ms{constructor({uiManager:e,pageIndex:s,div:a,structTreeLayer:c,accessibilityManager:d,annotationLayer:g,drawLayer:$,textLayer:j,viewport:tt,l10n:et}){Mt(this,lr);Mt(this,Qu);Mt(this,cm,!1);Mt(this,co,null);Mt(this,Ll,null);Mt(this,jo,null);Mt(this,As,new Map);Mt(this,Ul,!1);Mt(this,um,!1);Mt(this,Zu,!1);Mt(this,js,null);Mt(this,zo,null);Mt(this,jr,null);Mt(this,Wo,null);Mt(this,Dn);const b=[...lt(Ms,$l).values()];if(!Ms._initialized){Ms._initialized=!0;for(const h of b)h.initialize(et,e)}e.registerEditorTypes(b),xt(this,Dn,e),this.pageIndex=s,this.div=a,xt(this,Qu,d),xt(this,co,g),this.viewport=tt,xt(this,jr,j),this.drawLayer=$,this._structTree=c,lt(this,Dn).addLayer(this)}get isEmpty(){return lt(this,As).size===0}get isInvisible(){return this.isEmpty&&lt(this,Dn).getMode()===AnnotationEditorType.NONE}updateToolbar(e){lt(this,Dn).updateToolbar(e)}updateMode(e=lt(this,Dn).getMode()){switch(Pt(this,lr,j_).call(this),e){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:s}=this.div;for(const a of lt(Ms,$l).values())s.toggle(`${a._type}Editing`,e===a._editorType);this.div.hidden=!1}hasTextLayer(e){var s;return e===((s=lt(this,jr))==null?void 0:s.div)}setEditingState(e){lt(this,Dn).setEditingState(e)}addCommands(e){lt(this,Dn).addCommands(e)}cleanUndoStack(e){lt(this,Dn).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var s;(s=lt(this,co))==null||s.div.classList.toggle("disabled",!e)}async enable(){xt(this,Zu,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const a of lt(this,As).values())a.enableEditing(),a.show(!0),a.annotationElementId&&(lt(this,Dn).removeChangedExistingAnnotation(a),e.add(a.annotationElementId));if(!lt(this,co)){xt(this,Zu,!1);return}const s=lt(this,co).getEditableAnnotations();for(const a of s){if(a.hide(),lt(this,Dn).isDeletedAnnotationElement(a.data.id)||e.has(a.data.id))continue;const c=await this.deserialize(a);c&&(this.addOrRebuild(c),c.enableEditing())}xt(this,Zu,!1)}disable(){var c;xt(this,um,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,s=new Map;for(const d of lt(this,As).values())if(d.disableEditing(),!!d.annotationElementId){if(d.serialize()!==null){e.set(d.annotationElementId,d);continue}else s.set(d.annotationElementId,d);(c=this.getEditableAnnotation(d.annotationElementId))==null||c.show(),d.remove()}if(lt(this,co)){const d=lt(this,co).getEditableAnnotations();for(const g of d){const{id:$}=g.data;if(lt(this,Dn).isDeletedAnnotationElement($))continue;let j=s.get($);if(j){j.resetAnnotationElement(g),j.show(!1),g.show();continue}j=e.get($),j&&(lt(this,Dn).addChangedExistingAnnotation(j),j.renderAnnotationElement(g)&&j.show(!1)),g.show()}}Pt(this,lr,j_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:a}=this.div;for(const d of lt(Ms,$l).values())a.remove(`${d._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),xt(this,um,!1)}getEditableAnnotation(e){var s;return((s=lt(this,co))==null?void 0:s.getEditableAnnotation(e))||null}setActiveEditor(e){lt(this,Dn).getActive()!==e&&lt(this,Dn).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=lt(this,jr))!=null&&e.div&&!lt(this,Wo)){xt(this,Wo,new AbortController);const s=lt(this,Dn).combinedSignal(lt(this,Wo));lt(this,jr).div.addEventListener("pointerdown",Pt(this,lr,a2).bind(this),{signal:s}),lt(this,jr).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=lt(this,jr))!=null&&e.div&&lt(this,Wo)&&(lt(this,Wo).abort(),xt(this,Wo,null),lt(this,jr).div.classList.remove("highlighting"))}enableClick(){if(lt(this,Ll))return;xt(this,Ll,new AbortController);const e=lt(this,Dn).combinedSignal(lt(this,Ll));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const s=this.pointerup.bind(this);this.div.addEventListener("pointerup",s,{signal:e}),this.div.addEventListener("pointercancel",s,{signal:e})}disableClick(){var e;(e=lt(this,Ll))==null||e.abort(),xt(this,Ll,null)}attach(e){lt(this,As).set(e.id,e);const{annotationElementId:s}=e;s&&lt(this,Dn).isDeletedAnnotationElement(s)&&lt(this,Dn).removeDeletedAnnotationElement(e)}detach(e){var s;lt(this,As).delete(e.id),(s=lt(this,Qu))==null||s.removePointerInTextLayer(e.contentDiv),!lt(this,um)&&e.annotationElementId&&lt(this,Dn).addDeletedAnnotationElement(e)}remove(e){this.detach(e),lt(this,Dn).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var s;e.parent!==this&&(e.parent&&e.annotationElementId&&(lt(this,Dn).addDeletedAnnotationElement(e.annotationElementId),AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(s=e.parent)==null||s.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),lt(this,Dn).addEditor(e),this.attach(e),!e.isAttachedToDOM){const s=e.render();this.div.append(s),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!lt(this,Zu)),lt(this,Dn).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var a;if(!e.isAttachedToDOM)return;const{activeElement:s}=document;e.div.contains(s)&&!lt(this,jo)&&(e._focusEventsAllowed=!1,xt(this,jo,setTimeout(()=>{xt(this,jo,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:lt(this,Dn)._signal}),s.focus())},0))),e._structTreeParentId=(a=lt(this,Qu))==null?void 0:a.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const s=()=>e._uiManager.rebuild(e),a=()=>{e.remove()};this.addCommands({cmd:s,undo:a,mustExec:!1})}getNextId(){return lt(this,Dn).getId()}combinedSignal(e){return lt(this,Dn).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=lt(this,lr,Gs))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,s){lt(this,Dn).updateToolbar(e),lt(this,Dn).updateMode(e);const{offsetX:a,offsetY:c}=Pt(this,lr,r1).call(this),d=this.getNextId(),g=Pt(this,lr,n1).call(this,{parent:this,id:d,x:a,y:c,uiManager:lt(this,Dn),isCentered:!0,...s});g&&this.add(g)}async deserialize(e){var s;return await((s=lt(Ms,$l).get(e.annotationType??e.annotationEditorType))==null?void 0:s.deserialize(e,this,lt(this,Dn)))||null}createAndAddNewEditor(e,s,a={}){const c=this.getNextId(),d=Pt(this,lr,n1).call(this,{parent:this,id:c,x:e.offsetX,y:e.offsetY,uiManager:lt(this,Dn),isCentered:s,...a});return d&&this.add(d),d}addNewEditor(){this.createAndAddNewEditor(Pt(this,lr,r1).call(this),!0)}setSelected(e){lt(this,Dn).setSelected(e)}toggleSelected(e){lt(this,Dn).toggleSelected(e)}unselect(e){lt(this,Dn).unselect(e)}pointerup(e){var a;const{isMac:s}=util_FeatureTest.platform;if(!(e.button!==0||e.ctrlKey&&s)&&e.target===this.div&&lt(this,Ul)&&(xt(this,Ul,!1),!((a=lt(this,lr,Gs))!=null&&a.isDrawer&&lt(this,lr,Gs).supportMultipleDrawings))){if(!lt(this,cm)){xt(this,cm,!0);return}if(lt(this,Dn).getMode()===AnnotationEditorType.STAMP){lt(this,Dn).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var c;if(lt(this,Dn).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),lt(this,Ul)){xt(this,Ul,!1);return}const{isMac:s}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&s||e.target!==this.div)return;if(xt(this,Ul,!0),(c=lt(this,lr,Gs))!=null&&c.isDrawer){this.startDrawingSession(e);return}const a=lt(this,Dn).getActive();xt(this,cm,!a||a.isEmpty())}startDrawingSession(e){if(this.div.focus(),lt(this,js)){lt(this,lr,Gs).startDrawing(this,lt(this,Dn),!1,e);return}lt(this,Dn).setCurrentDrawingSession(this),xt(this,js,new AbortController);const s=lt(this,Dn).combinedSignal(lt(this,js));this.div.addEventListener("blur",({relatedTarget:a})=>{a&&!this.div.contains(a)&&(xt(this,zo,null),this.commitOrRemove())},{signal:s}),lt(this,lr,Gs).startDrawing(this,lt(this,Dn),!1,e)}pause(e){if(e){const{activeElement:s}=document;this.div.contains(s)&&xt(this,zo,s);return}lt(this,zo)&&setTimeout(()=>{var s;(s=lt(this,zo))==null||s.focus(),xt(this,zo,null)},0)}endDrawingSession(e=!1){return lt(this,js)?(lt(this,Dn).setCurrentDrawingSession(null),lt(this,js).abort(),xt(this,js,null),xt(this,zo,null),lt(this,lr,Gs).endDrawing(e)):null}findNewParent(e,s,a){const c=lt(this,Dn).findParent(s,a);return c===null||c===this?!1:(c.changeParent(e),!0)}commitOrRemove(){return lt(this,js)?(this.endDrawingSession(),!0):!1}onScaleChanging(){lt(this,js)&&lt(this,lr,Gs).onScaleChangingWhenDrawing(this)}destroy(){var e,s;this.commitOrRemove(),((e=lt(this,Dn).getActive())==null?void 0:e.parent)===this&&(lt(this,Dn).commitOrRemove(),lt(this,Dn).setActiveEditor(null)),lt(this,jo)&&(clearTimeout(lt(this,jo)),xt(this,jo,null));for(const a of lt(this,As).values())(s=lt(this,Qu))==null||s.removePointerInTextLayer(a.contentDiv),a.setParent(null),a.isAttachedToDOM=!1,a.div.remove();this.div=null,lt(this,As).clear(),lt(this,Dn).removeLayer(this)}render({viewport:e}){this.viewport=e,setLayerDimensions(this.div,e);for(const s of lt(this,Dn).getEditors(this.pageIndex))this.add(s),s.rebuild();this.updateMode()}update({viewport:e}){lt(this,Dn).commitOrRemove(),Pt(this,lr,j_).call(this);const s=this.viewport.rotation,a=e.rotation;if(this.viewport=e,setLayerDimensions(this.div,{rotation:a}),s!==a)for(const c of lt(this,As).values())c.rotate(a)}get pageDimensions(){const{pageWidth:e,pageHeight:s}=this.viewport.rawDims;return[e,s]}get scale(){return lt(this,Dn).viewParameters.realScale}};Qu=new WeakMap,cm=new WeakMap,co=new WeakMap,Ll=new WeakMap,jo=new WeakMap,As=new WeakMap,Ul=new WeakMap,um=new WeakMap,Zu=new WeakMap,js=new WeakMap,zo=new WeakMap,jr=new WeakMap,Wo=new WeakMap,Dn=new WeakMap,$l=new WeakMap,lr=new WeakSet,a2=function(e){lt(this,Dn).unselectAll();const{target:s}=e;if(s===lt(this,jr).div||(s.getAttribute("role")==="img"||s.classList.contains("endOfContent"))&&lt(this,jr).div.contains(s)){const{isMac:a}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&a)return;lt(this,Dn).showAllEditors("highlight",!0,!0),lt(this,jr).div.classList.add("free"),this.toggleDrawing(),HighlightEditor.startHighlighting(this,lt(this,Dn).direction==="ltr",{target:lt(this,jr).div,x:e.x,y:e.y}),lt(this,jr).div.addEventListener("pointerup",()=>{lt(this,jr).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:lt(this,Dn)._signal}),e.preventDefault()}},Gs=function(){return lt(Ms,$l).get(lt(this,Dn).getMode())},n1=function(e){const s=lt(this,lr,Gs);return s?new s.prototype.constructor(e):null},r1=function(){const{x:e,y:s,width:a,height:c}=this.div.getBoundingClientRect(),d=Math.max(0,e),g=Math.max(0,s),$=Math.min(window.innerWidth,e+a),j=Math.min(window.innerHeight,s+c),tt=(d+$)/2-e,et=(g+j)/2-s,[b,h]=this.viewport.rotation%180===0?[tt,et]:[et,tt];return{offsetX:b,offsetY:h}},j_=function(){for(const e of lt(this,As).values())e.isEmpty()&&e.remove()},nn(Ms,"_initialized",!1),Mt(Ms,$l,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map(e=>[e._editorType,e])));let AnnotationEditorLayer=Ms;var zs,l_,Hr,Ju,o0,l2,uo,i1,c2,s1;const Lr=class Lr{constructor({pageIndex:e}){Mt(this,uo);Mt(this,zs,null);Mt(this,l_,0);Mt(this,Hr,new Map);Mt(this,Ju,new Map);this.pageIndex=e}setParent(e){if(!lt(this,zs)){xt(this,zs,e);return}if(lt(this,zs)!==e){if(lt(this,Hr).size>0)for(const s of lt(this,Hr).values())s.remove(),e.append(s);xt(this,zs,e)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}draw(e,s=!1,a=!1){const c=zr(this,l_)._++,d=Pt(this,uo,i1).call(this),g=Lr._svgFactory.createElement("defs");d.append(g);const $=Lr._svgFactory.createElement("path");g.append($);const j=`path_p${this.pageIndex}_${c}`;$.setAttribute("id",j),$.setAttribute("vector-effect","non-scaling-stroke"),s&&lt(this,Ju).set(c,$);const tt=a?Pt(this,uo,c2).call(this,g,j):null,et=Lr._svgFactory.createElement("use");return d.append(et),et.setAttribute("href",`#${j}`),this.updateProperties(d,e),lt(this,Hr).set(c,d),{id:c,clipPathId:`url(#${tt})`}}drawOutline(e,s){const a=zr(this,l_)._++,c=Pt(this,uo,i1).call(this),d=Lr._svgFactory.createElement("defs");c.append(d);const g=Lr._svgFactory.createElement("path");d.append(g);const $=`path_p${this.pageIndex}_${a}`;g.setAttribute("id",$),g.setAttribute("vector-effect","non-scaling-stroke");let j;if(s){const b=Lr._svgFactory.createElement("mask");d.append(b),j=`mask_p${this.pageIndex}_${a}`,b.setAttribute("id",j),b.setAttribute("maskUnits","objectBoundingBox");const h=Lr._svgFactory.createElement("rect");b.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const _e=Lr._svgFactory.createElement("use");b.append(_e),_e.setAttribute("href",`#${$}`),_e.setAttribute("stroke","none"),_e.setAttribute("fill","black"),_e.setAttribute("fill-rule","nonzero"),_e.classList.add("mask")}const tt=Lr._svgFactory.createElement("use");c.append(tt),tt.setAttribute("href",`#${$}`),j&&tt.setAttribute("mask",`url(#${j})`);const et=tt.cloneNode();return c.append(et),tt.classList.add("mainOutline"),et.classList.add("secondaryOutline"),this.updateProperties(c,e),lt(this,Hr).set(a,c),a}finalizeDraw(e,s){lt(this,Ju).delete(e),this.updateProperties(e,s)}updateProperties(e,s){var j;if(!s)return;const{root:a,bbox:c,rootClass:d,path:g}=s,$=typeof e=="number"?lt(this,Hr).get(e):e;if($){if(a&&Pt(this,uo,s1).call(this,$,a),c&&Pt(j=Lr,o0,l2).call(j,$,c),d){const{classList:tt}=$;for(const[et,b]of Object.entries(d))tt.toggle(et,b)}if(g){const et=$.firstChild.firstChild;Pt(this,uo,s1).call(this,et,g)}}}updateParent(e,s){if(s===this)return;const a=lt(this,Hr).get(e);a&&(lt(s,zs).append(a),lt(this,Hr).delete(e),lt(s,Hr).set(e,a))}remove(e){lt(this,Ju).delete(e),lt(this,zs)!==null&&(lt(this,Hr).get(e).remove(),lt(this,Hr).delete(e))}destroy(){xt(this,zs,null);for(const e of lt(this,Hr).values())e.remove();lt(this,Hr).clear(),lt(this,Ju).clear()}};zs=new WeakMap,l_=new WeakMap,Hr=new WeakMap,Ju=new WeakMap,o0=new WeakSet,l2=function(e,[s,a,c,d]){const{style:g}=e;g.top=`${100*a}%`,g.left=`${100*s}%`,g.width=`${100*c}%`,g.height=`${100*d}%`},uo=new WeakSet,i1=function(){const e=Lr._svgFactory.create(1,1,!0);return lt(this,zs).append(e),e.setAttribute("aria-hidden",!0),e},c2=function(e,s){const a=Lr._svgFactory.createElement("clipPath");e.append(a);const c=`clip_${s}`;a.setAttribute("id",c),a.setAttribute("clipPathUnits","objectBoundingBox");const d=Lr._svgFactory.createElement("use");return a.append(d),d.setAttribute("href",`#${s}`),d.classList.add("clip"),c},s1=function(e,s){for(const[a,c]of Object.entries(s))c===null?e.removeAttribute(a):e.setAttribute(a,c)},Mt(Lr,o0);let DrawLayer=Lr;globalThis.pdfjsTestingUtils={HighlightOutliner};__webpack_exports__.AbortException;__webpack_exports__.AnnotationEditorLayer;__webpack_exports__.AnnotationEditorParamsType;__webpack_exports__.AnnotationEditorType;__webpack_exports__.AnnotationEditorUIManager;__webpack_exports__.AnnotationLayer;__webpack_exports__.AnnotationMode;__webpack_exports__.ColorPicker;__webpack_exports__.DOMSVGFactory;__webpack_exports__.DrawLayer;__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions;__webpack_exports__.ImageKind;__webpack_exports__.InvalidPDFException;__webpack_exports__.MissingPDFException;__webpack_exports__.OPS;__webpack_exports__.OutputScale;__webpack_exports__.PDFDataRangeTransport;__webpack_exports__.PDFDateString;__webpack_exports__.PDFWorker;__webpack_exports__.PasswordResponses;__webpack_exports__.PermissionFlag;__webpack_exports__.PixelsPerInch;__webpack_exports__.RenderingCancelledException;__webpack_exports__.TextLayer;__webpack_exports__.TouchManager;__webpack_exports__.UnexpectedResponseException;__webpack_exports__.Util;__webpack_exports__.VerbosityLevel;__webpack_exports__.XfaLayer;__webpack_exports__.build;__webpack_exports__.createValidAbsoluteUrl;__webpack_exports__.fetchData;var __webpack_exports__getDocument=__webpack_exports__.getDocument;__webpack_exports__.getFilenameFromUrl;__webpack_exports__.getPdfFilenameFromUrl;__webpack_exports__.getXfaPageViewport;__webpack_exports__.isDataScheme;__webpack_exports__.isPdfFile;__webpack_exports__.noContextMenu;__webpack_exports__.normalizeUnicode;__webpack_exports__.setLayerDimensions;__webpack_exports__.shadow;__webpack_exports__.stopEvent;__webpack_exports__.version;var lib$3={},VERSION$1="1.13.7",root=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},ArrayProto=Array.prototype,ObjProto=Object.prototype,SymbolProto=typeof Symbol<"u"?Symbol.prototype:null,push=ArrayProto.push,slice$1=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,supportsArrayBuffer=typeof ArrayBuffer<"u",supportsDataView=typeof DataView<"u",nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,nativeIsView=supportsArrayBuffer&&ArrayBuffer.isView,_isNaN=isNaN,_isFinite=isFinite,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],MAX_ARRAY_INDEX=Math.pow(2,53)-1;function restArguments(o,e){return e=e==null?o.length-1:+e,function(){for(var s=Math.max(arguments.length-e,0),a=Array(s),c=0;c<s;c++)a[c]=arguments[c+e];switch(e){case 0:return o.call(this,a);case 1:return o.call(this,arguments[0],a);case 2:return o.call(this,arguments[0],arguments[1],a)}var d=Array(e+1);for(c=0;c<e;c++)d[c]=arguments[c];return d[e]=a,o.apply(this,d)}}function isObject$1(o){var e=typeof o;return e==="function"||e==="object"&&!!o}function isNull$1(o){return o===null}function isUndefined(o){return o===void 0}function isBoolean$1(o){return o===!0||o===!1||toString.call(o)==="[object Boolean]"}function isElement(o){return!!(o&&o.nodeType===1)}function tagTester(o){var e="[object "+o+"]";return function(s){return toString.call(s)===e}}const isString=tagTester("String"),isNumber=tagTester("Number"),isDate=tagTester("Date"),isRegExp=tagTester("RegExp"),isError=tagTester("Error"),isSymbol=tagTester("Symbol"),isArrayBuffer=tagTester("ArrayBuffer");var isFunction=tagTester("Function"),nodelist=root.document&&root.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof nodelist!="function"&&(isFunction=function(o){return typeof o=="function"||!1});const isFunction$1=isFunction,hasObjectTag=tagTester("Object");var hasDataViewBug=supportsDataView&&(!/\[native code\]/.test(String(DataView))||hasObjectTag(new DataView(new ArrayBuffer(8)))),isIE11=typeof Map<"u"&&hasObjectTag(new Map),isDataView=tagTester("DataView");function alternateIsDataView(o){return o!=null&&isFunction$1(o.getInt8)&&isArrayBuffer(o.buffer)}const isDataView$1=hasDataViewBug?alternateIsDataView:isDataView,isArray=nativeIsArray||tagTester("Array");function has$1(o,e){return o!=null&&hasOwnProperty.call(o,e)}var isArguments=tagTester("Arguments");(function(){isArguments(arguments)||(isArguments=function(o){return has$1(o,"callee")})})();const isArguments$1=isArguments;function isFinite$1(o){return!isSymbol(o)&&_isFinite(o)&&!isNaN(parseFloat(o))}function isNaN$1(o){return isNumber(o)&&_isNaN(o)}function constant(o){return function(){return o}}function createSizePropertyCheck(o){return function(e){var s=o(e);return typeof s=="number"&&s>=0&&s<=MAX_ARRAY_INDEX}}function shallowProperty(o){return function(e){return e==null?void 0:e[o]}}const getByteLength=shallowProperty("byteLength"),isBufferLike=createSizePropertyCheck(getByteLength);var typedArrayPattern=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function isTypedArray$1(o){return nativeIsView?nativeIsView(o)&&!isDataView$1(o):isBufferLike(o)&&typedArrayPattern.test(toString.call(o))}const isTypedArray$2=supportsArrayBuffer?isTypedArray$1:constant(!1),getLength=shallowProperty("length");function emulatedSet(o){for(var e={},s=o.length,a=0;a<s;++a)e[o[a]]=!0;return{contains:function(c){return e[c]===!0},push:function(c){return e[c]=!0,o.push(c)}}}function collectNonEnumProps(o,e){e=emulatedSet(e);var s=nonEnumerableProps.length,a=o.constructor,c=isFunction$1(a)&&a.prototype||ObjProto,d="constructor";for(has$1(o,d)&&!e.contains(d)&&e.push(d);s--;)d=nonEnumerableProps[s],d in o&&o[d]!==c[d]&&!e.contains(d)&&e.push(d)}function keys(o){if(!isObject$1(o))return[];if(nativeKeys)return nativeKeys(o);var e=[];for(var s in o)has$1(o,s)&&e.push(s);return hasEnumBug&&collectNonEnumProps(o,e),e}function isEmpty$1(o){if(o==null)return!0;var e=getLength(o);return typeof e=="number"&&(isArray(o)||isString(o)||isArguments$1(o))?e===0:getLength(keys(o))===0}function isMatch(o,e){var s=keys(e),a=s.length;if(o==null)return!a;for(var c=Object(o),d=0;d<a;d++){var g=s[d];if(e[g]!==c[g]||!(g in c))return!1}return!0}function _$i(o){if(o instanceof _$i)return o;if(!(this instanceof _$i))return new _$i(o);this._wrapped=o}_$i.VERSION=VERSION$1;_$i.prototype.value=function(){return this._wrapped};_$i.prototype.valueOf=_$i.prototype.toJSON=_$i.prototype.value;_$i.prototype.toString=function(){return String(this._wrapped)};function toBufferView(o){return new Uint8Array(o.buffer||o,o.byteOffset||0,getByteLength(o))}var tagDataView="[object DataView]";function eq(o,e,s,a){if(o===e)return o!==0||1/o===1/e;if(o==null||e==null)return!1;if(o!==o)return e!==e;var c=typeof o;return c!=="function"&&c!=="object"&&typeof e!="object"?!1:deepEq(o,e,s,a)}function deepEq(o,e,s,a){o instanceof _$i&&(o=o._wrapped),e instanceof _$i&&(e=e._wrapped);var c=toString.call(o);if(c!==toString.call(e))return!1;if(hasDataViewBug&&c=="[object Object]"&&isDataView$1(o)){if(!isDataView$1(e))return!1;c=tagDataView}switch(c){case"[object RegExp]":case"[object String]":return""+o==""+e;case"[object Number]":return+o!=+o?+e!=+e:+o==0?1/+o===1/e:+o==+e;case"[object Date]":case"[object Boolean]":return+o==+e;case"[object Symbol]":return SymbolProto.valueOf.call(o)===SymbolProto.valueOf.call(e);case"[object ArrayBuffer]":case tagDataView:return deepEq(toBufferView(o),toBufferView(e),s,a)}var d=c==="[object Array]";if(!d&&isTypedArray$2(o)){var g=getByteLength(o);if(g!==getByteLength(e))return!1;if(o.buffer===e.buffer&&o.byteOffset===e.byteOffset)return!0;d=!0}if(!d){if(typeof o!="object"||typeof e!="object")return!1;var $=o.constructor,j=e.constructor;if($!==j&&!(isFunction$1($)&&$ instanceof $&&isFunction$1(j)&&j instanceof j)&&"constructor"in o&&"constructor"in e)return!1}s=s||[],a=a||[];for(var tt=s.length;tt--;)if(s[tt]===o)return a[tt]===e;if(s.push(o),a.push(e),d){if(tt=o.length,tt!==e.length)return!1;for(;tt--;)if(!eq(o[tt],e[tt],s,a))return!1}else{var et=keys(o),b;if(tt=et.length,keys(e).length!==tt)return!1;for(;tt--;)if(b=et[tt],!(has$1(e,b)&&eq(o[b],e[b],s,a)))return!1}return s.pop(),a.pop(),!0}function isEqual(o,e){return eq(o,e)}function allKeys(o){if(!isObject$1(o))return[];var e=[];for(var s in o)e.push(s);return hasEnumBug&&collectNonEnumProps(o,e),e}function ie11fingerprint(o){var e=getLength(o);return function(s){if(s==null)return!1;var a=allKeys(s);if(getLength(a))return!1;for(var c=0;c<e;c++)if(!isFunction$1(s[o[c]]))return!1;return o!==weakMapMethods||!isFunction$1(s[forEachName])}}var forEachName="forEach",hasName="has",commonInit=["clear","delete"],mapTail=["get",hasName,"set"],mapMethods=commonInit.concat(forEachName,mapTail),weakMapMethods=commonInit.concat(mapTail),setMethods=["add"].concat(commonInit,forEachName,hasName);const isMap=isIE11?ie11fingerprint(mapMethods):tagTester("Map"),isWeakMap=isIE11?ie11fingerprint(weakMapMethods):tagTester("WeakMap"),isSet=isIE11?ie11fingerprint(setMethods):tagTester("Set"),isWeakSet=tagTester("WeakSet");function values(o){for(var e=keys(o),s=e.length,a=Array(s),c=0;c<s;c++)a[c]=o[e[c]];return a}function pairs$1(o){for(var e=keys(o),s=e.length,a=Array(s),c=0;c<s;c++)a[c]=[e[c],o[e[c]]];return a}function invert(o){for(var e={},s=keys(o),a=0,c=s.length;a<c;a++)e[o[s[a]]]=s[a];return e}function functions(o){var e=[];for(var s in o)isFunction$1(o[s])&&e.push(s);return e.sort()}function createAssigner(o,e){return function(s){var a=arguments.length;if(e&&(s=Object(s)),a<2||s==null)return s;for(var c=1;c<a;c++)for(var d=arguments[c],g=o(d),$=g.length,j=0;j<$;j++){var tt=g[j];(!e||s[tt]===void 0)&&(s[tt]=d[tt])}return s}}const extend$1=createAssigner(allKeys),extendOwn=createAssigner(keys),defaults=createAssigner(allKeys,!0);function ctor(){return function(){}}function baseCreate(o){if(!isObject$1(o))return{};if(nativeCreate)return nativeCreate(o);var e=ctor();e.prototype=o;var s=new e;return e.prototype=null,s}function create(o,e){var s=baseCreate(o);return e&&extendOwn(s,e),s}function clone(o){return isObject$1(o)?isArray(o)?o.slice():extend$1({},o):o}function tap(o,e){return e(o),o}function toPath$1(o){return isArray(o)?o:[o]}_$i.toPath=toPath$1;function toPath(o){return _$i.toPath(o)}function deepGet(o,e){for(var s=e.length,a=0;a<s;a++){if(o==null)return;o=o[e[a]]}return s?o:void 0}function get(o,e,s){var a=deepGet(o,toPath(e));return isUndefined(a)?s:a}function has(o,e){e=toPath(e);for(var s=e.length,a=0;a<s;a++){var c=e[a];if(!has$1(o,c))return!1;o=o[c]}return!!s}function identity$2(o){return o}function matcher(o){return o=extendOwn({},o),function(e){return isMatch(e,o)}}function property(o){return o=toPath(o),function(e){return deepGet(e,o)}}function optimizeCb(o,e,s){if(e===void 0)return o;switch(s??3){case 1:return function(a){return o.call(e,a)};case 3:return function(a,c,d){return o.call(e,a,c,d)};case 4:return function(a,c,d,g){return o.call(e,a,c,d,g)}}return function(){return o.apply(e,arguments)}}function baseIteratee(o,e,s){return o==null?identity$2:isFunction$1(o)?optimizeCb(o,e,s):isObject$1(o)&&!isArray(o)?matcher(o):property(o)}function iteratee(o,e){return baseIteratee(o,e,1/0)}_$i.iteratee=iteratee;function cb(o,e,s){return _$i.iteratee!==iteratee?_$i.iteratee(o,e):baseIteratee(o,e,s)}function mapObject(o,e,s){e=cb(e,s);for(var a=keys(o),c=a.length,d={},g=0;g<c;g++){var $=a[g];d[$]=e(o[$],$,o)}return d}function noop(){}function propertyOf(o){return o==null?noop:function(e){return get(o,e)}}function times(o,e,s){var a=Array(Math.max(0,o));e=optimizeCb(e,s,1);for(var c=0;c<o;c++)a[c]=e(c);return a}function random(o,e){return e==null&&(e=o,o=0),o+Math.floor(Math.random()*(e-o+1))}const now=Date.now||function(){return new Date().getTime()};function createEscaper(o){var e=function(d){return o[d]},s="(?:"+keys(o).join("|")+")",a=RegExp(s),c=RegExp(s,"g");return function(d){return d=d==null?"":""+d,a.test(d)?d.replace(c,e):d}}const escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escape$1=createEscaper(escapeMap),unescapeMap=invert(escapeMap),unescape$1=createEscaper(unescapeMap),templateSettings=_$i.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escapeRegExp$1=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(o){return"\\"+escapes[o]}var bareIdentifier=/^\s*(\w|\$)+\s*$/;function template(o,e,s){!e&&s&&(e=s),e=defaults({},e,_$i.templateSettings);var a=RegExp([(e.escape||noMatch).source,(e.interpolate||noMatch).source,(e.evaluate||noMatch).source].join("|")+"|$","g"),c=0,d="__p+='";o.replace(a,function(tt,et,b,h,_e){return d+=o.slice(c,_e).replace(escapeRegExp$1,escapeChar),c=_e+tt.length,et?d+=`'+
((__t=(`+et+`))==null?'':_.escape(__t))+
'`:b?d+=`'+
((__t=(`+b+`))==null?'':__t)+
'`:h&&(d+=`';
`+h+`
__p+='`),tt}),d+=`';
`;var g=e.variable;if(g){if(!bareIdentifier.test(g))throw new Error("variable is not a bare identifier: "+g)}else d=`with(obj||{}){
`+d+`}
`,g="obj";d=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+d+`return __p;
`;var $;try{$=new Function(g,"_",d)}catch(tt){throw tt.source=d,tt}var j=function(tt){return $.call(this,tt,_$i)};return j.source="function("+g+`){
`+d+"}",j}function result(o,e,s){e=toPath(e);var a=e.length;if(!a)return isFunction$1(s)?s.call(o):s;for(var c=0;c<a;c++){var d=o==null?void 0:o[e[c]];d===void 0&&(d=s,c=a),o=isFunction$1(d)?d.call(o):d}return o}var idCounter=0;function uniqueId(o){var e=++idCounter+"";return o?o+e:e}function chain(o){var e=_$i(o);return e._chain=!0,e}function executeBound(o,e,s,a,c){if(!(a instanceof e))return o.apply(s,c);var d=baseCreate(o.prototype),g=o.apply(d,c);return isObject$1(g)?g:d}var partial=restArguments(function(o,e){var s=partial.placeholder,a=function(){for(var c=0,d=e.length,g=Array(d),$=0;$<d;$++)g[$]=e[$]===s?arguments[c++]:e[$];for(;c<arguments.length;)g.push(arguments[c++]);return executeBound(o,a,this,this,g)};return a});partial.placeholder=_$i;const bind$1=restArguments(function(o,e,s){if(!isFunction$1(o))throw new TypeError("Bind must be called on a function");var a=restArguments(function(c){return executeBound(o,a,e,this,s.concat(c))});return a}),isArrayLike=createSizePropertyCheck(getLength);function flatten$1(o,e,s,a){if(a=a||[],!e&&e!==0)e=1/0;else if(e<=0)return a.concat(o);for(var c=a.length,d=0,g=getLength(o);d<g;d++){var $=o[d];if(isArrayLike($)&&(isArray($)||isArguments$1($)))if(e>1)flatten$1($,e-1,s,a),c=a.length;else for(var j=0,tt=$.length;j<tt;)a[c++]=$[j++];else s||(a[c++]=$)}return a}const bindAll=restArguments(function(o,e){e=flatten$1(e,!1,!1);var s=e.length;if(s<1)throw new Error("bindAll must be passed function names");for(;s--;){var a=e[s];o[a]=bind$1(o[a],o)}return o});function memoize(o,e){var s=function(a){var c=s.cache,d=""+(e?e.apply(this,arguments):a);return has$1(c,d)||(c[d]=o.apply(this,arguments)),c[d]};return s.cache={},s}const delay=restArguments(function(o,e,s){return setTimeout(function(){return o.apply(null,s)},e)}),defer$1=partial(delay,_$i,1);function throttle(o,e,s){var a,c,d,g,$=0;s||(s={});var j=function(){$=s.leading===!1?0:now(),a=null,g=o.apply(c,d),a||(c=d=null)},tt=function(){var et=now();!$&&s.leading===!1&&($=et);var b=e-(et-$);return c=this,d=arguments,b<=0||b>e?(a&&(clearTimeout(a),a=null),$=et,g=o.apply(c,d),a||(c=d=null)):!a&&s.trailing!==!1&&(a=setTimeout(j,b)),g};return tt.cancel=function(){clearTimeout(a),$=0,a=c=d=null},tt}function debounce(o,e,s){var a,c,d,g,$,j=function(){var et=now()-c;e>et?a=setTimeout(j,e-et):(a=null,s||(g=o.apply($,d)),a||(d=$=null))},tt=restArguments(function(et){return $=this,d=et,c=now(),a||(a=setTimeout(j,e),s&&(g=o.apply($,d))),g});return tt.cancel=function(){clearTimeout(a),a=d=$=null},tt}function wrap(o,e){return partial(e,o)}function negate(o){return function(){return!o.apply(this,arguments)}}function compose(){var o=arguments,e=o.length-1;return function(){for(var s=e,a=o[e].apply(this,arguments);s--;)a=o[s].call(this,a);return a}}function after(o,e){return function(){if(--o<1)return e.apply(this,arguments)}}function before(o,e){var s;return function(){return--o>0&&(s=e.apply(this,arguments)),o<=1&&(e=null),s}}const once=partial(before,2);function findKey(o,e,s){e=cb(e,s);for(var a=keys(o),c,d=0,g=a.length;d<g;d++)if(c=a[d],e(o[c],c,o))return c}function createPredicateIndexFinder(o){return function(e,s,a){s=cb(s,a);for(var c=getLength(e),d=o>0?0:c-1;d>=0&&d<c;d+=o)if(s(e[d],d,e))return d;return-1}}const findIndex=createPredicateIndexFinder(1),findLastIndex=createPredicateIndexFinder(-1);function sortedIndex(o,e,s,a){s=cb(s,a,1);for(var c=s(e),d=0,g=getLength(o);d<g;){var $=Math.floor((d+g)/2);s(o[$])<c?d=$+1:g=$}return d}function createIndexFinder(o,e,s){return function(a,c,d){var g=0,$=getLength(a);if(typeof d=="number")o>0?g=d>=0?d:Math.max(d+$,g):$=d>=0?Math.min(d+1,$):d+$+1;else if(s&&d&&$)return d=s(a,c),a[d]===c?d:-1;if(c!==c)return d=e(slice$1.call(a,g,$),isNaN$1),d>=0?d+g:-1;for(d=o>0?g:$-1;d>=0&&d<$;d+=o)if(a[d]===c)return d;return-1}}const indexOf=createIndexFinder(1,findIndex,sortedIndex),lastIndexOf=createIndexFinder(-1,findLastIndex);function find$2(o,e,s){var a=isArrayLike(o)?findIndex:findKey,c=a(o,e,s);if(c!==void 0&&c!==-1)return o[c]}function findWhere(o,e){return find$2(o,matcher(e))}function each$1(o,e,s){e=optimizeCb(e,s);var a,c;if(isArrayLike(o))for(a=0,c=o.length;a<c;a++)e(o[a],a,o);else{var d=keys(o);for(a=0,c=d.length;a<c;a++)e(o[d[a]],d[a],o)}return o}function map$2(o,e,s){e=cb(e,s);for(var a=!isArrayLike(o)&&keys(o),c=(a||o).length,d=Array(c),g=0;g<c;g++){var $=a?a[g]:g;d[g]=e(o[$],$,o)}return d}function createReduce(o){var e=function(s,a,c,d){var g=!isArrayLike(s)&&keys(s),$=(g||s).length,j=o>0?0:$-1;for(d||(c=s[g?g[j]:j],j+=o);j>=0&&j<$;j+=o){var tt=g?g[j]:j;c=a(c,s[tt],tt,s)}return c};return function(s,a,c,d){var g=arguments.length>=3;return e(s,optimizeCb(a,d,4),c,g)}}const reduce$1=createReduce(1),reduceRight=createReduce(-1);function filter$1(o,e,s){var a=[];return e=cb(e,s),each$1(o,function(c,d,g){e(c,d,g)&&a.push(c)}),a}function reject(o,e,s){return filter$1(o,negate(cb(e)),s)}function every(o,e,s){e=cb(e,s);for(var a=!isArrayLike(o)&&keys(o),c=(a||o).length,d=0;d<c;d++){var g=a?a[d]:d;if(!e(o[g],g,o))return!1}return!0}function some$1(o,e,s){e=cb(e,s);for(var a=!isArrayLike(o)&&keys(o),c=(a||o).length,d=0;d<c;d++){var g=a?a[d]:d;if(e(o[g],g,o))return!0}return!1}function contains(o,e,s,a){return isArrayLike(o)||(o=values(o)),(typeof s!="number"||a)&&(s=0),indexOf(o,e,s)>=0}const invoke=restArguments(function(o,e,s){var a,c;return isFunction$1(e)?c=e:(e=toPath(e),a=e.slice(0,-1),e=e[e.length-1]),map$2(o,function(d){var g=c;if(!g){if(a&&a.length&&(d=deepGet(d,a)),d==null)return;g=d[e]}return g==null?g:g.apply(d,s)})});function pluck(o,e){return map$2(o,property(e))}function where(o,e){return filter$1(o,matcher(e))}function max$1(o,e,s){var a=-1/0,c=-1/0,d,g;if(e==null||typeof e=="number"&&typeof o[0]!="object"&&o!=null){o=isArrayLike(o)?o:values(o);for(var $=0,j=o.length;$<j;$++)d=o[$],d!=null&&d>a&&(a=d)}else e=cb(e,s),each$1(o,function(tt,et,b){g=e(tt,et,b),(g>c||g===-1/0&&a===-1/0)&&(a=tt,c=g)});return a}function min$1(o,e,s){var a=1/0,c=1/0,d,g;if(e==null||typeof e=="number"&&typeof o[0]!="object"&&o!=null){o=isArrayLike(o)?o:values(o);for(var $=0,j=o.length;$<j;$++)d=o[$],d!=null&&d<a&&(a=d)}else e=cb(e,s),each$1(o,function(tt,et,b){g=e(tt,et,b),(g<c||g===1/0&&a===1/0)&&(a=tt,c=g)});return a}var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray$1(o){return o?isArray(o)?slice$1.call(o):isString(o)?o.match(reStrSymbol):isArrayLike(o)?map$2(o,identity$2):values(o):[]}function sample(o,e,s){if(e==null||s)return isArrayLike(o)||(o=values(o)),o[random(o.length-1)];var a=toArray$1(o),c=getLength(a);e=Math.max(Math.min(e,c),0);for(var d=c-1,g=0;g<e;g++){var $=random(g,d),j=a[g];a[g]=a[$],a[$]=j}return a.slice(0,e)}function shuffle(o){return sample(o,1/0)}function sortBy(o,e,s){var a=0;return e=cb(e,s),pluck(map$2(o,function(c,d,g){return{value:c,index:a++,criteria:e(c,d,g)}}).sort(function(c,d){var g=c.criteria,$=d.criteria;if(g!==$){if(g>$||g===void 0)return 1;if(g<$||$===void 0)return-1}return c.index-d.index}),"value")}function group(o,e){return function(s,a,c){var d=e?[[],[]]:{};return a=cb(a,c),each$1(s,function(g,$){var j=a(g,$,s);o(d,g,j)}),d}}const groupBy=group(function(o,e,s){has$1(o,s)?o[s].push(e):o[s]=[e]}),indexBy=group(function(o,e,s){o[s]=e}),countBy=group(function(o,e,s){has$1(o,s)?o[s]++:o[s]=1}),partition=group(function(o,e,s){o[s?0:1].push(e)},!0);function size(o){return o==null?0:isArrayLike(o)?o.length:keys(o).length}function keyInObj(o,e,s){return e in s}const pick=restArguments(function(o,e){var s={},a=e[0];if(o==null)return s;isFunction$1(a)?(e.length>1&&(a=optimizeCb(a,e[1])),e=allKeys(o)):(a=keyInObj,e=flatten$1(e,!1,!1),o=Object(o));for(var c=0,d=e.length;c<d;c++){var g=e[c],$=o[g];a($,g,o)&&(s[g]=$)}return s}),omit=restArguments(function(o,e){var s=e[0],a;return isFunction$1(s)?(s=negate(s),e.length>1&&(a=e[1])):(e=map$2(flatten$1(e,!1,!1),String),s=function(c,d){return!contains(e,d)}),pick(o,s,a)});function initial(o,e,s){return slice$1.call(o,0,Math.max(0,o.length-(e==null||s?1:e)))}function first(o,e,s){return o==null||o.length<1?e==null||s?void 0:[]:e==null||s?o[0]:initial(o,o.length-e)}function rest(o,e,s){return slice$1.call(o,e==null||s?1:e)}function last(o,e,s){return o==null||o.length<1?e==null||s?void 0:[]:e==null||s?o[o.length-1]:rest(o,Math.max(0,o.length-e))}function compact(o){return filter$1(o,Boolean)}function flatten(o,e){return flatten$1(o,e,!1)}const difference=restArguments(function(o,e){return e=flatten$1(e,!0,!0),filter$1(o,function(s){return!contains(e,s)})}),without=restArguments(function(o,e){return difference(o,e)});function uniq(o,e,s,a){isBoolean$1(e)||(a=s,s=e,e=!1),s!=null&&(s=cb(s,a));for(var c=[],d=[],g=0,$=getLength(o);g<$;g++){var j=o[g],tt=s?s(j,g,o):j;e&&!s?((!g||d!==tt)&&c.push(j),d=tt):s?contains(d,tt)||(d.push(tt),c.push(j)):contains(c,j)||c.push(j)}return c}const union=restArguments(function(o){return uniq(flatten$1(o,!0,!0))});function intersection(o){for(var e=[],s=arguments.length,a=0,c=getLength(o);a<c;a++){var d=o[a];if(!contains(e,d)){var g;for(g=1;g<s&&contains(arguments[g],d);g++);g===s&&e.push(d)}}return e}function unzip$2(o){for(var e=o&&max$1(o,getLength).length||0,s=Array(e),a=0;a<e;a++)s[a]=pluck(o,a);return s}const zip=restArguments(unzip$2);function object(o,e){for(var s={},a=0,c=getLength(o);a<c;a++)e?s[o[a]]=e[a]:s[o[a][0]]=o[a][1];return s}function range$1(o,e,s){e==null&&(e=o||0,o=0),s||(s=e<o?-1:1);for(var a=Math.max(Math.ceil((e-o)/s),0),c=Array(a),d=0;d<a;d++,o+=s)c[d]=o;return c}function chunk(o,e){if(e==null||e<1)return[];for(var s=[],a=0,c=o.length;a<c;)s.push(slice$1.call(o,a,a+=e));return s}function chainResult(o,e){return o._chain?_$i(e).chain():e}function mixin(o){return each$1(functions(o),function(e){var s=_$i[e]=o[e];_$i.prototype[e]=function(){var a=[this._wrapped];return push.apply(a,arguments),chainResult(this,s.apply(_$i,a))}}),_$i}each$1(["pop","push","reverse","shift","sort","splice","unshift"],function(o){var e=ArrayProto[o];_$i.prototype[o]=function(){var s=this._wrapped;return s!=null&&(e.apply(s,arguments),(o==="shift"||o==="splice")&&s.length===0&&delete s[0]),chainResult(this,s)}});each$1(["concat","join","slice"],function(o){var e=ArrayProto[o];_$i.prototype[o]=function(){var s=this._wrapped;return s!=null&&(s=e.apply(s,arguments)),chainResult(this,s)}});const allExports=Object.freeze(Object.defineProperty({__proto__:null,VERSION:VERSION$1,after,all:every,allKeys,any:some$1,assign:extendOwn,before,bind:bind$1,bindAll,chain,chunk,clone,collect:map$2,compact,compose,constant,contains,countBy,create,debounce,default:_$i,defaults,defer:defer$1,delay,detect:find$2,difference,drop:rest,each:each$1,escape:escape$1,every,extend:extend$1,extendOwn,filter:filter$1,find:find$2,findIndex,findKey,findLastIndex,findWhere,first,flatten,foldl:reduce$1,foldr:reduceRight,forEach:each$1,functions,get,groupBy,has,head:first,identity:identity$2,include:contains,includes:contains,indexBy,indexOf,initial,inject:reduce$1,intersection,invert,invoke,isArguments:isArguments$1,isArray,isArrayBuffer,isBoolean:isBoolean$1,isDataView:isDataView$1,isDate,isElement,isEmpty:isEmpty$1,isEqual,isError,isFinite:isFinite$1,isFunction:isFunction$1,isMap,isMatch,isNaN:isNaN$1,isNull:isNull$1,isNumber,isObject:isObject$1,isRegExp,isSet,isString,isSymbol,isTypedArray:isTypedArray$2,isUndefined,isWeakMap,isWeakSet,iteratee,keys,last,lastIndexOf,map:map$2,mapObject,matcher,matches:matcher,max:max$1,memoize,methods:functions,min:min$1,mixin,negate,noop,now,object,omit,once,pairs:pairs$1,partial,partition,pick,pluck,property,propertyOf,random,range:range$1,reduce:reduce$1,reduceRight,reject,rest,restArguments,result,sample,select:filter$1,shuffle,size,some:some$1,sortBy,sortedIndex,tail:rest,take:first,tap,template,templateSettings,throttle,times,toArray:toArray$1,toPath:toPath$1,transpose:unzip$2,unescape:unescape$1,union,uniq,unique:uniq,uniqueId,unzip:unzip$2,values,where,without,wrap,zip},Symbol.toStringTag,{value:"Module"}));var _$h=mixin(allExports);_$h._=_$h;const indexAll=Object.freeze(Object.defineProperty({__proto__:null,VERSION:VERSION$1,after,all:every,allKeys,any:some$1,assign:extendOwn,before,bind:bind$1,bindAll,chain,chunk,clone,collect:map$2,compact,compose,constant,contains,countBy,create,debounce,default:_$h,defaults,defer:defer$1,delay,detect:find$2,difference,drop:rest,each:each$1,escape:escape$1,every,extend:extend$1,extendOwn,filter:filter$1,find:find$2,findIndex,findKey,findLastIndex,findWhere,first,flatten,foldl:reduce$1,foldr:reduceRight,forEach:each$1,functions,get,groupBy,has,head:first,identity:identity$2,include:contains,includes:contains,indexBy,indexOf,initial,inject:reduce$1,intersection,invert,invoke,isArguments:isArguments$1,isArray,isArrayBuffer,isBoolean:isBoolean$1,isDataView:isDataView$1,isDate,isElement,isEmpty:isEmpty$1,isEqual,isError,isFinite:isFinite$1,isFunction:isFunction$1,isMap,isMatch,isNaN:isNaN$1,isNull:isNull$1,isNumber,isObject:isObject$1,isRegExp,isSet,isString,isSymbol,isTypedArray:isTypedArray$2,isUndefined,isWeakMap,isWeakSet,iteratee,keys,last,lastIndexOf,map:map$2,mapObject,matcher,matches:matcher,max:max$1,memoize,methods:functions,min:min$1,mixin,negate,noop,now,object,omit,once,pairs:pairs$1,partial,partition,pick,pluck,property,propertyOf,random,range:range$1,reduce:reduce$1,reduceRight,reject,rest,restArguments,result,sample,select:filter$1,shuffle,size,some:some$1,sortBy,sortedIndex,tail:rest,take:first,tap,template,templateSettings,throttle,times,toArray:toArray$1,toPath:toPath$1,transpose:unzip$2,unescape:unescape$1,union,uniq,unique:uniq,uniqueId,unzip:unzip$2,values,where,without,wrap,zip},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(indexAll);var docxReader$1={},promises$7={},promise={exports:{}},es5={exports:{}},hasRequiredEs5;function requireEs5(){if(hasRequiredEs5)return es5.exports;hasRequiredEs5=1;var o=function(){return this===void 0}();if(o)es5.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:o,propertyIsWritable:function(et,b){var h=Object.getOwnPropertyDescriptor(et,b);return!!(!h||h.writable||h.set)}};else{var e={}.hasOwnProperty,s={}.toString,a={}.constructor.prototype,c=function(et){var b=[];for(var h in et)e.call(et,h)&&b.push(h);return b},d=function(et,b){return{value:et[b]}},g=function(et,b,h){return et[b]=h.value,et},$=function(et){return et},j=function(et){try{return Object(et).constructor.prototype}catch{return a}},tt=function(et){try{return s.call(et)==="[object Array]"}catch{return!1}};es5.exports={isArray:tt,keys:c,names:c,defineProperty:g,getDescriptor:d,freeze:$,getPrototypeOf:j,isES5:o,propertyIsWritable:function(){return!0}}}return es5.exports}var util,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;var o={},e=requireEs5(),s=typeof navigator>"u",a={e:{}},c,d=typeof self<"u"?self:typeof window<"u"?window:typeof commonjsGlobal<"u"||commonjsGlobal!==void 0?commonjsGlobal:null;function g(){try{var Ot=c;return c=null,Ot.apply(this,arguments)}catch(Bt){return a.e=Bt,a}}function $(Ot){return c=Ot,g}var j=function(Ot,Bt){var Vt={}.hasOwnProperty;function Zt(){this.constructor=Ot,this.constructor$=Bt;for(var Jt in Bt.prototype)Vt.call(Bt.prototype,Jt)&&Jt.charAt(Jt.length-1)!=="$"&&(this[Jt+"$"]=Bt.prototype[Jt])}return Zt.prototype=Bt.prototype,Ot.prototype=new Zt,Ot.prototype};function tt(Ot){return Ot==null||Ot===!0||Ot===!1||typeof Ot=="string"||typeof Ot=="number"}function et(Ot){return typeof Ot=="function"||typeof Ot=="object"&&Ot!==null}function b(Ot){return tt(Ot)?new Error(ht(Ot)):Ot}function h(Ot,Bt){var Vt=Ot.length,Zt=new Array(Vt+1),Jt;for(Jt=0;Jt<Vt;++Jt)Zt[Jt]=Ot[Jt];return Zt[Jt]=Bt,Zt}function _e(Ot,Bt,Vt){if(e.isES5){var Zt=Object.getOwnPropertyDescriptor(Ot,Bt);if(Zt!=null)return Zt.get==null&&Zt.set==null?Zt.value:Vt}else return{}.hasOwnProperty.call(Ot,Bt)?Ot[Bt]:void 0}function nt(Ot,Bt,Vt){if(tt(Ot))return Ot;var Zt={value:Vt,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(Ot,Bt,Zt),Ot}function rt(Ot){throw Ot}var it=function(){var Ot=[Array.prototype,Object.prototype,Function.prototype],Bt=function(Jt){for(var fn=0;fn<Ot.length;++fn)if(Ot[fn]===Jt)return!0;return!1};if(e.isES5){var Vt=Object.getOwnPropertyNames;return function(Jt){for(var fn=[],yn=Object.create(null);Jt!=null&&!Bt(Jt);){var _n;try{_n=Vt(Jt)}catch{return fn}for(var Tn=0;Tn<_n.length;++Tn){var Yt=_n[Tn];if(!yn[Yt]){yn[Yt]=!0;var an=Object.getOwnPropertyDescriptor(Jt,Yt);an!=null&&an.get==null&&an.set==null&&fn.push(Yt)}}Jt=e.getPrototypeOf(Jt)}return fn}}else{var Zt={}.hasOwnProperty;return function(Jt){if(Bt(Jt))return[];var fn=[];e:for(var yn in Jt)if(Zt.call(Jt,yn))fn.push(yn);else{for(var _n=0;_n<Ot.length;++_n)if(Zt.call(Ot[_n],yn))continue e;fn.push(yn)}return fn}}}(),st=/this\s*\.\s*\S+\s*=/;function ot(Ot){try{if(typeof Ot=="function"){var Bt=e.names(Ot.prototype),Vt=e.isES5&&Bt.length>1,Zt=Bt.length>0&&!(Bt.length===1&&Bt[0]==="constructor"),Jt=st.test(Ot+"")&&e.names(Ot).length>0;if(Vt||Zt||Jt)return!0}return!1}catch{return!1}}function at(Ot){return Ot}var ct=/^[a-z$_][a-z$_0-9]*$/i;function ut(Ot){return ct.test(Ot)}function dt(Ot,Bt,Vt){for(var Zt=new Array(Ot),Jt=0;Jt<Ot;++Jt)Zt[Jt]=Bt+Jt+Vt;return Zt}function ht(Ot){try{return Ot+""}catch{return"[no string representation]"}}function pt(Ot){return Ot!==null&&typeof Ot=="object"&&typeof Ot.message=="string"&&typeof Ot.name=="string"}function ft(Ot){try{nt(Ot,"isOperational",!0)}catch{}}function bt(Ot){return Ot==null?!1:Ot instanceof Error.__BluebirdErrorTypes__.OperationalError||Ot.isOperational===!0}function Ct(Ot){return pt(Ot)&&e.propertyIsWritable(Ot,"stack")}var yt=function(){return"stack"in new Error?function(Ot){return Ct(Ot)?Ot:new Error(ht(Ot))}:function(Ot){if(Ct(Ot))return Ot;try{throw new Error(ht(Ot))}catch(Bt){return Bt}}}();function Et(Ot){return{}.toString.call(Ot)}function gt(Ot,Bt,Vt){for(var Zt=e.names(Ot),Jt=0;Jt<Zt.length;++Jt){var fn=Zt[Jt];if(Vt(fn))try{e.defineProperty(Bt,fn,e.getDescriptor(Ot,fn))}catch{}}}var At=function(Ot){return e.isArray(Ot)?Ot:null};if(typeof Symbol<"u"&&Symbol.iterator){var mt=typeof Array.from=="function"?function(Ot){return Array.from(Ot)}:function(Ot){for(var Bt=[],Vt=Ot[Symbol.iterator](),Zt;!(Zt=Vt.next()).done;)Bt.push(Zt.value);return Bt};At=function(Ot){return e.isArray(Ot)?Ot:Ot!=null&&typeof Ot[Symbol.iterator]=="function"?mt(Ot):null}}var _t=typeof process<"u"&&Et(process).toLowerCase()==="[object process]",St=typeof process<"u"&&typeof o<"u";function wt(Ot){return St?o[Ot]:void 0}function kt(){if(typeof Promise=="function")try{var Ot=new Promise(function(){});if({}.toString.call(Ot)==="[object Promise]")return Promise}catch{}}function Dt(Ot,Bt){return Ot.bind(Bt)}var Ft={isClass:ot,isIdentifier:ut,inheritedDataKeys:it,getDataPropertyOrDefault:_e,thrower:rt,isArray:e.isArray,asArray:At,notEnumerableProp:nt,isPrimitive:tt,isObject:et,isError:pt,canEvaluate:s,errorObj:a,tryCatch:$,inherits:j,withAppended:h,maybeWrapAsError:b,toFastProperties:at,filledRange:dt,toString:ht,canAttachTrace:Ct,ensureErrorObject:yt,originatesFromRejection:bt,markAsOriginatingFromRejection:ft,classString:Et,copyDescriptors:gt,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:_t,hasEnvVariables:St,env:wt,global:d,getNativePromise:kt,domainBind:Dt};Ft.isRecentNode=Ft.isNode&&function(){var Ot=process.versions.node.split(".").map(Number);return Ot[0]===0&&Ot[1]>10||Ot[0]>0}(),Ft.isNode&&Ft.toFastProperties(process);try{throw new Error}catch(Ot){Ft.lastLineError=Ot}return util=Ft,util}var async={exports:{}},schedule_1,hasRequiredSchedule;function requireSchedule(){if(hasRequiredSchedule)return schedule_1;hasRequiredSchedule=1;var o=requireUtil(),e,s=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},a=o.getNativePromise();if(o.isNode&&typeof MutationObserver>"u"){var c=commonjsGlobal.setImmediate,d=process.nextTick;e=o.isRecentNode?function($){c.call(commonjsGlobal,$)}:function($){d.call(process,$)}}else if(typeof a=="function"&&typeof a.resolve=="function"){var g=a.resolve();e=function($){g.then($)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var $=document.createElement("div"),j={attributes:!0},tt=!1,et=document.createElement("div"),b=new MutationObserver(function(){$.classList.toggle("foo"),tt=!1});b.observe(et,j);var h=function(){tt||(tt=!0,et.classList.toggle("foo"))};return function(nt){var rt=new MutationObserver(function(){rt.disconnect(),nt()});rt.observe($,j),h()}}():typeof setImmediate<"u"?e=function($){setImmediate($)}:typeof setTimeout<"u"?e=function($){setTimeout($,0)}:e=s;return schedule_1=e,schedule_1}var queue,hasRequiredQueue;function requireQueue(){if(hasRequiredQueue)return queue;hasRequiredQueue=1;function o(s,a,c,d,g){for(var $=0;$<g;++$)c[$+d]=s[$+a],s[$+a]=void 0}function e(s){this._capacity=s,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(s){return this._capacity<s},e.prototype._pushOne=function(s){var a=this.length();this._checkCapacity(a+1);var c=this._front+a&this._capacity-1;this[c]=s,this._length=a+1},e.prototype.push=function(s,a,c){var d=this.length()+3;if(this._willBeOverCapacity(d)){this._pushOne(s),this._pushOne(a),this._pushOne(c);return}var g=this._front+d-3;this._checkCapacity(d);var $=this._capacity-1;this[g+0&$]=s,this[g+1&$]=a,this[g+2&$]=c,this._length=d},e.prototype.shift=function(){var s=this._front,a=this[s];return this[s]=void 0,this._front=s+1&this._capacity-1,this._length--,a},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(s){this._capacity<s&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(s){var a=this._capacity;this._capacity=s;var c=this._front,d=this._length,g=c+d&a-1;o(this,0,this,a,g)},queue=e,queue}var hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async.exports;hasRequiredAsync=1;var o;try{throw new Error}catch(j){o=j}var e=requireSchedule(),s=requireQueue(),a=requireUtil();function c(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new s(16),this._normalQueue=new s(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var j=this;this.drainQueues=function(){j._drainQueues()},this._schedule=e}c.prototype.setScheduler=function(j){var tt=this._schedule;return this._schedule=j,this._customScheduler=!0,tt},c.prototype.hasCustomScheduler=function(){return this._customScheduler},c.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},c.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},c.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},c.prototype.fatalError=function(j,tt){tt?(process.stderr.write("Fatal "+(j instanceof Error?j.stack:j)+`
`),process.exit(2)):this.throwLater(j)},c.prototype.throwLater=function(j,tt){if(arguments.length===1&&(tt=j,j=function(){throw tt}),typeof setTimeout<"u")setTimeout(function(){j(tt)},0);else try{this._schedule(function(){j(tt)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function d(j,tt,et){this._lateQueue.push(j,tt,et),this._queueTick()}function g(j,tt,et){this._normalQueue.push(j,tt,et),this._queueTick()}function $(j){this._normalQueue._pushOne(j),this._queueTick()}return a.hasDevTools?(c.prototype.invokeLater=function(j,tt,et){this._trampolineEnabled?d.call(this,j,tt,et):this._schedule(function(){setTimeout(function(){j.call(tt,et)},100)})},c.prototype.invoke=function(j,tt,et){this._trampolineEnabled?g.call(this,j,tt,et):this._schedule(function(){j.call(tt,et)})},c.prototype.settlePromises=function(j){this._trampolineEnabled?$.call(this,j):this._schedule(function(){j._settlePromises()})}):(c.prototype.invokeLater=d,c.prototype.invoke=g,c.prototype.settlePromises=$),c.prototype._drainQueue=function(j){for(;j.length()>0;){var tt=j.shift();if(typeof tt!="function"){tt._settlePromises();continue}var et=j.shift(),b=j.shift();tt.call(et,b)}},c.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},c.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},c.prototype._reset=function(){this._isTickUsed=!1},async.exports=c,async.exports.firstLineError=o,async.exports}var errors$1,hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors$1;hasRequiredErrors=1;var o=requireEs5(),e=o.freeze,s=requireUtil(),a=s.inherits,c=s.notEnumerableProp;function d(st,ot){function at(ct){if(!(this instanceof at))return new at(ct);c(this,"message",typeof ct=="string"?ct:ot),c(this,"name",st),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return a(at,Error),at}var g,$,j=d("Warning","warning"),tt=d("CancellationError","cancellation error"),et=d("TimeoutError","timeout error"),b=d("AggregateError","aggregate error");try{g=TypeError,$=RangeError}catch{g=d("TypeError","type error"),$=d("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_e=0;_e<h.length;++_e)typeof Array.prototype[h[_e]]=="function"&&(b.prototype[h[_e]]=Array.prototype[h[_e]]);o.defineProperty(b.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),b.prototype.isOperational=!0;var nt=0;b.prototype.toString=function(){var st=Array(nt*4+1).join(" "),ot=`
`+st+`AggregateError of:
`;nt++,st=Array(nt*4+1).join(" ");for(var at=0;at<this.length;++at){for(var ct=this[at]===this?"[Circular AggregateError]":this[at]+"",ut=ct.split(`
`),dt=0;dt<ut.length;++dt)ut[dt]=st+ut[dt];ct=ut.join(`
`),ot+=ct+`
`}return nt--,ot};function rt(st){if(!(this instanceof rt))return new rt(st);c(this,"name","OperationalError"),c(this,"message",st),this.cause=st,this.isOperational=!0,st instanceof Error?(c(this,"message",st.message),c(this,"stack",st.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}a(rt,Error);var it=Error.__BluebirdErrorTypes__;return it||(it=e({CancellationError:tt,TimeoutError:et,OperationalError:rt,RejectionError:rt,AggregateError:b}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:it,writable:!1,enumerable:!1,configurable:!1})),errors$1={Error,TypeError:g,RangeError:$,CancellationError:it.CancellationError,OperationalError:it.OperationalError,TimeoutError:it.TimeoutError,AggregateError:it.AggregateError,Warning:j},errors$1}var thenables,hasRequiredThenables;function requireThenables(){return hasRequiredThenables||(hasRequiredThenables=1,thenables=function(o,e){var s=requireUtil(),a=s.errorObj,c=s.isObject;function d(b,h){if(c(b)){if(b instanceof o)return b;var _e=$(b);if(_e===a){h&&h._pushContext();var nt=o.reject(_e.e);return h&&h._popContext(),nt}else if(typeof _e=="function"){if(tt(b)){var nt=new o(e);return b._then(nt._fulfill,nt._reject,void 0,nt,null),nt}return et(b,_e,h)}}return b}function g(b){return b.then}function $(b){try{return g(b)}catch(h){return a.e=h,a}}var j={}.hasOwnProperty;function tt(b){try{return j.call(b,"_promise0")}catch{return!1}}function et(b,h,_e){var nt=new o(e),rt=nt;_e&&_e._pushContext(),nt._captureStackTrace(),_e&&_e._popContext();var it=!0,st=s.tryCatch(h).call(b,ot,at);it=!1,nt&&st===a&&(nt._rejectCallback(st.e,!0,!0),nt=null);function ot(ct){nt&&(nt._resolveCallback(ct),nt=null)}function at(ct){nt&&(nt._rejectCallback(ct,it,!0),nt=null)}return rt}return d}),thenables}var promise_array,hasRequiredPromise_array;function requirePromise_array(){return hasRequiredPromise_array||(hasRequiredPromise_array=1,promise_array=function(o,e,s,a,c){var d=requireUtil();d.isArray;function g(j){switch(j){case-2:return[];case-3:return{}}}function $(j){var tt=this._promise=new o(e);j instanceof o&&tt._propagateFrom(j,3),tt._setOnCancel(this),this._values=j,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return d.inherits($,c),$.prototype.length=function(){return this._length},$.prototype.promise=function(){return this._promise},$.prototype._init=function j(tt,et){var b=s(this._values,this._promise);if(b instanceof o){b=b._target();var h=b._bitField;if(this._values=b,h&50397184)if(h&33554432)b=b._value();else return h&16777216?this._reject(b._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),b._then(j,this._reject,void 0,this,et)}if(b=d.asArray(b),b===null){var _e=a("expecting an array or an iterable object but got "+d.classString(b)).reason();this._promise._rejectCallback(_e,!1);return}if(b.length===0){et===-5?this._resolveEmptyArray():this._resolve(g(et));return}this._iterate(b)},$.prototype._iterate=function(j){var tt=this.getActualLength(j.length);this._length=tt,this._values=this.shouldCopyValues()?new Array(tt):this._values;for(var et=this._promise,b=!1,h=null,_e=0;_e<tt;++_e){var nt=s(j[_e],et);nt instanceof o?(nt=nt._target(),h=nt._bitField):h=null,b?h!==null&&nt.suppressUnhandledRejections():h!==null?h&50397184?h&33554432?b=this._promiseFulfilled(nt._value(),_e):h&16777216?b=this._promiseRejected(nt._reason(),_e):b=this._promiseCancelled(_e):(nt._proxy(this,_e),this._values[_e]=nt):b=this._promiseFulfilled(nt,_e)}b||et._setAsyncGuaranteed()},$.prototype._isResolved=function(){return this._values===null},$.prototype._resolve=function(j){this._values=null,this._promise._fulfill(j)},$.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},$.prototype._reject=function(j){this._values=null,this._promise._rejectCallback(j,!1)},$.prototype._promiseFulfilled=function(j,tt){this._values[tt]=j;var et=++this._totalResolved;return et>=this._length?(this._resolve(this._values),!0):!1},$.prototype._promiseCancelled=function(){return this._cancel(),!0},$.prototype._promiseRejected=function(j){return this._totalResolved++,this._reject(j),!0},$.prototype._resultCancelled=function(){if(!this._isResolved()){var j=this._values;if(this._cancel(),j instanceof o)j.cancel();else for(var tt=0;tt<j.length;++tt)j[tt]instanceof o&&j[tt].cancel()}},$.prototype.shouldCopyValues=function(){return!0},$.prototype.getActualLength=function(j){return j},$}),promise_array}var context,hasRequiredContext;function requireContext(){return hasRequiredContext||(hasRequiredContext=1,context=function(o){var e=!1,s=[];o.prototype._promiseCreated=function(){},o.prototype._pushContext=function(){},o.prototype._popContext=function(){return null},o._peekContext=o.prototype._peekContext=function(){};function a(){this._trace=new a.CapturedTrace(d())}a.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,s.push(this._trace))},a.prototype._popContext=function(){if(this._trace!==void 0){var g=s.pop(),$=g._promiseCreated;return g._promiseCreated=null,$}return null};function c(){if(e)return new a}function d(){var g=s.length-1;if(g>=0)return s[g]}return a.CapturedTrace=null,a.create=c,a.deactivateLongStackTraces=function(){},a.activateLongStackTraces=function(){var g=o.prototype._pushContext,$=o.prototype._popContext,j=o._peekContext,tt=o.prototype._peekContext,et=o.prototype._promiseCreated;a.deactivateLongStackTraces=function(){o.prototype._pushContext=g,o.prototype._popContext=$,o._peekContext=j,o.prototype._peekContext=tt,o.prototype._promiseCreated=et,e=!1},e=!0,o.prototype._pushContext=a.prototype._pushContext,o.prototype._popContext=a.prototype._popContext,o._peekContext=o.prototype._peekContext=d,o.prototype._promiseCreated=function(){var b=this._peekContext();b&&b._promiseCreated==null&&(b._promiseCreated=this)}},a}),context}var debuggability,hasRequiredDebuggability;function requireDebuggability(){return hasRequiredDebuggability||(hasRequiredDebuggability=1,debuggability=function(o,e){var s=o._getDomain,a=o._async,c=requireErrors().Warning,d=requireUtil(),g=d.canAttachTrace,$,j,tt=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,et=/\((?:timers\.js):\d+:\d+\)/,b=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,_e=null,nt=!1,rt,it=!!(d.env("BLUEBIRD_DEBUG")!=0&&(d.env("BLUEBIRD_DEBUG")||d.env("NODE_ENV")==="development")),st=!!(d.env("BLUEBIRD_WARNINGS")!=0&&(it||d.env("BLUEBIRD_WARNINGS"))),ot=!!(d.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(it||d.env("BLUEBIRD_LONG_STACK_TRACES"))),at=d.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(st||!!d.env("BLUEBIRD_W_FORGOTTEN_RETURN"));o.prototype.suppressUnhandledRejections=function(){var $t=this._target();$t._bitField=$t._bitField&-1048577|524288},o.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),a.invokeLater(this._notifyUnhandledRejection,this,void 0))},o.prototype._notifyUnhandledRejectionIsHandled=function(){Yt("rejectionHandled",$,void 0,this)},o.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},o.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},o.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var $t=this._settledValue();this._setUnhandledRejectionIsNotified(),Yt("unhandledRejection",j,$t,this)}},o.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},o.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},o.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},o.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},o.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},o.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},o.prototype._warn=function($t,zt,qt){return Bt($t,zt,qt||this)},o.onPossiblyUnhandledRejection=function($t){var zt=s();j=typeof $t=="function"?zt===null?$t:d.domainBind(zt,$t):void 0},o.onUnhandledRejectionHandled=function($t){var zt=s();$=typeof $t=="function"?zt===null?$t:d.domainBind(zt,$t):void 0};var ct=function(){};o.longStackTraces=function(){if(a.haveItemsQueued()&&!Ht.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Ht.longStackTraces&&Qt()){var $t=o.prototype._captureStackTrace,zt=o.prototype._attachExtraTrace;Ht.longStackTraces=!0,ct=function(){if(a.haveItemsQueued()&&!Ht.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);o.prototype._captureStackTrace=$t,o.prototype._attachExtraTrace=zt,e.deactivateLongStackTraces(),a.enableTrampoline(),Ht.longStackTraces=!1},o.prototype._captureStackTrace=kt,o.prototype._attachExtraTrace=Dt,e.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},o.hasLongStackTraces=function(){return Ht.longStackTraces&&Qt()};var ut=function(){try{if(typeof CustomEvent=="function"){var $t=new CustomEvent("CustomEvent");return d.global.dispatchEvent($t),function(zt,qt){var sn=new CustomEvent(zt.toLowerCase(),{detail:qt,cancelable:!0});return!d.global.dispatchEvent(sn)}}else if(typeof Event=="function"){var $t=new Event("CustomEvent");return d.global.dispatchEvent($t),function(qt,sn){var mn=new Event(qt.toLowerCase(),{cancelable:!0});return mn.detail=sn,!d.global.dispatchEvent(mn)}}else{var $t=document.createEvent("CustomEvent");return $t.initCustomEvent("testingtheevent",!1,!0,{}),d.global.dispatchEvent($t),function(qt,sn){var mn=document.createEvent("CustomEvent");return mn.initCustomEvent(qt.toLowerCase(),!1,!0,sn),!d.global.dispatchEvent(mn)}}}catch{}return function(){return!1}}(),dt=function(){return d.isNode?function(){return process.emit.apply(process,arguments)}:d.global?function($t){var zt="on"+$t.toLowerCase(),qt=d.global[zt];return qt?(qt.apply(d.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function ht($t,zt){return{promise:zt}}var pt={promiseCreated:ht,promiseFulfilled:ht,promiseRejected:ht,promiseResolved:ht,promiseCancelled:ht,promiseChained:function($t,zt,qt){return{promise:zt,child:qt}},warning:function($t,zt){return{warning:zt}},unhandledRejection:function($t,zt,qt){return{reason:zt,promise:qt}},rejectionHandled:ht},ft=function($t){var zt=!1;try{zt=dt.apply(null,arguments)}catch(sn){a.throwLater(sn),zt=!0}var qt=!1;try{qt=ut($t,pt[$t].apply(null,arguments))}catch(sn){a.throwLater(sn),qt=!0}return qt||zt};o.config=function($t){if($t=Object($t),"longStackTraces"in $t&&($t.longStackTraces?o.longStackTraces():!$t.longStackTraces&&o.hasLongStackTraces()&&ct()),"warnings"in $t){var zt=$t.warnings;Ht.warnings=!!zt,at=Ht.warnings,d.isObject(zt)&&"wForgottenReturn"in zt&&(at=!!zt.wForgottenReturn)}if("cancellation"in $t&&$t.cancellation&&!Ht.cancellation){if(a.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");o.prototype._clearCancellationData=At,o.prototype._propagateFrom=mt,o.prototype._onCancel=Et,o.prototype._setOnCancel=gt,o.prototype._attachCancellationCallback=yt,o.prototype._execute=Ct,St=mt,Ht.cancellation=!0}return"monitoring"in $t&&($t.monitoring&&!Ht.monitoring?(Ht.monitoring=!0,o.prototype._fireEvent=ft):!$t.monitoring&&Ht.monitoring&&(Ht.monitoring=!1,o.prototype._fireEvent=bt)),o};function bt(){return!1}o.prototype._fireEvent=bt,o.prototype._execute=function($t,zt,qt){try{$t(zt,qt)}catch(sn){return sn}},o.prototype._onCancel=function(){},o.prototype._setOnCancel=function($t){},o.prototype._attachCancellationCallback=function($t){},o.prototype._captureStackTrace=function(){},o.prototype._attachExtraTrace=function(){},o.prototype._clearCancellationData=function(){},o.prototype._propagateFrom=function($t,zt){};function Ct($t,zt,qt){var sn=this;try{$t(zt,qt,function(mn){if(typeof mn!="function")throw new TypeError("onCancel must be a function, got: "+d.toString(mn));sn._attachCancellationCallback(mn)})}catch(mn){return mn}}function yt($t){if(!this._isCancellable())return this;var zt=this._onCancel();zt!==void 0?d.isArray(zt)?zt.push($t):this._setOnCancel([zt,$t]):this._setOnCancel($t)}function Et(){return this._onCancelField}function gt($t){this._onCancelField=$t}function At(){this._cancellationParent=void 0,this._onCancelField=void 0}function mt($t,zt){if(zt&1){this._cancellationParent=$t;var qt=$t._branchesRemainingToCancel;qt===void 0&&(qt=0),$t._branchesRemainingToCancel=qt+1}zt&2&&$t._isBound()&&this._setBoundTo($t._boundTo)}function _t($t,zt){zt&2&&$t._isBound()&&this._setBoundTo($t._boundTo)}var St=_t;function wt(){var $t=this._boundTo;return $t!==void 0&&$t instanceof o?$t.isFulfilled()?$t.value():void 0:$t}function kt(){this._trace=new dn(this._peekContext())}function Dt($t,zt){if(g($t)){var qt=this._trace;if(qt!==void 0&&zt&&(qt=qt._parent),qt!==void 0)qt.attachExtraTrace($t);else if(!$t.__stackCleaned__){var sn=_n($t);d.notEnumerableProp($t,"stack",sn.message+`
`+sn.stack.join(`
`)),d.notEnumerableProp($t,"__stackCleaned__",!0)}}}function Ft($t,zt,qt,sn,mn){if($t===void 0&&zt!==null&&at){if(mn!==void 0&&mn._returnedNonUndefined()||!(sn._bitField&65535))return;qt&&(qt=qt+" ");var En="",On="";if(zt._trace){for(var kn=zt._trace.stack.split(`
`),Rn=fn(kn),Nn=Rn.length-1;Nn>=0;--Nn){var jn=Rn[Nn];if(!et.test(jn)){var An=jn.match(b);An&&(En="at "+An[1]+":"+An[2]+":"+An[3]+" ");break}}if(Rn.length>0){for(var Kr=Rn[0],Nn=0;Nn<kn.length;++Nn)if(kn[Nn]===Kr){Nn>0&&(On=`
`+kn[Nn-1]);break}}}var Nr="a promise was created in a "+qt+"handler "+En+"but was not returned from it, see http://goo.gl/rRqMUw"+On;sn._warn(Nr,!0,zt)}}function Ot($t,zt){var qt=$t+" is deprecated and will be removed in a future version.";return zt&&(qt+=" Use "+zt+" instead."),Bt(qt)}function Bt($t,zt,qt){if(Ht.warnings){var sn=new c($t),mn;if(zt)qt._attachExtraTrace(sn);else if(Ht.longStackTraces&&(mn=o._peekContext()))mn.attachExtraTrace(sn);else{var En=_n(sn);sn.stack=En.message+`
`+En.stack.join(`
`)}ft("warning",sn)||Tn(sn,"",!0)}}function Vt($t,zt){for(var qt=0;qt<zt.length-1;++qt)zt[qt].push("From previous event:"),zt[qt]=zt[qt].join(`
`);return qt<zt.length&&(zt[qt]=zt[qt].join(`
`)),$t+`
`+zt.join(`
`)}function Zt($t){for(var zt=0;zt<$t.length;++zt)($t[zt].length===0||zt+1<$t.length&&$t[zt][0]===$t[zt+1][0])&&($t.splice(zt,1),zt--)}function Jt($t){for(var zt=$t[0],qt=1;qt<$t.length;++qt){for(var sn=$t[qt],mn=zt.length-1,En=zt[mn],On=-1,kn=sn.length-1;kn>=0;--kn)if(sn[kn]===En){On=kn;break}for(var kn=On;kn>=0;--kn){var Rn=sn[kn];if(zt[mn]===Rn)zt.pop(),mn--;else break}zt=sn}}function fn($t){for(var zt=[],qt=0;qt<$t.length;++qt){var sn=$t[qt],mn=sn==="    (No stack trace)"||h.test(sn),En=mn&&Kt(sn);mn&&!En&&(nt&&sn.charAt(0)!==" "&&(sn="    "+sn),zt.push(sn))}return zt}function yn($t){for(var zt=$t.stack.replace(/\s+$/g,"").split(`
`),qt=0;qt<zt.length;++qt){var sn=zt[qt];if(sn==="    (No stack trace)"||h.test(sn))break}return qt>0&&$t.name!="SyntaxError"&&(zt=zt.slice(qt)),zt}function _n($t){var zt=$t.stack,qt=$t.toString();return zt=typeof zt=="string"&&zt.length>0?yn($t):["    (No stack trace)"],{message:qt,stack:$t.name=="SyntaxError"?zt:fn(zt)}}function Tn($t,zt,qt){if(typeof console<"u"){var sn;if(d.isObject($t)){var mn=$t.stack;sn=zt+_e(mn,$t)}else sn=zt+String($t);typeof rt=="function"?rt(sn,qt):(typeof console.log=="function"||typeof console.log=="object")&&console.log(sn)}}function Yt($t,zt,qt,sn){var mn=!1;try{typeof zt=="function"&&(mn=!0,$t==="rejectionHandled"?zt(sn):zt(qt,sn))}catch(En){a.throwLater(En)}$t==="unhandledRejection"?!ft($t,qt,sn)&&!mn&&Tn(qt,"Unhandled rejection "):ft($t,sn)}function an($t){var zt;if(typeof $t=="function")zt="[function "+($t.name||"anonymous")+"]";else{zt=$t&&typeof $t.toString=="function"?$t.toString():d.toString($t);var qt=/\[object [a-zA-Z0-9$_]+\]/;if(qt.test(zt))try{var sn=JSON.stringify($t);zt=sn}catch{}zt.length===0&&(zt="(empty array)")}return"(<"+vt(zt)+">, no stack trace)"}function vt($t){var zt=41;return $t.length<zt?$t:$t.substr(0,zt-3)+"..."}function Qt(){return typeof hn=="function"}var Kt=function(){return!1},Lt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Rt($t){var zt=$t.match(Lt);if(zt)return{fileName:zt[1],line:parseInt(zt[2],10)}}function Gt($t,zt){if(Qt()){for(var qt=$t.stack.split(`
`),sn=zt.stack.split(`
`),mn=-1,En=-1,On,kn,Rn=0;Rn<qt.length;++Rn){var Nn=Rt(qt[Rn]);if(Nn){On=Nn.fileName,mn=Nn.line;break}}for(var Rn=0;Rn<sn.length;++Rn){var Nn=Rt(sn[Rn]);if(Nn){kn=Nn.fileName,En=Nn.line;break}}mn<0||En<0||!On||!kn||On!==kn||mn>=En||(Kt=function(jn){if(tt.test(jn))return!0;var An=Rt(jn);return!!(An&&An.fileName===On&&mn<=An.line&&An.line<=En)})}}function dn($t){this._parent=$t,this._promisesCreated=0;var zt=this._length=1+($t===void 0?0:$t._length);hn(this,dn),zt>32&&this.uncycle()}d.inherits(dn,Error),e.CapturedTrace=dn,dn.prototype.uncycle=function(){var $t=this._length;if(!($t<2)){for(var zt=[],qt={},sn=0,mn=this;mn!==void 0;++sn)zt.push(mn),mn=mn._parent;$t=this._length=sn;for(var sn=$t-1;sn>=0;--sn){var En=zt[sn].stack;qt[En]===void 0&&(qt[En]=sn)}for(var sn=0;sn<$t;++sn){var On=zt[sn].stack,kn=qt[On];if(kn!==void 0&&kn!==sn){kn>0&&(zt[kn-1]._parent=void 0,zt[kn-1]._length=1),zt[sn]._parent=void 0,zt[sn]._length=1;var Rn=sn>0?zt[sn-1]:this;kn<$t-1?(Rn._parent=zt[kn+1],Rn._parent.uncycle(),Rn._length=Rn._parent._length+1):(Rn._parent=void 0,Rn._length=1);for(var Nn=Rn._length+1,jn=sn-2;jn>=0;--jn)zt[jn]._length=Nn,Nn++;return}}}},dn.prototype.attachExtraTrace=function($t){if(!$t.__stackCleaned__){this.uncycle();for(var zt=_n($t),qt=zt.message,sn=[zt.stack],mn=this;mn!==void 0;)sn.push(fn(mn.stack.split(`
`))),mn=mn._parent;Jt(sn),Zt(sn),d.notEnumerableProp($t,"stack",Vt(qt,sn)),d.notEnumerableProp($t,"__stackCleaned__",!0)}};var hn=function(){var zt=/^\s*at\s*/,qt=function(On,kn){return typeof On=="string"?On:kn.name!==void 0&&kn.message!==void 0?kn.toString():an(kn)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=zt,_e=qt;var sn=Error.captureStackTrace;return Kt=function(On){return tt.test(On)},function(On,kn){Error.stackTraceLimit+=6,sn(On,kn),Error.stackTraceLimit-=6}}var mn=new Error;if(typeof mn.stack=="string"&&mn.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,_e=qt,nt=!0,function(kn){kn.stack=new Error().stack};var En;try{throw new Error}catch(On){En="stack"in On}return!("stack"in mn)&&En&&typeof Error.stackTraceLimit=="number"?(h=zt,_e=qt,function(kn){Error.stackTraceLimit+=6;try{throw new Error}catch(Rn){kn.stack=Rn.stack}Error.stackTraceLimit-=6}):(_e=function(On,kn){return typeof On=="string"?On:(typeof kn=="object"||typeof kn=="function")&&kn.name!==void 0&&kn.message!==void 0?kn.toString():an(kn)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(rt=function($t){console.warn($t)},d.isNode&&process.stderr.isTTY?rt=function($t,zt){var qt=zt?"\x1B[33m":"\x1B[31m";console.warn(qt+$t+`\x1B[0m
`)}:!d.isNode&&typeof new Error().stack=="string"&&(rt=function($t,zt){console.warn("%c"+$t,zt?"color: darkorange":"color: red")}));var Ht={warnings:st,longStackTraces:!1,cancellation:!1,monitoring:!1};return ot&&o.longStackTraces(),{longStackTraces:function(){return Ht.longStackTraces},warnings:function(){return Ht.warnings},cancellation:function(){return Ht.cancellation},monitoring:function(){return Ht.monitoring},propagateFromFunction:function(){return St},boundValueFunction:function(){return wt},checkForgottenReturns:Ft,setBounds:Gt,warn:Bt,deprecated:Ot,CapturedTrace:dn,fireDomEvent:ut,fireGlobalEvent:dt}}),debuggability}var _finally,hasRequired_finally;function require_finally(){return hasRequired_finally||(hasRequired_finally=1,_finally=function(o,e){var s=requireUtil(),a=o.CancellationError,c=s.errorObj;function d(b,h,_e){this.promise=b,this.type=h,this.handler=_e,this.called=!1,this.cancelPromise=null}d.prototype.isFinallyHandler=function(){return this.type===0};function g(b){this.finallyHandler=b}g.prototype._resultCancelled=function(){$(this.finallyHandler)};function $(b,h){return b.cancelPromise!=null?(arguments.length>1?b.cancelPromise._reject(h):b.cancelPromise._cancel(),b.cancelPromise=null,!0):!1}function j(){return et.call(this,this.promise._target()._settledValue())}function tt(b){if(!$(this,b))return c.e=b,c}function et(b){var h=this.promise,_e=this.handler;if(!this.called){this.called=!0;var nt=this.isFinallyHandler()?_e.call(h._boundValue()):_e.call(h._boundValue(),b);if(nt!==void 0){h._setReturnedNonUndefined();var rt=e(nt,h);if(rt instanceof o){if(this.cancelPromise!=null)if(rt._isCancelled()){var it=new a("late cancellation observer");return h._attachExtraTrace(it),c.e=it,c}else rt.isPending()&&rt._attachCancellationCallback(new g(this));return rt._then(j,tt,void 0,this,void 0)}}}return h.isRejected()?($(this),c.e=b,c):($(this),b)}return o.prototype._passThrough=function(b,h,_e,nt){return typeof b!="function"?this.then():this._then(_e,nt,void 0,new d(this,h,b),void 0)},o.prototype.lastly=o.prototype.finally=function(b){return this._passThrough(b,0,et,et)},o.prototype.tap=function(b){return this._passThrough(b,1,et)},d}),_finally}var catch_filter,hasRequiredCatch_filter;function requireCatch_filter(){return hasRequiredCatch_filter||(hasRequiredCatch_filter=1,catch_filter=function(o){var e=requireUtil(),s=requireEs5().keys,a=e.tryCatch,c=e.errorObj;function d(g,$,j){return function(tt){var et=j._boundValue();e:for(var b=0;b<g.length;++b){var h=g[b];if(h===Error||h!=null&&h.prototype instanceof Error){if(tt instanceof h)return a($).call(et,tt)}else if(typeof h=="function"){var _e=a(h).call(et,tt);if(_e===c)return _e;if(_e)return a($).call(et,tt)}else if(e.isObject(tt)){for(var nt=s(h),rt=0;rt<nt.length;++rt){var it=nt[rt];if(h[it]!=tt[it])continue e}return a($).call(et,tt)}}return o}}return d}),catch_filter}var nodeback,hasRequiredNodeback;function requireNodeback(){if(hasRequiredNodeback)return nodeback;hasRequiredNodeback=1;var o=requireUtil(),e=o.maybeWrapAsError,s=requireErrors(),a=s.OperationalError,c=requireEs5();function d(tt){return tt instanceof Error&&c.getPrototypeOf(tt)===Error.prototype}var g=/^(?:name|message|stack|cause)$/;function $(tt){var et;if(d(tt)){et=new a(tt),et.name=tt.name,et.message=tt.message,et.stack=tt.stack;for(var b=c.keys(tt),h=0;h<b.length;++h){var _e=b[h];g.test(_e)||(et[_e]=tt[_e])}return et}return o.markAsOriginatingFromRejection(tt),tt}function j(tt,et){return function(b,h){if(tt!==null){if(b){var _e=$(e(b));tt._attachExtraTrace(_e),tt._reject(_e)}else if(!et)tt._fulfill(h);else{for(var nt=arguments.length,rt=new Array(Math.max(nt-1,0)),it=1;it<nt;++it)rt[it-1]=arguments[it];tt._fulfill(rt)}tt=null}}}return nodeback=j,nodeback}var method,hasRequiredMethod;function requireMethod(){return hasRequiredMethod||(hasRequiredMethod=1,method=function(o,e,s,a,c){var d=requireUtil(),g=d.tryCatch;o.method=function($){if(typeof $!="function")throw new o.TypeError("expecting a function but got "+d.classString($));return function(){var j=new o(e);j._captureStackTrace(),j._pushContext();var tt=g($).apply(this,arguments),et=j._popContext();return c.checkForgottenReturns(tt,et,"Promise.method",j),j._resolveFromSyncValue(tt),j}},o.attempt=o.try=function($){if(typeof $!="function")return a("expecting a function but got "+d.classString($));var j=new o(e);j._captureStackTrace(),j._pushContext();var tt;if(arguments.length>1){c.deprecated("calling Promise.try with more than 1 argument");var et=arguments[1],b=arguments[2];tt=d.isArray(et)?g($).apply(b,et):g($).call(b,et)}else tt=g($)();var h=j._popContext();return c.checkForgottenReturns(tt,h,"Promise.try",j),j._resolveFromSyncValue(tt),j},o.prototype._resolveFromSyncValue=function($){$===d.errorObj?this._rejectCallback($.e,!1):this._resolveCallback($,!0)}}),method}var bind,hasRequiredBind;function requireBind(){return hasRequiredBind||(hasRequiredBind=1,bind=function(o,e,s,a){var c=!1,d=function(tt,et){this._reject(et)},g=function(tt,et){et.promiseRejectionQueued=!0,et.bindingPromise._then(d,d,null,this,tt)},$=function(tt,et){this._bitField&50397184||this._resolveCallback(et.target)},j=function(tt,et){et.promiseRejectionQueued||this._reject(tt)};o.prototype.bind=function(tt){c||(c=!0,o.prototype._propagateFrom=a.propagateFromFunction(),o.prototype._boundValue=a.boundValueFunction());var et=s(tt),b=new o(e);b._propagateFrom(this,1);var h=this._target();if(b._setBoundTo(et),et instanceof o){var _e={promiseRejectionQueued:!1,promise:b,target:h,bindingPromise:et};h._then(e,g,void 0,b,_e),et._then($,j,void 0,b,_e),b._setOnCancel(et)}else b._resolveCallback(h);return b},o.prototype._setBoundTo=function(tt){tt!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=tt):this._bitField=this._bitField&-2097153},o.prototype._isBound=function(){return(this._bitField&2097152)===2097152},o.bind=function(tt,et){return o.resolve(et).bind(tt)}}),bind}var cancel,hasRequiredCancel;function requireCancel(){return hasRequiredCancel||(hasRequiredCancel=1,cancel=function(o,e,s,a){var c=requireUtil(),d=c.tryCatch,g=c.errorObj,$=o._async;o.prototype.break=o.prototype.cancel=function(){if(!a.cancellation())return this._warn("cancellation is disabled");for(var j=this,tt=j;j._isCancellable();){if(!j._cancelBy(tt)){tt._isFollowing()?tt._followee().cancel():tt._cancelBranched();break}var et=j._cancellationParent;if(et==null||!et._isCancellable()){j._isFollowing()?j._followee().cancel():j._cancelBranched();break}else j._isFollowing()&&j._followee().cancel(),j._setWillBeCancelled(),tt=j,j=et}},o.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},o.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},o.prototype._cancelBy=function(j){return j===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},o.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},o.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),$.invoke(this._cancelPromises,this,void 0))},o.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},o.prototype._unsetOnCancel=function(){this._onCancelField=void 0},o.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},o.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},o.prototype._doInvokeOnCancel=function(j,tt){if(c.isArray(j))for(var et=0;et<j.length;++et)this._doInvokeOnCancel(j[et],tt);else if(j!==void 0)if(typeof j=="function"){if(!tt){var b=d(j).call(this._boundValue());b===g&&(this._attachExtraTrace(b.e),$.throwLater(b.e))}}else j._resultCancelled(this)},o.prototype._invokeOnCancel=function(){var j=this._onCancel();this._unsetOnCancel(),$.invoke(this._doInvokeOnCancel,this,j)},o.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},o.prototype._resultCancelled=function(){this.cancel()}}),cancel}var direct_resolve,hasRequiredDirect_resolve;function requireDirect_resolve(){return hasRequiredDirect_resolve||(hasRequiredDirect_resolve=1,direct_resolve=function(o){function e(){return this.value}function s(){throw this.reason}o.prototype.return=o.prototype.thenReturn=function(a){return a instanceof o&&a.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:a},void 0)},o.prototype.throw=o.prototype.thenThrow=function(a){return this._then(s,void 0,void 0,{reason:a},void 0)},o.prototype.catchThrow=function(a){if(arguments.length<=1)return this._then(void 0,s,void 0,{reason:a},void 0);var c=arguments[1],d=function(){throw c};return this.caught(a,d)},o.prototype.catchReturn=function(a){if(arguments.length<=1)return a instanceof o&&a.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:a},void 0);var c=arguments[1];c instanceof o&&c.suppressUnhandledRejections();var d=function(){return c};return this.caught(a,d)}}),direct_resolve}var synchronous_inspection,hasRequiredSynchronous_inspection;function requireSynchronous_inspection(){return hasRequiredSynchronous_inspection||(hasRequiredSynchronous_inspection=1,synchronous_inspection=function(o){function e(j){j!==void 0?(j=j._target(),this._bitField=j._bitField,this._settledValueField=j._isFateSealed()?j._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var s=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},a=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},c=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},d=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},g=e.prototype.isPending=function(){return(this._bitField&50397184)===0},$=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},o.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},o.prototype._isCancelled=function(){return this._target().__isCancelled()},o.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},o.prototype.isPending=function(){return g.call(this._target())},o.prototype.isRejected=function(){return d.call(this._target())},o.prototype.isFulfilled=function(){return c.call(this._target())},o.prototype.isResolved=function(){return $.call(this._target())},o.prototype.value=function(){return s.call(this._target())},o.prototype.reason=function(){var j=this._target();return j._unsetRejectionIsUnhandled(),a.call(j)},o.prototype._value=function(){return this._settledValue()},o.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},o.PromiseInspection=e}),synchronous_inspection}var join,hasRequiredJoin;function requireJoin(){return hasRequiredJoin||(hasRequiredJoin=1,join=function(o,e,s,a,c,d){var g=requireUtil(),$=g.canEvaluate,j=g.tryCatch,tt=g.errorObj,et;if($){for(var b=function(ot){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,ot))},h=function(ot){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,ot))},_e=function(ot){for(var at=new Array(ot),ct=0;ct<at.length;++ct)at[ct]="this.p"+(ct+1);var ut=at.join(" = ")+" = null;",dt=`var promise;
`+at.map(function(bt){return`                                                         
	                promise = `+bt+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),ht=at.join(", "),pt="Holder$"+ot,ft=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return ft=ft.replace(/\[TheName\]/g,pt).replace(/\[TheTotal\]/g,ot).replace(/\[ThePassedArguments\]/g,ht).replace(/\[TheProperties\]/g,ut).replace(/\[CancellationCode\]/g,dt),new Function("tryCatch","errorObj","Promise","async",ft)(j,tt,o,c)},nt=[],rt=[],it=[],st=0;st<8;++st)nt.push(_e(st+1)),rt.push(b(st+1)),it.push(h(st+1));et=function(ot){this._reject(ot)}}o.join=function(){var ot=arguments.length-1,at;if(ot>0&&typeof arguments[ot]=="function"&&(at=arguments[ot],ot<=8&&$)){var gt=new o(a);gt._captureStackTrace();for(var ct=nt[ot-1],ut=new ct(at),dt=rt,ht=0;ht<ot;++ht){var pt=s(arguments[ht],gt);if(pt instanceof o){pt=pt._target();var ft=pt._bitField;ft&50397184?ft&33554432?dt[ht].call(gt,pt._value(),ut):ft&16777216?gt._reject(pt._reason()):gt._cancel():(pt._then(dt[ht],et,void 0,gt,ut),it[ht](pt,ut),ut.asyncNeeded=!1)}else dt[ht].call(gt,pt,ut)}if(!gt._isFateSealed()){if(ut.asyncNeeded){var bt=d();bt!==null&&(ut.fn=g.domainBind(bt,ut.fn))}gt._setAsyncGuaranteed(),gt._setOnCancel(ut)}return gt}for(var Ct=arguments.length,yt=new Array(Ct),Et=0;Et<Ct;++Et)yt[Et]=arguments[Et];at&&yt.pop();var gt=new e(yt).promise();return at!==void 0?gt.spread(at):gt}}),join}var map$1,hasRequiredMap;function requireMap(){return hasRequiredMap||(hasRequiredMap=1,map$1=function(o,e,s,a,c,d){var g=o._getDomain,$=requireUtil(),j=$.tryCatch,tt=$.errorObj,et=o._async;function b(_e,nt,rt,it){this.constructor$(_e),this._promise._captureStackTrace();var st=g();this._callback=st===null?nt:$.domainBind(st,nt),this._preservedValues=it===c?new Array(this.length()):null,this._limit=rt,this._inFlight=0,this._queue=[],et.invoke(this._asyncInit,this,void 0)}$.inherits(b,e),b.prototype._asyncInit=function(){this._init$(void 0,-2)},b.prototype._init=function(){},b.prototype._promiseFulfilled=function(_e,nt){var rt=this._values,it=this.length(),st=this._preservedValues,ot=this._limit;if(nt<0){if(nt=nt*-1-1,rt[nt]=_e,ot>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(ot>=1&&this._inFlight>=ot)return rt[nt]=_e,this._queue.push(nt),!1;st!==null&&(st[nt]=_e);var at=this._promise,ct=this._callback,ut=at._boundValue();at._pushContext();var dt=j(ct).call(ut,_e,nt,it),ht=at._popContext();if(d.checkForgottenReturns(dt,ht,st!==null?"Promise.filter":"Promise.map",at),dt===tt)return this._reject(dt.e),!0;var pt=a(dt,this._promise);if(pt instanceof o){pt=pt._target();var ft=pt._bitField;if(ft&50397184)if(ft&33554432)dt=pt._value();else return ft&16777216?(this._reject(pt._reason()),!0):(this._cancel(),!0);else return ot>=1&&this._inFlight++,rt[nt]=pt,pt._proxy(this,(nt+1)*-1),!1}rt[nt]=dt}var bt=++this._totalResolved;return bt>=it?(st!==null?this._filter(rt,st):this._resolve(rt),!0):!1},b.prototype._drainQueue=function(){for(var _e=this._queue,nt=this._limit,rt=this._values;_e.length>0&&this._inFlight<nt;){if(this._isResolved())return;var it=_e.pop();this._promiseFulfilled(rt[it],it)}},b.prototype._filter=function(_e,nt){for(var rt=nt.length,it=new Array(rt),st=0,ot=0;ot<rt;++ot)_e[ot]&&(it[st++]=nt[ot]);it.length=st,this._resolve(it)},b.prototype.preservedValues=function(){return this._preservedValues};function h(_e,nt,rt,it){if(typeof nt!="function")return s("expecting a function but got "+$.classString(nt));var st=0;if(rt!==void 0)if(typeof rt=="object"&&rt!==null){if(typeof rt.concurrency!="number")return o.reject(new TypeError("'concurrency' must be a number but it is "+$.classString(rt.concurrency)));st=rt.concurrency}else return o.reject(new TypeError("options argument must be an object but it is "+$.classString(rt)));return st=typeof st=="number"&&isFinite(st)&&st>=1?st:0,new b(_e,nt,st,it).promise()}o.prototype.map=function(_e,nt){return h(this,_e,nt,null)},o.map=function(_e,nt,rt,it){return h(_e,nt,rt,it)}}),map$1}var call_get,hasRequiredCall_get;function requireCall_get(){if(hasRequiredCall_get)return call_get;hasRequiredCall_get=1;var o=Object.create;if(o){var e=o(null),s=o(null);e[" size"]=s[" size"]=0}return call_get=function(a){var c=requireUtil(),d=c.canEvaluate,g=c.isIdentifier,$,j;{var tt=function(it){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,it))(h)},et=function(it){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",it))},b=function(it,st,ot){var at=ot[it];if(typeof at!="function"){if(!g(it))return null;if(at=st(it),ot[it]=at,ot[" size"]++,ot[" size"]>512){for(var ct=Object.keys(ot),ut=0;ut<256;++ut)delete ot[ct[ut]];ot[" size"]=ct.length-256}}return at};$=function(it){return b(it,tt,e)},j=function(it){return b(it,et,s)}}function h(it,st){var ot;if(it!=null&&(ot=it[st]),typeof ot!="function"){var at="Object "+c.classString(it)+" has no method '"+c.toString(st)+"'";throw new a.TypeError(at)}return ot}function _e(it){var st=this.pop(),ot=h(it,st);return ot.apply(it,this)}a.prototype.call=function(it){for(var st=arguments.length,ot=new Array(Math.max(st-1,0)),at=1;at<st;++at)ot[at-1]=arguments[at];if(d){var ct=$(it);if(ct!==null)return this._then(ct,void 0,void 0,ot,void 0)}return ot.push(it),this._then(_e,void 0,void 0,ot,void 0)};function nt(it){return it[this]}function rt(it){var st=+this;return st<0&&(st=Math.max(0,st+it.length)),it[st]}a.prototype.get=function(it){var st=typeof it=="number",ot;if(st)ot=rt;else if(d){var at=j(it);ot=at!==null?at:nt}else ot=nt;return this._then(ot,void 0,void 0,it,void 0)}},call_get}var using,hasRequiredUsing;function requireUsing(){return hasRequiredUsing||(hasRequiredUsing=1,using=function(o,e,s,a,c,d){var g=requireUtil(),$=requireErrors().TypeError,j=requireUtil().inherits,tt=g.errorObj,et=g.tryCatch,b={};function h(at){setTimeout(function(){throw at},0)}function _e(at){var ct=s(at);return ct!==at&&typeof at._isDisposable=="function"&&typeof at._getDisposer=="function"&&at._isDisposable()&&ct._setDisposable(at._getDisposer()),ct}function nt(at,ct){var ut=0,dt=at.length,ht=new o(c);function pt(){if(ut>=dt)return ht._fulfill();var ft=_e(at[ut++]);if(ft instanceof o&&ft._isDisposable()){try{ft=s(ft._getDisposer().tryDispose(ct),at.promise)}catch(bt){return h(bt)}if(ft instanceof o)return ft._then(pt,h,null,null,null)}pt()}return pt(),ht}function rt(at,ct,ut){this._data=at,this._promise=ct,this._context=ut}rt.prototype.data=function(){return this._data},rt.prototype.promise=function(){return this._promise},rt.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},rt.prototype.tryDispose=function(at){var ct=this.resource(),ut=this._context;ut!==void 0&&ut._pushContext();var dt=ct!==b?this.doDispose(ct,at):null;return ut!==void 0&&ut._popContext(),this._promise._unsetDisposable(),this._data=null,dt},rt.isDisposer=function(at){return at!=null&&typeof at.resource=="function"&&typeof at.tryDispose=="function"};function it(at,ct,ut){this.constructor$(at,ct,ut)}j(it,rt),it.prototype.doDispose=function(at,ct){var ut=this.data();return ut.call(at,at,ct)};function st(at){return rt.isDisposer(at)?(this.resources[this.index]._setDisposable(at),at.promise()):at}function ot(at){this.length=at,this.promise=null,this[at-1]=null}ot.prototype._resultCancelled=function(){for(var at=this.length,ct=0;ct<at;++ct){var ut=this[ct];ut instanceof o&&ut.cancel()}},o.using=function(){var at=arguments.length;if(at<2)return e("you must pass at least 2 arguments to Promise.using");var ct=arguments[at-1];if(typeof ct!="function")return e("expecting a function but got "+g.classString(ct));var ut,dt=!0;at===2&&Array.isArray(arguments[0])?(ut=arguments[0],at=ut.length,dt=!1):(ut=arguments,at--);for(var ht=new ot(at),pt=0;pt<at;++pt){var ft=ut[pt];if(rt.isDisposer(ft)){var bt=ft;ft=ft.promise(),ft._setDisposable(bt)}else{var Ct=s(ft);Ct instanceof o&&(ft=Ct._then(st,null,null,{resources:ht,index:pt},void 0))}ht[pt]=ft}for(var yt=new Array(ht.length),pt=0;pt<yt.length;++pt)yt[pt]=o.resolve(ht[pt]).reflect();var Et=o.all(yt).then(function(At){for(var mt=0;mt<At.length;++mt){var _t=At[mt];if(_t.isRejected())return tt.e=_t.error(),tt;if(!_t.isFulfilled()){Et.cancel();return}At[mt]=_t.value()}gt._pushContext(),ct=et(ct);var St=dt?ct.apply(void 0,At):ct(At),wt=gt._popContext();return d.checkForgottenReturns(St,wt,"Promise.using",gt),St}),gt=Et.lastly(function(){var At=new o.PromiseInspection(Et);return nt(ht,At)});return ht.promise=gt,gt._setOnCancel(ht),gt},o.prototype._setDisposable=function(at){this._bitField=this._bitField|131072,this._disposer=at},o.prototype._isDisposable=function(){return(this._bitField&131072)>0},o.prototype._getDisposer=function(){return this._disposer},o.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},o.prototype.disposer=function(at){if(typeof at=="function")return new it(at,this,a());throw new $}}),using}var timers,hasRequiredTimers;function requireTimers(){return hasRequiredTimers||(hasRequiredTimers=1,timers=function(o,e,s){var a=requireUtil(),c=o.TimeoutError;function d(b){this.handle=b}d.prototype._resultCancelled=function(){clearTimeout(this.handle)};var g=function(b){return $(+this).thenReturn(b)},$=o.delay=function(b,h){var _e,nt;return h!==void 0?(_e=o.resolve(h)._then(g,null,null,b,void 0),s.cancellation()&&h instanceof o&&_e._setOnCancel(h)):(_e=new o(e),nt=setTimeout(function(){_e._fulfill()},+b),s.cancellation()&&_e._setOnCancel(new d(nt)),_e._captureStackTrace()),_e._setAsyncGuaranteed(),_e};o.prototype.delay=function(b){return $(b,this)};var j=function(b,h,_e){var nt;typeof h!="string"?h instanceof Error?nt=h:nt=new c("operation timed out"):nt=new c(h),a.markAsOriginatingFromRejection(nt),b._attachExtraTrace(nt),b._reject(nt),_e!=null&&_e.cancel()};function tt(b){return clearTimeout(this.handle),b}function et(b){throw clearTimeout(this.handle),b}o.prototype.timeout=function(b,h){b=+b;var _e,nt,rt=new d(setTimeout(function(){_e.isPending()&&j(_e,h,nt)},b));return s.cancellation()?(nt=this.then(),_e=nt._then(tt,et,void 0,rt,void 0),_e._setOnCancel(rt)):_e=this._then(tt,et,void 0,rt,void 0),_e}}),timers}var generators,hasRequiredGenerators;function requireGenerators(){return hasRequiredGenerators||(hasRequiredGenerators=1,generators=function(o,e,s,a,c,d){var g=requireErrors(),$=g.TypeError,j=requireUtil(),tt=j.errorObj,et=j.tryCatch,b=[];function h(nt,rt,it){for(var st=0;st<rt.length;++st){it._pushContext();var ot=et(rt[st])(nt);if(it._popContext(),ot===tt){it._pushContext();var at=o.reject(tt.e);return it._popContext(),at}var ct=a(ot,it);if(ct instanceof o)return ct}return null}function _e(nt,rt,it,st){if(d.cancellation()){var ot=new o(s),at=this._finallyPromise=new o(s);this._promise=ot.lastly(function(){return at}),ot._captureStackTrace(),ot._setOnCancel(this)}else{var ct=this._promise=new o(s);ct._captureStackTrace()}this._stack=st,this._generatorFunction=nt,this._receiver=rt,this._generator=void 0,this._yieldHandlers=typeof it=="function"?[it].concat(b):b,this._yieldedPromise=null,this._cancellationPhase=!1}j.inherits(_e,c),_e.prototype._isResolved=function(){return this._promise===null},_e.prototype._cleanup=function(){this._promise=this._generator=null,d.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},_e.prototype._promiseCancelled=function(){if(!this._isResolved()){var nt=typeof this._generator.return<"u",rt;if(nt)this._promise._pushContext(),rt=et(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var it=new o.CancellationError("generator .return() sentinel");o.coroutine.returnSentinel=it,this._promise._attachExtraTrace(it),this._promise._pushContext(),rt=et(this._generator.throw).call(this._generator,it),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(rt)}},_e.prototype._promiseFulfilled=function(nt){this._yieldedPromise=null,this._promise._pushContext();var rt=et(this._generator.next).call(this._generator,nt);this._promise._popContext(),this._continue(rt)},_e.prototype._promiseRejected=function(nt){this._yieldedPromise=null,this._promise._attachExtraTrace(nt),this._promise._pushContext();var rt=et(this._generator.throw).call(this._generator,nt);this._promise._popContext(),this._continue(rt)},_e.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof o){var nt=this._yieldedPromise;this._yieldedPromise=null,nt.cancel()}},_e.prototype.promise=function(){return this._promise},_e.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},_e.prototype._continue=function(nt){var rt=this._promise;if(nt===tt)return this._cleanup(),this._cancellationPhase?rt.cancel():rt._rejectCallback(nt.e,!1);var it=nt.value;if(nt.done===!0)return this._cleanup(),this._cancellationPhase?rt.cancel():rt._resolveCallback(it);var st=a(it,this._promise);if(!(st instanceof o)&&(st=h(st,this._yieldHandlers,this._promise),st===null)){this._promiseRejected(new $(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",it)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}st=st._target();var ot=st._bitField;ot&50397184?ot&33554432?o._async.invoke(this._promiseFulfilled,this,st._value()):ot&16777216?o._async.invoke(this._promiseRejected,this,st._reason()):this._promiseCancelled():(this._yieldedPromise=st,st._proxy(this,null))},o.coroutine=function(nt,rt){if(typeof nt!="function")throw new $(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var it=Object(rt).yieldHandler,st=_e,ot=new Error().stack;return function(){var at=nt.apply(this,arguments),ct=new st(void 0,void 0,it,ot),ut=ct.promise();return ct._generator=at,ct._promiseFulfilled(void 0),ut}},o.coroutine.addYieldHandler=function(nt){if(typeof nt!="function")throw new $("expecting a function but got "+j.classString(nt));b.push(nt)},o.spawn=function(nt){if(d.deprecated("Promise.spawn()","Promise.coroutine()"),typeof nt!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var rt=new _e(nt,this),it=rt.promise();return rt._run(o.spawn),it}}),generators}var nodeify,hasRequiredNodeify;function requireNodeify(){return hasRequiredNodeify||(hasRequiredNodeify=1,nodeify=function(o){var e=requireUtil(),s=o._async,a=e.tryCatch,c=e.errorObj;function d(j,tt){var et=this;if(!e.isArray(j))return g.call(et,j,tt);var b=a(tt).apply(et._boundValue(),[null].concat(j));b===c&&s.throwLater(b.e)}function g(j,tt){var et=this,b=et._boundValue(),h=j===void 0?a(tt).call(b,null):a(tt).call(b,null,j);h===c&&s.throwLater(h.e)}function $(j,tt){var et=this;if(!j){var b=new Error(j+"");b.cause=j,j=b}var h=a(tt).call(et._boundValue(),j);h===c&&s.throwLater(h.e)}o.prototype.asCallback=o.prototype.nodeify=function(j,tt){if(typeof j=="function"){var et=g;tt!==void 0&&Object(tt).spread&&(et=d),this._then(et,$,void 0,this,j)}return this}}),nodeify}var promisify,hasRequiredPromisify;function requirePromisify(){return hasRequiredPromisify||(hasRequiredPromisify=1,promisify=function(o,e){var s={},a=requireUtil(),c=requireNodeback(),d=a.withAppended,g=a.maybeWrapAsError,$=a.canEvaluate,j=requireErrors().TypeError,tt="Async",et={__isPromisified__:!0},b=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+b.join("|")+")$"),_e=function(Et){return a.isIdentifier(Et)&&Et.charAt(0)!=="_"&&Et!=="constructor"};function nt(Et){return!h.test(Et)}function rt(Et){try{return Et.__isPromisified__===!0}catch{return!1}}function it(Et,gt,At){var mt=a.getDataPropertyOrDefault(Et,gt+At,et);return mt?rt(mt):!1}function st(Et,gt,At){for(var mt=0;mt<Et.length;mt+=2){var _t=Et[mt];if(At.test(_t)){for(var St=_t.replace(At,""),wt=0;wt<Et.length;wt+=2)if(Et[wt]===St)throw new j(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",gt))}}}function ot(Et,gt,At,mt){for(var _t=a.inheritedDataKeys(Et),St=[],wt=0;wt<_t.length;++wt){var kt=_t[wt],Dt=Et[kt],Ft=mt===_e?!0:_e(kt);typeof Dt=="function"&&!rt(Dt)&&!it(Et,kt,gt)&&mt(kt,Dt,Et,Ft)&&St.push(kt,Dt)}return st(St,gt,At),St}var at=function(Et){return Et.replace(/([$])/,"\\$")},ct;{var ut=function(Et){for(var gt=[Et],At=Math.max(0,Et-1-3),mt=Et-1;mt>=At;--mt)gt.push(mt);for(var mt=Et+1;mt<=3;++mt)gt.push(mt);return gt},dt=function(Et){return a.filledRange(Et,"_arg","")},ht=function(Et){return a.filledRange(Math.max(Et,3),"_arg","")},pt=function(Et){return typeof Et.length=="number"?Math.max(Math.min(Et.length,1024),0):0};ct=function(Et,gt,At,mt,_t,St){var wt=Math.max(0,pt(mt)-1),kt=ut(wt),Dt=typeof Et=="string"||gt===s;function Ft(Zt){var Jt=dt(Zt).join(", "),fn=Zt>0?", ":"",yn;return Dt?yn=`ret = callback.call(this, {{args}}, nodeback); break;
`:yn=gt===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,yn.replace("{{args}}",Jt).replace(", ",fn)}function Ot(){for(var Zt="",Jt=0;Jt<kt.length;++Jt)Zt+="case "+kt[Jt]+":"+Ft(kt[Jt]);return Zt+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",Dt?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),Zt}var Bt=typeof Et=="string"?"this != null ? this['"+Et+"'] : fn":"fn",Vt=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+St+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",Ot()).replace("[GetFunctionCode]",Bt);return Vt=Vt.replace("Parameters",ht(wt)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Vt)(o,mt,gt,d,g,c,a.tryCatch,a.errorObj,a.notEnumerableProp,e)}}function ft(Et,gt,At,mt,_t,St){var wt=function(){return this}(),kt=Et;typeof kt=="string"&&(Et=mt);function Dt(){var Ft=gt;gt===s&&(Ft=this);var Ot=new o(e);Ot._captureStackTrace();var Bt=typeof kt=="string"&&this!==wt?this[kt]:Et,Vt=c(Ot,St);try{Bt.apply(Ft,d(arguments,Vt))}catch(Zt){Ot._rejectCallback(g(Zt),!0,!0)}return Ot._isFateSealed()||Ot._setAsyncGuaranteed(),Ot}return a.notEnumerableProp(Dt,"__isPromisified__",!0),Dt}var bt=$?ct:ft;function Ct(Et,gt,At,mt,_t){for(var St=new RegExp(at(gt)+"$"),wt=ot(Et,gt,St,At),kt=0,Dt=wt.length;kt<Dt;kt+=2){var Ft=wt[kt],Ot=wt[kt+1],Bt=Ft+gt;if(mt===bt)Et[Bt]=bt(Ft,s,Ft,Ot,gt,_t);else{var Vt=mt(Ot,function(){return bt(Ft,s,Ft,Ot,gt,_t)});a.notEnumerableProp(Vt,"__isPromisified__",!0),Et[Bt]=Vt}}return a.toFastProperties(Et),Et}function yt(Et,gt,At){return bt(Et,gt,void 0,Et,null,At)}o.promisify=function(Et,gt){if(typeof Et!="function")throw new j("expecting a function but got "+a.classString(Et));if(rt(Et))return Et;gt=Object(gt);var At=gt.context===void 0?s:gt.context,mt=!!gt.multiArgs,_t=yt(Et,At,mt);return a.copyDescriptors(Et,_t,nt),_t},o.promisifyAll=function(Et,gt){if(typeof Et!="function"&&typeof Et!="object")throw new j(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);gt=Object(gt);var At=!!gt.multiArgs,mt=gt.suffix;typeof mt!="string"&&(mt=tt);var _t=gt.filter;typeof _t!="function"&&(_t=_e);var St=gt.promisifier;if(typeof St!="function"&&(St=bt),!a.isIdentifier(mt))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var wt=a.inheritedDataKeys(Et),kt=0;kt<wt.length;++kt){var Dt=Et[wt[kt]];wt[kt]!=="constructor"&&a.isClass(Dt)&&(Ct(Dt.prototype,mt,_t,St,At),Ct(Dt,mt,_t,St,At))}return Ct(Et,mt,_t,St,At)}}),promisify}var props,hasRequiredProps;function requireProps(){return hasRequiredProps||(hasRequiredProps=1,props=function(o,e,s,a){var c=requireUtil(),d=c.isObject,g=requireEs5(),$;typeof Map=="function"&&($=Map);var j=function(){var h=0,_e=0;function nt(rt,it){this[h]=rt,this[h+_e]=it,h++}return function(it){_e=it.size,h=0;var st=new Array(it.size*2);return it.forEach(nt,st),st}}(),tt=function(h){for(var _e=new $,nt=h.length/2|0,rt=0;rt<nt;++rt){var it=h[nt+rt],st=h[rt];_e.set(it,st)}return _e};function et(h){var _e=!1,nt;if($!==void 0&&h instanceof $)nt=j(h),_e=!0;else{var rt=g.keys(h),it=rt.length;nt=new Array(it*2);for(var st=0;st<it;++st){var ot=rt[st];nt[st]=h[ot],nt[st+it]=ot}}this.constructor$(nt),this._isMap=_e,this._init$(void 0,-3)}c.inherits(et,e),et.prototype._init=function(){},et.prototype._promiseFulfilled=function(h,_e){this._values[_e]=h;var nt=++this._totalResolved;if(nt>=this._length){var rt;if(this._isMap)rt=tt(this._values);else{rt={};for(var it=this.length(),st=0,ot=this.length();st<ot;++st)rt[this._values[st+it]]=this._values[st]}return this._resolve(rt),!0}return!1},et.prototype.shouldCopyValues=function(){return!1},et.prototype.getActualLength=function(h){return h>>1};function b(h){var _e,nt=s(h);if(d(nt))nt instanceof o?_e=nt._then(o.props,void 0,void 0,void 0,void 0):_e=new et(nt).promise();else return a(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return nt instanceof o&&_e._propagateFrom(nt,2),_e}o.prototype.props=function(){return b(this)},o.props=function(h){return b(h)}}),props}var race,hasRequiredRace;function requireRace(){return hasRequiredRace||(hasRequiredRace=1,race=function(o,e,s,a){var c=requireUtil(),d=function($){return $.then(function(j){return g(j,$)})};function g($,j){var tt=s($);if(tt instanceof o)return d(tt);if($=c.asArray($),$===null)return a("expecting an array or an iterable object but got "+c.classString($));var et=new o(e);j!==void 0&&et._propagateFrom(j,3);for(var b=et._fulfill,h=et._reject,_e=0,nt=$.length;_e<nt;++_e){var rt=$[_e];rt===void 0&&!(_e in $)||o.cast(rt)._then(b,h,void 0,et,null)}return et}o.race=function($){return g($,void 0)},o.prototype.race=function(){return g(this,void 0)}}),race}var reduce,hasRequiredReduce;function requireReduce(){return hasRequiredReduce||(hasRequiredReduce=1,reduce=function(o,e,s,a,c,d){var g=o._getDomain,$=requireUtil(),j=$.tryCatch;function tt(nt,rt,it,st){this.constructor$(nt);var ot=g();this._fn=ot===null?rt:$.domainBind(ot,rt),it!==void 0&&(it=o.resolve(it),it._attachCancellationCallback(this)),this._initialValue=it,this._currentCancellable=null,st===c?this._eachValues=Array(this._length):st===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}$.inherits(tt,e),tt.prototype._gotAccum=function(nt){this._eachValues!==void 0&&this._eachValues!==null&&nt!==c&&this._eachValues.push(nt)},tt.prototype._eachComplete=function(nt){return this._eachValues!==null&&this._eachValues.push(nt),this._eachValues},tt.prototype._init=function(){},tt.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},tt.prototype.shouldCopyValues=function(){return!1},tt.prototype._resolve=function(nt){this._promise._resolveCallback(nt),this._values=null},tt.prototype._resultCancelled=function(nt){if(nt===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof o&&this._currentCancellable.cancel(),this._initialValue instanceof o&&this._initialValue.cancel())},tt.prototype._iterate=function(nt){this._values=nt;var rt,it,st=nt.length;if(this._initialValue!==void 0?(rt=this._initialValue,it=0):(rt=o.resolve(nt[0]),it=1),this._currentCancellable=rt,!rt.isRejected())for(;it<st;++it){var ot={accum:null,value:nt[it],index:it,length:st,array:this};rt=rt._then(h,void 0,void 0,ot,void 0)}this._eachValues!==void 0&&(rt=rt._then(this._eachComplete,void 0,void 0,this,void 0)),rt._then(et,et,void 0,rt,this)},o.prototype.reduce=function(nt,rt){return b(this,nt,rt,null)},o.reduce=function(nt,rt,it,st){return b(nt,rt,it,st)};function et(nt,rt){this.isFulfilled()?rt._resolve(nt):rt._reject(nt)}function b(nt,rt,it,st){if(typeof rt!="function")return s("expecting a function but got "+$.classString(rt));var ot=new tt(nt,rt,it,st);return ot.promise()}function h(nt){this.accum=nt,this.array._gotAccum(nt);var rt=a(this.value,this.array._promise);return rt instanceof o?(this.array._currentCancellable=rt,rt._then(_e,void 0,void 0,this,void 0)):_e.call(this,rt)}function _e(nt){var rt=this.array,it=rt._promise,st=j(rt._fn);it._pushContext();var ot;rt._eachValues!==void 0?ot=st.call(it._boundValue(),nt,this.index,this.length):ot=st.call(it._boundValue(),this.accum,nt,this.index,this.length),ot instanceof o&&(rt._currentCancellable=ot);var at=it._popContext();return d.checkForgottenReturns(ot,at,rt._eachValues!==void 0?"Promise.each":"Promise.reduce",it),ot}}),reduce}var settle,hasRequiredSettle;function requireSettle(){return hasRequiredSettle||(hasRequiredSettle=1,settle=function(o,e,s){var a=o.PromiseInspection,c=requireUtil();function d(g){this.constructor$(g)}c.inherits(d,e),d.prototype._promiseResolved=function(g,$){this._values[g]=$;var j=++this._totalResolved;return j>=this._length?(this._resolve(this._values),!0):!1},d.prototype._promiseFulfilled=function(g,$){var j=new a;return j._bitField=33554432,j._settledValueField=g,this._promiseResolved($,j)},d.prototype._promiseRejected=function(g,$){var j=new a;return j._bitField=16777216,j._settledValueField=g,this._promiseResolved($,j)},o.settle=function(g){return s.deprecated(".settle()",".reflect()"),new d(g).promise()},o.prototype.settle=function(){return o.settle(this)}}),settle}var some,hasRequiredSome;function requireSome(){return hasRequiredSome||(hasRequiredSome=1,some=function(o,e,s){var a=requireUtil(),c=requireErrors().RangeError,d=requireErrors().AggregateError,g=a.isArray,$={};function j(et){this.constructor$(et),this._howMany=0,this._unwrap=!1,this._initialized=!1}a.inherits(j,e),j.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var et=g(this._values);!this._isResolved()&&et&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},j.prototype.init=function(){this._initialized=!0,this._init()},j.prototype.setUnwrap=function(){this._unwrap=!0},j.prototype.howMany=function(){return this._howMany},j.prototype.setHowMany=function(et){this._howMany=et},j.prototype._promiseFulfilled=function(et){return this._addFulfilled(et),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},j.prototype._promiseRejected=function(et){return this._addRejected(et),this._checkOutcome()},j.prototype._promiseCancelled=function(){return this._values instanceof o||this._values==null?this._cancel():(this._addRejected($),this._checkOutcome())},j.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var et=new d,b=this.length();b<this._values.length;++b)this._values[b]!==$&&et.push(this._values[b]);return et.length>0?this._reject(et):this._cancel(),!0}return!1},j.prototype._fulfilled=function(){return this._totalResolved},j.prototype._rejected=function(){return this._values.length-this.length()},j.prototype._addRejected=function(et){this._values.push(et)},j.prototype._addFulfilled=function(et){this._values[this._totalResolved++]=et},j.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},j.prototype._getRangeError=function(et){var b="Input array must contain at least "+this._howMany+" items but contains only "+et+" items";return new c(b)},j.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function tt(et,b){if((b|0)!==b||b<0)return s(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new j(et),_e=h.promise();return h.setHowMany(b),h.init(),_e}o.some=function(et,b){return tt(et,b)},o.prototype.some=function(et){return tt(this,et)},o._SomePromiseArray=j}),some}var filter,hasRequiredFilter;function requireFilter(){return hasRequiredFilter||(hasRequiredFilter=1,filter=function(o,e){var s=o.map;o.prototype.filter=function(a,c){return s(this,a,c,e)},o.filter=function(a,c,d){return s(a,c,d,e)}}),filter}var each,hasRequiredEach;function requireEach(){return hasRequiredEach||(hasRequiredEach=1,each=function(o,e){var s=o.reduce,a=o.all;function c(){return a(this)}function d(g,$){return s(g,$,e,e)}o.prototype.each=function(g){return s(this,g,e,0)._then(c,void 0,void 0,this,void 0)},o.prototype.mapSeries=function(g){return s(this,g,e,e)},o.each=function(g,$){return s(g,$,e,0)._then(c,void 0,void 0,g,void 0)},o.mapSeries=d}),each}var any,hasRequiredAny;function requireAny(){return hasRequiredAny||(hasRequiredAny=1,any=function(o){var e=o._SomePromiseArray;function s(a){var c=new e(a),d=c.promise();return c.setHowMany(1),c.setUnwrap(),c.init(),d}o.any=function(a){return s(a)},o.prototype.any=function(){return s(this)}}),any}(function(o){o.exports=function(){var e=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},s=function(){return new yt.PromiseInspection(this._target())},a=function(mt){return yt.reject(new h(mt))};function c(){}var d={},g=requireUtil(),$;g.isNode?$=function(){var mt=process.domain;return mt===void 0&&(mt=null),mt}:$=function(){return null},g.notEnumerableProp(yt,"_getDomain",$);var j=requireEs5(),tt=requireAsync(),et=new tt;j.defineProperty(yt,"_async",{value:et});var b=requireErrors(),h=yt.TypeError=b.TypeError;yt.RangeError=b.RangeError;var _e=yt.CancellationError=b.CancellationError;yt.TimeoutError=b.TimeoutError,yt.OperationalError=b.OperationalError,yt.RejectionError=b.OperationalError,yt.AggregateError=b.AggregateError;var nt=function(){},rt={},it={},st=requireThenables()(yt,nt),ot=requirePromise_array()(yt,nt,st,a,c),at=requireContext()(yt),ct=at.create,ut=requireDebuggability()(yt,at);ut.CapturedTrace;var dt=require_finally()(yt,st),ht=requireCatch_filter()(it),pt=requireNodeback(),ft=g.errorObj,bt=g.tryCatch;function Ct(mt,_t){if(typeof _t!="function")throw new h("expecting a function but got "+g.classString(_t));if(mt.constructor!==yt)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function yt(mt){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,mt!==nt&&(Ct(this,mt),this._resolveFromExecutor(mt)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}yt.prototype.toString=function(){return"[object Promise]"},yt.prototype.caught=yt.prototype.catch=function(mt){var _t=arguments.length;if(_t>1){var St=new Array(_t-1),wt=0,kt;for(kt=0;kt<_t-1;++kt){var Dt=arguments[kt];if(g.isObject(Dt))St[wt++]=Dt;else return a("expecting an object but got A catch statement predicate "+g.classString(Dt))}return St.length=wt,mt=arguments[kt],this.then(void 0,ht(St,mt,this))}return this.then(void 0,mt)},yt.prototype.reflect=function(){return this._then(s,s,void 0,this,void 0)},yt.prototype.then=function(mt,_t){if(ut.warnings()&&arguments.length>0&&typeof mt!="function"&&typeof _t!="function"){var St=".then() only accepts functions but was passed: "+g.classString(mt);arguments.length>1&&(St+=", "+g.classString(_t)),this._warn(St)}return this._then(mt,_t,void 0,void 0,void 0)},yt.prototype.done=function(mt,_t){var St=this._then(mt,_t,void 0,void 0,void 0);St._setIsFinal()},yt.prototype.spread=function(mt){return typeof mt!="function"?a("expecting a function but got "+g.classString(mt)):this.all()._then(mt,void 0,void 0,rt,void 0)},yt.prototype.toJSON=function(){var mt={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(mt.fulfillmentValue=this.value(),mt.isFulfilled=!0):this.isRejected()&&(mt.rejectionReason=this.reason(),mt.isRejected=!0),mt},yt.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new ot(this).promise()},yt.prototype.error=function(mt){return this.caught(g.originatesFromRejection,mt)},yt.getNewLibraryCopy=o.exports,yt.is=function(mt){return mt instanceof yt},yt.fromNode=yt.fromCallback=function(mt){var _t=new yt(nt);_t._captureStackTrace();var St=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,wt=bt(mt)(pt(_t,St));return wt===ft&&_t._rejectCallback(wt.e,!0),_t._isFateSealed()||_t._setAsyncGuaranteed(),_t},yt.all=function(mt){return new ot(mt).promise()},yt.cast=function(mt){var _t=st(mt);return _t instanceof yt||(_t=new yt(nt),_t._captureStackTrace(),_t._setFulfilled(),_t._rejectionHandler0=mt),_t},yt.resolve=yt.fulfilled=yt.cast,yt.reject=yt.rejected=function(mt){var _t=new yt(nt);return _t._captureStackTrace(),_t._rejectCallback(mt,!0),_t},yt.setScheduler=function(mt){if(typeof mt!="function")throw new h("expecting a function but got "+g.classString(mt));return et.setScheduler(mt)},yt.prototype._then=function(mt,_t,St,wt,kt){var Dt=kt!==void 0,Ft=Dt?kt:new yt(nt),Ot=this._target(),Bt=Ot._bitField;Dt||(Ft._propagateFrom(this,3),Ft._captureStackTrace(),wt===void 0&&this._bitField&2097152&&(Bt&50397184?wt=this._boundValue():wt=Ot===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,Ft));var Vt=$();if(Bt&50397184){var Zt,Jt,fn=Ot._settlePromiseCtx;Bt&33554432?(Jt=Ot._rejectionHandler0,Zt=mt):Bt&16777216?(Jt=Ot._fulfillmentHandler0,Zt=_t,Ot._unsetRejectionIsUnhandled()):(fn=Ot._settlePromiseLateCancellationObserver,Jt=new _e("late cancellation observer"),Ot._attachExtraTrace(Jt),Zt=_t),et.invoke(fn,Ot,{handler:Vt===null?Zt:typeof Zt=="function"&&g.domainBind(Vt,Zt),promise:Ft,receiver:wt,value:Jt})}else Ot._addCallbacks(mt,_t,Ft,wt,Vt);return Ft},yt.prototype._length=function(){return this._bitField&65535},yt.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},yt.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},yt.prototype._setLength=function(mt){this._bitField=this._bitField&-65536|mt&65535},yt.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},yt.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},yt.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},yt.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},yt.prototype._isFinal=function(){return(this._bitField&4194304)>0},yt.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},yt.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},yt.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},yt.prototype._setAsyncGuaranteed=function(){et.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},yt.prototype._receiverAt=function(mt){var _t=mt===0?this._receiver0:this[mt*4-4+3];if(_t!==d)return _t===void 0&&this._isBound()?this._boundValue():_t},yt.prototype._promiseAt=function(mt){return this[mt*4-4+2]},yt.prototype._fulfillmentHandlerAt=function(mt){return this[mt*4-4+0]},yt.prototype._rejectionHandlerAt=function(mt){return this[mt*4-4+1]},yt.prototype._boundValue=function(){},yt.prototype._migrateCallback0=function(mt){mt._bitField;var _t=mt._fulfillmentHandler0,St=mt._rejectionHandler0,wt=mt._promise0,kt=mt._receiverAt(0);kt===void 0&&(kt=d),this._addCallbacks(_t,St,wt,kt,null)},yt.prototype._migrateCallbackAt=function(mt,_t){var St=mt._fulfillmentHandlerAt(_t),wt=mt._rejectionHandlerAt(_t),kt=mt._promiseAt(_t),Dt=mt._receiverAt(_t);Dt===void 0&&(Dt=d),this._addCallbacks(St,wt,kt,Dt,null)},yt.prototype._addCallbacks=function(mt,_t,St,wt,kt){var Dt=this._length();if(Dt>=65531&&(Dt=0,this._setLength(0)),Dt===0)this._promise0=St,this._receiver0=wt,typeof mt=="function"&&(this._fulfillmentHandler0=kt===null?mt:g.domainBind(kt,mt)),typeof _t=="function"&&(this._rejectionHandler0=kt===null?_t:g.domainBind(kt,_t));else{var Ft=Dt*4-4;this[Ft+2]=St,this[Ft+3]=wt,typeof mt=="function"&&(this[Ft+0]=kt===null?mt:g.domainBind(kt,mt)),typeof _t=="function"&&(this[Ft+1]=kt===null?_t:g.domainBind(kt,_t))}return this._setLength(Dt+1),Dt},yt.prototype._proxy=function(mt,_t){this._addCallbacks(void 0,void 0,_t,mt,null)},yt.prototype._resolveCallback=function(mt,_t){if(!(this._bitField&117506048)){if(mt===this)return this._rejectCallback(e(),!1);var St=st(mt,this);if(!(St instanceof yt))return this._fulfill(mt);_t&&this._propagateFrom(St,2);var wt=St._target();if(wt===this){this._reject(e());return}var kt=wt._bitField;if(kt&50397184)if(kt&33554432)this._fulfill(wt._value());else if(kt&16777216)this._reject(wt._reason());else{var Ot=new _e("late cancellation observer");wt._attachExtraTrace(Ot),this._reject(Ot)}else{var Dt=this._length();Dt>0&&wt._migrateCallback0(this);for(var Ft=1;Ft<Dt;++Ft)wt._migrateCallbackAt(this,Ft);this._setFollowing(),this._setLength(0),this._setFollowee(wt)}}},yt.prototype._rejectCallback=function(mt,_t,St){var wt=g.ensureErrorObject(mt),kt=wt===mt;if(!kt&&!St&&ut.warnings()){var Dt="a promise was rejected with a non-error: "+g.classString(mt);this._warn(Dt,!0)}this._attachExtraTrace(wt,_t?kt:!1),this._reject(mt)},yt.prototype._resolveFromExecutor=function(mt){var _t=this;this._captureStackTrace(),this._pushContext();var St=!0,wt=this._execute(mt,function(kt){_t._resolveCallback(kt)},function(kt){_t._rejectCallback(kt,St)});St=!1,this._popContext(),wt!==void 0&&_t._rejectCallback(wt,!0)},yt.prototype._settlePromiseFromHandler=function(mt,_t,St,wt){var kt=wt._bitField;if(!(kt&65536)){wt._pushContext();var Dt;_t===rt?!St||typeof St.length!="number"?(Dt=ft,Dt.e=new h("cannot .spread() a non-array: "+g.classString(St))):Dt=bt(mt).apply(this._boundValue(),St):Dt=bt(mt).call(_t,St);var Ft=wt._popContext();kt=wt._bitField,!(kt&65536)&&(Dt===it?wt._reject(St):Dt===ft?wt._rejectCallback(Dt.e,!1):(ut.checkForgottenReturns(Dt,Ft,"",wt,this),wt._resolveCallback(Dt)))}},yt.prototype._target=function(){for(var mt=this;mt._isFollowing();)mt=mt._followee();return mt},yt.prototype._followee=function(){return this._rejectionHandler0},yt.prototype._setFollowee=function(mt){this._rejectionHandler0=mt},yt.prototype._settlePromise=function(mt,_t,St,wt){var kt=mt instanceof yt,Dt=this._bitField,Ft=(Dt&134217728)!==0;Dt&65536?(kt&&mt._invokeInternalOnCancel(),St instanceof dt&&St.isFinallyHandler()?(St.cancelPromise=mt,bt(_t).call(St,wt)===ft&&mt._reject(ft.e)):_t===s?mt._fulfill(s.call(St)):St instanceof c?St._promiseCancelled(mt):kt||mt instanceof ot?mt._cancel():St.cancel()):typeof _t=="function"?kt?(Ft&&mt._setAsyncGuaranteed(),this._settlePromiseFromHandler(_t,St,wt,mt)):_t.call(St,wt,mt):St instanceof c?St._isResolved()||(Dt&33554432?St._promiseFulfilled(wt,mt):St._promiseRejected(wt,mt)):kt&&(Ft&&mt._setAsyncGuaranteed(),Dt&33554432?mt._fulfill(wt):mt._reject(wt))},yt.prototype._settlePromiseLateCancellationObserver=function(mt){var _t=mt.handler,St=mt.promise,wt=mt.receiver,kt=mt.value;typeof _t=="function"?St instanceof yt?this._settlePromiseFromHandler(_t,wt,kt,St):_t.call(wt,kt,St):St instanceof yt&&St._reject(kt)},yt.prototype._settlePromiseCtx=function(mt){this._settlePromise(mt.promise,mt.handler,mt.receiver,mt.value)},yt.prototype._settlePromise0=function(mt,_t,St){var wt=this._promise0,kt=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(wt,mt,kt,_t)},yt.prototype._clearCallbackDataAtIndex=function(mt){var _t=mt*4-4;this[_t+2]=this[_t+3]=this[_t+0]=this[_t+1]=void 0},yt.prototype._fulfill=function(mt){var _t=this._bitField;if(!((_t&117506048)>>>16)){if(mt===this){var St=e();return this._attachExtraTrace(St),this._reject(St)}this._setFulfilled(),this._rejectionHandler0=mt,(_t&65535)>0&&(_t&134217728?this._settlePromises():et.settlePromises(this))}},yt.prototype._reject=function(mt){var _t=this._bitField;if(!((_t&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=mt,this._isFinal())return et.fatalError(mt,g.isNode);(_t&65535)>0?et.settlePromises(this):this._ensurePossibleRejectionHandled()}},yt.prototype._fulfillPromises=function(mt,_t){for(var St=1;St<mt;St++){var wt=this._fulfillmentHandlerAt(St),kt=this._promiseAt(St),Dt=this._receiverAt(St);this._clearCallbackDataAtIndex(St),this._settlePromise(kt,wt,Dt,_t)}},yt.prototype._rejectPromises=function(mt,_t){for(var St=1;St<mt;St++){var wt=this._rejectionHandlerAt(St),kt=this._promiseAt(St),Dt=this._receiverAt(St);this._clearCallbackDataAtIndex(St),this._settlePromise(kt,wt,Dt,_t)}},yt.prototype._settlePromises=function(){var mt=this._bitField,_t=mt&65535;if(_t>0){if(mt&16842752){var St=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,St,mt),this._rejectPromises(_t,St)}else{var wt=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,wt,mt),this._fulfillPromises(_t,wt)}this._setLength(0)}this._clearCancellationData()},yt.prototype._settledValue=function(){var mt=this._bitField;if(mt&33554432)return this._rejectionHandler0;if(mt&16777216)return this._fulfillmentHandler0};function Et(mt){this.promise._resolveCallback(mt)}function gt(mt){this.promise._rejectCallback(mt,!1)}yt.defer=yt.pending=function(){ut.deprecated("Promise.defer","new Promise");var mt=new yt(nt);return{promise:mt,resolve:Et,reject:gt}},g.notEnumerableProp(yt,"_makeSelfResolutionError",e),requireMethod()(yt,nt,st,a,ut),requireBind()(yt,nt,st,ut),requireCancel()(yt,ot,a,ut),requireDirect_resolve()(yt),requireSynchronous_inspection()(yt),requireJoin()(yt,ot,st,nt,et,$),yt.Promise=yt,yt.version="3.4.7",requireMap()(yt,ot,a,st,nt,ut),requireCall_get()(yt),requireUsing()(yt,a,st,ct,nt,ut),requireTimers()(yt,nt,ut),requireGenerators()(yt,a,nt,st,c,ut),requireNodeify()(yt),requirePromisify()(yt,nt),requireProps()(yt,ot,st,a),requireRace()(yt,nt,st,a),requireReduce()(yt,ot,a,st,nt,ut),requireSettle()(yt,ot,ut),requireSome()(yt,ot,a),requireFilter()(yt,nt),requireEach()(yt,nt),requireAny()(yt),g.toFastProperties(yt),g.toFastProperties(yt.prototype);function At(mt){var _t=new yt(nt);_t._fulfillmentHandler0=mt,_t._rejectionHandler0=mt,_t._promise0=mt,_t._receiver0=mt}return At({a:1}),At({b:2}),At({c:3}),At(1),At(function(){}),At(void 0),At(!1),At(new yt(nt)),ut.setBounds(tt.firstLineError,g.lastLineError),yt}})(promise);var promiseExports=promise.exports,_$g=require$$0$2,bluebird=promiseExports();promises$7.defer=defer;promises$7.when=bluebird.resolve;promises$7.resolve=bluebird.resolve;promises$7.all=bluebird.all;promises$7.props=bluebird.props;promises$7.reject=bluebird.reject;promises$7.promisify=bluebird.promisify;promises$7.mapSeries=bluebird.mapSeries;promises$7.attempt=bluebird.attempt;promises$7.nfcall=function(o){var e=Array.prototype.slice.call(arguments,1),s=bluebird.promisify(o);return s.apply(null,e)};bluebird.prototype.fail=bluebird.prototype.caught;bluebird.prototype.also=function(o){return this.then(function(e){var s=_$g.extend({},e,o(e));return bluebird.props(s)})};function defer(){var o,e,s=new bluebird.Promise(function(a,c){o=a,e=c});return{resolve:o,reject:e,promise:s}}var documents$7={},_$f=require$$0$2,types$1=documents$7.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function Document$1(o,e){return e=e||{},{type:types$1.document,children:o,notes:e.notes||new Notes({}),comments:e.comments||[]}}function Paragraph(o,e){e=e||{};var s=e.indent||{};return{type:types$1.paragraph,children:o,styleId:e.styleId||null,styleName:e.styleName||null,numbering:e.numbering||null,alignment:e.alignment||null,indent:{start:s.start||null,end:s.end||null,firstLine:s.firstLine||null,hanging:s.hanging||null}}}function Run(o,e){return e=e||{},{type:types$1.run,children:o,styleId:e.styleId||null,styleName:e.styleName||null,isBold:!!e.isBold,isUnderline:!!e.isUnderline,isItalic:!!e.isItalic,isStrikethrough:!!e.isStrikethrough,isAllCaps:!!e.isAllCaps,isSmallCaps:!!e.isSmallCaps,verticalAlignment:e.verticalAlignment||verticalAlignment.baseline,font:e.font||null,fontSize:e.fontSize||null,highlight:e.highlight||null}}var verticalAlignment={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function Text$1(o){return{type:types$1.text,value:o}}function Tab(){return{type:types$1.tab}}function Checkbox(o){return{type:types$1.checkbox,checked:o.checked}}function Hyperlink(o,e){return{type:types$1.hyperlink,children:o,href:e.href,anchor:e.anchor,targetFrame:e.targetFrame}}function NoteReference(o){return{type:types$1.noteReference,noteType:o.noteType,noteId:o.noteId}}function Notes(o){this._notes=_$f.indexBy(o,function(e){return noteKey(e.noteType,e.noteId)})}Notes.prototype.resolve=function(o){return this.findNoteByKey(noteKey(o.noteType,o.noteId))};Notes.prototype.findNoteByKey=function(o){return this._notes[o]||null};function Note(o){return{type:types$1.note,noteType:o.noteType,noteId:o.noteId,body:o.body}}function commentReference(o){return{type:types$1.commentReference,commentId:o.commentId}}function comment(o){return{type:types$1.comment,commentId:o.commentId,body:o.body,authorName:o.authorName,authorInitials:o.authorInitials}}function noteKey(o,e){return o+"-"+e}function Image$1(o){return{type:types$1.image,read:function(e){return e?o.readImage(e):o.readImage().then(function(s){return Buffer.from(s)})},readAsArrayBuffer:function(){return o.readImage()},readAsBase64String:function(){return o.readImage("base64")},readAsBuffer:function(){return o.readImage().then(function(e){return Buffer.from(e)})},altText:o.altText,contentType:o.contentType}}function Table(o,e){return e=e||{},{type:types$1.table,children:o,styleId:e.styleId||null,styleName:e.styleName||null}}function TableRow(o,e){return e=e||{},{type:types$1.tableRow,children:o,isHeader:e.isHeader||!1}}function TableCell(o,e){return e=e||{},{type:types$1.tableCell,children:o,colSpan:e.colSpan==null?1:e.colSpan,rowSpan:e.rowSpan==null?1:e.rowSpan}}function Break(o){return{type:types$1.break,breakType:o}}function BookmarkStart(o){return{type:types$1.bookmarkStart,name:o.name}}documents$7.document=documents$7.Document=Document$1;documents$7.paragraph=documents$7.Paragraph=Paragraph;documents$7.run=documents$7.Run=Run;documents$7.text=documents$7.Text=Text$1;documents$7.tab=documents$7.Tab=Tab;documents$7.checkbox=documents$7.Checkbox=Checkbox;documents$7.Hyperlink=Hyperlink;documents$7.noteReference=documents$7.NoteReference=NoteReference;documents$7.Notes=Notes;documents$7.Note=Note;documents$7.commentReference=commentReference;documents$7.comment=comment;documents$7.Image=Image$1;documents$7.Table=Table;documents$7.TableRow=TableRow;documents$7.TableCell=TableCell;documents$7.lineBreak=Break("line");documents$7.pageBreak=Break("page");documents$7.columnBreak=Break("column");documents$7.BookmarkStart=BookmarkStart;documents$7.verticalAlignment=verticalAlignment;var results$2={},_$e=require$$0$2;results$2.Result=Result$7;results$2.success=success;results$2.warning=warning$1;results$2.error=error;function Result$7(o,e){this.value=o,this.messages=e||[]}Result$7.prototype.map=function(o){return new Result$7(o(this.value),this.messages)};Result$7.prototype.flatMap=function(o){var e=o(this.value);return new Result$7(e.value,combineMessages([this,e]))};Result$7.prototype.flatMapThen=function(o){var e=this;return o(this.value).then(function(s){return new Result$7(s.value,combineMessages([e,s]))})};Result$7.combine=function(o){var e=_$e.flatten(_$e.pluck(o,"value")),s=combineMessages(o);return new Result$7(e,s)};function success(o){return new Result$7(o,[])}function warning$1(o){return{type:"warning",message:o}}function error(o){return{type:"error",message:o.message,error:o}}function combineMessages(o){var e=[];return _$e.flatten(_$e.pluck(o,"messages"),!0).forEach(function(s){containsMessage(e,s)||e.push(s)}),e}function containsMessage(o,e){return _$e.find(o,isSameMessage.bind(null,e))!==void 0}function isSameMessage(o,e){return o.type===e.type&&o.message===e.message}var zipfile$2={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(o){var e=o.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=o.indexOf("=");s===-1&&(s=e);var a=s===e?0:4-s%4;return[s,a]}function byteLength(o){var e=getLens(o),s=e[0],a=e[1];return(s+a)*3/4-a}function _byteLength(o,e,s){return(e+s)*3/4-s}function toByteArray(o){var e,s=getLens(o),a=s[0],c=s[1],d=new Arr(_byteLength(o,a,c)),g=0,$=c>0?a-4:a,j;for(j=0;j<$;j+=4)e=revLookup[o.charCodeAt(j)]<<18|revLookup[o.charCodeAt(j+1)]<<12|revLookup[o.charCodeAt(j+2)]<<6|revLookup[o.charCodeAt(j+3)],d[g++]=e>>16&255,d[g++]=e>>8&255,d[g++]=e&255;return c===2&&(e=revLookup[o.charCodeAt(j)]<<2|revLookup[o.charCodeAt(j+1)]>>4,d[g++]=e&255),c===1&&(e=revLookup[o.charCodeAt(j)]<<10|revLookup[o.charCodeAt(j+1)]<<4|revLookup[o.charCodeAt(j+2)]>>2,d[g++]=e>>8&255,d[g++]=e&255),d}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[o&63]}function encodeChunk(o,e,s){for(var a,c=[],d=e;d<s;d+=3)a=(o[d]<<16&16711680)+(o[d+1]<<8&65280)+(o[d+2]&255),c.push(tripletToBase64(a));return c.join("")}function fromByteArray(o){for(var e,s=o.length,a=s%3,c=[],d=16383,g=0,$=s-a;g<$;g+=d)c.push(encodeChunk(o,g,g+d>$?$:g+d));return a===1?(e=o[s-1],c.push(lookup[e>>2]+lookup[e<<4&63]+"==")):a===2&&(e=(o[s-2]<<8)+o[s-1],c.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),c.join("")}function commonjsRequire(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(o,e){(function(s){o.exports=s()})(function(){return function s(a,c,d){function g(tt,et){if(!c[tt]){if(!a[tt]){var b=typeof commonjsRequire=="function"&&commonjsRequire;if(!et&&b)return b(tt,!0);if($)return $(tt,!0);var h=new Error("Cannot find module '"+tt+"'");throw h.code="MODULE_NOT_FOUND",h}var _e=c[tt]={exports:{}};a[tt][0].call(_e.exports,function(nt){var rt=a[tt][1][nt];return g(rt||nt)},_e,_e.exports,s,a,c,d)}return c[tt].exports}for(var $=typeof commonjsRequire=="function"&&commonjsRequire,j=0;j<d.length;j++)g(d[j]);return g}({1:[function(s,a,c){var d=s("./utils"),g=s("./support"),$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(j){for(var tt,et,b,h,_e,nt,rt,it=[],st=0,ot=j.length,at=ot,ct=d.getTypeOf(j)!=="string";st<j.length;)at=ot-st,b=ct?(tt=j[st++],et=st<ot?j[st++]:0,st<ot?j[st++]:0):(tt=j.charCodeAt(st++),et=st<ot?j.charCodeAt(st++):0,st<ot?j.charCodeAt(st++):0),h=tt>>2,_e=(3&tt)<<4|et>>4,nt=1<at?(15&et)<<2|b>>6:64,rt=2<at?63&b:64,it.push($.charAt(h)+$.charAt(_e)+$.charAt(nt)+$.charAt(rt));return it.join("")},c.decode=function(j){var tt,et,b,h,_e,nt,rt=0,it=0,st="data:";if(j.substr(0,st.length)===st)throw new Error("Invalid base64 input, it looks like a data url.");var ot,at=3*(j=j.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(j.charAt(j.length-1)===$.charAt(64)&&at--,j.charAt(j.length-2)===$.charAt(64)&&at--,at%1!=0)throw new Error("Invalid base64 input, bad content length.");for(ot=g.uint8array?new Uint8Array(0|at):new Array(0|at);rt<j.length;)tt=$.indexOf(j.charAt(rt++))<<2|(h=$.indexOf(j.charAt(rt++)))>>4,et=(15&h)<<4|(_e=$.indexOf(j.charAt(rt++)))>>2,b=(3&_e)<<6|(nt=$.indexOf(j.charAt(rt++))),ot[it++]=tt,_e!==64&&(ot[it++]=et),nt!==64&&(ot[it++]=b);return ot}},{"./support":30,"./utils":32}],2:[function(s,a,c){var d=s("./external"),g=s("./stream/DataWorker"),$=s("./stream/Crc32Probe"),j=s("./stream/DataLengthProbe");function tt(et,b,h,_e,nt){this.compressedSize=et,this.uncompressedSize=b,this.crc32=h,this.compression=_e,this.compressedContent=nt}tt.prototype={getContentWorker:function(){var et=new g(d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new j("data_length")),b=this;return et.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),et},getCompressedWorker:function(){return new g(d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},tt.createWorkerFrom=function(et,b,h){return et.pipe(new $).pipe(new j("uncompressedSize")).pipe(b.compressWorker(h)).pipe(new j("compressedSize")).withStreamInfo("compression",b)},a.exports=tt},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,a,c){var d=s("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},c.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,a,c){var d=s("./utils"),g=function(){for(var $,j=[],tt=0;tt<256;tt++){$=tt;for(var et=0;et<8;et++)$=1&$?3988292384^$>>>1:$>>>1;j[tt]=$}return j}();a.exports=function($,j){return $!==void 0&&$.length?d.getTypeOf($)!=="string"?function(tt,et,b,h){var _e=g,nt=h+b;tt^=-1;for(var rt=h;rt<nt;rt++)tt=tt>>>8^_e[255&(tt^et[rt])];return-1^tt}(0|j,$,$.length,0):function(tt,et,b,h){var _e=g,nt=h+b;tt^=-1;for(var rt=h;rt<nt;rt++)tt=tt>>>8^_e[255&(tt^et.charCodeAt(rt))];return-1^tt}(0|j,$,$.length,0):0}},{"./utils":32}],5:[function(s,a,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(s,a,c){var d=null;d=typeof Promise<"u"?Promise:s("lie"),a.exports={Promise:d}},{lie:37}],7:[function(s,a,c){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",g=s("pako"),$=s("./utils"),j=s("./stream/GenericWorker"),tt=d?"uint8array":"array";function et(b,h){j.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=h,this.meta={}}c.magic="\b\0",$.inherits(et,j),et.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push($.transformTo(tt,b.data),!1)},et.prototype.flush=function(){j.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},et.prototype.cleanUp=function(){j.prototype.cleanUp.call(this),this._pako=null},et.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(h){b.push({data:h,meta:b.meta})}},c.compressWorker=function(b){return new et("Deflate",b)},c.uncompressWorker=function(){return new et("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,a,c){function d(_e,nt){var rt,it="";for(rt=0;rt<nt;rt++)it+=String.fromCharCode(255&_e),_e>>>=8;return it}function g(_e,nt,rt,it,st,ot){var at,ct,ut=_e.file,dt=_e.compression,ht=ot!==tt.utf8encode,pt=$.transformTo("string",ot(ut.name)),ft=$.transformTo("string",tt.utf8encode(ut.name)),bt=ut.comment,Ct=$.transformTo("string",ot(bt)),yt=$.transformTo("string",tt.utf8encode(bt)),Et=ft.length!==ut.name.length,gt=yt.length!==bt.length,At="",mt="",_t="",St=ut.dir,wt=ut.date,kt={crc32:0,compressedSize:0,uncompressedSize:0};nt&&!rt||(kt.crc32=_e.crc32,kt.compressedSize=_e.compressedSize,kt.uncompressedSize=_e.uncompressedSize);var Dt=0;nt&&(Dt|=8),ht||!Et&&!gt||(Dt|=2048);var Ft=0,Ot=0;St&&(Ft|=16),st==="UNIX"?(Ot=798,Ft|=function(Vt,Zt){var Jt=Vt;return Vt||(Jt=Zt?16893:33204),(65535&Jt)<<16}(ut.unixPermissions,St)):(Ot=20,Ft|=function(Vt){return 63&(Vt||0)}(ut.dosPermissions)),at=wt.getUTCHours(),at<<=6,at|=wt.getUTCMinutes(),at<<=5,at|=wt.getUTCSeconds()/2,ct=wt.getUTCFullYear()-1980,ct<<=4,ct|=wt.getUTCMonth()+1,ct<<=5,ct|=wt.getUTCDate(),Et&&(mt=d(1,1)+d(et(pt),4)+ft,At+="up"+d(mt.length,2)+mt),gt&&(_t=d(1,1)+d(et(Ct),4)+yt,At+="uc"+d(_t.length,2)+_t);var Bt="";return Bt+=`
\0`,Bt+=d(Dt,2),Bt+=dt.magic,Bt+=d(at,2),Bt+=d(ct,2),Bt+=d(kt.crc32,4),Bt+=d(kt.compressedSize,4),Bt+=d(kt.uncompressedSize,4),Bt+=d(pt.length,2),Bt+=d(At.length,2),{fileRecord:b.LOCAL_FILE_HEADER+Bt+pt+At,dirRecord:b.CENTRAL_FILE_HEADER+d(Ot,2)+Bt+d(Ct.length,2)+"\0\0\0\0"+d(Ft,4)+d(it,4)+pt+At+Ct}}var $=s("../utils"),j=s("../stream/GenericWorker"),tt=s("../utf8"),et=s("../crc32"),b=s("../signature");function h(_e,nt,rt,it){j.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=nt,this.zipPlatform=rt,this.encodeFileName=it,this.streamFiles=_e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}$.inherits(h,j),h.prototype.push=function(_e){var nt=_e.meta.percent||0,rt=this.entriesCount,it=this._sources.length;this.accumulate?this.contentBuffer.push(_e):(this.bytesWritten+=_e.data.length,j.prototype.push.call(this,{data:_e.data,meta:{currentFile:this.currentFile,percent:rt?(nt+100*(rt-it-1))/rt:100}}))},h.prototype.openedSource=function(_e){this.currentSourceOffset=this.bytesWritten,this.currentFile=_e.file.name;var nt=this.streamFiles&&!_e.file.dir;if(nt){var rt=g(_e,nt,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:rt.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(_e){this.accumulate=!1;var nt=this.streamFiles&&!_e.file.dir,rt=g(_e,nt,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(rt.dirRecord),nt)this.push({data:function(it){return b.DATA_DESCRIPTOR+d(it.crc32,4)+d(it.compressedSize,4)+d(it.uncompressedSize,4)}(_e),meta:{percent:100}});else for(this.push({data:rt.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var _e=this.bytesWritten,nt=0;nt<this.dirRecords.length;nt++)this.push({data:this.dirRecords[nt],meta:{percent:100}});var rt=this.bytesWritten-_e,it=function(st,ot,at,ct,ut){var dt=$.transformTo("string",ut(ct));return b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(st,2)+d(st,2)+d(ot,4)+d(at,4)+d(dt.length,2)+dt}(this.dirRecords.length,rt,_e,this.zipComment,this.encodeFileName);this.push({data:it,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(_e){this._sources.push(_e);var nt=this;return _e.on("data",function(rt){nt.processChunk(rt)}),_e.on("end",function(){nt.closedSource(nt.previous.streamInfo),nt._sources.length?nt.prepareNextSource():nt.end()}),_e.on("error",function(rt){nt.error(rt)}),this},h.prototype.resume=function(){return!!j.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(_e){var nt=this._sources;if(!j.prototype.error.call(this,_e))return!1;for(var rt=0;rt<nt.length;rt++)try{nt[rt].error(_e)}catch{}return!0},h.prototype.lock=function(){j.prototype.lock.call(this);for(var _e=this._sources,nt=0;nt<_e.length;nt++)_e[nt].lock()},a.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,a,c){var d=s("../compressions"),g=s("./ZipFileWorker");c.generateWorker=function($,j,tt){var et=new g(j.streamFiles,tt,j.platform,j.encodeFileName),b=0;try{$.forEach(function(h,_e){b++;var nt=function(ot,at){var ct=ot||at,ut=d[ct];if(!ut)throw new Error(ct+" is not a valid compression method !");return ut}(_e.options.compression,j.compression),rt=_e.options.compressionOptions||j.compressionOptions||{},it=_e.dir,st=_e.date;_e._compressWorker(nt,rt).withStreamInfo("file",{name:h,dir:it,date:st,comment:_e.comment||"",unixPermissions:_e.unixPermissions,dosPermissions:_e.dosPermissions}).pipe(et)}),et.entriesCount=b}catch(h){et.error(h)}return et}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,a,c){function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new d;for(var $ in this)typeof this[$]!="function"&&(g[$]=this[$]);return g}}(d.prototype=s("./object")).loadAsync=s("./load"),d.support=s("./support"),d.defaults=s("./defaults"),d.version="3.10.1",d.loadAsync=function(g,$){return new d().loadAsync(g,$)},d.external=s("./external"),a.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,a,c){var d=s("./utils"),g=s("./external"),$=s("./utf8"),j=s("./zipEntries"),tt=s("./stream/Crc32Probe"),et=s("./nodejsUtils");function b(h){return new g.Promise(function(_e,nt){var rt=h.decompressed.getContentWorker().pipe(new tt);rt.on("error",function(it){nt(it)}).on("end",function(){rt.streamInfo.crc32!==h.decompressed.crc32?nt(new Error("Corrupted zip : CRC32 mismatch")):_e()}).resume()})}a.exports=function(h,_e){var nt=this;return _e=d.extend(_e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:$.utf8decode}),et.isNode&&et.isStream(h)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):d.prepareContent("the loaded zip file",h,!0,_e.optimizedBinaryString,_e.base64).then(function(rt){var it=new j(_e);return it.load(rt),it}).then(function(rt){var it=[g.Promise.resolve(rt)],st=rt.files;if(_e.checkCRC32)for(var ot=0;ot<st.length;ot++)it.push(b(st[ot]));return g.Promise.all(it)}).then(function(rt){for(var it=rt.shift(),st=it.files,ot=0;ot<st.length;ot++){var at=st[ot],ct=at.fileNameStr,ut=d.resolve(at.fileNameStr);nt.file(ut,at.decompressed,{binary:!0,optimizedBinaryString:!0,date:at.date,dir:at.dir,comment:at.fileCommentStr.length?at.fileCommentStr:null,unixPermissions:at.unixPermissions,dosPermissions:at.dosPermissions,createFolders:_e.createFolders}),at.dir||(nt.file(ut).unsafeOriginalName=ct)}return it.zipComment.length&&(nt.comment=it.zipComment),nt})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,a,c){var d=s("../utils"),g=s("../stream/GenericWorker");function $(j,tt){g.call(this,"Nodejs stream input adapter for "+j),this._upstreamEnded=!1,this._bindStream(tt)}d.inherits($,g),$.prototype._bindStream=function(j){var tt=this;(this._stream=j).pause(),j.on("data",function(et){tt.push({data:et,meta:{percent:0}})}).on("error",function(et){tt.isPaused?this.generatedError=et:tt.error(et)}).on("end",function(){tt.isPaused?tt._upstreamEnded=!0:tt.end()})},$.prototype.pause=function(){return!!g.prototype.pause.call(this)&&(this._stream.pause(),!0)},$.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=$},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,a,c){var d=s("readable-stream").Readable;function g($,j,tt){d.call(this,j),this._helper=$;var et=this;$.on("data",function(b,h){et.push(b)||et._helper.pause(),tt&&tt(h)}).on("error",function(b){et.emit("error",b)}).on("end",function(){et.push(null)})}s("../utils").inherits(g,d),g.prototype._read=function(){this._helper.resume()},a.exports=g},{"../utils":32,"readable-stream":16}],14:[function(s,a,c){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(d,g){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(d,g);if(typeof d=="number")throw new Error('The "data" argument must not be a number');return new Buffer(d,g)},allocBuffer:function(d){if(Buffer.alloc)return Buffer.alloc(d);var g=new Buffer(d);return g.fill(0),g},isBuffer:function(d){return Buffer.isBuffer(d)},isStream:function(d){return d&&typeof d.on=="function"&&typeof d.pause=="function"&&typeof d.resume=="function"}}},{}],15:[function(s,a,c){function d(ut,dt,ht){var pt,ft=$.getTypeOf(dt),bt=$.extend(ht||{},et);bt.date=bt.date||new Date,bt.compression!==null&&(bt.compression=bt.compression.toUpperCase()),typeof bt.unixPermissions=="string"&&(bt.unixPermissions=parseInt(bt.unixPermissions,8)),bt.unixPermissions&&16384&bt.unixPermissions&&(bt.dir=!0),bt.dosPermissions&&16&bt.dosPermissions&&(bt.dir=!0),bt.dir&&(ut=st(ut)),bt.createFolders&&(pt=it(ut))&&ot.call(this,pt,!0);var Ct=ft==="string"&&bt.binary===!1&&bt.base64===!1;ht&&ht.binary!==void 0||(bt.binary=!Ct),(dt instanceof b&&dt.uncompressedSize===0||bt.dir||!dt||dt.length===0)&&(bt.base64=!1,bt.binary=!0,dt="",bt.compression="STORE",ft="string");var yt=null;yt=dt instanceof b||dt instanceof j?dt:nt.isNode&&nt.isStream(dt)?new rt(ut,dt):$.prepareContent(ut,dt,bt.binary,bt.optimizedBinaryString,bt.base64);var Et=new h(ut,yt,bt);this.files[ut]=Et}var g=s("./utf8"),$=s("./utils"),j=s("./stream/GenericWorker"),tt=s("./stream/StreamHelper"),et=s("./defaults"),b=s("./compressedObject"),h=s("./zipObject"),_e=s("./generate"),nt=s("./nodejsUtils"),rt=s("./nodejs/NodejsStreamInputAdapter"),it=function(ut){ut.slice(-1)==="/"&&(ut=ut.substring(0,ut.length-1));var dt=ut.lastIndexOf("/");return 0<dt?ut.substring(0,dt):""},st=function(ut){return ut.slice(-1)!=="/"&&(ut+="/"),ut},ot=function(ut,dt){return dt=dt!==void 0?dt:et.createFolders,ut=st(ut),this.files[ut]||d.call(this,ut,null,{dir:!0,createFolders:dt}),this.files[ut]};function at(ut){return Object.prototype.toString.call(ut)==="[object RegExp]"}var ct={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(ut){var dt,ht,pt;for(dt in this.files)pt=this.files[dt],(ht=dt.slice(this.root.length,dt.length))&&dt.slice(0,this.root.length)===this.root&&ut(ht,pt)},filter:function(ut){var dt=[];return this.forEach(function(ht,pt){ut(ht,pt)&&dt.push(pt)}),dt},file:function(ut,dt,ht){if(arguments.length!==1)return ut=this.root+ut,d.call(this,ut,dt,ht),this;if(at(ut)){var pt=ut;return this.filter(function(bt,Ct){return!Ct.dir&&pt.test(bt)})}var ft=this.files[this.root+ut];return ft&&!ft.dir?ft:null},folder:function(ut){if(!ut)return this;if(at(ut))return this.filter(function(ft,bt){return bt.dir&&ut.test(ft)});var dt=this.root+ut,ht=ot.call(this,dt),pt=this.clone();return pt.root=ht.name,pt},remove:function(ut){ut=this.root+ut;var dt=this.files[ut];if(dt||(ut.slice(-1)!=="/"&&(ut+="/"),dt=this.files[ut]),dt&&!dt.dir)delete this.files[ut];else for(var ht=this.filter(function(ft,bt){return bt.name.slice(0,ut.length)===ut}),pt=0;pt<ht.length;pt++)delete this.files[ht[pt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(ut){var dt,ht={};try{if((ht=$.extend(ut||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode})).type=ht.type.toLowerCase(),ht.compression=ht.compression.toUpperCase(),ht.type==="binarystring"&&(ht.type="string"),!ht.type)throw new Error("No output type specified.");$.checkSupport(ht.type),ht.platform!=="darwin"&&ht.platform!=="freebsd"&&ht.platform!=="linux"&&ht.platform!=="sunos"||(ht.platform="UNIX"),ht.platform==="win32"&&(ht.platform="DOS");var pt=ht.comment||this.comment||"";dt=_e.generateWorker(this,ht,pt)}catch(ft){(dt=new j("error")).error(ft)}return new tt(dt,ht.type||"string",ht.mimeType)},generateAsync:function(ut,dt){return this.generateInternalStream(ut).accumulate(dt)},generateNodeStream:function(ut,dt){return(ut=ut||{}).type||(ut.type="nodebuffer"),this.generateInternalStream(ut).toNodejsStream(dt)}};a.exports=ct},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,a,c){a.exports=s("stream")},{stream:void 0}],17:[function(s,a,c){var d=s("./DataReader");function g($){d.call(this,$);for(var j=0;j<this.data.length;j++)$[j]=255&$[j]}s("../utils").inherits(g,d),g.prototype.byteAt=function($){return this.data[this.zero+$]},g.prototype.lastIndexOfSignature=function($){for(var j=$.charCodeAt(0),tt=$.charCodeAt(1),et=$.charCodeAt(2),b=$.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===j&&this.data[h+1]===tt&&this.data[h+2]===et&&this.data[h+3]===b)return h-this.zero;return-1},g.prototype.readAndCheckSignature=function($){var j=$.charCodeAt(0),tt=$.charCodeAt(1),et=$.charCodeAt(2),b=$.charCodeAt(3),h=this.readData(4);return j===h[0]&&tt===h[1]&&et===h[2]&&b===h[3]},g.prototype.readData=function($){if(this.checkOffset($),$===0)return[];var j=this.data.slice(this.zero+this.index,this.zero+this.index+$);return this.index+=$,j},a.exports=g},{"../utils":32,"./DataReader":18}],18:[function(s,a,c){var d=s("../utils");function g($){this.data=$,this.length=$.length,this.index=0,this.zero=0}g.prototype={checkOffset:function($){this.checkIndex(this.index+$)},checkIndex:function($){if(this.length<this.zero+$||$<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+$+"). Corrupted zip ?")},setIndex:function($){this.checkIndex($),this.index=$},skip:function($){this.setIndex(this.index+$)},byteAt:function(){},readInt:function($){var j,tt=0;for(this.checkOffset($),j=this.index+$-1;j>=this.index;j--)tt=(tt<<8)+this.byteAt(j);return this.index+=$,tt},readString:function($){return d.transformTo("string",this.readData($))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var $=this.readInt(4);return new Date(Date.UTC(1980+($>>25&127),($>>21&15)-1,$>>16&31,$>>11&31,$>>5&63,(31&$)<<1))}},a.exports=g},{"../utils":32}],19:[function(s,a,c){var d=s("./Uint8ArrayReader");function g($){d.call(this,$)}s("../utils").inherits(g,d),g.prototype.readData=function($){this.checkOffset($);var j=this.data.slice(this.zero+this.index,this.zero+this.index+$);return this.index+=$,j},a.exports=g},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,a,c){var d=s("./DataReader");function g($){d.call(this,$)}s("../utils").inherits(g,d),g.prototype.byteAt=function($){return this.data.charCodeAt(this.zero+$)},g.prototype.lastIndexOfSignature=function($){return this.data.lastIndexOf($)-this.zero},g.prototype.readAndCheckSignature=function($){return $===this.readData(4)},g.prototype.readData=function($){this.checkOffset($);var j=this.data.slice(this.zero+this.index,this.zero+this.index+$);return this.index+=$,j},a.exports=g},{"../utils":32,"./DataReader":18}],21:[function(s,a,c){var d=s("./ArrayReader");function g($){d.call(this,$)}s("../utils").inherits(g,d),g.prototype.readData=function($){if(this.checkOffset($),$===0)return new Uint8Array(0);var j=this.data.subarray(this.zero+this.index,this.zero+this.index+$);return this.index+=$,j},a.exports=g},{"../utils":32,"./ArrayReader":17}],22:[function(s,a,c){var d=s("../utils"),g=s("../support"),$=s("./ArrayReader"),j=s("./StringReader"),tt=s("./NodeBufferReader"),et=s("./Uint8ArrayReader");a.exports=function(b){var h=d.getTypeOf(b);return d.checkSupport(h),h!=="string"||g.uint8array?h==="nodebuffer"?new tt(b):g.uint8array?new et(d.transformTo("uint8array",b)):new $(d.transformTo("array",b)):new j(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,a,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,a,c){var d=s("./GenericWorker"),g=s("../utils");function $(j){d.call(this,"ConvertWorker to "+j),this.destType=j}g.inherits($,d),$.prototype.processChunk=function(j){this.push({data:g.transformTo(this.destType,j.data),meta:j.meta})},a.exports=$},{"../utils":32,"./GenericWorker":28}],25:[function(s,a,c){var d=s("./GenericWorker"),g=s("../crc32");function $(){d.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits($,d),$.prototype.processChunk=function(j){this.streamInfo.crc32=g(j.data,this.streamInfo.crc32||0),this.push(j)},a.exports=$},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,a,c){var d=s("../utils"),g=s("./GenericWorker");function $(j){g.call(this,"DataLengthProbe for "+j),this.propName=j,this.withStreamInfo(j,0)}d.inherits($,g),$.prototype.processChunk=function(j){if(j){var tt=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=tt+j.data.length}g.prototype.processChunk.call(this,j)},a.exports=$},{"../utils":32,"./GenericWorker":28}],27:[function(s,a,c){var d=s("../utils"),g=s("./GenericWorker");function $(j){g.call(this,"DataWorker");var tt=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,j.then(function(et){tt.dataIsReady=!0,tt.data=et,tt.max=et&&et.length||0,tt.type=d.getTypeOf(et),tt.isPaused||tt._tickAndRepeat()},function(et){tt.error(et)})}d.inherits($,g),$.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},$.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,d.delay(this._tickAndRepeat,[],this)),!0)},$.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(d.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},$.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var j=null,tt=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":j=this.data.substring(this.index,tt);break;case"uint8array":j=this.data.subarray(this.index,tt);break;case"array":case"nodebuffer":j=this.data.slice(this.index,tt)}return this.index=tt,this.push({data:j,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=$},{"../utils":32,"./GenericWorker":28}],28:[function(s,a,c){function d(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(g){this.emit("data",g)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0},error:function(g){return!this.isFinished&&(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)},on:function(g,$){return this._listeners[g].push($),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(g,$){if(this._listeners[g])for(var j=0;j<this._listeners[g].length;j++)this._listeners[g][j].call(this,$)},pipe:function(g){return g.registerPrevious(this)},registerPrevious:function(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var $=this;return g.on("data",function(j){$.processChunk(j)}),g.on("end",function(){$.end()}),g.on("error",function(j){$.error(j)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var g=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g},flush:function(){},processChunk:function(g){this.push(g)},withStreamInfo:function(g,$){return this.extraStreamInfo[g]=$,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var g in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,g)&&(this.streamInfo[g]=this.extraStreamInfo[g])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}},a.exports=d},{}],29:[function(s,a,c){var d=s("../utils"),g=s("./ConvertWorker"),$=s("./GenericWorker"),j=s("../base64"),tt=s("../support"),et=s("../external"),b=null;if(tt.nodestream)try{b=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(nt,rt){return new et.Promise(function(it,st){var ot=[],at=nt._internalType,ct=nt._outputType,ut=nt._mimeType;nt.on("data",function(dt,ht){ot.push(dt),rt&&rt(ht)}).on("error",function(dt){ot=[],st(dt)}).on("end",function(){try{var dt=function(ht,pt,ft){switch(ht){case"blob":return d.newBlob(d.transformTo("arraybuffer",pt),ft);case"base64":return j.encode(pt);default:return d.transformTo(ht,pt)}}(ct,function(ht,pt){var ft,bt=0,Ct=null,yt=0;for(ft=0;ft<pt.length;ft++)yt+=pt[ft].length;switch(ht){case"string":return pt.join("");case"array":return Array.prototype.concat.apply([],pt);case"uint8array":for(Ct=new Uint8Array(yt),ft=0;ft<pt.length;ft++)Ct.set(pt[ft],bt),bt+=pt[ft].length;return Ct;case"nodebuffer":return Buffer.concat(pt);default:throw new Error("concat : unsupported type '"+ht+"'")}}(at,ot),ut);it(dt)}catch(ht){st(ht)}ot=[]}).resume()})}function _e(nt,rt,it){var st=rt;switch(rt){case"blob":case"arraybuffer":st="uint8array";break;case"base64":st="string"}try{this._internalType=st,this._outputType=rt,this._mimeType=it,d.checkSupport(st),this._worker=nt.pipe(new g(st)),nt.lock()}catch(ot){this._worker=new $("error"),this._worker.error(ot)}}_e.prototype={accumulate:function(nt){return h(this,nt)},on:function(nt,rt){var it=this;return nt==="data"?this._worker.on(nt,function(st){rt.call(it,st.data,st.meta)}):this._worker.on(nt,function(){d.delay(rt,arguments,it)}),this},resume:function(){return d.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(nt){if(d.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},nt)}},a.exports=_e},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,a,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var d=new ArrayBuffer(0);try{c.blob=new Blob([d],{type:"application/zip"}).size===0}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(d),c.blob=g.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!s("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(s,a,c){for(var d=s("./utils"),g=s("./support"),$=s("./nodejsUtils"),j=s("./stream/GenericWorker"),tt=new Array(256),et=0;et<256;et++)tt[et]=252<=et?6:248<=et?5:240<=et?4:224<=et?3:192<=et?2:1;tt[254]=tt[254]=1;function b(){j.call(this,"utf-8 decode"),this.leftOver=null}function h(){j.call(this,"utf-8 encode")}c.utf8encode=function(_e){return g.nodebuffer?$.newBufferFrom(_e,"utf-8"):function(nt){var rt,it,st,ot,at,ct=nt.length,ut=0;for(ot=0;ot<ct;ot++)(64512&(it=nt.charCodeAt(ot)))==55296&&ot+1<ct&&(64512&(st=nt.charCodeAt(ot+1)))==56320&&(it=65536+(it-55296<<10)+(st-56320),ot++),ut+=it<128?1:it<2048?2:it<65536?3:4;for(rt=g.uint8array?new Uint8Array(ut):new Array(ut),ot=at=0;at<ut;ot++)(64512&(it=nt.charCodeAt(ot)))==55296&&ot+1<ct&&(64512&(st=nt.charCodeAt(ot+1)))==56320&&(it=65536+(it-55296<<10)+(st-56320),ot++),it<128?rt[at++]=it:(it<2048?rt[at++]=192|it>>>6:(it<65536?rt[at++]=224|it>>>12:(rt[at++]=240|it>>>18,rt[at++]=128|it>>>12&63),rt[at++]=128|it>>>6&63),rt[at++]=128|63&it);return rt}(_e)},c.utf8decode=function(_e){return g.nodebuffer?d.transformTo("nodebuffer",_e).toString("utf-8"):function(nt){var rt,it,st,ot,at=nt.length,ct=new Array(2*at);for(rt=it=0;rt<at;)if((st=nt[rt++])<128)ct[it++]=st;else if(4<(ot=tt[st]))ct[it++]=65533,rt+=ot-1;else{for(st&=ot===2?31:ot===3?15:7;1<ot&&rt<at;)st=st<<6|63&nt[rt++],ot--;1<ot?ct[it++]=65533:st<65536?ct[it++]=st:(st-=65536,ct[it++]=55296|st>>10&1023,ct[it++]=56320|1023&st)}return ct.length!==it&&(ct.subarray?ct=ct.subarray(0,it):ct.length=it),d.applyFromCharCode(ct)}(_e=d.transformTo(g.uint8array?"uint8array":"array",_e))},d.inherits(b,j),b.prototype.processChunk=function(_e){var nt=d.transformTo(g.uint8array?"uint8array":"array",_e.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var rt=nt;(nt=new Uint8Array(rt.length+this.leftOver.length)).set(this.leftOver,0),nt.set(rt,this.leftOver.length)}else nt=this.leftOver.concat(nt);this.leftOver=null}var it=function(ot,at){var ct;for((at=at||ot.length)>ot.length&&(at=ot.length),ct=at-1;0<=ct&&(192&ot[ct])==128;)ct--;return ct<0||ct===0?at:ct+tt[ot[ct]]>at?ct:at}(nt),st=nt;it!==nt.length&&(g.uint8array?(st=nt.subarray(0,it),this.leftOver=nt.subarray(it,nt.length)):(st=nt.slice(0,it),this.leftOver=nt.slice(it,nt.length))),this.push({data:c.utf8decode(st),meta:_e.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=b,d.inherits(h,j),h.prototype.processChunk=function(_e){this.push({data:c.utf8encode(_e.data),meta:_e.meta})},c.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,a,c){var d=s("./support"),g=s("./base64"),$=s("./nodejsUtils"),j=s("./external");function tt(rt){return rt}function et(rt,it){for(var st=0;st<rt.length;++st)it[st]=255&rt.charCodeAt(st);return it}s("setimmediate"),c.newBlob=function(rt,it){c.checkSupport("blob");try{return new Blob([rt],{type:it})}catch{try{var st=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return st.append(rt),st.getBlob(it)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(rt,it,st){var ot=[],at=0,ct=rt.length;if(ct<=st)return String.fromCharCode.apply(null,rt);for(;at<ct;)it==="array"||it==="nodebuffer"?ot.push(String.fromCharCode.apply(null,rt.slice(at,Math.min(at+st,ct)))):ot.push(String.fromCharCode.apply(null,rt.subarray(at,Math.min(at+st,ct)))),at+=st;return ot.join("")},stringifyByChar:function(rt){for(var it="",st=0;st<rt.length;st++)it+=String.fromCharCode(rt[st]);return it},applyCanBeUsed:{uint8array:function(){try{return d.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return d.nodebuffer&&String.fromCharCode.apply(null,$.allocBuffer(1)).length===1}catch{return!1}}()}};function h(rt){var it=65536,st=c.getTypeOf(rt),ot=!0;if(st==="uint8array"?ot=b.applyCanBeUsed.uint8array:st==="nodebuffer"&&(ot=b.applyCanBeUsed.nodebuffer),ot)for(;1<it;)try{return b.stringifyByChunk(rt,st,it)}catch{it=Math.floor(it/2)}return b.stringifyByChar(rt)}function _e(rt,it){for(var st=0;st<rt.length;st++)it[st]=rt[st];return it}c.applyFromCharCode=h;var nt={};nt.string={string:tt,array:function(rt){return et(rt,new Array(rt.length))},arraybuffer:function(rt){return nt.string.uint8array(rt).buffer},uint8array:function(rt){return et(rt,new Uint8Array(rt.length))},nodebuffer:function(rt){return et(rt,$.allocBuffer(rt.length))}},nt.array={string:h,array:tt,arraybuffer:function(rt){return new Uint8Array(rt).buffer},uint8array:function(rt){return new Uint8Array(rt)},nodebuffer:function(rt){return $.newBufferFrom(rt)}},nt.arraybuffer={string:function(rt){return h(new Uint8Array(rt))},array:function(rt){return _e(new Uint8Array(rt),new Array(rt.byteLength))},arraybuffer:tt,uint8array:function(rt){return new Uint8Array(rt)},nodebuffer:function(rt){return $.newBufferFrom(new Uint8Array(rt))}},nt.uint8array={string:h,array:function(rt){return _e(rt,new Array(rt.length))},arraybuffer:function(rt){return rt.buffer},uint8array:tt,nodebuffer:function(rt){return $.newBufferFrom(rt)}},nt.nodebuffer={string:h,array:function(rt){return _e(rt,new Array(rt.length))},arraybuffer:function(rt){return nt.nodebuffer.uint8array(rt).buffer},uint8array:function(rt){return _e(rt,new Uint8Array(rt.length))},nodebuffer:tt},c.transformTo=function(rt,it){if(it=it||"",!rt)return it;c.checkSupport(rt);var st=c.getTypeOf(it);return nt[st][rt](it)},c.resolve=function(rt){for(var it=rt.split("/"),st=[],ot=0;ot<it.length;ot++){var at=it[ot];at==="."||at===""&&ot!==0&&ot!==it.length-1||(at===".."?st.pop():st.push(at))}return st.join("/")},c.getTypeOf=function(rt){return typeof rt=="string"?"string":Object.prototype.toString.call(rt)==="[object Array]"?"array":d.nodebuffer&&$.isBuffer(rt)?"nodebuffer":d.uint8array&&rt instanceof Uint8Array?"uint8array":d.arraybuffer&&rt instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(rt){if(!d[rt.toLowerCase()])throw new Error(rt+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(rt){var it,st,ot="";for(st=0;st<(rt||"").length;st++)ot+="\\x"+((it=rt.charCodeAt(st))<16?"0":"")+it.toString(16).toUpperCase();return ot},c.delay=function(rt,it,st){setImmediate(function(){rt.apply(st||null,it||[])})},c.inherits=function(rt,it){function st(){}st.prototype=it.prototype,rt.prototype=new st},c.extend=function(){var rt,it,st={};for(rt=0;rt<arguments.length;rt++)for(it in arguments[rt])Object.prototype.hasOwnProperty.call(arguments[rt],it)&&st[it]===void 0&&(st[it]=arguments[rt][it]);return st},c.prepareContent=function(rt,it,st,ot,at){return j.Promise.resolve(it).then(function(ct){return d.blob&&(ct instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(ct))!==-1)&&typeof FileReader<"u"?new j.Promise(function(ut,dt){var ht=new FileReader;ht.onload=function(pt){ut(pt.target.result)},ht.onerror=function(pt){dt(pt.target.error)},ht.readAsArrayBuffer(ct)}):ct}).then(function(ct){var ut=c.getTypeOf(ct);return ut?(ut==="arraybuffer"?ct=c.transformTo("uint8array",ct):ut==="string"&&(at?ct=g.decode(ct):st&&ot!==!0&&(ct=function(dt){return et(dt,d.uint8array?new Uint8Array(dt.length):new Array(dt.length))}(ct))),ct):j.Promise.reject(new Error("Can't read the data of '"+rt+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,a,c){var d=s("./reader/readerFor"),g=s("./utils"),$=s("./signature"),j=s("./zipEntry"),tt=s("./support");function et(b){this.files=[],this.loadOptions=b}et.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty(h)+", expected "+g.pretty(b)+")")}},isSignature:function(b,h){var _e=this.reader.index;this.reader.setIndex(b);var nt=this.reader.readString(4)===h;return this.reader.setIndex(_e),nt},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),h=tt.uint8array?"uint8array":"array",_e=g.transformTo(h,b);this.zipComment=this.loadOptions.decodeFileName(_e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,h,_e,nt=this.zip64EndOfCentralSize-44;0<nt;)b=this.reader.readInt(2),h=this.reader.readInt(4),_e=this.reader.readData(h),this.zip64ExtensibleData[b]={id:b,length:h,value:_e}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,h;for(b=0;b<this.files.length;b++)h=this.files[b],this.reader.setIndex(h.localHeaderOffset),this.checkSignature($.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature($.CENTRAL_FILE_HEADER);)(b=new j({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature($.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,$.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var h=b;if(this.checkSignature($.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature($.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature($.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,$.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature($.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature($.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _e=this.centralDirOffset+this.centralDirSize;this.zip64&&(_e+=20,_e+=12+this.zip64EndOfCentralSize);var nt=h-_e;if(0<nt)this.isSignature(h,$.CENTRAL_FILE_HEADER)||(this.reader.zero=nt);else if(nt<0)throw new Error("Corrupted zip: missing "+Math.abs(nt)+" bytes.")},prepareReader:function(b){this.reader=d(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=et},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,a,c){var d=s("./reader/readerFor"),g=s("./utils"),$=s("./compressedObject"),j=s("./crc32"),tt=s("./utf8"),et=s("./compressions"),b=s("./support");function h(_e,nt){this.options=_e,this.loadOptions=nt}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_e){var nt,rt;if(_e.skip(22),this.fileNameLength=_e.readInt(2),rt=_e.readInt(2),this.fileName=_e.readData(this.fileNameLength),_e.skip(rt),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((nt=function(it){for(var st in et)if(Object.prototype.hasOwnProperty.call(et,st)&&et[st].magic===it)return et[st];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new $(this.compressedSize,this.uncompressedSize,this.crc32,nt,_e.readData(this.compressedSize))},readCentralPart:function(_e){this.versionMadeBy=_e.readInt(2),_e.skip(2),this.bitFlag=_e.readInt(2),this.compressionMethod=_e.readString(2),this.date=_e.readDate(),this.crc32=_e.readInt(4),this.compressedSize=_e.readInt(4),this.uncompressedSize=_e.readInt(4);var nt=_e.readInt(2);if(this.extraFieldsLength=_e.readInt(2),this.fileCommentLength=_e.readInt(2),this.diskNumberStart=_e.readInt(2),this.internalFileAttributes=_e.readInt(2),this.externalFileAttributes=_e.readInt(4),this.localHeaderOffset=_e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_e.skip(nt),this.readExtraFields(_e),this.parseZIP64ExtraField(_e),this.fileComment=_e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_e==0&&(this.dosPermissions=63&this.externalFileAttributes),_e==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _e=d(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=_e.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=_e.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=_e.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=_e.readInt(4))}},readExtraFields:function(_e){var nt,rt,it,st=_e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_e.index+4<st;)nt=_e.readInt(2),rt=_e.readInt(2),it=_e.readData(rt),this.extraFields[nt]={id:nt,length:rt,value:it};_e.setIndex(st)},handleUTF8:function(){var _e=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=tt.utf8decode(this.fileName),this.fileCommentStr=tt.utf8decode(this.fileComment);else{var nt=this.findExtraFieldUnicodePath();if(nt!==null)this.fileNameStr=nt;else{var rt=g.transformTo(_e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(rt)}var it=this.findExtraFieldUnicodeComment();if(it!==null)this.fileCommentStr=it;else{var st=g.transformTo(_e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(st)}}},findExtraFieldUnicodePath:function(){var _e=this.extraFields[28789];if(_e){var nt=d(_e.value);return nt.readInt(1)!==1||j(this.fileName)!==nt.readInt(4)?null:tt.utf8decode(nt.readData(_e.length-5))}return null},findExtraFieldUnicodeComment:function(){var _e=this.extraFields[25461];if(_e){var nt=d(_e.value);return nt.readInt(1)!==1||j(this.fileComment)!==nt.readInt(4)?null:tt.utf8decode(nt.readData(_e.length-5))}return null}},a.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,a,c){function d(nt,rt,it){this.name=nt,this.dir=it.dir,this.date=it.date,this.comment=it.comment,this.unixPermissions=it.unixPermissions,this.dosPermissions=it.dosPermissions,this._data=rt,this._dataBinary=it.binary,this.options={compression:it.compression,compressionOptions:it.compressionOptions}}var g=s("./stream/StreamHelper"),$=s("./stream/DataWorker"),j=s("./utf8"),tt=s("./compressedObject"),et=s("./stream/GenericWorker");d.prototype={internalStream:function(nt){var rt=null,it="string";try{if(!nt)throw new Error("No output type specified.");var st=(it=nt.toLowerCase())==="string"||it==="text";it!=="binarystring"&&it!=="text"||(it="string"),rt=this._decompressWorker();var ot=!this._dataBinary;ot&&!st&&(rt=rt.pipe(new j.Utf8EncodeWorker)),!ot&&st&&(rt=rt.pipe(new j.Utf8DecodeWorker))}catch(at){(rt=new et("error")).error(at)}return new g(rt,it,"")},async:function(nt,rt){return this.internalStream(nt).accumulate(rt)},nodeStream:function(nt,rt){return this.internalStream(nt||"nodebuffer").toNodejsStream(rt)},_compressWorker:function(nt,rt){if(this._data instanceof tt&&this._data.compression.magic===nt.magic)return this._data.getCompressedWorker();var it=this._decompressWorker();return this._dataBinary||(it=it.pipe(new j.Utf8EncodeWorker)),tt.createWorkerFrom(it,nt,rt)},_decompressWorker:function(){return this._data instanceof tt?this._data.getContentWorker():this._data instanceof et?this._data:new $(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_e=0;_e<b.length;_e++)d.prototype[b[_e]]=h;a.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,a,c){(function(d){var g,$,j=d.MutationObserver||d.WebKitMutationObserver;if(j){var tt=0,et=new j(nt),b=d.document.createTextNode("");et.observe(b,{characterData:!0}),g=function(){b.data=tt=++tt%2}}else if(d.setImmediate||d.MessageChannel===void 0)g="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var rt=d.document.createElement("script");rt.onreadystatechange=function(){nt(),rt.onreadystatechange=null,rt.parentNode.removeChild(rt),rt=null},d.document.documentElement.appendChild(rt)}:function(){setTimeout(nt,0)};else{var h=new d.MessageChannel;h.port1.onmessage=nt,g=function(){h.port2.postMessage(0)}}var _e=[];function nt(){var rt,it;$=!0;for(var st=_e.length;st;){for(it=_e,_e=[],rt=-1;++rt<st;)it[rt]();st=_e.length}$=!1}a.exports=function(rt){_e.push(rt)!==1||$||g()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,a,c){var d=s("immediate");function g(){}var $={},j=["REJECTED"],tt=["FULFILLED"],et=["PENDING"];function b(st){if(typeof st!="function")throw new TypeError("resolver must be a function");this.state=et,this.queue=[],this.outcome=void 0,st!==g&&rt(this,st)}function h(st,ot,at){this.promise=st,typeof ot=="function"&&(this.onFulfilled=ot,this.callFulfilled=this.otherCallFulfilled),typeof at=="function"&&(this.onRejected=at,this.callRejected=this.otherCallRejected)}function _e(st,ot,at){d(function(){var ct;try{ct=ot(at)}catch(ut){return $.reject(st,ut)}ct===st?$.reject(st,new TypeError("Cannot resolve promise with itself")):$.resolve(st,ct)})}function nt(st){var ot=st&&st.then;if(st&&(typeof st=="object"||typeof st=="function")&&typeof ot=="function")return function(){ot.apply(st,arguments)}}function rt(st,ot){var at=!1;function ct(ht){at||(at=!0,$.reject(st,ht))}function ut(ht){at||(at=!0,$.resolve(st,ht))}var dt=it(function(){ot(ut,ct)});dt.status==="error"&&ct(dt.value)}function it(st,ot){var at={};try{at.value=st(ot),at.status="success"}catch(ct){at.status="error",at.value=ct}return at}(a.exports=b).prototype.finally=function(st){if(typeof st!="function")return this;var ot=this.constructor;return this.then(function(at){return ot.resolve(st()).then(function(){return at})},function(at){return ot.resolve(st()).then(function(){throw at})})},b.prototype.catch=function(st){return this.then(null,st)},b.prototype.then=function(st,ot){if(typeof st!="function"&&this.state===tt||typeof ot!="function"&&this.state===j)return this;var at=new this.constructor(g);return this.state!==et?_e(at,this.state===tt?st:ot,this.outcome):this.queue.push(new h(at,st,ot)),at},h.prototype.callFulfilled=function(st){$.resolve(this.promise,st)},h.prototype.otherCallFulfilled=function(st){_e(this.promise,this.onFulfilled,st)},h.prototype.callRejected=function(st){$.reject(this.promise,st)},h.prototype.otherCallRejected=function(st){_e(this.promise,this.onRejected,st)},$.resolve=function(st,ot){var at=it(nt,ot);if(at.status==="error")return $.reject(st,at.value);var ct=at.value;if(ct)rt(st,ct);else{st.state=tt,st.outcome=ot;for(var ut=-1,dt=st.queue.length;++ut<dt;)st.queue[ut].callFulfilled(ot)}return st},$.reject=function(st,ot){st.state=j,st.outcome=ot;for(var at=-1,ct=st.queue.length;++at<ct;)st.queue[at].callRejected(ot);return st},b.resolve=function(st){return st instanceof this?st:$.resolve(new this(g),st)},b.reject=function(st){var ot=new this(g);return $.reject(ot,st)},b.all=function(st){var ot=this;if(Object.prototype.toString.call(st)!=="[object Array]")return this.reject(new TypeError("must be an array"));var at=st.length,ct=!1;if(!at)return this.resolve([]);for(var ut=new Array(at),dt=0,ht=-1,pt=new this(g);++ht<at;)ft(st[ht],ht);return pt;function ft(bt,Ct){ot.resolve(bt).then(function(yt){ut[Ct]=yt,++dt!==at||ct||(ct=!0,$.resolve(pt,ut))},function(yt){ct||(ct=!0,$.reject(pt,yt))})}},b.race=function(st){var ot=this;if(Object.prototype.toString.call(st)!=="[object Array]")return this.reject(new TypeError("must be an array"));var at=st.length,ct=!1;if(!at)return this.resolve([]);for(var ut=-1,dt=new this(g);++ut<at;)ht=st[ut],ot.resolve(ht).then(function(pt){ct||(ct=!0,$.resolve(dt,pt))},function(pt){ct||(ct=!0,$.reject(dt,pt))});var ht;return dt}},{immediate:36}],38:[function(s,a,c){var d={};(0,s("./lib/utils/common").assign)(d,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),a.exports=d},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,a,c){var d=s("./zlib/deflate"),g=s("./utils/common"),$=s("./utils/strings"),j=s("./zlib/messages"),tt=s("./zlib/zstream"),et=Object.prototype.toString,b=0,h=-1,_e=0,nt=8;function rt(st){if(!(this instanceof rt))return new rt(st);this.options=g.assign({level:h,method:nt,chunkSize:16384,windowBits:15,memLevel:8,strategy:_e,to:""},st||{});var ot=this.options;ot.raw&&0<ot.windowBits?ot.windowBits=-ot.windowBits:ot.gzip&&0<ot.windowBits&&ot.windowBits<16&&(ot.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tt,this.strm.avail_out=0;var at=d.deflateInit2(this.strm,ot.level,ot.method,ot.windowBits,ot.memLevel,ot.strategy);if(at!==b)throw new Error(j[at]);if(ot.header&&d.deflateSetHeader(this.strm,ot.header),ot.dictionary){var ct;if(ct=typeof ot.dictionary=="string"?$.string2buf(ot.dictionary):et.call(ot.dictionary)==="[object ArrayBuffer]"?new Uint8Array(ot.dictionary):ot.dictionary,(at=d.deflateSetDictionary(this.strm,ct))!==b)throw new Error(j[at]);this._dict_set=!0}}function it(st,ot){var at=new rt(ot);if(at.push(st,!0),at.err)throw at.msg||j[at.err];return at.result}rt.prototype.push=function(st,ot){var at,ct,ut=this.strm,dt=this.options.chunkSize;if(this.ended)return!1;ct=ot===~~ot?ot:ot===!0?4:0,typeof st=="string"?ut.input=$.string2buf(st):et.call(st)==="[object ArrayBuffer]"?ut.input=new Uint8Array(st):ut.input=st,ut.next_in=0,ut.avail_in=ut.input.length;do{if(ut.avail_out===0&&(ut.output=new g.Buf8(dt),ut.next_out=0,ut.avail_out=dt),(at=d.deflate(ut,ct))!==1&&at!==b)return this.onEnd(at),!(this.ended=!0);ut.avail_out!==0&&(ut.avail_in!==0||ct!==4&&ct!==2)||(this.options.to==="string"?this.onData($.buf2binstring(g.shrinkBuf(ut.output,ut.next_out))):this.onData(g.shrinkBuf(ut.output,ut.next_out)))}while((0<ut.avail_in||ut.avail_out===0)&&at!==1);return ct===4?(at=d.deflateEnd(this.strm),this.onEnd(at),this.ended=!0,at===b):ct!==2||(this.onEnd(b),!(ut.avail_out=0))},rt.prototype.onData=function(st){this.chunks.push(st)},rt.prototype.onEnd=function(st){st===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=st,this.msg=this.strm.msg},c.Deflate=rt,c.deflate=it,c.deflateRaw=function(st,ot){return(ot=ot||{}).raw=!0,it(st,ot)},c.gzip=function(st,ot){return(ot=ot||{}).gzip=!0,it(st,ot)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,a,c){var d=s("./zlib/inflate"),g=s("./utils/common"),$=s("./utils/strings"),j=s("./zlib/constants"),tt=s("./zlib/messages"),et=s("./zlib/zstream"),b=s("./zlib/gzheader"),h=Object.prototype.toString;function _e(rt){if(!(this instanceof _e))return new _e(rt);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},rt||{});var it=this.options;it.raw&&0<=it.windowBits&&it.windowBits<16&&(it.windowBits=-it.windowBits,it.windowBits===0&&(it.windowBits=-15)),!(0<=it.windowBits&&it.windowBits<16)||rt&&rt.windowBits||(it.windowBits+=32),15<it.windowBits&&it.windowBits<48&&!(15&it.windowBits)&&(it.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new et,this.strm.avail_out=0;var st=d.inflateInit2(this.strm,it.windowBits);if(st!==j.Z_OK)throw new Error(tt[st]);this.header=new b,d.inflateGetHeader(this.strm,this.header)}function nt(rt,it){var st=new _e(it);if(st.push(rt,!0),st.err)throw st.msg||tt[st.err];return st.result}_e.prototype.push=function(rt,it){var st,ot,at,ct,ut,dt,ht=this.strm,pt=this.options.chunkSize,ft=this.options.dictionary,bt=!1;if(this.ended)return!1;ot=it===~~it?it:it===!0?j.Z_FINISH:j.Z_NO_FLUSH,typeof rt=="string"?ht.input=$.binstring2buf(rt):h.call(rt)==="[object ArrayBuffer]"?ht.input=new Uint8Array(rt):ht.input=rt,ht.next_in=0,ht.avail_in=ht.input.length;do{if(ht.avail_out===0&&(ht.output=new g.Buf8(pt),ht.next_out=0,ht.avail_out=pt),(st=d.inflate(ht,j.Z_NO_FLUSH))===j.Z_NEED_DICT&&ft&&(dt=typeof ft=="string"?$.string2buf(ft):h.call(ft)==="[object ArrayBuffer]"?new Uint8Array(ft):ft,st=d.inflateSetDictionary(this.strm,dt)),st===j.Z_BUF_ERROR&&bt===!0&&(st=j.Z_OK,bt=!1),st!==j.Z_STREAM_END&&st!==j.Z_OK)return this.onEnd(st),!(this.ended=!0);ht.next_out&&(ht.avail_out!==0&&st!==j.Z_STREAM_END&&(ht.avail_in!==0||ot!==j.Z_FINISH&&ot!==j.Z_SYNC_FLUSH)||(this.options.to==="string"?(at=$.utf8border(ht.output,ht.next_out),ct=ht.next_out-at,ut=$.buf2string(ht.output,at),ht.next_out=ct,ht.avail_out=pt-ct,ct&&g.arraySet(ht.output,ht.output,at,ct,0),this.onData(ut)):this.onData(g.shrinkBuf(ht.output,ht.next_out)))),ht.avail_in===0&&ht.avail_out===0&&(bt=!0)}while((0<ht.avail_in||ht.avail_out===0)&&st!==j.Z_STREAM_END);return st===j.Z_STREAM_END&&(ot=j.Z_FINISH),ot===j.Z_FINISH?(st=d.inflateEnd(this.strm),this.onEnd(st),this.ended=!0,st===j.Z_OK):ot!==j.Z_SYNC_FLUSH||(this.onEnd(j.Z_OK),!(ht.avail_out=0))},_e.prototype.onData=function(rt){this.chunks.push(rt)},_e.prototype.onEnd=function(rt){rt===j.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=rt,this.msg=this.strm.msg},c.Inflate=_e,c.inflate=nt,c.inflateRaw=function(rt,it){return(it=it||{}).raw=!0,nt(rt,it)},c.ungzip=nt},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,a,c){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(j){for(var tt=Array.prototype.slice.call(arguments,1);tt.length;){var et=tt.shift();if(et){if(typeof et!="object")throw new TypeError(et+"must be non-object");for(var b in et)et.hasOwnProperty(b)&&(j[b]=et[b])}}return j},c.shrinkBuf=function(j,tt){return j.length===tt?j:j.subarray?j.subarray(0,tt):(j.length=tt,j)};var g={arraySet:function(j,tt,et,b,h){if(tt.subarray&&j.subarray)j.set(tt.subarray(et,et+b),h);else for(var _e=0;_e<b;_e++)j[h+_e]=tt[et+_e]},flattenChunks:function(j){var tt,et,b,h,_e,nt;for(tt=b=0,et=j.length;tt<et;tt++)b+=j[tt].length;for(nt=new Uint8Array(b),tt=h=0,et=j.length;tt<et;tt++)_e=j[tt],nt.set(_e,h),h+=_e.length;return nt}},$={arraySet:function(j,tt,et,b,h){for(var _e=0;_e<b;_e++)j[h+_e]=tt[et+_e]},flattenChunks:function(j){return[].concat.apply([],j)}};c.setTyped=function(j){j?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,g)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,$))},c.setTyped(d)},{}],42:[function(s,a,c){var d=s("./common"),g=!0,$=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$=!1}for(var j=new d.Buf8(256),tt=0;tt<256;tt++)j[tt]=252<=tt?6:248<=tt?5:240<=tt?4:224<=tt?3:192<=tt?2:1;function et(b,h){if(h<65537&&(b.subarray&&$||!b.subarray&&g))return String.fromCharCode.apply(null,d.shrinkBuf(b,h));for(var _e="",nt=0;nt<h;nt++)_e+=String.fromCharCode(b[nt]);return _e}j[254]=j[254]=1,c.string2buf=function(b){var h,_e,nt,rt,it,st=b.length,ot=0;for(rt=0;rt<st;rt++)(64512&(_e=b.charCodeAt(rt)))==55296&&rt+1<st&&(64512&(nt=b.charCodeAt(rt+1)))==56320&&(_e=65536+(_e-55296<<10)+(nt-56320),rt++),ot+=_e<128?1:_e<2048?2:_e<65536?3:4;for(h=new d.Buf8(ot),rt=it=0;it<ot;rt++)(64512&(_e=b.charCodeAt(rt)))==55296&&rt+1<st&&(64512&(nt=b.charCodeAt(rt+1)))==56320&&(_e=65536+(_e-55296<<10)+(nt-56320),rt++),_e<128?h[it++]=_e:(_e<2048?h[it++]=192|_e>>>6:(_e<65536?h[it++]=224|_e>>>12:(h[it++]=240|_e>>>18,h[it++]=128|_e>>>12&63),h[it++]=128|_e>>>6&63),h[it++]=128|63&_e);return h},c.buf2binstring=function(b){return et(b,b.length)},c.binstring2buf=function(b){for(var h=new d.Buf8(b.length),_e=0,nt=h.length;_e<nt;_e++)h[_e]=b.charCodeAt(_e);return h},c.buf2string=function(b,h){var _e,nt,rt,it,st=h||b.length,ot=new Array(2*st);for(_e=nt=0;_e<st;)if((rt=b[_e++])<128)ot[nt++]=rt;else if(4<(it=j[rt]))ot[nt++]=65533,_e+=it-1;else{for(rt&=it===2?31:it===3?15:7;1<it&&_e<st;)rt=rt<<6|63&b[_e++],it--;1<it?ot[nt++]=65533:rt<65536?ot[nt++]=rt:(rt-=65536,ot[nt++]=55296|rt>>10&1023,ot[nt++]=56320|1023&rt)}return et(ot,nt)},c.utf8border=function(b,h){var _e;for((h=h||b.length)>b.length&&(h=b.length),_e=h-1;0<=_e&&(192&b[_e])==128;)_e--;return _e<0||_e===0?h:_e+j[b[_e]]>h?_e:h}},{"./common":41}],43:[function(s,a,c){a.exports=function(d,g,$,j){for(var tt=65535&d|0,et=d>>>16&65535|0,b=0;$!==0;){for($-=b=2e3<$?2e3:$;et=et+(tt=tt+g[j++]|0)|0,--b;);tt%=65521,et%=65521}return tt|et<<16|0}},{}],44:[function(s,a,c){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,a,c){var d=function(){for(var g,$=[],j=0;j<256;j++){g=j;for(var tt=0;tt<8;tt++)g=1&g?3988292384^g>>>1:g>>>1;$[j]=g}return $}();a.exports=function(g,$,j,tt){var et=d,b=tt+j;g^=-1;for(var h=tt;h<b;h++)g=g>>>8^et[255&(g^$[h])];return-1^g}},{}],46:[function(s,a,c){var d,g=s("../utils/common"),$=s("./trees"),j=s("./adler32"),tt=s("./crc32"),et=s("./messages"),b=0,h=4,_e=0,nt=-2,rt=-1,it=4,st=2,ot=8,at=9,ct=286,ut=30,dt=19,ht=2*ct+1,pt=15,ft=3,bt=258,Ct=bt+ft+1,yt=42,Et=113,gt=1,At=2,mt=3,_t=4;function St(vt,Qt){return vt.msg=et[Qt],Qt}function wt(vt){return(vt<<1)-(4<vt?9:0)}function kt(vt){for(var Qt=vt.length;0<=--Qt;)vt[Qt]=0}function Dt(vt){var Qt=vt.state,Kt=Qt.pending;Kt>vt.avail_out&&(Kt=vt.avail_out),Kt!==0&&(g.arraySet(vt.output,Qt.pending_buf,Qt.pending_out,Kt,vt.next_out),vt.next_out+=Kt,Qt.pending_out+=Kt,vt.total_out+=Kt,vt.avail_out-=Kt,Qt.pending-=Kt,Qt.pending===0&&(Qt.pending_out=0))}function Ft(vt,Qt){$._tr_flush_block(vt,0<=vt.block_start?vt.block_start:-1,vt.strstart-vt.block_start,Qt),vt.block_start=vt.strstart,Dt(vt.strm)}function Ot(vt,Qt){vt.pending_buf[vt.pending++]=Qt}function Bt(vt,Qt){vt.pending_buf[vt.pending++]=Qt>>>8&255,vt.pending_buf[vt.pending++]=255&Qt}function Vt(vt,Qt){var Kt,Lt,Rt=vt.max_chain_length,Gt=vt.strstart,dn=vt.prev_length,hn=vt.nice_match,Ht=vt.strstart>vt.w_size-Ct?vt.strstart-(vt.w_size-Ct):0,$t=vt.window,zt=vt.w_mask,qt=vt.prev,sn=vt.strstart+bt,mn=$t[Gt+dn-1],En=$t[Gt+dn];vt.prev_length>=vt.good_match&&(Rt>>=2),hn>vt.lookahead&&(hn=vt.lookahead);do if($t[(Kt=Qt)+dn]===En&&$t[Kt+dn-1]===mn&&$t[Kt]===$t[Gt]&&$t[++Kt]===$t[Gt+1]){Gt+=2,Kt++;do;while($t[++Gt]===$t[++Kt]&&$t[++Gt]===$t[++Kt]&&$t[++Gt]===$t[++Kt]&&$t[++Gt]===$t[++Kt]&&$t[++Gt]===$t[++Kt]&&$t[++Gt]===$t[++Kt]&&$t[++Gt]===$t[++Kt]&&$t[++Gt]===$t[++Kt]&&Gt<sn);if(Lt=bt-(sn-Gt),Gt=sn-bt,dn<Lt){if(vt.match_start=Qt,hn<=(dn=Lt))break;mn=$t[Gt+dn-1],En=$t[Gt+dn]}}while((Qt=qt[Qt&zt])>Ht&&--Rt!=0);return dn<=vt.lookahead?dn:vt.lookahead}function Zt(vt){var Qt,Kt,Lt,Rt,Gt,dn,hn,Ht,$t,zt,qt=vt.w_size;do{if(Rt=vt.window_size-vt.lookahead-vt.strstart,vt.strstart>=qt+(qt-Ct)){for(g.arraySet(vt.window,vt.window,qt,qt,0),vt.match_start-=qt,vt.strstart-=qt,vt.block_start-=qt,Qt=Kt=vt.hash_size;Lt=vt.head[--Qt],vt.head[Qt]=qt<=Lt?Lt-qt:0,--Kt;);for(Qt=Kt=qt;Lt=vt.prev[--Qt],vt.prev[Qt]=qt<=Lt?Lt-qt:0,--Kt;);Rt+=qt}if(vt.strm.avail_in===0)break;if(dn=vt.strm,hn=vt.window,Ht=vt.strstart+vt.lookahead,$t=Rt,zt=void 0,zt=dn.avail_in,$t<zt&&(zt=$t),Kt=zt===0?0:(dn.avail_in-=zt,g.arraySet(hn,dn.input,dn.next_in,zt,Ht),dn.state.wrap===1?dn.adler=j(dn.adler,hn,zt,Ht):dn.state.wrap===2&&(dn.adler=tt(dn.adler,hn,zt,Ht)),dn.next_in+=zt,dn.total_in+=zt,zt),vt.lookahead+=Kt,vt.lookahead+vt.insert>=ft)for(Gt=vt.strstart-vt.insert,vt.ins_h=vt.window[Gt],vt.ins_h=(vt.ins_h<<vt.hash_shift^vt.window[Gt+1])&vt.hash_mask;vt.insert&&(vt.ins_h=(vt.ins_h<<vt.hash_shift^vt.window[Gt+ft-1])&vt.hash_mask,vt.prev[Gt&vt.w_mask]=vt.head[vt.ins_h],vt.head[vt.ins_h]=Gt,Gt++,vt.insert--,!(vt.lookahead+vt.insert<ft)););}while(vt.lookahead<Ct&&vt.strm.avail_in!==0)}function Jt(vt,Qt){for(var Kt,Lt;;){if(vt.lookahead<Ct){if(Zt(vt),vt.lookahead<Ct&&Qt===b)return gt;if(vt.lookahead===0)break}if(Kt=0,vt.lookahead>=ft&&(vt.ins_h=(vt.ins_h<<vt.hash_shift^vt.window[vt.strstart+ft-1])&vt.hash_mask,Kt=vt.prev[vt.strstart&vt.w_mask]=vt.head[vt.ins_h],vt.head[vt.ins_h]=vt.strstart),Kt!==0&&vt.strstart-Kt<=vt.w_size-Ct&&(vt.match_length=Vt(vt,Kt)),vt.match_length>=ft)if(Lt=$._tr_tally(vt,vt.strstart-vt.match_start,vt.match_length-ft),vt.lookahead-=vt.match_length,vt.match_length<=vt.max_lazy_match&&vt.lookahead>=ft){for(vt.match_length--;vt.strstart++,vt.ins_h=(vt.ins_h<<vt.hash_shift^vt.window[vt.strstart+ft-1])&vt.hash_mask,Kt=vt.prev[vt.strstart&vt.w_mask]=vt.head[vt.ins_h],vt.head[vt.ins_h]=vt.strstart,--vt.match_length!=0;);vt.strstart++}else vt.strstart+=vt.match_length,vt.match_length=0,vt.ins_h=vt.window[vt.strstart],vt.ins_h=(vt.ins_h<<vt.hash_shift^vt.window[vt.strstart+1])&vt.hash_mask;else Lt=$._tr_tally(vt,0,vt.window[vt.strstart]),vt.lookahead--,vt.strstart++;if(Lt&&(Ft(vt,!1),vt.strm.avail_out===0))return gt}return vt.insert=vt.strstart<ft-1?vt.strstart:ft-1,Qt===h?(Ft(vt,!0),vt.strm.avail_out===0?mt:_t):vt.last_lit&&(Ft(vt,!1),vt.strm.avail_out===0)?gt:At}function fn(vt,Qt){for(var Kt,Lt,Rt;;){if(vt.lookahead<Ct){if(Zt(vt),vt.lookahead<Ct&&Qt===b)return gt;if(vt.lookahead===0)break}if(Kt=0,vt.lookahead>=ft&&(vt.ins_h=(vt.ins_h<<vt.hash_shift^vt.window[vt.strstart+ft-1])&vt.hash_mask,Kt=vt.prev[vt.strstart&vt.w_mask]=vt.head[vt.ins_h],vt.head[vt.ins_h]=vt.strstart),vt.prev_length=vt.match_length,vt.prev_match=vt.match_start,vt.match_length=ft-1,Kt!==0&&vt.prev_length<vt.max_lazy_match&&vt.strstart-Kt<=vt.w_size-Ct&&(vt.match_length=Vt(vt,Kt),vt.match_length<=5&&(vt.strategy===1||vt.match_length===ft&&4096<vt.strstart-vt.match_start)&&(vt.match_length=ft-1)),vt.prev_length>=ft&&vt.match_length<=vt.prev_length){for(Rt=vt.strstart+vt.lookahead-ft,Lt=$._tr_tally(vt,vt.strstart-1-vt.prev_match,vt.prev_length-ft),vt.lookahead-=vt.prev_length-1,vt.prev_length-=2;++vt.strstart<=Rt&&(vt.ins_h=(vt.ins_h<<vt.hash_shift^vt.window[vt.strstart+ft-1])&vt.hash_mask,Kt=vt.prev[vt.strstart&vt.w_mask]=vt.head[vt.ins_h],vt.head[vt.ins_h]=vt.strstart),--vt.prev_length!=0;);if(vt.match_available=0,vt.match_length=ft-1,vt.strstart++,Lt&&(Ft(vt,!1),vt.strm.avail_out===0))return gt}else if(vt.match_available){if((Lt=$._tr_tally(vt,0,vt.window[vt.strstart-1]))&&Ft(vt,!1),vt.strstart++,vt.lookahead--,vt.strm.avail_out===0)return gt}else vt.match_available=1,vt.strstart++,vt.lookahead--}return vt.match_available&&(Lt=$._tr_tally(vt,0,vt.window[vt.strstart-1]),vt.match_available=0),vt.insert=vt.strstart<ft-1?vt.strstart:ft-1,Qt===h?(Ft(vt,!0),vt.strm.avail_out===0?mt:_t):vt.last_lit&&(Ft(vt,!1),vt.strm.avail_out===0)?gt:At}function yn(vt,Qt,Kt,Lt,Rt){this.good_length=vt,this.max_lazy=Qt,this.nice_length=Kt,this.max_chain=Lt,this.func=Rt}function _n(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ot,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(2*ht),this.dyn_dtree=new g.Buf16(2*(2*ut+1)),this.bl_tree=new g.Buf16(2*(2*dt+1)),kt(this.dyn_ltree),kt(this.dyn_dtree),kt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(pt+1),this.heap=new g.Buf16(2*ct+1),kt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(2*ct+1),kt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Tn(vt){var Qt;return vt&&vt.state?(vt.total_in=vt.total_out=0,vt.data_type=st,(Qt=vt.state).pending=0,Qt.pending_out=0,Qt.wrap<0&&(Qt.wrap=-Qt.wrap),Qt.status=Qt.wrap?yt:Et,vt.adler=Qt.wrap===2?0:1,Qt.last_flush=b,$._tr_init(Qt),_e):St(vt,nt)}function Yt(vt){var Qt=Tn(vt);return Qt===_e&&function(Kt){Kt.window_size=2*Kt.w_size,kt(Kt.head),Kt.max_lazy_match=d[Kt.level].max_lazy,Kt.good_match=d[Kt.level].good_length,Kt.nice_match=d[Kt.level].nice_length,Kt.max_chain_length=d[Kt.level].max_chain,Kt.strstart=0,Kt.block_start=0,Kt.lookahead=0,Kt.insert=0,Kt.match_length=Kt.prev_length=ft-1,Kt.match_available=0,Kt.ins_h=0}(vt.state),Qt}function an(vt,Qt,Kt,Lt,Rt,Gt){if(!vt)return nt;var dn=1;if(Qt===rt&&(Qt=6),Lt<0?(dn=0,Lt=-Lt):15<Lt&&(dn=2,Lt-=16),Rt<1||at<Rt||Kt!==ot||Lt<8||15<Lt||Qt<0||9<Qt||Gt<0||it<Gt)return St(vt,nt);Lt===8&&(Lt=9);var hn=new _n;return(vt.state=hn).strm=vt,hn.wrap=dn,hn.gzhead=null,hn.w_bits=Lt,hn.w_size=1<<hn.w_bits,hn.w_mask=hn.w_size-1,hn.hash_bits=Rt+7,hn.hash_size=1<<hn.hash_bits,hn.hash_mask=hn.hash_size-1,hn.hash_shift=~~((hn.hash_bits+ft-1)/ft),hn.window=new g.Buf8(2*hn.w_size),hn.head=new g.Buf16(hn.hash_size),hn.prev=new g.Buf16(hn.w_size),hn.lit_bufsize=1<<Rt+6,hn.pending_buf_size=4*hn.lit_bufsize,hn.pending_buf=new g.Buf8(hn.pending_buf_size),hn.d_buf=1*hn.lit_bufsize,hn.l_buf=3*hn.lit_bufsize,hn.level=Qt,hn.strategy=Gt,hn.method=Kt,Yt(vt)}d=[new yn(0,0,0,0,function(vt,Qt){var Kt=65535;for(Kt>vt.pending_buf_size-5&&(Kt=vt.pending_buf_size-5);;){if(vt.lookahead<=1){if(Zt(vt),vt.lookahead===0&&Qt===b)return gt;if(vt.lookahead===0)break}vt.strstart+=vt.lookahead,vt.lookahead=0;var Lt=vt.block_start+Kt;if((vt.strstart===0||vt.strstart>=Lt)&&(vt.lookahead=vt.strstart-Lt,vt.strstart=Lt,Ft(vt,!1),vt.strm.avail_out===0)||vt.strstart-vt.block_start>=vt.w_size-Ct&&(Ft(vt,!1),vt.strm.avail_out===0))return gt}return vt.insert=0,Qt===h?(Ft(vt,!0),vt.strm.avail_out===0?mt:_t):(vt.strstart>vt.block_start&&(Ft(vt,!1),vt.strm.avail_out),gt)}),new yn(4,4,8,4,Jt),new yn(4,5,16,8,Jt),new yn(4,6,32,32,Jt),new yn(4,4,16,16,fn),new yn(8,16,32,32,fn),new yn(8,16,128,128,fn),new yn(8,32,128,256,fn),new yn(32,128,258,1024,fn),new yn(32,258,258,4096,fn)],c.deflateInit=function(vt,Qt){return an(vt,Qt,ot,15,8,0)},c.deflateInit2=an,c.deflateReset=Yt,c.deflateResetKeep=Tn,c.deflateSetHeader=function(vt,Qt){return vt&&vt.state?vt.state.wrap!==2?nt:(vt.state.gzhead=Qt,_e):nt},c.deflate=function(vt,Qt){var Kt,Lt,Rt,Gt;if(!vt||!vt.state||5<Qt||Qt<0)return vt?St(vt,nt):nt;if(Lt=vt.state,!vt.output||!vt.input&&vt.avail_in!==0||Lt.status===666&&Qt!==h)return St(vt,vt.avail_out===0?-5:nt);if(Lt.strm=vt,Kt=Lt.last_flush,Lt.last_flush=Qt,Lt.status===yt)if(Lt.wrap===2)vt.adler=0,Ot(Lt,31),Ot(Lt,139),Ot(Lt,8),Lt.gzhead?(Ot(Lt,(Lt.gzhead.text?1:0)+(Lt.gzhead.hcrc?2:0)+(Lt.gzhead.extra?4:0)+(Lt.gzhead.name?8:0)+(Lt.gzhead.comment?16:0)),Ot(Lt,255&Lt.gzhead.time),Ot(Lt,Lt.gzhead.time>>8&255),Ot(Lt,Lt.gzhead.time>>16&255),Ot(Lt,Lt.gzhead.time>>24&255),Ot(Lt,Lt.level===9?2:2<=Lt.strategy||Lt.level<2?4:0),Ot(Lt,255&Lt.gzhead.os),Lt.gzhead.extra&&Lt.gzhead.extra.length&&(Ot(Lt,255&Lt.gzhead.extra.length),Ot(Lt,Lt.gzhead.extra.length>>8&255)),Lt.gzhead.hcrc&&(vt.adler=tt(vt.adler,Lt.pending_buf,Lt.pending,0)),Lt.gzindex=0,Lt.status=69):(Ot(Lt,0),Ot(Lt,0),Ot(Lt,0),Ot(Lt,0),Ot(Lt,0),Ot(Lt,Lt.level===9?2:2<=Lt.strategy||Lt.level<2?4:0),Ot(Lt,3),Lt.status=Et);else{var dn=ot+(Lt.w_bits-8<<4)<<8;dn|=(2<=Lt.strategy||Lt.level<2?0:Lt.level<6?1:Lt.level===6?2:3)<<6,Lt.strstart!==0&&(dn|=32),dn+=31-dn%31,Lt.status=Et,Bt(Lt,dn),Lt.strstart!==0&&(Bt(Lt,vt.adler>>>16),Bt(Lt,65535&vt.adler)),vt.adler=1}if(Lt.status===69)if(Lt.gzhead.extra){for(Rt=Lt.pending;Lt.gzindex<(65535&Lt.gzhead.extra.length)&&(Lt.pending!==Lt.pending_buf_size||(Lt.gzhead.hcrc&&Lt.pending>Rt&&(vt.adler=tt(vt.adler,Lt.pending_buf,Lt.pending-Rt,Rt)),Dt(vt),Rt=Lt.pending,Lt.pending!==Lt.pending_buf_size));)Ot(Lt,255&Lt.gzhead.extra[Lt.gzindex]),Lt.gzindex++;Lt.gzhead.hcrc&&Lt.pending>Rt&&(vt.adler=tt(vt.adler,Lt.pending_buf,Lt.pending-Rt,Rt)),Lt.gzindex===Lt.gzhead.extra.length&&(Lt.gzindex=0,Lt.status=73)}else Lt.status=73;if(Lt.status===73)if(Lt.gzhead.name){Rt=Lt.pending;do{if(Lt.pending===Lt.pending_buf_size&&(Lt.gzhead.hcrc&&Lt.pending>Rt&&(vt.adler=tt(vt.adler,Lt.pending_buf,Lt.pending-Rt,Rt)),Dt(vt),Rt=Lt.pending,Lt.pending===Lt.pending_buf_size)){Gt=1;break}Gt=Lt.gzindex<Lt.gzhead.name.length?255&Lt.gzhead.name.charCodeAt(Lt.gzindex++):0,Ot(Lt,Gt)}while(Gt!==0);Lt.gzhead.hcrc&&Lt.pending>Rt&&(vt.adler=tt(vt.adler,Lt.pending_buf,Lt.pending-Rt,Rt)),Gt===0&&(Lt.gzindex=0,Lt.status=91)}else Lt.status=91;if(Lt.status===91)if(Lt.gzhead.comment){Rt=Lt.pending;do{if(Lt.pending===Lt.pending_buf_size&&(Lt.gzhead.hcrc&&Lt.pending>Rt&&(vt.adler=tt(vt.adler,Lt.pending_buf,Lt.pending-Rt,Rt)),Dt(vt),Rt=Lt.pending,Lt.pending===Lt.pending_buf_size)){Gt=1;break}Gt=Lt.gzindex<Lt.gzhead.comment.length?255&Lt.gzhead.comment.charCodeAt(Lt.gzindex++):0,Ot(Lt,Gt)}while(Gt!==0);Lt.gzhead.hcrc&&Lt.pending>Rt&&(vt.adler=tt(vt.adler,Lt.pending_buf,Lt.pending-Rt,Rt)),Gt===0&&(Lt.status=103)}else Lt.status=103;if(Lt.status===103&&(Lt.gzhead.hcrc?(Lt.pending+2>Lt.pending_buf_size&&Dt(vt),Lt.pending+2<=Lt.pending_buf_size&&(Ot(Lt,255&vt.adler),Ot(Lt,vt.adler>>8&255),vt.adler=0,Lt.status=Et)):Lt.status=Et),Lt.pending!==0){if(Dt(vt),vt.avail_out===0)return Lt.last_flush=-1,_e}else if(vt.avail_in===0&&wt(Qt)<=wt(Kt)&&Qt!==h)return St(vt,-5);if(Lt.status===666&&vt.avail_in!==0)return St(vt,-5);if(vt.avail_in!==0||Lt.lookahead!==0||Qt!==b&&Lt.status!==666){var hn=Lt.strategy===2?function(Ht,$t){for(var zt;;){if(Ht.lookahead===0&&(Zt(Ht),Ht.lookahead===0)){if($t===b)return gt;break}if(Ht.match_length=0,zt=$._tr_tally(Ht,0,Ht.window[Ht.strstart]),Ht.lookahead--,Ht.strstart++,zt&&(Ft(Ht,!1),Ht.strm.avail_out===0))return gt}return Ht.insert=0,$t===h?(Ft(Ht,!0),Ht.strm.avail_out===0?mt:_t):Ht.last_lit&&(Ft(Ht,!1),Ht.strm.avail_out===0)?gt:At}(Lt,Qt):Lt.strategy===3?function(Ht,$t){for(var zt,qt,sn,mn,En=Ht.window;;){if(Ht.lookahead<=bt){if(Zt(Ht),Ht.lookahead<=bt&&$t===b)return gt;if(Ht.lookahead===0)break}if(Ht.match_length=0,Ht.lookahead>=ft&&0<Ht.strstart&&(qt=En[sn=Ht.strstart-1])===En[++sn]&&qt===En[++sn]&&qt===En[++sn]){mn=Ht.strstart+bt;do;while(qt===En[++sn]&&qt===En[++sn]&&qt===En[++sn]&&qt===En[++sn]&&qt===En[++sn]&&qt===En[++sn]&&qt===En[++sn]&&qt===En[++sn]&&sn<mn);Ht.match_length=bt-(mn-sn),Ht.match_length>Ht.lookahead&&(Ht.match_length=Ht.lookahead)}if(Ht.match_length>=ft?(zt=$._tr_tally(Ht,1,Ht.match_length-ft),Ht.lookahead-=Ht.match_length,Ht.strstart+=Ht.match_length,Ht.match_length=0):(zt=$._tr_tally(Ht,0,Ht.window[Ht.strstart]),Ht.lookahead--,Ht.strstart++),zt&&(Ft(Ht,!1),Ht.strm.avail_out===0))return gt}return Ht.insert=0,$t===h?(Ft(Ht,!0),Ht.strm.avail_out===0?mt:_t):Ht.last_lit&&(Ft(Ht,!1),Ht.strm.avail_out===0)?gt:At}(Lt,Qt):d[Lt.level].func(Lt,Qt);if(hn!==mt&&hn!==_t||(Lt.status=666),hn===gt||hn===mt)return vt.avail_out===0&&(Lt.last_flush=-1),_e;if(hn===At&&(Qt===1?$._tr_align(Lt):Qt!==5&&($._tr_stored_block(Lt,0,0,!1),Qt===3&&(kt(Lt.head),Lt.lookahead===0&&(Lt.strstart=0,Lt.block_start=0,Lt.insert=0))),Dt(vt),vt.avail_out===0))return Lt.last_flush=-1,_e}return Qt!==h?_e:Lt.wrap<=0?1:(Lt.wrap===2?(Ot(Lt,255&vt.adler),Ot(Lt,vt.adler>>8&255),Ot(Lt,vt.adler>>16&255),Ot(Lt,vt.adler>>24&255),Ot(Lt,255&vt.total_in),Ot(Lt,vt.total_in>>8&255),Ot(Lt,vt.total_in>>16&255),Ot(Lt,vt.total_in>>24&255)):(Bt(Lt,vt.adler>>>16),Bt(Lt,65535&vt.adler)),Dt(vt),0<Lt.wrap&&(Lt.wrap=-Lt.wrap),Lt.pending!==0?_e:1)},c.deflateEnd=function(vt){var Qt;return vt&&vt.state?(Qt=vt.state.status)!==yt&&Qt!==69&&Qt!==73&&Qt!==91&&Qt!==103&&Qt!==Et&&Qt!==666?St(vt,nt):(vt.state=null,Qt===Et?St(vt,-3):_e):nt},c.deflateSetDictionary=function(vt,Qt){var Kt,Lt,Rt,Gt,dn,hn,Ht,$t,zt=Qt.length;if(!vt||!vt.state||(Gt=(Kt=vt.state).wrap)===2||Gt===1&&Kt.status!==yt||Kt.lookahead)return nt;for(Gt===1&&(vt.adler=j(vt.adler,Qt,zt,0)),Kt.wrap=0,zt>=Kt.w_size&&(Gt===0&&(kt(Kt.head),Kt.strstart=0,Kt.block_start=0,Kt.insert=0),$t=new g.Buf8(Kt.w_size),g.arraySet($t,Qt,zt-Kt.w_size,Kt.w_size,0),Qt=$t,zt=Kt.w_size),dn=vt.avail_in,hn=vt.next_in,Ht=vt.input,vt.avail_in=zt,vt.next_in=0,vt.input=Qt,Zt(Kt);Kt.lookahead>=ft;){for(Lt=Kt.strstart,Rt=Kt.lookahead-(ft-1);Kt.ins_h=(Kt.ins_h<<Kt.hash_shift^Kt.window[Lt+ft-1])&Kt.hash_mask,Kt.prev[Lt&Kt.w_mask]=Kt.head[Kt.ins_h],Kt.head[Kt.ins_h]=Lt,Lt++,--Rt;);Kt.strstart=Lt,Kt.lookahead=ft-1,Zt(Kt)}return Kt.strstart+=Kt.lookahead,Kt.block_start=Kt.strstart,Kt.insert=Kt.lookahead,Kt.lookahead=0,Kt.match_length=Kt.prev_length=ft-1,Kt.match_available=0,vt.next_in=hn,vt.input=Ht,vt.avail_in=dn,Kt.wrap=Gt,_e},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,a,c){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,a,c){a.exports=function(d,g){var $,j,tt,et,b,h,_e,nt,rt,it,st,ot,at,ct,ut,dt,ht,pt,ft,bt,Ct,yt,Et,gt,At;$=d.state,j=d.next_in,gt=d.input,tt=j+(d.avail_in-5),et=d.next_out,At=d.output,b=et-(g-d.avail_out),h=et+(d.avail_out-257),_e=$.dmax,nt=$.wsize,rt=$.whave,it=$.wnext,st=$.window,ot=$.hold,at=$.bits,ct=$.lencode,ut=$.distcode,dt=(1<<$.lenbits)-1,ht=(1<<$.distbits)-1;e:do{at<15&&(ot+=gt[j++]<<at,at+=8,ot+=gt[j++]<<at,at+=8),pt=ct[ot&dt];t:for(;;){if(ot>>>=ft=pt>>>24,at-=ft,(ft=pt>>>16&255)===0)At[et++]=65535&pt;else{if(!(16&ft)){if(!(64&ft)){pt=ct[(65535&pt)+(ot&(1<<ft)-1)];continue t}if(32&ft){$.mode=12;break e}d.msg="invalid literal/length code",$.mode=30;break e}bt=65535&pt,(ft&=15)&&(at<ft&&(ot+=gt[j++]<<at,at+=8),bt+=ot&(1<<ft)-1,ot>>>=ft,at-=ft),at<15&&(ot+=gt[j++]<<at,at+=8,ot+=gt[j++]<<at,at+=8),pt=ut[ot&ht];n:for(;;){if(ot>>>=ft=pt>>>24,at-=ft,!(16&(ft=pt>>>16&255))){if(!(64&ft)){pt=ut[(65535&pt)+(ot&(1<<ft)-1)];continue n}d.msg="invalid distance code",$.mode=30;break e}if(Ct=65535&pt,at<(ft&=15)&&(ot+=gt[j++]<<at,(at+=8)<ft&&(ot+=gt[j++]<<at,at+=8)),_e<(Ct+=ot&(1<<ft)-1)){d.msg="invalid distance too far back",$.mode=30;break e}if(ot>>>=ft,at-=ft,(ft=et-b)<Ct){if(rt<(ft=Ct-ft)&&$.sane){d.msg="invalid distance too far back",$.mode=30;break e}if(Et=st,(yt=0)===it){if(yt+=nt-ft,ft<bt){for(bt-=ft;At[et++]=st[yt++],--ft;);yt=et-Ct,Et=At}}else if(it<ft){if(yt+=nt+it-ft,(ft-=it)<bt){for(bt-=ft;At[et++]=st[yt++],--ft;);if(yt=0,it<bt){for(bt-=ft=it;At[et++]=st[yt++],--ft;);yt=et-Ct,Et=At}}}else if(yt+=it-ft,ft<bt){for(bt-=ft;At[et++]=st[yt++],--ft;);yt=et-Ct,Et=At}for(;2<bt;)At[et++]=Et[yt++],At[et++]=Et[yt++],At[et++]=Et[yt++],bt-=3;bt&&(At[et++]=Et[yt++],1<bt&&(At[et++]=Et[yt++]))}else{for(yt=et-Ct;At[et++]=At[yt++],At[et++]=At[yt++],At[et++]=At[yt++],2<(bt-=3););bt&&(At[et++]=At[yt++],1<bt&&(At[et++]=At[yt++]))}break}}break}}while(j<tt&&et<h);j-=bt=at>>3,ot&=(1<<(at-=bt<<3))-1,d.next_in=j,d.next_out=et,d.avail_in=j<tt?tt-j+5:5-(j-tt),d.avail_out=et<h?h-et+257:257-(et-h),$.hold=ot,$.bits=at}},{}],49:[function(s,a,c){var d=s("../utils/common"),g=s("./adler32"),$=s("./crc32"),j=s("./inffast"),tt=s("./inftrees"),et=1,b=2,h=0,_e=-2,nt=1,rt=852,it=592;function st(yt){return(yt>>>24&255)+(yt>>>8&65280)+((65280&yt)<<8)+((255&yt)<<24)}function ot(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function at(yt){var Et;return yt&&yt.state?(Et=yt.state,yt.total_in=yt.total_out=Et.total=0,yt.msg="",Et.wrap&&(yt.adler=1&Et.wrap),Et.mode=nt,Et.last=0,Et.havedict=0,Et.dmax=32768,Et.head=null,Et.hold=0,Et.bits=0,Et.lencode=Et.lendyn=new d.Buf32(rt),Et.distcode=Et.distdyn=new d.Buf32(it),Et.sane=1,Et.back=-1,h):_e}function ct(yt){var Et;return yt&&yt.state?((Et=yt.state).wsize=0,Et.whave=0,Et.wnext=0,at(yt)):_e}function ut(yt,Et){var gt,At;return yt&&yt.state?(At=yt.state,Et<0?(gt=0,Et=-Et):(gt=1+(Et>>4),Et<48&&(Et&=15)),Et&&(Et<8||15<Et)?_e:(At.window!==null&&At.wbits!==Et&&(At.window=null),At.wrap=gt,At.wbits=Et,ct(yt))):_e}function dt(yt,Et){var gt,At;return yt?(At=new ot,(yt.state=At).window=null,(gt=ut(yt,Et))!==h&&(yt.state=null),gt):_e}var ht,pt,ft=!0;function bt(yt){if(ft){var Et;for(ht=new d.Buf32(512),pt=new d.Buf32(32),Et=0;Et<144;)yt.lens[Et++]=8;for(;Et<256;)yt.lens[Et++]=9;for(;Et<280;)yt.lens[Et++]=7;for(;Et<288;)yt.lens[Et++]=8;for(tt(et,yt.lens,0,288,ht,0,yt.work,{bits:9}),Et=0;Et<32;)yt.lens[Et++]=5;tt(b,yt.lens,0,32,pt,0,yt.work,{bits:5}),ft=!1}yt.lencode=ht,yt.lenbits=9,yt.distcode=pt,yt.distbits=5}function Ct(yt,Et,gt,At){var mt,_t=yt.state;return _t.window===null&&(_t.wsize=1<<_t.wbits,_t.wnext=0,_t.whave=0,_t.window=new d.Buf8(_t.wsize)),At>=_t.wsize?(d.arraySet(_t.window,Et,gt-_t.wsize,_t.wsize,0),_t.wnext=0,_t.whave=_t.wsize):(At<(mt=_t.wsize-_t.wnext)&&(mt=At),d.arraySet(_t.window,Et,gt-At,mt,_t.wnext),(At-=mt)?(d.arraySet(_t.window,Et,gt-At,At,0),_t.wnext=At,_t.whave=_t.wsize):(_t.wnext+=mt,_t.wnext===_t.wsize&&(_t.wnext=0),_t.whave<_t.wsize&&(_t.whave+=mt))),0}c.inflateReset=ct,c.inflateReset2=ut,c.inflateResetKeep=at,c.inflateInit=function(yt){return dt(yt,15)},c.inflateInit2=dt,c.inflate=function(yt,Et){var gt,At,mt,_t,St,wt,kt,Dt,Ft,Ot,Bt,Vt,Zt,Jt,fn,yn,_n,Tn,Yt,an,vt,Qt,Kt,Lt,Rt=0,Gt=new d.Buf8(4),dn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!yt||!yt.state||!yt.output||!yt.input&&yt.avail_in!==0)return _e;(gt=yt.state).mode===12&&(gt.mode=13),St=yt.next_out,mt=yt.output,kt=yt.avail_out,_t=yt.next_in,At=yt.input,wt=yt.avail_in,Dt=gt.hold,Ft=gt.bits,Ot=wt,Bt=kt,Qt=h;e:for(;;)switch(gt.mode){case nt:if(gt.wrap===0){gt.mode=13;break}for(;Ft<16;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}if(2&gt.wrap&&Dt===35615){Gt[gt.check=0]=255&Dt,Gt[1]=Dt>>>8&255,gt.check=$(gt.check,Gt,2,0),Ft=Dt=0,gt.mode=2;break}if(gt.flags=0,gt.head&&(gt.head.done=!1),!(1&gt.wrap)||(((255&Dt)<<8)+(Dt>>8))%31){yt.msg="incorrect header check",gt.mode=30;break}if((15&Dt)!=8){yt.msg="unknown compression method",gt.mode=30;break}if(Ft-=4,vt=8+(15&(Dt>>>=4)),gt.wbits===0)gt.wbits=vt;else if(vt>gt.wbits){yt.msg="invalid window size",gt.mode=30;break}gt.dmax=1<<vt,yt.adler=gt.check=1,gt.mode=512&Dt?10:12,Ft=Dt=0;break;case 2:for(;Ft<16;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}if(gt.flags=Dt,(255&gt.flags)!=8){yt.msg="unknown compression method",gt.mode=30;break}if(57344&gt.flags){yt.msg="unknown header flags set",gt.mode=30;break}gt.head&&(gt.head.text=Dt>>8&1),512&gt.flags&&(Gt[0]=255&Dt,Gt[1]=Dt>>>8&255,gt.check=$(gt.check,Gt,2,0)),Ft=Dt=0,gt.mode=3;case 3:for(;Ft<32;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}gt.head&&(gt.head.time=Dt),512&gt.flags&&(Gt[0]=255&Dt,Gt[1]=Dt>>>8&255,Gt[2]=Dt>>>16&255,Gt[3]=Dt>>>24&255,gt.check=$(gt.check,Gt,4,0)),Ft=Dt=0,gt.mode=4;case 4:for(;Ft<16;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}gt.head&&(gt.head.xflags=255&Dt,gt.head.os=Dt>>8),512&gt.flags&&(Gt[0]=255&Dt,Gt[1]=Dt>>>8&255,gt.check=$(gt.check,Gt,2,0)),Ft=Dt=0,gt.mode=5;case 5:if(1024&gt.flags){for(;Ft<16;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}gt.length=Dt,gt.head&&(gt.head.extra_len=Dt),512&gt.flags&&(Gt[0]=255&Dt,Gt[1]=Dt>>>8&255,gt.check=$(gt.check,Gt,2,0)),Ft=Dt=0}else gt.head&&(gt.head.extra=null);gt.mode=6;case 6:if(1024&gt.flags&&(wt<(Vt=gt.length)&&(Vt=wt),Vt&&(gt.head&&(vt=gt.head.extra_len-gt.length,gt.head.extra||(gt.head.extra=new Array(gt.head.extra_len)),d.arraySet(gt.head.extra,At,_t,Vt,vt)),512&gt.flags&&(gt.check=$(gt.check,At,Vt,_t)),wt-=Vt,_t+=Vt,gt.length-=Vt),gt.length))break e;gt.length=0,gt.mode=7;case 7:if(2048&gt.flags){if(wt===0)break e;for(Vt=0;vt=At[_t+Vt++],gt.head&&vt&&gt.length<65536&&(gt.head.name+=String.fromCharCode(vt)),vt&&Vt<wt;);if(512&gt.flags&&(gt.check=$(gt.check,At,Vt,_t)),wt-=Vt,_t+=Vt,vt)break e}else gt.head&&(gt.head.name=null);gt.length=0,gt.mode=8;case 8:if(4096&gt.flags){if(wt===0)break e;for(Vt=0;vt=At[_t+Vt++],gt.head&&vt&&gt.length<65536&&(gt.head.comment+=String.fromCharCode(vt)),vt&&Vt<wt;);if(512&gt.flags&&(gt.check=$(gt.check,At,Vt,_t)),wt-=Vt,_t+=Vt,vt)break e}else gt.head&&(gt.head.comment=null);gt.mode=9;case 9:if(512&gt.flags){for(;Ft<16;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}if(Dt!==(65535&gt.check)){yt.msg="header crc mismatch",gt.mode=30;break}Ft=Dt=0}gt.head&&(gt.head.hcrc=gt.flags>>9&1,gt.head.done=!0),yt.adler=gt.check=0,gt.mode=12;break;case 10:for(;Ft<32;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}yt.adler=gt.check=st(Dt),Ft=Dt=0,gt.mode=11;case 11:if(gt.havedict===0)return yt.next_out=St,yt.avail_out=kt,yt.next_in=_t,yt.avail_in=wt,gt.hold=Dt,gt.bits=Ft,2;yt.adler=gt.check=1,gt.mode=12;case 12:if(Et===5||Et===6)break e;case 13:if(gt.last){Dt>>>=7&Ft,Ft-=7&Ft,gt.mode=27;break}for(;Ft<3;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}switch(gt.last=1&Dt,Ft-=1,3&(Dt>>>=1)){case 0:gt.mode=14;break;case 1:if(bt(gt),gt.mode=20,Et!==6)break;Dt>>>=2,Ft-=2;break e;case 2:gt.mode=17;break;case 3:yt.msg="invalid block type",gt.mode=30}Dt>>>=2,Ft-=2;break;case 14:for(Dt>>>=7&Ft,Ft-=7&Ft;Ft<32;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}if((65535&Dt)!=(Dt>>>16^65535)){yt.msg="invalid stored block lengths",gt.mode=30;break}if(gt.length=65535&Dt,Ft=Dt=0,gt.mode=15,Et===6)break e;case 15:gt.mode=16;case 16:if(Vt=gt.length){if(wt<Vt&&(Vt=wt),kt<Vt&&(Vt=kt),Vt===0)break e;d.arraySet(mt,At,_t,Vt,St),wt-=Vt,_t+=Vt,kt-=Vt,St+=Vt,gt.length-=Vt;break}gt.mode=12;break;case 17:for(;Ft<14;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}if(gt.nlen=257+(31&Dt),Dt>>>=5,Ft-=5,gt.ndist=1+(31&Dt),Dt>>>=5,Ft-=5,gt.ncode=4+(15&Dt),Dt>>>=4,Ft-=4,286<gt.nlen||30<gt.ndist){yt.msg="too many length or distance symbols",gt.mode=30;break}gt.have=0,gt.mode=18;case 18:for(;gt.have<gt.ncode;){for(;Ft<3;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}gt.lens[dn[gt.have++]]=7&Dt,Dt>>>=3,Ft-=3}for(;gt.have<19;)gt.lens[dn[gt.have++]]=0;if(gt.lencode=gt.lendyn,gt.lenbits=7,Kt={bits:gt.lenbits},Qt=tt(0,gt.lens,0,19,gt.lencode,0,gt.work,Kt),gt.lenbits=Kt.bits,Qt){yt.msg="invalid code lengths set",gt.mode=30;break}gt.have=0,gt.mode=19;case 19:for(;gt.have<gt.nlen+gt.ndist;){for(;yn=(Rt=gt.lencode[Dt&(1<<gt.lenbits)-1])>>>16&255,_n=65535&Rt,!((fn=Rt>>>24)<=Ft);){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}if(_n<16)Dt>>>=fn,Ft-=fn,gt.lens[gt.have++]=_n;else{if(_n===16){for(Lt=fn+2;Ft<Lt;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}if(Dt>>>=fn,Ft-=fn,gt.have===0){yt.msg="invalid bit length repeat",gt.mode=30;break}vt=gt.lens[gt.have-1],Vt=3+(3&Dt),Dt>>>=2,Ft-=2}else if(_n===17){for(Lt=fn+3;Ft<Lt;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}Ft-=fn,vt=0,Vt=3+(7&(Dt>>>=fn)),Dt>>>=3,Ft-=3}else{for(Lt=fn+7;Ft<Lt;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}Ft-=fn,vt=0,Vt=11+(127&(Dt>>>=fn)),Dt>>>=7,Ft-=7}if(gt.have+Vt>gt.nlen+gt.ndist){yt.msg="invalid bit length repeat",gt.mode=30;break}for(;Vt--;)gt.lens[gt.have++]=vt}}if(gt.mode===30)break;if(gt.lens[256]===0){yt.msg="invalid code -- missing end-of-block",gt.mode=30;break}if(gt.lenbits=9,Kt={bits:gt.lenbits},Qt=tt(et,gt.lens,0,gt.nlen,gt.lencode,0,gt.work,Kt),gt.lenbits=Kt.bits,Qt){yt.msg="invalid literal/lengths set",gt.mode=30;break}if(gt.distbits=6,gt.distcode=gt.distdyn,Kt={bits:gt.distbits},Qt=tt(b,gt.lens,gt.nlen,gt.ndist,gt.distcode,0,gt.work,Kt),gt.distbits=Kt.bits,Qt){yt.msg="invalid distances set",gt.mode=30;break}if(gt.mode=20,Et===6)break e;case 20:gt.mode=21;case 21:if(6<=wt&&258<=kt){yt.next_out=St,yt.avail_out=kt,yt.next_in=_t,yt.avail_in=wt,gt.hold=Dt,gt.bits=Ft,j(yt,Bt),St=yt.next_out,mt=yt.output,kt=yt.avail_out,_t=yt.next_in,At=yt.input,wt=yt.avail_in,Dt=gt.hold,Ft=gt.bits,gt.mode===12&&(gt.back=-1);break}for(gt.back=0;yn=(Rt=gt.lencode[Dt&(1<<gt.lenbits)-1])>>>16&255,_n=65535&Rt,!((fn=Rt>>>24)<=Ft);){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}if(yn&&!(240&yn)){for(Tn=fn,Yt=yn,an=_n;yn=(Rt=gt.lencode[an+((Dt&(1<<Tn+Yt)-1)>>Tn)])>>>16&255,_n=65535&Rt,!(Tn+(fn=Rt>>>24)<=Ft);){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}Dt>>>=Tn,Ft-=Tn,gt.back+=Tn}if(Dt>>>=fn,Ft-=fn,gt.back+=fn,gt.length=_n,yn===0){gt.mode=26;break}if(32&yn){gt.back=-1,gt.mode=12;break}if(64&yn){yt.msg="invalid literal/length code",gt.mode=30;break}gt.extra=15&yn,gt.mode=22;case 22:if(gt.extra){for(Lt=gt.extra;Ft<Lt;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}gt.length+=Dt&(1<<gt.extra)-1,Dt>>>=gt.extra,Ft-=gt.extra,gt.back+=gt.extra}gt.was=gt.length,gt.mode=23;case 23:for(;yn=(Rt=gt.distcode[Dt&(1<<gt.distbits)-1])>>>16&255,_n=65535&Rt,!((fn=Rt>>>24)<=Ft);){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}if(!(240&yn)){for(Tn=fn,Yt=yn,an=_n;yn=(Rt=gt.distcode[an+((Dt&(1<<Tn+Yt)-1)>>Tn)])>>>16&255,_n=65535&Rt,!(Tn+(fn=Rt>>>24)<=Ft);){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}Dt>>>=Tn,Ft-=Tn,gt.back+=Tn}if(Dt>>>=fn,Ft-=fn,gt.back+=fn,64&yn){yt.msg="invalid distance code",gt.mode=30;break}gt.offset=_n,gt.extra=15&yn,gt.mode=24;case 24:if(gt.extra){for(Lt=gt.extra;Ft<Lt;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}gt.offset+=Dt&(1<<gt.extra)-1,Dt>>>=gt.extra,Ft-=gt.extra,gt.back+=gt.extra}if(gt.offset>gt.dmax){yt.msg="invalid distance too far back",gt.mode=30;break}gt.mode=25;case 25:if(kt===0)break e;if(Vt=Bt-kt,gt.offset>Vt){if((Vt=gt.offset-Vt)>gt.whave&&gt.sane){yt.msg="invalid distance too far back",gt.mode=30;break}Zt=Vt>gt.wnext?(Vt-=gt.wnext,gt.wsize-Vt):gt.wnext-Vt,Vt>gt.length&&(Vt=gt.length),Jt=gt.window}else Jt=mt,Zt=St-gt.offset,Vt=gt.length;for(kt<Vt&&(Vt=kt),kt-=Vt,gt.length-=Vt;mt[St++]=Jt[Zt++],--Vt;);gt.length===0&&(gt.mode=21);break;case 26:if(kt===0)break e;mt[St++]=gt.length,kt--,gt.mode=21;break;case 27:if(gt.wrap){for(;Ft<32;){if(wt===0)break e;wt--,Dt|=At[_t++]<<Ft,Ft+=8}if(Bt-=kt,yt.total_out+=Bt,gt.total+=Bt,Bt&&(yt.adler=gt.check=gt.flags?$(gt.check,mt,Bt,St-Bt):g(gt.check,mt,Bt,St-Bt)),Bt=kt,(gt.flags?Dt:st(Dt))!==gt.check){yt.msg="incorrect data check",gt.mode=30;break}Ft=Dt=0}gt.mode=28;case 28:if(gt.wrap&&gt.flags){for(;Ft<32;){if(wt===0)break e;wt--,Dt+=At[_t++]<<Ft,Ft+=8}if(Dt!==(4294967295&gt.total)){yt.msg="incorrect length check",gt.mode=30;break}Ft=Dt=0}gt.mode=29;case 29:Qt=1;break e;case 30:Qt=-3;break e;case 31:return-4;case 32:default:return _e}return yt.next_out=St,yt.avail_out=kt,yt.next_in=_t,yt.avail_in=wt,gt.hold=Dt,gt.bits=Ft,(gt.wsize||Bt!==yt.avail_out&&gt.mode<30&&(gt.mode<27||Et!==4))&&Ct(yt,yt.output,yt.next_out,Bt-yt.avail_out)?(gt.mode=31,-4):(Ot-=yt.avail_in,Bt-=yt.avail_out,yt.total_in+=Ot,yt.total_out+=Bt,gt.total+=Bt,gt.wrap&&Bt&&(yt.adler=gt.check=gt.flags?$(gt.check,mt,Bt,yt.next_out-Bt):g(gt.check,mt,Bt,yt.next_out-Bt)),yt.data_type=gt.bits+(gt.last?64:0)+(gt.mode===12?128:0)+(gt.mode===20||gt.mode===15?256:0),(Ot==0&&Bt===0||Et===4)&&Qt===h&&(Qt=-5),Qt)},c.inflateEnd=function(yt){if(!yt||!yt.state)return _e;var Et=yt.state;return Et.window&&(Et.window=null),yt.state=null,h},c.inflateGetHeader=function(yt,Et){var gt;return yt&&yt.state&&2&(gt=yt.state).wrap?((gt.head=Et).done=!1,h):_e},c.inflateSetDictionary=function(yt,Et){var gt,At=Et.length;return yt&&yt.state?(gt=yt.state).wrap!==0&&gt.mode!==11?_e:gt.mode===11&&g(1,Et,At,0)!==gt.check?-3:Ct(yt,Et,At,At)?(gt.mode=31,-4):(gt.havedict=1,h):_e},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,a,c){var d=s("../utils/common"),g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],$=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],tt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(et,b,h,_e,nt,rt,it,st){var ot,at,ct,ut,dt,ht,pt,ft,bt,Ct=st.bits,yt=0,Et=0,gt=0,At=0,mt=0,_t=0,St=0,wt=0,kt=0,Dt=0,Ft=null,Ot=0,Bt=new d.Buf16(16),Vt=new d.Buf16(16),Zt=null,Jt=0;for(yt=0;yt<=15;yt++)Bt[yt]=0;for(Et=0;Et<_e;Et++)Bt[b[h+Et]]++;for(mt=Ct,At=15;1<=At&&Bt[At]===0;At--);if(At<mt&&(mt=At),At===0)return nt[rt++]=20971520,nt[rt++]=20971520,st.bits=1,0;for(gt=1;gt<At&&Bt[gt]===0;gt++);for(mt<gt&&(mt=gt),yt=wt=1;yt<=15;yt++)if(wt<<=1,(wt-=Bt[yt])<0)return-1;if(0<wt&&(et===0||At!==1))return-1;for(Vt[1]=0,yt=1;yt<15;yt++)Vt[yt+1]=Vt[yt]+Bt[yt];for(Et=0;Et<_e;Et++)b[h+Et]!==0&&(it[Vt[b[h+Et]]++]=Et);if(ht=et===0?(Ft=Zt=it,19):et===1?(Ft=g,Ot-=257,Zt=$,Jt-=257,256):(Ft=j,Zt=tt,-1),yt=gt,dt=rt,St=Et=Dt=0,ct=-1,ut=(kt=1<<(_t=mt))-1,et===1&&852<kt||et===2&&592<kt)return 1;for(;;){for(pt=yt-St,bt=it[Et]<ht?(ft=0,it[Et]):it[Et]>ht?(ft=Zt[Jt+it[Et]],Ft[Ot+it[Et]]):(ft=96,0),ot=1<<yt-St,gt=at=1<<_t;nt[dt+(Dt>>St)+(at-=ot)]=pt<<24|ft<<16|bt|0,at!==0;);for(ot=1<<yt-1;Dt&ot;)ot>>=1;if(ot!==0?(Dt&=ot-1,Dt+=ot):Dt=0,Et++,--Bt[yt]==0){if(yt===At)break;yt=b[h+it[Et]]}if(mt<yt&&(Dt&ut)!==ct){for(St===0&&(St=mt),dt+=gt,wt=1<<(_t=yt-St);_t+St<At&&!((wt-=Bt[_t+St])<=0);)_t++,wt<<=1;if(kt+=1<<_t,et===1&&852<kt||et===2&&592<kt)return 1;nt[ct=Dt&ut]=mt<<24|_t<<16|dt-rt|0}}return Dt!==0&&(nt[dt+Dt]=yt-St<<24|64<<16|0),st.bits=mt,0}},{"../utils/common":41}],51:[function(s,a,c){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,a,c){var d=s("../utils/common"),g=0,$=1;function j(Rt){for(var Gt=Rt.length;0<=--Gt;)Rt[Gt]=0}var tt=0,et=29,b=256,h=b+1+et,_e=30,nt=19,rt=2*h+1,it=15,st=16,ot=7,at=256,ct=16,ut=17,dt=18,ht=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],pt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ft=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ct=new Array(2*(h+2));j(Ct);var yt=new Array(2*_e);j(yt);var Et=new Array(512);j(Et);var gt=new Array(256);j(gt);var At=new Array(et);j(At);var mt,_t,St,wt=new Array(_e);function kt(Rt,Gt,dn,hn,Ht){this.static_tree=Rt,this.extra_bits=Gt,this.extra_base=dn,this.elems=hn,this.max_length=Ht,this.has_stree=Rt&&Rt.length}function Dt(Rt,Gt){this.dyn_tree=Rt,this.max_code=0,this.stat_desc=Gt}function Ft(Rt){return Rt<256?Et[Rt]:Et[256+(Rt>>>7)]}function Ot(Rt,Gt){Rt.pending_buf[Rt.pending++]=255&Gt,Rt.pending_buf[Rt.pending++]=Gt>>>8&255}function Bt(Rt,Gt,dn){Rt.bi_valid>st-dn?(Rt.bi_buf|=Gt<<Rt.bi_valid&65535,Ot(Rt,Rt.bi_buf),Rt.bi_buf=Gt>>st-Rt.bi_valid,Rt.bi_valid+=dn-st):(Rt.bi_buf|=Gt<<Rt.bi_valid&65535,Rt.bi_valid+=dn)}function Vt(Rt,Gt,dn){Bt(Rt,dn[2*Gt],dn[2*Gt+1])}function Zt(Rt,Gt){for(var dn=0;dn|=1&Rt,Rt>>>=1,dn<<=1,0<--Gt;);return dn>>>1}function Jt(Rt,Gt,dn){var hn,Ht,$t=new Array(it+1),zt=0;for(hn=1;hn<=it;hn++)$t[hn]=zt=zt+dn[hn-1]<<1;for(Ht=0;Ht<=Gt;Ht++){var qt=Rt[2*Ht+1];qt!==0&&(Rt[2*Ht]=Zt($t[qt]++,qt))}}function fn(Rt){var Gt;for(Gt=0;Gt<h;Gt++)Rt.dyn_ltree[2*Gt]=0;for(Gt=0;Gt<_e;Gt++)Rt.dyn_dtree[2*Gt]=0;for(Gt=0;Gt<nt;Gt++)Rt.bl_tree[2*Gt]=0;Rt.dyn_ltree[2*at]=1,Rt.opt_len=Rt.static_len=0,Rt.last_lit=Rt.matches=0}function yn(Rt){8<Rt.bi_valid?Ot(Rt,Rt.bi_buf):0<Rt.bi_valid&&(Rt.pending_buf[Rt.pending++]=Rt.bi_buf),Rt.bi_buf=0,Rt.bi_valid=0}function _n(Rt,Gt,dn,hn){var Ht=2*Gt,$t=2*dn;return Rt[Ht]<Rt[$t]||Rt[Ht]===Rt[$t]&&hn[Gt]<=hn[dn]}function Tn(Rt,Gt,dn){for(var hn=Rt.heap[dn],Ht=dn<<1;Ht<=Rt.heap_len&&(Ht<Rt.heap_len&&_n(Gt,Rt.heap[Ht+1],Rt.heap[Ht],Rt.depth)&&Ht++,!_n(Gt,hn,Rt.heap[Ht],Rt.depth));)Rt.heap[dn]=Rt.heap[Ht],dn=Ht,Ht<<=1;Rt.heap[dn]=hn}function Yt(Rt,Gt,dn){var hn,Ht,$t,zt,qt=0;if(Rt.last_lit!==0)for(;hn=Rt.pending_buf[Rt.d_buf+2*qt]<<8|Rt.pending_buf[Rt.d_buf+2*qt+1],Ht=Rt.pending_buf[Rt.l_buf+qt],qt++,hn===0?Vt(Rt,Ht,Gt):(Vt(Rt,($t=gt[Ht])+b+1,Gt),(zt=ht[$t])!==0&&Bt(Rt,Ht-=At[$t],zt),Vt(Rt,$t=Ft(--hn),dn),(zt=pt[$t])!==0&&Bt(Rt,hn-=wt[$t],zt)),qt<Rt.last_lit;);Vt(Rt,at,Gt)}function an(Rt,Gt){var dn,hn,Ht,$t=Gt.dyn_tree,zt=Gt.stat_desc.static_tree,qt=Gt.stat_desc.has_stree,sn=Gt.stat_desc.elems,mn=-1;for(Rt.heap_len=0,Rt.heap_max=rt,dn=0;dn<sn;dn++)$t[2*dn]!==0?(Rt.heap[++Rt.heap_len]=mn=dn,Rt.depth[dn]=0):$t[2*dn+1]=0;for(;Rt.heap_len<2;)$t[2*(Ht=Rt.heap[++Rt.heap_len]=mn<2?++mn:0)]=1,Rt.depth[Ht]=0,Rt.opt_len--,qt&&(Rt.static_len-=zt[2*Ht+1]);for(Gt.max_code=mn,dn=Rt.heap_len>>1;1<=dn;dn--)Tn(Rt,$t,dn);for(Ht=sn;dn=Rt.heap[1],Rt.heap[1]=Rt.heap[Rt.heap_len--],Tn(Rt,$t,1),hn=Rt.heap[1],Rt.heap[--Rt.heap_max]=dn,Rt.heap[--Rt.heap_max]=hn,$t[2*Ht]=$t[2*dn]+$t[2*hn],Rt.depth[Ht]=(Rt.depth[dn]>=Rt.depth[hn]?Rt.depth[dn]:Rt.depth[hn])+1,$t[2*dn+1]=$t[2*hn+1]=Ht,Rt.heap[1]=Ht++,Tn(Rt,$t,1),2<=Rt.heap_len;);Rt.heap[--Rt.heap_max]=Rt.heap[1],function(En,On){var kn,Rn,Nn,jn,An,Kr,Nr=On.dyn_tree,zl=On.max_code,ks=On.stat_desc.static_tree,Yn=On.stat_desc.has_stree,ho=On.stat_desc.extra_bits,Xo=On.stat_desc.extra_base,ns=On.stat_desc.max_length,Pn=0;for(jn=0;jn<=it;jn++)En.bl_count[jn]=0;for(Nr[2*En.heap[En.heap_max]+1]=0,kn=En.heap_max+1;kn<rt;kn++)ns<(jn=Nr[2*Nr[2*(Rn=En.heap[kn])+1]+1]+1)&&(jn=ns,Pn++),Nr[2*Rn+1]=jn,zl<Rn||(En.bl_count[jn]++,An=0,Xo<=Rn&&(An=ho[Rn-Xo]),Kr=Nr[2*Rn],En.opt_len+=Kr*(jn+An),Yn&&(En.static_len+=Kr*(ks[2*Rn+1]+An)));if(Pn!==0){do{for(jn=ns-1;En.bl_count[jn]===0;)jn--;En.bl_count[jn]--,En.bl_count[jn+1]+=2,En.bl_count[ns]--,Pn-=2}while(0<Pn);for(jn=ns;jn!==0;jn--)for(Rn=En.bl_count[jn];Rn!==0;)zl<(Nn=En.heap[--kn])||(Nr[2*Nn+1]!==jn&&(En.opt_len+=(jn-Nr[2*Nn+1])*Nr[2*Nn],Nr[2*Nn+1]=jn),Rn--)}}(Rt,Gt),Jt($t,mn,Rt.bl_count)}function vt(Rt,Gt,dn){var hn,Ht,$t=-1,zt=Gt[1],qt=0,sn=7,mn=4;for(zt===0&&(sn=138,mn=3),Gt[2*(dn+1)+1]=65535,hn=0;hn<=dn;hn++)Ht=zt,zt=Gt[2*(hn+1)+1],++qt<sn&&Ht===zt||(qt<mn?Rt.bl_tree[2*Ht]+=qt:Ht!==0?(Ht!==$t&&Rt.bl_tree[2*Ht]++,Rt.bl_tree[2*ct]++):qt<=10?Rt.bl_tree[2*ut]++:Rt.bl_tree[2*dt]++,$t=Ht,mn=(qt=0)===zt?(sn=138,3):Ht===zt?(sn=6,3):(sn=7,4))}function Qt(Rt,Gt,dn){var hn,Ht,$t=-1,zt=Gt[1],qt=0,sn=7,mn=4;for(zt===0&&(sn=138,mn=3),hn=0;hn<=dn;hn++)if(Ht=zt,zt=Gt[2*(hn+1)+1],!(++qt<sn&&Ht===zt)){if(qt<mn)for(;Vt(Rt,Ht,Rt.bl_tree),--qt!=0;);else Ht!==0?(Ht!==$t&&(Vt(Rt,Ht,Rt.bl_tree),qt--),Vt(Rt,ct,Rt.bl_tree),Bt(Rt,qt-3,2)):qt<=10?(Vt(Rt,ut,Rt.bl_tree),Bt(Rt,qt-3,3)):(Vt(Rt,dt,Rt.bl_tree),Bt(Rt,qt-11,7));$t=Ht,mn=(qt=0)===zt?(sn=138,3):Ht===zt?(sn=6,3):(sn=7,4)}}j(wt);var Kt=!1;function Lt(Rt,Gt,dn,hn){Bt(Rt,(tt<<1)+(hn?1:0),3),function(Ht,$t,zt,qt){yn(Ht),Ot(Ht,zt),Ot(Ht,~zt),d.arraySet(Ht.pending_buf,Ht.window,$t,zt,Ht.pending),Ht.pending+=zt}(Rt,Gt,dn)}c._tr_init=function(Rt){Kt||(function(){var Gt,dn,hn,Ht,$t,zt=new Array(it+1);for(Ht=hn=0;Ht<et-1;Ht++)for(At[Ht]=hn,Gt=0;Gt<1<<ht[Ht];Gt++)gt[hn++]=Ht;for(gt[hn-1]=Ht,Ht=$t=0;Ht<16;Ht++)for(wt[Ht]=$t,Gt=0;Gt<1<<pt[Ht];Gt++)Et[$t++]=Ht;for($t>>=7;Ht<_e;Ht++)for(wt[Ht]=$t<<7,Gt=0;Gt<1<<pt[Ht]-7;Gt++)Et[256+$t++]=Ht;for(dn=0;dn<=it;dn++)zt[dn]=0;for(Gt=0;Gt<=143;)Ct[2*Gt+1]=8,Gt++,zt[8]++;for(;Gt<=255;)Ct[2*Gt+1]=9,Gt++,zt[9]++;for(;Gt<=279;)Ct[2*Gt+1]=7,Gt++,zt[7]++;for(;Gt<=287;)Ct[2*Gt+1]=8,Gt++,zt[8]++;for(Jt(Ct,h+1,zt),Gt=0;Gt<_e;Gt++)yt[2*Gt+1]=5,yt[2*Gt]=Zt(Gt,5);mt=new kt(Ct,ht,b+1,h,it),_t=new kt(yt,pt,0,_e,it),St=new kt(new Array(0),ft,0,nt,ot)}(),Kt=!0),Rt.l_desc=new Dt(Rt.dyn_ltree,mt),Rt.d_desc=new Dt(Rt.dyn_dtree,_t),Rt.bl_desc=new Dt(Rt.bl_tree,St),Rt.bi_buf=0,Rt.bi_valid=0,fn(Rt)},c._tr_stored_block=Lt,c._tr_flush_block=function(Rt,Gt,dn,hn){var Ht,$t,zt=0;0<Rt.level?(Rt.strm.data_type===2&&(Rt.strm.data_type=function(qt){var sn,mn=4093624447;for(sn=0;sn<=31;sn++,mn>>>=1)if(1&mn&&qt.dyn_ltree[2*sn]!==0)return g;if(qt.dyn_ltree[18]!==0||qt.dyn_ltree[20]!==0||qt.dyn_ltree[26]!==0)return $;for(sn=32;sn<b;sn++)if(qt.dyn_ltree[2*sn]!==0)return $;return g}(Rt)),an(Rt,Rt.l_desc),an(Rt,Rt.d_desc),zt=function(qt){var sn;for(vt(qt,qt.dyn_ltree,qt.l_desc.max_code),vt(qt,qt.dyn_dtree,qt.d_desc.max_code),an(qt,qt.bl_desc),sn=nt-1;3<=sn&&qt.bl_tree[2*bt[sn]+1]===0;sn--);return qt.opt_len+=3*(sn+1)+5+5+4,sn}(Rt),Ht=Rt.opt_len+3+7>>>3,($t=Rt.static_len+3+7>>>3)<=Ht&&(Ht=$t)):Ht=$t=dn+5,dn+4<=Ht&&Gt!==-1?Lt(Rt,Gt,dn,hn):Rt.strategy===4||$t===Ht?(Bt(Rt,2+(hn?1:0),3),Yt(Rt,Ct,yt)):(Bt(Rt,4+(hn?1:0),3),function(qt,sn,mn,En){var On;for(Bt(qt,sn-257,5),Bt(qt,mn-1,5),Bt(qt,En-4,4),On=0;On<En;On++)Bt(qt,qt.bl_tree[2*bt[On]+1],3);Qt(qt,qt.dyn_ltree,sn-1),Qt(qt,qt.dyn_dtree,mn-1)}(Rt,Rt.l_desc.max_code+1,Rt.d_desc.max_code+1,zt+1),Yt(Rt,Rt.dyn_ltree,Rt.dyn_dtree)),fn(Rt),hn&&yn(Rt)},c._tr_tally=function(Rt,Gt,dn){return Rt.pending_buf[Rt.d_buf+2*Rt.last_lit]=Gt>>>8&255,Rt.pending_buf[Rt.d_buf+2*Rt.last_lit+1]=255&Gt,Rt.pending_buf[Rt.l_buf+Rt.last_lit]=255&dn,Rt.last_lit++,Gt===0?Rt.dyn_ltree[2*dn]++:(Rt.matches++,Gt--,Rt.dyn_ltree[2*(gt[dn]+b+1)]++,Rt.dyn_dtree[2*Ft(Gt)]++),Rt.last_lit===Rt.lit_bufsize-1},c._tr_align=function(Rt){Bt(Rt,2,3),Vt(Rt,at,Ct),function(Gt){Gt.bi_valid===16?(Ot(Gt,Gt.bi_buf),Gt.bi_buf=0,Gt.bi_valid=0):8<=Gt.bi_valid&&(Gt.pending_buf[Gt.pending++]=255&Gt.bi_buf,Gt.bi_buf>>=8,Gt.bi_valid-=8)}(Rt)}},{"../utils/common":41}],53:[function(s,a,c){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,a,c){(function(d){(function(g,$){if(!g.setImmediate){var j,tt,et,b,h=1,_e={},nt=!1,rt=g.document,it=Object.getPrototypeOf&&Object.getPrototypeOf(g);it=it&&it.setTimeout?it:g,j={}.toString.call(g.process)==="[object process]"?function(ct){process.nextTick(function(){ot(ct)})}:function(){if(g.postMessage&&!g.importScripts){var ct=!0,ut=g.onmessage;return g.onmessage=function(){ct=!1},g.postMessage("","*"),g.onmessage=ut,ct}}()?(b="setImmediate$"+Math.random()+"$",g.addEventListener?g.addEventListener("message",at,!1):g.attachEvent("onmessage",at),function(ct){g.postMessage(b+ct,"*")}):g.MessageChannel?((et=new MessageChannel).port1.onmessage=function(ct){ot(ct.data)},function(ct){et.port2.postMessage(ct)}):rt&&"onreadystatechange"in rt.createElement("script")?(tt=rt.documentElement,function(ct){var ut=rt.createElement("script");ut.onreadystatechange=function(){ot(ct),ut.onreadystatechange=null,tt.removeChild(ut),ut=null},tt.appendChild(ut)}):function(ct){setTimeout(ot,0,ct)},it.setImmediate=function(ct){typeof ct!="function"&&(ct=new Function(""+ct));for(var ut=new Array(arguments.length-1),dt=0;dt<ut.length;dt++)ut[dt]=arguments[dt+1];var ht={callback:ct,args:ut};return _e[h]=ht,j(h),h++},it.clearImmediate=st}function st(ct){delete _e[ct]}function ot(ct){if(nt)setTimeout(ot,0,ct);else{var ut=_e[ct];if(ut){nt=!0;try{(function(dt){var ht=dt.callback,pt=dt.args;switch(pt.length){case 0:ht();break;case 1:ht(pt[0]);break;case 2:ht(pt[0],pt[1]);break;case 3:ht(pt[0],pt[1],pt[2]);break;default:ht.apply($,pt)}})(ut)}finally{st(ct),nt=!1}}}}function at(ct){ct.source===g&&typeof ct.data=="string"&&ct.data.indexOf(b)===0&&ot(+ct.data.slice(b.length))}})(typeof self>"u"?d===void 0?this:d:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports,base64js=base64Js,JSZip=jszip_minExports;zipfile$2.openArrayBuffer=openArrayBuffer;zipfile$2.splitPath=splitPath;zipfile$2.joinPath=joinPath;function openArrayBuffer(o){return JSZip.loadAsync(o).then(function(e){function s(g){return e.file(g)!==null}function a(g,$){return e.file(g).async("uint8array").then(function(j){if($==="base64")return base64js.fromByteArray(j);if($){var tt=new TextDecoder($);return tt.decode(j)}else return j})}function c(g,$){e.file(g,$)}function d(){return e.generateAsync({type:"arraybuffer"})}return{exists:s,read:a,write:c,toArrayBuffer:d}})}function splitPath(o){var e=o.lastIndexOf("/");return e===-1?{dirname:"",basename:o}:{dirname:o.substring(0,e),basename:o.substring(e+1)}}function joinPath(){var o=Array.prototype.filter.call(arguments,function(s){return s}),e=[];return o.forEach(function(s){/^\//.test(s)?e=[s]:e.push(s)}),e.join("/")}var officeXmlReader={},xml$3={},nodes$2={},_$d=require$$0$2;nodes$2.Element=Element$2;nodes$2.element=function(o,e,s){return new Element$2(o,e,s)};nodes$2.text=function(o){return{type:"text",value:o}};var emptyElement=nodes$2.emptyElement={first:function(){return null},firstOrEmpty:function(){return emptyElement},attributes:{},children:[]};function Element$2(o,e,s){this.type="element",this.name=o,this.attributes=e||{},this.children=s||[]}Element$2.prototype.first=function(o){return _$d.find(this.children,function(e){return e.name===o})};Element$2.prototype.firstOrEmpty=function(o){return this.first(o)||emptyElement};Element$2.prototype.getElementsByTagName=function(o){var e=_$d.filter(this.children,function(s){return s.name===o});return toElementList(e)};Element$2.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var elementListPrototype={getElementsByTagName:function(o){return toElementList(_$d.flatten(this.map(function(e){return e.getElementsByTagName(o)},!0)))}};function toElementList(o){return _$d.extend(o,elementListPrototype)}var reader={},xmldom$2={},lib$2={},dom$3={},conventions$2={};function find$1(o,e,s){if(s===void 0&&(s=Array.prototype),o&&typeof s.find=="function")return s.find.call(o,e);for(var a=0;a<o.length;a++)if(Object.prototype.hasOwnProperty.call(o,a)){var c=o[a];if(e.call(void 0,c,a,o))return c}}function freeze(o,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(o):o}function assign(o,e){if(o===null||typeof o!="object")throw new TypeError("target is not an object");for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=e[s]);return o}var MIME_TYPE=freeze({HTML:"text/html",isHTML:function(o){return o===MIME_TYPE.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),NAMESPACE$3=freeze({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(o){return o===NAMESPACE$3.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});conventions$2.assign=assign;conventions$2.find=find$1;conventions$2.freeze=freeze;conventions$2.MIME_TYPE=MIME_TYPE;conventions$2.NAMESPACE=NAMESPACE$3;var conventions$1=conventions$2,find=conventions$1.find,NAMESPACE$2=conventions$1.NAMESPACE;function notEmptyString(o){return o!==""}function splitOnASCIIWhitespace(o){return o?o.split(/[\t\n\f\r ]+/).filter(notEmptyString):[]}function orderedSetReducer(o,e){return o.hasOwnProperty(e)||(o[e]=!0),o}function toOrderedSet(o){if(!o)return[];var e=splitOnASCIIWhitespace(o);return Object.keys(e.reduce(orderedSetReducer,{}))}function arrayIncludes(o){return function(e){return o&&o.indexOf(e)!==-1}}function copy(o,e){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}function _extends(o,e){var s=o.prototype;if(!(s instanceof e)){let a=function(){};a.prototype=e.prototype,a=new a,copy(s,a),o.prototype=s=a}s.constructor!=o&&(typeof o!="function"&&console.error("unknown Class:"+o),s.constructor=o)}var NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={};ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1);ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2);var HIERARCHY_REQUEST_ERR=ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3);ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4);ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5);ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6);ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7);var NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8);ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9);var INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10);ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11);ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12);ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13);ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14);ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15);function DOMException(o,e){if(e instanceof Error)var s=e;else s=this,Error.call(this,ExceptionMessage[o]),this.message=ExceptionMessage[o],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return s.code=o,e&&(this.message=this.message+": "+e),s}DOMException.prototype=Error.prototype;copy(ExceptionCode,DOMException);function NodeList(){}NodeList.prototype={length:0,item:function(o){return o>=0&&o<this.length?this[o]:null},toString:function(o,e){for(var s=[],a=0;a<this.length;a++)serializeToString(this[a],s,o,e);return s.join("")},filter:function(o){return Array.prototype.filter.call(this,o)},indexOf:function(o){return Array.prototype.indexOf.call(this,o)}};function LiveNodeList(o,e){this._node=o,this._refresh=e,_updateLiveList(this)}function _updateLiveList(o){var e=o._node._inc||o._node.ownerDocument._inc;if(o._inc!==e){var s=o._refresh(o._node);if(__set__(o,"length",s.length),!o.$$length||s.length<o.$$length)for(var a=s.length;a in o;a++)Object.prototype.hasOwnProperty.call(o,a)&&delete o[a];copy(s,o),o._inc=e}}LiveNodeList.prototype.item=function(o){return _updateLiveList(this),this[o]||null};_extends(LiveNodeList,NodeList);function NamedNodeMap(){}function _findNodeIndex(o,e){for(var s=o.length;s--;)if(o[s]===e)return s}function _addNamedNode(o,e,s,a){if(a?e[_findNodeIndex(e,a)]=s:e[e.length++]=s,o){s.ownerElement=o;var c=o.ownerDocument;c&&(a&&_onRemoveAttribute(c,o,a),_onAddAttribute(c,o,s))}}function _removeNamedNode(o,e,s){var a=_findNodeIndex(e,s);if(a>=0){for(var c=e.length-1;a<c;)e[a]=e[++a];if(e.length=c,o){var d=o.ownerDocument;d&&(_onRemoveAttribute(d,o,s),s.ownerElement=null)}}else throw new DOMException(NOT_FOUND_ERR,new Error(o.tagName+"@"+s))}NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(o){for(var e=this.length;e--;){var s=this[e];if(s.nodeName==o)return s}},setNamedItem:function(o){var e=o.ownerElement;if(e&&e!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);var s=this.getNamedItem(o.nodeName);return _addNamedNode(this._ownerElement,this,o,s),s},setNamedItemNS:function(o){var e=o.ownerElement,s;if(e&&e!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return s=this.getNamedItemNS(o.namespaceURI,o.localName),_addNamedNode(this._ownerElement,this,o,s),s},removeNamedItem:function(o){var e=this.getNamedItem(o);return _removeNamedNode(this._ownerElement,this,e),e},removeNamedItemNS:function(o,e){var s=this.getNamedItemNS(o,e);return _removeNamedNode(this._ownerElement,this,s),s},getNamedItemNS:function(o,e){for(var s=this.length;s--;){var a=this[s];if(a.localName==e&&a.namespaceURI==o)return a}return null}};function DOMImplementation$1(){}DOMImplementation$1.prototype={hasFeature:function(o,e){return!0},createDocument:function(o,e,s){var a=new Document;if(a.implementation=this,a.childNodes=new NodeList,a.doctype=s||null,s&&a.appendChild(s),e){var c=a.createElementNS(o,e);a.appendChild(c)}return a},createDocumentType:function(o,e,s){var a=new DocumentType;return a.name=o,a.nodeName=o,a.publicId=e||"",a.systemId=s||"",a}};function Node$2(){}Node$2.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(o,e){return _insertBefore(this,o,e)},replaceChild:function(o,e){_insertBefore(this,o,e,assertPreReplacementValidityInDocument),e&&this.removeChild(e)},removeChild:function(o){return _removeChild(this,o)},appendChild:function(o){return this.insertBefore(o,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(o){return cloneNode(this.ownerDocument||this,this,o)},normalize:function(){for(var o=this.firstChild;o;){var e=o.nextSibling;e&&e.nodeType==TEXT_NODE&&o.nodeType==TEXT_NODE?(this.removeChild(e),o.appendData(e.data)):(o.normalize(),o=e)}},isSupported:function(o,e){return this.ownerDocument.implementation.hasFeature(o,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(o){for(var e=this;e;){var s=e._nsMap;if(s){for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&s[a]===o)return a}e=e.nodeType==ATTRIBUTE_NODE?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(o){for(var e=this;e;){var s=e._nsMap;if(s&&Object.prototype.hasOwnProperty.call(s,o))return s[o];e=e.nodeType==ATTRIBUTE_NODE?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(o){var e=this.lookupPrefix(o);return e==null}};function _xmlEncoder(o){return o=="<"&&"&lt;"||o==">"&&"&gt;"||o=="&"&&"&amp;"||o=='"'&&"&quot;"||"&#"+o.charCodeAt()+";"}copy(NodeType,Node$2);copy(NodeType,Node$2.prototype);function _visitNode(o,e){if(e(o))return!0;if(o=o.firstChild)do if(_visitNode(o,e))return!0;while(o=o.nextSibling)}function Document(){this.ownerDocument=this}function _onAddAttribute(o,e,s){o&&o._inc++;var a=s.namespaceURI;a===NAMESPACE$2.XMLNS&&(e._nsMap[s.prefix?s.localName:""]=s.value)}function _onRemoveAttribute(o,e,s,a){o&&o._inc++;var c=s.namespaceURI;c===NAMESPACE$2.XMLNS&&delete e._nsMap[s.prefix?s.localName:""]}function _onUpdateChild(o,e,s){if(o&&o._inc){o._inc++;var a=e.childNodes;if(s)a[a.length++]=s;else{for(var c=e.firstChild,d=0;c;)a[d++]=c,c=c.nextSibling;a.length=d,delete a[a.length]}}}function _removeChild(o,e){var s=e.previousSibling,a=e.nextSibling;return s?s.nextSibling=a:o.firstChild=a,a?a.previousSibling=s:o.lastChild=s,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,_onUpdateChild(o.ownerDocument,o),e}function hasValidParentNodeType(o){return o&&(o.nodeType===Node$2.DOCUMENT_NODE||o.nodeType===Node$2.DOCUMENT_FRAGMENT_NODE||o.nodeType===Node$2.ELEMENT_NODE)}function hasInsertableNodeType(o){return o&&(isElementNode(o)||isTextNode(o)||isDocTypeNode(o)||o.nodeType===Node$2.DOCUMENT_FRAGMENT_NODE||o.nodeType===Node$2.COMMENT_NODE||o.nodeType===Node$2.PROCESSING_INSTRUCTION_NODE)}function isDocTypeNode(o){return o&&o.nodeType===Node$2.DOCUMENT_TYPE_NODE}function isElementNode(o){return o&&o.nodeType===Node$2.ELEMENT_NODE}function isTextNode(o){return o&&o.nodeType===Node$2.TEXT_NODE}function isElementInsertionPossible(o,e){var s=o.childNodes||[];if(find(s,isElementNode)||isDocTypeNode(e))return!1;var a=find(s,isDocTypeNode);return!(e&&a&&s.indexOf(a)>s.indexOf(e))}function isElementReplacementPossible(o,e){var s=o.childNodes||[];function a(d){return isElementNode(d)&&d!==e}if(find(s,a))return!1;var c=find(s,isDocTypeNode);return!(e&&c&&s.indexOf(c)>s.indexOf(e))}function assertPreInsertionValidity1to5(o,e,s){if(!hasValidParentNodeType(o))throw new DOMException(HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+o.nodeType);if(s&&s.parentNode!==o)throw new DOMException(NOT_FOUND_ERR,"child not in parent");if(!hasInsertableNodeType(e)||isDocTypeNode(e)&&o.nodeType!==Node$2.DOCUMENT_NODE)throw new DOMException(HIERARCHY_REQUEST_ERR,"Unexpected node type "+e.nodeType+" for parent node type "+o.nodeType)}function assertPreInsertionValidityInDocument(o,e,s){var a=o.childNodes||[],c=e.childNodes||[];if(e.nodeType===Node$2.DOCUMENT_FRAGMENT_NODE){var d=c.filter(isElementNode);if(d.length>1||find(c,isTextNode))throw new DOMException(HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(d.length===1&&!isElementInsertionPossible(o,s))throw new DOMException(HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(isElementNode(e)&&!isElementInsertionPossible(o,s))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(isDocTypeNode(e)){if(find(a,isDocTypeNode))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var g=find(a,isElementNode);if(s&&a.indexOf(g)<a.indexOf(s))throw new DOMException(HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!s&&g)throw new DOMException(HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function assertPreReplacementValidityInDocument(o,e,s){var a=o.childNodes||[],c=e.childNodes||[];if(e.nodeType===Node$2.DOCUMENT_FRAGMENT_NODE){var d=c.filter(isElementNode);if(d.length>1||find(c,isTextNode))throw new DOMException(HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(d.length===1&&!isElementReplacementPossible(o,s))throw new DOMException(HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(isElementNode(e)&&!isElementReplacementPossible(o,s))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(isDocTypeNode(e)){if(find(a,function(j){return isDocTypeNode(j)&&j!==s}))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var g=find(a,isElementNode);if(s&&a.indexOf(g)<a.indexOf(s))throw new DOMException(HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function _insertBefore(o,e,s,a){assertPreInsertionValidity1to5(o,e,s),o.nodeType===Node$2.DOCUMENT_NODE&&(a||assertPreInsertionValidityInDocument)(o,e,s);var c=e.parentNode;if(c&&c.removeChild(e),e.nodeType===DOCUMENT_FRAGMENT_NODE){var d=e.firstChild;if(d==null)return e;var g=e.lastChild}else d=g=e;var $=s?s.previousSibling:o.lastChild;d.previousSibling=$,g.nextSibling=s,$?$.nextSibling=d:o.firstChild=d,s==null?o.lastChild=g:s.previousSibling=g;do{d.parentNode=o;var j=o.ownerDocument||o;_updateOwnerDocument(d,j)}while(d!==g&&(d=d.nextSibling));return _onUpdateChild(o.ownerDocument||o,o),e.nodeType==DOCUMENT_FRAGMENT_NODE&&(e.firstChild=e.lastChild=null),e}function _updateOwnerDocument(o,e){if(o.ownerDocument!==e){if(o.ownerDocument=e,o.nodeType===ELEMENT_NODE&&o.attributes)for(var s=0;s<o.attributes.length;s++){var a=o.attributes.item(s);a&&(a.ownerDocument=e)}for(var c=o.firstChild;c;)_updateOwnerDocument(c,e),c=c.nextSibling}}function _appendSingleChild(o,e){e.parentNode&&e.parentNode.removeChild(e),e.parentNode=o,e.previousSibling=o.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:o.firstChild=e,o.lastChild=e,_onUpdateChild(o.ownerDocument,o,e);var s=o.ownerDocument||o;return _updateOwnerDocument(e,s),e}Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(o,e){if(o.nodeType==DOCUMENT_FRAGMENT_NODE){for(var s=o.firstChild;s;){var a=s.nextSibling;this.insertBefore(s,e),s=a}return o}return _insertBefore(this,o,e),_updateOwnerDocument(o,this),this.documentElement===null&&o.nodeType===ELEMENT_NODE&&(this.documentElement=o),o},removeChild:function(o){return this.documentElement==o&&(this.documentElement=null),_removeChild(this,o)},replaceChild:function(o,e){_insertBefore(this,o,e,assertPreReplacementValidityInDocument),_updateOwnerDocument(o,this),e&&this.removeChild(e),isElementNode(o)&&(this.documentElement=o)},importNode:function(o,e){return importNode(this,o,e)},getElementById:function(o){var e=null;return _visitNode(this.documentElement,function(s){if(s.nodeType==ELEMENT_NODE&&s.getAttribute("id")==o)return e=s,!0}),e},getElementsByClassName:function(o){var e=toOrderedSet(o);return new LiveNodeList(this,function(s){var a=[];return e.length>0&&_visitNode(s.documentElement,function(c){if(c!==s&&c.nodeType===ELEMENT_NODE){var d=c.getAttribute("class");if(d){var g=o===d;if(!g){var $=toOrderedSet(d);g=e.every(arrayIncludes($))}g&&a.push(c)}}}),a})},createElement:function(o){var e=new Element$1;e.ownerDocument=this,e.nodeName=o,e.tagName=o,e.localName=o,e.childNodes=new NodeList;var s=e.attributes=new NamedNodeMap;return s._ownerElement=e,e},createDocumentFragment:function(){var o=new DocumentFragment;return o.ownerDocument=this,o.childNodes=new NodeList,o},createTextNode:function(o){var e=new Text;return e.ownerDocument=this,e.appendData(o),e},createComment:function(o){var e=new Comment;return e.ownerDocument=this,e.appendData(o),e},createCDATASection:function(o){var e=new CDATASection;return e.ownerDocument=this,e.appendData(o),e},createProcessingInstruction:function(o,e){var s=new ProcessingInstruction;return s.ownerDocument=this,s.tagName=s.nodeName=s.target=o,s.nodeValue=s.data=e,s},createAttribute:function(o){var e=new Attr;return e.ownerDocument=this,e.name=o,e.nodeName=o,e.localName=o,e.specified=!0,e},createEntityReference:function(o){var e=new EntityReference;return e.ownerDocument=this,e.nodeName=o,e},createElementNS:function(o,e){var s=new Element$1,a=e.split(":"),c=s.attributes=new NamedNodeMap;return s.childNodes=new NodeList,s.ownerDocument=this,s.nodeName=e,s.tagName=e,s.namespaceURI=o,a.length==2?(s.prefix=a[0],s.localName=a[1]):s.localName=e,c._ownerElement=s,s},createAttributeNS:function(o,e){var s=new Attr,a=e.split(":");return s.ownerDocument=this,s.nodeName=e,s.name=e,s.namespaceURI=o,s.specified=!0,a.length==2?(s.prefix=a[0],s.localName=a[1]):s.localName=e,s}};_extends(Document,Node$2);function Element$1(){this._nsMap={}}Element$1.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(o){return this.getAttributeNode(o)!=null},getAttribute:function(o){var e=this.getAttributeNode(o);return e&&e.value||""},getAttributeNode:function(o){return this.attributes.getNamedItem(o)},setAttribute:function(o,e){var s=this.ownerDocument.createAttribute(o);s.value=s.nodeValue=""+e,this.setAttributeNode(s)},removeAttribute:function(o){var e=this.getAttributeNode(o);e&&this.removeAttributeNode(e)},appendChild:function(o){return o.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(o,null):_appendSingleChild(this,o)},setAttributeNode:function(o){return this.attributes.setNamedItem(o)},setAttributeNodeNS:function(o){return this.attributes.setNamedItemNS(o)},removeAttributeNode:function(o){return this.attributes.removeNamedItem(o.nodeName)},removeAttributeNS:function(o,e){var s=this.getAttributeNodeNS(o,e);s&&this.removeAttributeNode(s)},hasAttributeNS:function(o,e){return this.getAttributeNodeNS(o,e)!=null},getAttributeNS:function(o,e){var s=this.getAttributeNodeNS(o,e);return s&&s.value||""},setAttributeNS:function(o,e,s){var a=this.ownerDocument.createAttributeNS(o,e);a.value=a.nodeValue=""+s,this.setAttributeNode(a)},getAttributeNodeNS:function(o,e){return this.attributes.getNamedItemNS(o,e)},getElementsByTagName:function(o){return new LiveNodeList(this,function(e){var s=[];return _visitNode(e,function(a){a!==e&&a.nodeType==ELEMENT_NODE&&(o==="*"||a.tagName==o)&&s.push(a)}),s})},getElementsByTagNameNS:function(o,e){return new LiveNodeList(this,function(s){var a=[];return _visitNode(s,function(c){c!==s&&c.nodeType===ELEMENT_NODE&&(o==="*"||c.namespaceURI===o)&&(e==="*"||c.localName==e)&&a.push(c)}),a})}};Document.prototype.getElementsByTagName=Element$1.prototype.getElementsByTagName;Document.prototype.getElementsByTagNameNS=Element$1.prototype.getElementsByTagNameNS;_extends(Element$1,Node$2);function Attr(){}Attr.prototype.nodeType=ATTRIBUTE_NODE;_extends(Attr,Node$2);function CharacterData(){}CharacterData.prototype={data:"",substringData:function(o,e){return this.data.substring(o,o+e)},appendData:function(o){o=this.data+o,this.nodeValue=this.data=o,this.length=o.length},insertData:function(o,e){this.replaceData(o,0,e)},appendChild:function(o){throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])},deleteData:function(o,e){this.replaceData(o,e,"")},replaceData:function(o,e,s){var a=this.data.substring(0,o),c=this.data.substring(o+e);s=a+s+c,this.nodeValue=this.data=s,this.length=s.length}};_extends(CharacterData,Node$2);function Text(){}Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(o){var e=this.data,s=e.substring(o);e=e.substring(0,o),this.data=this.nodeValue=e,this.length=e.length;var a=this.ownerDocument.createTextNode(s);return this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling),a}};_extends(Text,CharacterData);function Comment(){}Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE};_extends(Comment,CharacterData);function CDATASection(){}CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE};_extends(CDATASection,CharacterData);function DocumentType(){}DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE;_extends(DocumentType,Node$2);function Notation(){}Notation.prototype.nodeType=NOTATION_NODE;_extends(Notation,Node$2);function Entity(){}Entity.prototype.nodeType=ENTITY_NODE;_extends(Entity,Node$2);function EntityReference(){}EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE;_extends(EntityReference,Node$2);function DocumentFragment(){}DocumentFragment.prototype.nodeName="#document-fragment";DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE;_extends(DocumentFragment,Node$2);function ProcessingInstruction(){}ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE;_extends(ProcessingInstruction,Node$2);function XMLSerializer(){}XMLSerializer.prototype.serializeToString=function(o,e,s){return nodeSerializeToString.call(o,e,s)};Node$2.prototype.toString=nodeSerializeToString;function nodeSerializeToString(o,e){var s=[],a=this.nodeType==9&&this.documentElement||this,c=a.prefix,d=a.namespaceURI;if(d&&c==null){var c=a.lookupPrefix(d);if(c==null)var g=[{namespace:d,prefix:null}]}return serializeToString(this,s,o,e,g),s.join("")}function needNamespaceDefine(o,e,s){var a=o.prefix||"",c=o.namespaceURI;if(!c||a==="xml"&&c===NAMESPACE$2.XML||c===NAMESPACE$2.XMLNS)return!1;for(var d=s.length;d--;){var g=s[d];if(g.prefix===a)return g.namespace!==c}return!0}function addSerializedAttribute(o,e,s){o.push(" ",e,'="',s.replace(/[<>&"\t\n\r]/g,_xmlEncoder),'"')}function serializeToString(o,e,s,a,c){if(c||(c=[]),a)if(o=a(o),o){if(typeof o=="string"){e.push(o);return}}else return;switch(o.nodeType){case ELEMENT_NODE:var d=o.attributes,g=d.length,st=o.firstChild,$=o.tagName;s=NAMESPACE$2.isHTML(o.namespaceURI)||s;var j=$;if(!s&&!o.prefix&&o.namespaceURI){for(var tt,et=0;et<d.length;et++)if(d.item(et).name==="xmlns"){tt=d.item(et).value;break}if(!tt)for(var b=c.length-1;b>=0;b--){var h=c[b];if(h.prefix===""&&h.namespace===o.namespaceURI){tt=h.namespace;break}}if(tt!==o.namespaceURI)for(var b=c.length-1;b>=0;b--){var h=c[b];if(h.namespace===o.namespaceURI){h.prefix&&(j=h.prefix+":"+$);break}}}e.push("<",j);for(var _e=0;_e<g;_e++){var nt=d.item(_e);nt.prefix=="xmlns"?c.push({prefix:nt.localName,namespace:nt.value}):nt.nodeName=="xmlns"&&c.push({prefix:"",namespace:nt.value})}for(var _e=0;_e<g;_e++){var nt=d.item(_e);if(needNamespaceDefine(nt,s,c)){var rt=nt.prefix||"",it=nt.namespaceURI;addSerializedAttribute(e,rt?"xmlns:"+rt:"xmlns",it),c.push({prefix:rt,namespace:it})}serializeToString(nt,e,s,a,c)}if($===j&&needNamespaceDefine(o,s,c)){var rt=o.prefix||"",it=o.namespaceURI;addSerializedAttribute(e,rt?"xmlns:"+rt:"xmlns",it),c.push({prefix:rt,namespace:it})}if(st||s&&!/^(?:meta|link|img|br|hr|input)$/i.test($)){if(e.push(">"),s&&/^script$/i.test($))for(;st;)st.data?e.push(st.data):serializeToString(st,e,s,a,c.slice()),st=st.nextSibling;else for(;st;)serializeToString(st,e,s,a,c.slice()),st=st.nextSibling;e.push("</",j,">")}else e.push("/>");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(var st=o.firstChild;st;)serializeToString(st,e,s,a,c.slice()),st=st.nextSibling;return;case ATTRIBUTE_NODE:return addSerializedAttribute(e,o.name,o.value);case TEXT_NODE:return e.push(o.data.replace(/[<&>]/g,_xmlEncoder));case CDATA_SECTION_NODE:return e.push("<![CDATA[",o.data,"]]>");case COMMENT_NODE:return e.push("<!--",o.data,"-->");case DOCUMENT_TYPE_NODE:var ot=o.publicId,at=o.systemId;if(e.push("<!DOCTYPE ",o.name),ot)e.push(" PUBLIC ",ot),at&&at!="."&&e.push(" ",at),e.push(">");else if(at&&at!=".")e.push(" SYSTEM ",at,">");else{var ct=o.internalSubset;ct&&e.push(" [",ct,"]"),e.push(">")}return;case PROCESSING_INSTRUCTION_NODE:return e.push("<?",o.target," ",o.data,"?>");case ENTITY_REFERENCE_NODE:return e.push("&",o.nodeName,";");default:e.push("??",o.nodeName)}}function importNode(o,e,s){var a;switch(e.nodeType){case ELEMENT_NODE:a=e.cloneNode(!1),a.ownerDocument=o;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:s=!0;break}if(a||(a=e.cloneNode(!1)),a.ownerDocument=o,a.parentNode=null,s)for(var c=e.firstChild;c;)a.appendChild(importNode(o,c,s)),c=c.nextSibling;return a}function cloneNode(o,e,s){var a=new e.constructor;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var d=e[c];typeof d!="object"&&d!=a[c]&&(a[c]=d)}switch(e.childNodes&&(a.childNodes=new NodeList),a.ownerDocument=o,a.nodeType){case ELEMENT_NODE:var g=e.attributes,$=a.attributes=new NamedNodeMap,j=g.length;$._ownerElement=a;for(var tt=0;tt<j;tt++)a.setAttributeNode(cloneNode(o,g.item(tt),!0));break;case ATTRIBUTE_NODE:s=!0}if(s)for(var et=e.firstChild;et;)a.appendChild(cloneNode(o,et,s)),et=et.nextSibling;return a}function __set__(o,e,s){o[e]=s}try{if(Object.defineProperty){let o=function(e){switch(e.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:var s=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&s.push(o(e)),e=e.nextSibling;return s.join("");default:return e.nodeValue}};Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node$2.prototype,"textContent",{get:function(){return o(this)},set:function(e){switch(this.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),__set__=function(e,s,a){e["$$"+s]=a}}}catch{}dom$3.DocumentType=DocumentType;dom$3.DOMException=DOMException;dom$3.DOMImplementation=DOMImplementation$1;dom$3.Element=Element$1;dom$3.Node=Node$2;dom$3.NodeList=NodeList;dom$3.XMLSerializer=XMLSerializer;var domParser={},entities$1={};(function(o){var e=conventions$2.freeze;o.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),o.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),o.entityMap=o.HTML_ENTITIES})(entities$1);var sax$1={},NAMESPACE$1=conventions$2.NAMESPACE,nameStartChar=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,nameChar=new RegExp("[\\-\\.0-9"+nameStartChar.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),tagNamePattern=new RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_SPACE=2,S_EQ=3,S_ATTR_NOQUOT_VALUE=4,S_ATTR_END=5,S_TAG_SPACE=6,S_TAG_CLOSE=7;function ParseError$1(o,e){this.message=o,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,ParseError$1)}ParseError$1.prototype=new Error;ParseError$1.prototype.name=ParseError$1.name;function XMLReader$1(){}XMLReader$1.prototype={parse:function(o,e,s){var a=this.domBuilder;a.startDocument(),_copy(e,e={}),parse$1(o,e,s,a,this.errorHandler),a.endDocument()}};function parse$1(o,e,s,a,c){function d(mt){if(mt>65535){mt-=65536;var _t=55296+(mt>>10),St=56320+(mt&1023);return String.fromCharCode(_t,St)}else return String.fromCharCode(mt)}function g(mt){var _t=mt.slice(1,-1);return Object.hasOwnProperty.call(s,_t)?s[_t]:_t.charAt(0)==="#"?d(parseInt(_t.substr(1).replace("x","0x"))):(c.error("entity not found:"+mt),mt)}function $(mt){if(mt>rt){var _t=o.substring(rt,mt).replace(/&#?\w+;/g,g);h&&j(rt),a.characters(_t,0,mt-rt),rt=mt}}function j(mt,_t){for(;mt>=et&&(_t=b.exec(o));)tt=_t.index,et=tt+_t[0].length,h.lineNumber++;h.columnNumber=mt-tt+1}for(var tt=0,et=0,b=/.*(?:\r\n?|\n)|.*$/g,h=a.locator,_e=[{currentNSMap:e}],nt={},rt=0;;){try{var it=o.indexOf("<",rt);if(it<0){if(!o.substr(rt).match(/^\s*$/)){var st=a.doc,ot=st.createTextNode(o.substr(rt));st.appendChild(ot),a.currentElement=ot}return}switch(it>rt&&$(it),o.charAt(it+1)){case"/":var Ct=o.indexOf(">",it+3),at=o.substring(it+2,Ct).replace(/[ \t\n\r]+$/g,""),ct=_e.pop();Ct<0?(at=o.substring(it+2).replace(/[\s<].*/,""),c.error("end tag name: "+at+" is not complete:"+ct.tagName),Ct=it+1+at.length):at.match(/\s</)&&(at=at.replace(/[\s<].*/,""),c.error("end tag name: "+at+" maybe not complete"),Ct=it+1+at.length);var ut=ct.localNSMap,dt=ct.tagName==at,ht=dt||ct.tagName&&ct.tagName.toLowerCase()==at.toLowerCase();if(ht){if(a.endElement(ct.uri,ct.localName,at),ut)for(var pt in ut)Object.prototype.hasOwnProperty.call(ut,pt)&&a.endPrefixMapping(pt);dt||c.fatalError("end tag name: "+at+" is not match the current start tagName:"+ct.tagName)}else _e.push(ct);Ct++;break;case"?":h&&j(it),Ct=parseInstruction(o,it,a);break;case"!":h&&j(it),Ct=parseDCC(o,it,a,c);break;default:h&&j(it);var ft=new ElementAttributes,bt=_e[_e.length-1].currentNSMap,Ct=parseElementStartPart(o,it,ft,bt,g,c),yt=ft.length;if(!ft.closed&&fixSelfClosed(o,Ct,ft.tagName,nt)&&(ft.closed=!0,s.nbsp||c.warning("unclosed xml attribute")),h&&yt){for(var Et=copyLocator(h,{}),gt=0;gt<yt;gt++){var At=ft[gt];j(At.offset),At.locator=copyLocator(h,{})}a.locator=Et,appendElement$1(ft,a,bt)&&_e.push(ft),a.locator=h}else appendElement$1(ft,a,bt)&&_e.push(ft);NAMESPACE$1.isHTML(ft.uri)&&!ft.closed?Ct=parseHtmlSpecialContent(o,Ct,ft.tagName,g,a):Ct++}}catch(mt){if(mt instanceof ParseError$1)throw mt;c.error("element parse error: "+mt),Ct=-1}Ct>rt?rt=Ct:$(Math.max(it,rt)+1)}}function copyLocator(o,e){return e.lineNumber=o.lineNumber,e.columnNumber=o.columnNumber,e}function parseElementStartPart(o,e,s,a,c,d){function g(h,_e,nt){s.attributeNames.hasOwnProperty(h)&&d.fatalError("Attribute "+h+" redefined"),s.addValue(h,_e.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,c),nt)}for(var $,j,tt=++e,et=S_TAG;;){var b=o.charAt(tt);switch(b){case"=":if(et===S_ATTR)$=o.slice(e,tt),et=S_EQ;else if(et===S_ATTR_SPACE)et=S_EQ;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(et===S_EQ||et===S_ATTR)if(et===S_ATTR&&(d.warning('attribute value must after "="'),$=o.slice(e,tt)),e=tt+1,tt=o.indexOf(b,e),tt>0)j=o.slice(e,tt),g($,j,e-1),et=S_ATTR_END;else throw new Error("attribute value no end '"+b+"' match");else if(et==S_ATTR_NOQUOT_VALUE)j=o.slice(e,tt),g($,j,e),d.warning('attribute "'+$+'" missed start quot('+b+")!!"),e=tt+1,et=S_ATTR_END;else throw new Error('attribute value must after "="');break;case"/":switch(et){case S_TAG:s.setTagName(o.slice(e,tt));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:et=S_TAG_CLOSE,s.closed=!0;case S_ATTR_NOQUOT_VALUE:case S_ATTR:break;case S_ATTR_SPACE:s.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return d.error("unexpected end of input"),et==S_TAG&&s.setTagName(o.slice(e,tt)),tt;case">":switch(et){case S_TAG:s.setTagName(o.slice(e,tt));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:break;case S_ATTR_NOQUOT_VALUE:case S_ATTR:j=o.slice(e,tt),j.slice(-1)==="/"&&(s.closed=!0,j=j.slice(0,-1));case S_ATTR_SPACE:et===S_ATTR_SPACE&&(j=$),et==S_ATTR_NOQUOT_VALUE?(d.warning('attribute "'+j+'" missed quot(")!'),g($,j,e)):((!NAMESPACE$1.isHTML(a[""])||!j.match(/^(?:disabled|checked|selected)$/i))&&d.warning('attribute "'+j+'" missed value!! "'+j+'" instead!!'),g(j,j,e));break;case S_EQ:throw new Error("attribute value missed!!")}return tt;case"":b=" ";default:if(b<=" ")switch(et){case S_TAG:s.setTagName(o.slice(e,tt)),et=S_TAG_SPACE;break;case S_ATTR:$=o.slice(e,tt),et=S_ATTR_SPACE;break;case S_ATTR_NOQUOT_VALUE:var j=o.slice(e,tt);d.warning('attribute "'+j+'" missed quot(")!!'),g($,j,e);case S_ATTR_END:et=S_TAG_SPACE;break}else switch(et){case S_ATTR_SPACE:s.tagName,(!NAMESPACE$1.isHTML(a[""])||!$.match(/^(?:disabled|checked|selected)$/i))&&d.warning('attribute "'+$+'" missed value!! "'+$+'" instead2!!'),g($,$,e),e=tt,et=S_ATTR;break;case S_ATTR_END:d.warning('attribute space is required"'+$+'"!!');case S_TAG_SPACE:et=S_ATTR,e=tt;break;case S_EQ:et=S_ATTR_NOQUOT_VALUE,e=tt;break;case S_TAG_CLOSE:throw new Error("elements closed character '/' and '>' must be connected to")}}tt++}}function appendElement$1(o,e,s){for(var a=o.tagName,c=null,b=o.length;b--;){var d=o[b],g=d.qName,$=d.value,h=g.indexOf(":");if(h>0)var j=d.prefix=g.slice(0,h),tt=g.slice(h+1),et=j==="xmlns"&&tt;else tt=g,j=null,et=g==="xmlns"&&"";d.localName=tt,et!==!1&&(c==null&&(c={},_copy(s,s={})),s[et]=c[et]=$,d.uri=NAMESPACE$1.XMLNS,e.startPrefixMapping(et,$))}for(var b=o.length;b--;){d=o[b];var j=d.prefix;j&&(j==="xml"&&(d.uri=NAMESPACE$1.XML),j!=="xmlns"&&(d.uri=s[j||""]))}var h=a.indexOf(":");h>0?(j=o.prefix=a.slice(0,h),tt=o.localName=a.slice(h+1)):(j=null,tt=o.localName=a);var _e=o.uri=s[j||""];if(e.startElement(_e,tt,a,o),o.closed){if(e.endElement(_e,tt,a),c)for(j in c)Object.prototype.hasOwnProperty.call(c,j)&&e.endPrefixMapping(j)}else return o.currentNSMap=s,o.localNSMap=c,!0}function parseHtmlSpecialContent(o,e,s,a,c){if(/^(?:script|textarea)$/i.test(s)){var d=o.indexOf("</"+s+">",e),g=o.substring(e+1,d);if(/[&<]/.test(g))return/^script$/i.test(s)?(c.characters(g,0,g.length),d):(g=g.replace(/&#?\w+;/g,a),c.characters(g,0,g.length),d)}return e+1}function fixSelfClosed(o,e,s,a){var c=a[s];return c==null&&(c=o.lastIndexOf("</"+s+">"),c<e&&(c=o.lastIndexOf("</"+s)),a[s]=c),c<e}function _copy(o,e){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}function parseDCC(o,e,s,a){var c=o.charAt(e+2);switch(c){case"-":if(o.charAt(e+3)==="-"){var d=o.indexOf("-->",e+4);return d>e?(s.comment(o,e+4,d-e-4),d+3):(a.error("Unclosed comment"),-1)}else return-1;default:if(o.substr(e+3,6)=="CDATA["){var d=o.indexOf("]]>",e+9);return s.startCDATA(),s.characters(o,e+9,d-e-9),s.endCDATA(),d+3}var g=split(o,e),$=g.length;if($>1&&/!doctype/i.test(g[0][0])){var j=g[1][0],tt=!1,et=!1;$>3&&(/^public$/i.test(g[2][0])?(tt=g[3][0],et=$>4&&g[4][0]):/^system$/i.test(g[2][0])&&(et=g[3][0]));var b=g[$-1];return s.startDTD(j,tt,et),s.endDTD(),b.index+b[0].length}}return-1}function parseInstruction(o,e,s){var a=o.indexOf("?>",e);if(a){var c=o.substring(e,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return c?(c[0].length,s.processingInstruction(c[1],c[2]),a+2):-1}return-1}function ElementAttributes(){this.attributeNames={}}ElementAttributes.prototype={setTagName:function(o){if(!tagNamePattern.test(o))throw new Error("invalid tagName:"+o);this.tagName=o},addValue:function(o,e,s){if(!tagNamePattern.test(o))throw new Error("invalid attribute:"+o);this.attributeNames[o]=this.length,this[this.length++]={qName:o,value:e,offset:s}},length:0,getLocalName:function(o){return this[o].localName},getLocator:function(o){return this[o].locator},getQName:function(o){return this[o].qName},getURI:function(o){return this[o].uri},getValue:function(o){return this[o].value}};function split(o,e){var s,a=[],c=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(c.lastIndex=e,c.exec(o);s=c.exec(o);)if(a.push(s),s[1])return a}sax$1.XMLReader=XMLReader$1;sax$1.ParseError=ParseError$1;var conventions=conventions$2,dom$2=dom$3,entities=entities$1,sax=sax$1,DOMImplementation=dom$2.DOMImplementation,NAMESPACE=conventions.NAMESPACE,ParseError=sax.ParseError,XMLReader=sax.XMLReader;function normalizeLineEndings(o){return o.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function DOMParser(o){this.options=o||{locator:{}}}DOMParser.prototype.parseFromString=function(o,e){var s=this.options,a=new XMLReader,c=s.domBuilder||new DOMHandler,d=s.errorHandler,g=s.locator,$=s.xmlns||{},j=/\/x?html?$/.test(e),tt=j?entities.HTML_ENTITIES:entities.XML_ENTITIES;g&&c.setDocumentLocator(g),a.errorHandler=buildErrorHandler(d,c,g),a.domBuilder=s.domBuilder||c,j&&($[""]=NAMESPACE.HTML),$.xml=$.xml||NAMESPACE.XML;var et=s.normalizeLineEndings||normalizeLineEndings;return o&&typeof o=="string"?a.parse(et(o),$,tt):a.errorHandler.error("invalid doc source"),c.doc};function buildErrorHandler(o,e,s){if(!o){if(e instanceof DOMHandler)return e;o=e}var a={},c=o instanceof Function;s=s||{};function d(g){var $=o[g];!$&&c&&($=o.length==2?function(j){o(g,j)}:o),a[g]=$&&function(j){$("[xmldom "+g+"]	"+j+_locator(s))}||function(){}}return d("warning"),d("error"),d("fatalError"),a}function DOMHandler(){this.cdata=!1}function position(o,e){e.lineNumber=o.lineNumber,e.columnNumber=o.columnNumber}DOMHandler.prototype={startDocument:function(){this.doc=new DOMImplementation().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(o,e,s,a){var c=this.doc,d=c.createElementNS(o,s||e),g=a.length;appendElement(this,d),this.currentElement=d,this.locator&&position(this.locator,d);for(var $=0;$<g;$++){var o=a.getURI($),j=a.getValue($),s=a.getQName($),tt=c.createAttributeNS(o,s);this.locator&&position(a.getLocator($),tt),tt.value=tt.nodeValue=j,d.setAttributeNode(tt)}},endElement:function(o,e,s){var a=this.currentElement;a.tagName,this.currentElement=a.parentNode},startPrefixMapping:function(o,e){},endPrefixMapping:function(o){},processingInstruction:function(o,e){var s=this.doc.createProcessingInstruction(o,e);this.locator&&position(this.locator,s),appendElement(this,s)},ignorableWhitespace:function(o,e,s){},characters:function(o,e,s){if(o=_toString$3.apply(this,arguments),o){if(this.cdata)var a=this.doc.createCDATASection(o);else var a=this.doc.createTextNode(o);this.currentElement?this.currentElement.appendChild(a):/^\s*$/.test(o)&&this.doc.appendChild(a),this.locator&&position(this.locator,a)}},skippedEntity:function(o){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(o){(this.locator=o)&&(o.lineNumber=0)},comment:function(o,e,s){o=_toString$3.apply(this,arguments);var a=this.doc.createComment(o);this.locator&&position(this.locator,a),appendElement(this,a)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(o,e,s){var a=this.doc.implementation;if(a&&a.createDocumentType){var c=a.createDocumentType(o,e,s);this.locator&&position(this.locator,c),appendElement(this,c),this.doc.doctype=c}},warning:function(o){console.warn("[xmldom warning]	"+o,_locator(this.locator))},error:function(o){console.error("[xmldom error]	"+o,_locator(this.locator))},fatalError:function(o){throw new ParseError(o,this.locator)}};function _locator(o){if(o)return`
@`+(o.systemId||"")+"#[line:"+o.lineNumber+",col:"+o.columnNumber+"]"}function _toString$3(o,e,s){return typeof o=="string"?o.substr(e,s):o.length>=e+s||e?new java.lang.String(o,e,s)+"":o}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(o){DOMHandler.prototype[o]=function(){return null}});function appendElement(o,e){o.currentElement?o.currentElement.appendChild(e):o.doc.appendChild(e)}domParser.__DOMHandler=DOMHandler;domParser.normalizeLineEndings=normalizeLineEndings;domParser.DOMParser=DOMParser;var dom$1=dom$3;lib$2.DOMImplementation=dom$1.DOMImplementation;lib$2.XMLSerializer=dom$1.XMLSerializer;lib$2.DOMParser=domParser.DOMParser;var xmldom$1=lib$2,dom=dom$3;function parseFromString(o){var e=null,s=new xmldom$1.DOMParser({errorHandler:function(c,d){e={level:c,message:d}}}),a=s.parseFromString(o);if(e===null)return a;throw new Error(e.level+": "+e.message)}xmldom$2.parseFromString=parseFromString;xmldom$2.Node=dom.Node;var promises$6=promises$7,_$c=require$$0$2,xmldom=xmldom$2,nodes$1=nodes$2,Element=nodes$1.Element;reader.readString=readString;var Node$1=xmldom.Node;function readString(o,e){e=e||{};try{var s=xmldom.parseFromString(o,"text/xml")}catch(g){return promises$6.reject(g)}if(s.documentElement.tagName==="parsererror")return promises$6.resolve(new Error(s.documentElement.textContent));function a(g){switch(g.nodeType){case Node$1.ELEMENT_NODE:return c(g);case Node$1.TEXT_NODE:return nodes$1.text(g.nodeValue)}}function c(g){var $=d(g),j=[];_$c.forEach(g.childNodes,function(et){var b=a(et);b&&j.push(b)});var tt={};return _$c.forEach(g.attributes,function(et){tt[d(et)]=et.value}),new Element($,tt,j)}function d(g){if(g.namespaceURI){var $=e[g.namespaceURI],j;return $?j=$+":":j="{"+g.namespaceURI+"}",j+g.localName}else return g.localName}return promises$6.resolve(a(s.documentElement))}var writer$2={},lib$1={},Utility={},hasRequiredUtility;function requireUtility(){return hasRequiredUtility||(hasRequiredUtility=1,(function(){var o,e,s,a,c,d,g,$=[].slice,j={}.hasOwnProperty;o=function(){var tt,et,b,h,_e,nt;if(nt=arguments[0],_e=2<=arguments.length?$.call(arguments,1):[],c(Object.assign))Object.assign.apply(null,arguments);else for(tt=0,b=_e.length;tt<b;tt++)if(h=_e[tt],h!=null)for(et in h)j.call(h,et)&&(nt[et]=h[et]);return nt},c=function(tt){return!!tt&&Object.prototype.toString.call(tt)==="[object Function]"},d=function(tt){var et;return!!tt&&((et=typeof tt)=="function"||et==="object")},s=function(tt){return c(Array.isArray)?Array.isArray(tt):Object.prototype.toString.call(tt)==="[object Array]"},a=function(tt){var et;if(s(tt))return!tt.length;for(et in tt)if(j.call(tt,et))return!1;return!0},g=function(tt){var et,b;return d(tt)&&(b=Object.getPrototypeOf(tt))&&(et=b.constructor)&&typeof et=="function"&&et instanceof et&&Function.prototype.toString.call(et)===Function.prototype.toString.call(Object)},e=function(tt){return c(tt.valueOf)?tt.valueOf():tt},Utility.assign=o,Utility.isFunction=c,Utility.isObject=d,Utility.isArray=s,Utility.isEmpty=a,Utility.isPlainObject=g,Utility.getValue=e}).call(commonjsGlobal)),Utility}var XMLDocument={exports:{}},XMLNode={exports:{}},XMLElement={exports:{}},XMLAttribute={exports:{}},hasRequiredXMLAttribute;function requireXMLAttribute(){return hasRequiredXMLAttribute||(hasRequiredXMLAttribute=1,(function(){XMLAttribute.exports=function(){function o(e,s,a){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,s==null)throw new Error("Missing attribute name. "+this.debugInfo(s));if(a==null)throw new Error("Missing attribute value. "+this.debugInfo(s));this.name=this.stringify.attName(s),this.value=this.stringify.attValue(a)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},o.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},o}()}).call(commonjsGlobal)),XMLAttribute.exports}var hasRequiredXMLElement;function requireXMLElement(){return hasRequiredXMLElement||(hasRequiredXMLElement=1,(function(){var o,e,s,a,c,d,g=function(j,tt){for(var et in tt)$.call(tt,et)&&(j[et]=tt[et]);function b(){this.constructor=j}return b.prototype=tt.prototype,j.prototype=new b,j.__super__=tt.prototype,j},$={}.hasOwnProperty;d=requireUtility(),c=d.isObject,a=d.isFunction,s=d.getValue,e=requireXMLNode(),o=requireXMLAttribute(),XMLElement.exports=function(j){g(tt,j);function tt(et,b,h){if(tt.__super__.constructor.call(this,et),b==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(b),this.attributes={},h!=null&&this.attribute(h),et.isDocument&&(this.isRoot=!0,this.documentObject=et,et.rootObject=this)}return tt.prototype.clone=function(){var et,b,h,_e;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},_e=this.attributes;for(b in _e)$.call(_e,b)&&(et=_e[b],h.attributes[b]=et.clone());return h.children=[],this.children.forEach(function(nt){var rt;return rt=nt.clone(),rt.parent=h,h.children.push(rt)}),h},tt.prototype.attribute=function(et,b){var h,_e;if(et!=null&&(et=s(et)),c(et))for(h in et)$.call(et,h)&&(_e=et[h],this.attribute(h,_e));else a(b)&&(b=b.apply()),(!this.options.skipNullAttributes||b!=null)&&(this.attributes[et]=new o(this,et,b));return this},tt.prototype.removeAttribute=function(et){var b,h,_e;if(et==null)throw new Error("Missing attribute name. "+this.debugInfo());if(et=s(et),Array.isArray(et))for(h=0,_e=et.length;h<_e;h++)b=et[h],delete this.attributes[b];else delete this.attributes[et];return this},tt.prototype.toString=function(et){return this.options.writer.set(et).element(this)},tt.prototype.att=function(et,b){return this.attribute(et,b)},tt.prototype.a=function(et,b){return this.attribute(et,b)},tt}(e)}).call(commonjsGlobal)),XMLElement.exports}var XMLCData={exports:{}},hasRequiredXMLCData;function requireXMLCData(){return hasRequiredXMLCData||(hasRequiredXMLCData=1,(function(){var o,e=function(a,c){for(var d in c)s.call(c,d)&&(a[d]=c[d]);function g(){this.constructor=a}return g.prototype=c.prototype,a.prototype=new g,a.__super__=c.prototype,a},s={}.hasOwnProperty;o=requireXMLNode(),XMLCData.exports=function(a){e(c,a);function c(d,g){if(c.__super__.constructor.call(this,d),g==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(g)}return c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(d){return this.options.writer.set(d).cdata(this)},c}(o)}).call(commonjsGlobal)),XMLCData.exports}var XMLComment={exports:{}},hasRequiredXMLComment;function requireXMLComment(){return hasRequiredXMLComment||(hasRequiredXMLComment=1,(function(){var o,e=function(a,c){for(var d in c)s.call(c,d)&&(a[d]=c[d]);function g(){this.constructor=a}return g.prototype=c.prototype,a.prototype=new g,a.__super__=c.prototype,a},s={}.hasOwnProperty;o=requireXMLNode(),XMLComment.exports=function(a){e(c,a);function c(d,g){if(c.__super__.constructor.call(this,d),g==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(g)}return c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(d){return this.options.writer.set(d).comment(this)},c}(o)}).call(commonjsGlobal)),XMLComment.exports}var XMLDeclaration={exports:{}},hasRequiredXMLDeclaration;function requireXMLDeclaration(){return hasRequiredXMLDeclaration||(hasRequiredXMLDeclaration=1,(function(){var o,e,s=function(c,d){for(var g in d)a.call(d,g)&&(c[g]=d[g]);function $(){this.constructor=c}return $.prototype=d.prototype,c.prototype=new $,c.__super__=d.prototype,c},a={}.hasOwnProperty;e=requireUtility().isObject,o=requireXMLNode(),XMLDeclaration.exports=function(c){s(d,c);function d(g,$,j,tt){var et;d.__super__.constructor.call(this,g),e($)&&(et=$,$=et.version,j=et.encoding,tt=et.standalone),$||($="1.0"),this.version=this.stringify.xmlVersion($),j!=null&&(this.encoding=this.stringify.xmlEncoding(j)),tt!=null&&(this.standalone=this.stringify.xmlStandalone(tt))}return d.prototype.toString=function(g){return this.options.writer.set(g).declaration(this)},d}(o)}).call(commonjsGlobal)),XMLDeclaration.exports}var XMLDocType={exports:{}},XMLDTDAttList={exports:{}},hasRequiredXMLDTDAttList;function requireXMLDTDAttList(){return hasRequiredXMLDTDAttList||(hasRequiredXMLDTDAttList=1,(function(){var o,e=function(a,c){for(var d in c)s.call(c,d)&&(a[d]=c[d]);function g(){this.constructor=a}return g.prototype=c.prototype,a.prototype=new g,a.__super__=c.prototype,a},s={}.hasOwnProperty;o=requireXMLNode(),XMLDTDAttList.exports=function(a){e(c,a);function c(d,g,$,j,tt,et){if(c.__super__.constructor.call(this,d),g==null)throw new Error("Missing DTD element name. "+this.debugInfo());if($==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(g));if(!j)throw new Error("Missing DTD attribute type. "+this.debugInfo(g));if(!tt)throw new Error("Missing DTD attribute default. "+this.debugInfo(g));if(tt.indexOf("#")!==0&&(tt="#"+tt),!tt.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(g));if(et&&!tt.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(g));this.elementName=this.stringify.eleName(g),this.attributeName=this.stringify.attName($),this.attributeType=this.stringify.dtdAttType(j),this.defaultValue=this.stringify.dtdAttDefault(et),this.defaultValueType=tt}return c.prototype.toString=function(d){return this.options.writer.set(d).dtdAttList(this)},c}(o)}).call(commonjsGlobal)),XMLDTDAttList.exports}var XMLDTDEntity={exports:{}},hasRequiredXMLDTDEntity;function requireXMLDTDEntity(){return hasRequiredXMLDTDEntity||(hasRequiredXMLDTDEntity=1,(function(){var o,e,s=function(c,d){for(var g in d)a.call(d,g)&&(c[g]=d[g]);function $(){this.constructor=c}return $.prototype=d.prototype,c.prototype=new $,c.__super__=d.prototype,c},a={}.hasOwnProperty;e=requireUtility().isObject,o=requireXMLNode(),XMLDTDEntity.exports=function(c){s(d,c);function d(g,$,j,tt){if(d.__super__.constructor.call(this,g),j==null)throw new Error("Missing DTD entity name. "+this.debugInfo(j));if(tt==null)throw new Error("Missing DTD entity value. "+this.debugInfo(j));if(this.pe=!!$,this.name=this.stringify.eleName(j),!e(tt))this.value=this.stringify.dtdEntityValue(tt);else{if(!tt.pubID&&!tt.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(j));if(tt.pubID&&!tt.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(j));if(tt.pubID!=null&&(this.pubID=this.stringify.dtdPubID(tt.pubID)),tt.sysID!=null&&(this.sysID=this.stringify.dtdSysID(tt.sysID)),tt.nData!=null&&(this.nData=this.stringify.dtdNData(tt.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(j))}}return d.prototype.toString=function(g){return this.options.writer.set(g).dtdEntity(this)},d}(o)}).call(commonjsGlobal)),XMLDTDEntity.exports}var XMLDTDElement={exports:{}},hasRequiredXMLDTDElement;function requireXMLDTDElement(){return hasRequiredXMLDTDElement||(hasRequiredXMLDTDElement=1,(function(){var o,e=function(a,c){for(var d in c)s.call(c,d)&&(a[d]=c[d]);function g(){this.constructor=a}return g.prototype=c.prototype,a.prototype=new g,a.__super__=c.prototype,a},s={}.hasOwnProperty;o=requireXMLNode(),XMLDTDElement.exports=function(a){e(c,a);function c(d,g,$){if(c.__super__.constructor.call(this,d),g==null)throw new Error("Missing DTD element name. "+this.debugInfo());$||($="(#PCDATA)"),Array.isArray($)&&($="("+$.join(",")+")"),this.name=this.stringify.eleName(g),this.value=this.stringify.dtdElementValue($)}return c.prototype.toString=function(d){return this.options.writer.set(d).dtdElement(this)},c}(o)}).call(commonjsGlobal)),XMLDTDElement.exports}var XMLDTDNotation={exports:{}},hasRequiredXMLDTDNotation;function requireXMLDTDNotation(){return hasRequiredXMLDTDNotation||(hasRequiredXMLDTDNotation=1,(function(){var o,e=function(a,c){for(var d in c)s.call(c,d)&&(a[d]=c[d]);function g(){this.constructor=a}return g.prototype=c.prototype,a.prototype=new g,a.__super__=c.prototype,a},s={}.hasOwnProperty;o=requireXMLNode(),XMLDTDNotation.exports=function(a){e(c,a);function c(d,g,$){if(c.__super__.constructor.call(this,d),g==null)throw new Error("Missing DTD notation name. "+this.debugInfo(g));if(!$.pubID&&!$.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(g));this.name=this.stringify.eleName(g),$.pubID!=null&&(this.pubID=this.stringify.dtdPubID($.pubID)),$.sysID!=null&&(this.sysID=this.stringify.dtdSysID($.sysID))}return c.prototype.toString=function(d){return this.options.writer.set(d).dtdNotation(this)},c}(o)}).call(commonjsGlobal)),XMLDTDNotation.exports}var hasRequiredXMLDocType;function requireXMLDocType(){return hasRequiredXMLDocType||(hasRequiredXMLDocType=1,(function(){var o,e,s,a,c,d,g=function(j,tt){for(var et in tt)$.call(tt,et)&&(j[et]=tt[et]);function b(){this.constructor=j}return b.prototype=tt.prototype,j.prototype=new b,j.__super__=tt.prototype,j},$={}.hasOwnProperty;d=requireUtility().isObject,c=requireXMLNode(),o=requireXMLDTDAttList(),s=requireXMLDTDEntity(),e=requireXMLDTDElement(),a=requireXMLDTDNotation(),XMLDocType.exports=function(j){g(tt,j);function tt(et,b,h){var _e,nt;tt.__super__.constructor.call(this,et),this.name="!DOCTYPE",this.documentObject=et,d(b)&&(_e=b,b=_e.pubID,h=_e.sysID),h==null&&(nt=[b,h],h=nt[0],b=nt[1]),b!=null&&(this.pubID=this.stringify.dtdPubID(b)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return tt.prototype.element=function(et,b){var h;return h=new e(this,et,b),this.children.push(h),this},tt.prototype.attList=function(et,b,h,_e,nt){var rt;return rt=new o(this,et,b,h,_e,nt),this.children.push(rt),this},tt.prototype.entity=function(et,b){var h;return h=new s(this,!1,et,b),this.children.push(h),this},tt.prototype.pEntity=function(et,b){var h;return h=new s(this,!0,et,b),this.children.push(h),this},tt.prototype.notation=function(et,b){var h;return h=new a(this,et,b),this.children.push(h),this},tt.prototype.toString=function(et){return this.options.writer.set(et).docType(this)},tt.prototype.ele=function(et,b){return this.element(et,b)},tt.prototype.att=function(et,b,h,_e,nt){return this.attList(et,b,h,_e,nt)},tt.prototype.ent=function(et,b){return this.entity(et,b)},tt.prototype.pent=function(et,b){return this.pEntity(et,b)},tt.prototype.not=function(et,b){return this.notation(et,b)},tt.prototype.up=function(){return this.root()||this.documentObject},tt}(c)}).call(commonjsGlobal)),XMLDocType.exports}var XMLRaw={exports:{}},hasRequiredXMLRaw;function requireXMLRaw(){return hasRequiredXMLRaw||(hasRequiredXMLRaw=1,(function(){var o,e=function(a,c){for(var d in c)s.call(c,d)&&(a[d]=c[d]);function g(){this.constructor=a}return g.prototype=c.prototype,a.prototype=new g,a.__super__=c.prototype,a},s={}.hasOwnProperty;o=requireXMLNode(),XMLRaw.exports=function(a){e(c,a);function c(d,g){if(c.__super__.constructor.call(this,d),g==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(g)}return c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(d){return this.options.writer.set(d).raw(this)},c}(o)}).call(commonjsGlobal)),XMLRaw.exports}var XMLText={exports:{}},hasRequiredXMLText;function requireXMLText(){return hasRequiredXMLText||(hasRequiredXMLText=1,(function(){var o,e=function(a,c){for(var d in c)s.call(c,d)&&(a[d]=c[d]);function g(){this.constructor=a}return g.prototype=c.prototype,a.prototype=new g,a.__super__=c.prototype,a},s={}.hasOwnProperty;o=requireXMLNode(),XMLText.exports=function(a){e(c,a);function c(d,g){if(c.__super__.constructor.call(this,d),g==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(g)}return c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(d){return this.options.writer.set(d).text(this)},c}(o)}).call(commonjsGlobal)),XMLText.exports}var XMLProcessingInstruction={exports:{}},hasRequiredXMLProcessingInstruction;function requireXMLProcessingInstruction(){return hasRequiredXMLProcessingInstruction||(hasRequiredXMLProcessingInstruction=1,(function(){var o,e=function(a,c){for(var d in c)s.call(c,d)&&(a[d]=c[d]);function g(){this.constructor=a}return g.prototype=c.prototype,a.prototype=new g,a.__super__=c.prototype,a},s={}.hasOwnProperty;o=requireXMLNode(),XMLProcessingInstruction.exports=function(a){e(c,a);function c(d,g,$){if(c.__super__.constructor.call(this,d),g==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(g),$&&(this.value=this.stringify.insValue($))}return c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(d){return this.options.writer.set(d).processingInstruction(this)},c}(o)}).call(commonjsGlobal)),XMLProcessingInstruction.exports}var XMLDummy={exports:{}},hasRequiredXMLDummy;function requireXMLDummy(){return hasRequiredXMLDummy||(hasRequiredXMLDummy=1,(function(){var o,e=function(a,c){for(var d in c)s.call(c,d)&&(a[d]=c[d]);function g(){this.constructor=a}return g.prototype=c.prototype,a.prototype=new g,a.__super__=c.prototype,a},s={}.hasOwnProperty;o=requireXMLNode(),XMLDummy.exports=function(a){e(c,a);function c(d){c.__super__.constructor.call(this,d),this.isDummy=!0}return c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(d){return""},c}(o)}).call(commonjsGlobal)),XMLDummy.exports}var hasRequiredXMLNode;function requireXMLNode(){return hasRequiredXMLNode||(hasRequiredXMLNode=1,(function(){var o,e,s,a,c,d,g,$,j,tt,et,b,h,_e,nt={}.hasOwnProperty;_e=requireUtility(),h=_e.isObject,b=_e.isFunction,et=_e.isEmpty,tt=_e.getValue,d=null,o=null,e=null,s=null,a=null,$=null,j=null,g=null,c=null,XMLNode.exports=function(){function rt(it){this.parent=it,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],d||(d=requireXMLElement(),o=requireXMLCData(),e=requireXMLComment(),s=requireXMLDeclaration(),a=requireXMLDocType(),$=requireXMLRaw(),j=requireXMLText(),g=requireXMLProcessingInstruction(),c=requireXMLDummy())}return rt.prototype.element=function(it,st,ot){var at,ct,ut,dt,ht,pt,ft,bt,Ct,yt,Et;if(pt=null,st===null&&ot==null&&(Ct=[{},null],st=Ct[0],ot=Ct[1]),st==null&&(st={}),st=tt(st),h(st)||(yt=[st,ot],ot=yt[0],st=yt[1]),it!=null&&(it=tt(it)),Array.isArray(it))for(ut=0,ft=it.length;ut<ft;ut++)ct=it[ut],pt=this.element(ct);else if(b(it))pt=this.element(it.apply());else if(h(it)){for(ht in it)if(nt.call(it,ht))if(Et=it[ht],b(Et)&&(Et=Et.apply()),h(Et)&&et(Et)&&(Et=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&ht.indexOf(this.stringify.convertAttKey)===0)pt=this.attribute(ht.substr(this.stringify.convertAttKey.length),Et);else if(!this.options.separateArrayItems&&Array.isArray(Et))for(dt=0,bt=Et.length;dt<bt;dt++)ct=Et[dt],at={},at[ht]=ct,pt=this.element(at);else h(Et)?(pt=this.element(ht),pt.element(Et)):pt=this.element(ht,Et)}else this.options.skipNullNodes&&ot===null?pt=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&it.indexOf(this.stringify.convertTextKey)===0?pt=this.text(ot):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&it.indexOf(this.stringify.convertCDataKey)===0?pt=this.cdata(ot):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&it.indexOf(this.stringify.convertCommentKey)===0?pt=this.comment(ot):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&it.indexOf(this.stringify.convertRawKey)===0?pt=this.raw(ot):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&it.indexOf(this.stringify.convertPIKey)===0?pt=this.instruction(it.substr(this.stringify.convertPIKey.length),ot):pt=this.node(it,st,ot);if(pt==null)throw new Error("Could not create any elements with: "+it+". "+this.debugInfo());return pt},rt.prototype.insertBefore=function(it,st,ot){var at,ct,ut;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(it));return ct=this.parent.children.indexOf(this),ut=this.parent.children.splice(ct),at=this.parent.element(it,st,ot),Array.prototype.push.apply(this.parent.children,ut),at},rt.prototype.insertAfter=function(it,st,ot){var at,ct,ut;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(it));return ct=this.parent.children.indexOf(this),ut=this.parent.children.splice(ct+1),at=this.parent.element(it,st,ot),Array.prototype.push.apply(this.parent.children,ut),at},rt.prototype.remove=function(){var it;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return it=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[it,it-it+1].concat([])),this.parent},rt.prototype.node=function(it,st,ot){var at,ct;return it!=null&&(it=tt(it)),st||(st={}),st=tt(st),h(st)||(ct=[st,ot],ot=ct[0],st=ct[1]),at=new d(this,it,st),ot!=null&&at.text(ot),this.children.push(at),at},rt.prototype.text=function(it){var st;return st=new j(this,it),this.children.push(st),this},rt.prototype.cdata=function(it){var st;return st=new o(this,it),this.children.push(st),this},rt.prototype.comment=function(it){var st;return st=new e(this,it),this.children.push(st),this},rt.prototype.commentBefore=function(it){var st,ot;return st=this.parent.children.indexOf(this),ot=this.parent.children.splice(st),this.parent.comment(it),Array.prototype.push.apply(this.parent.children,ot),this},rt.prototype.commentAfter=function(it){var st,ot;return st=this.parent.children.indexOf(this),ot=this.parent.children.splice(st+1),this.parent.comment(it),Array.prototype.push.apply(this.parent.children,ot),this},rt.prototype.raw=function(it){var st;return st=new $(this,it),this.children.push(st),this},rt.prototype.dummy=function(){var it;return it=new c(this),this.children.push(it),it},rt.prototype.instruction=function(it,st){var ot,at,ct,ut,dt;if(it!=null&&(it=tt(it)),st!=null&&(st=tt(st)),Array.isArray(it))for(ut=0,dt=it.length;ut<dt;ut++)ot=it[ut],this.instruction(ot);else if(h(it))for(ot in it)nt.call(it,ot)&&(at=it[ot],this.instruction(ot,at));else b(st)&&(st=st.apply()),ct=new g(this,it,st),this.children.push(ct);return this},rt.prototype.instructionBefore=function(it,st){var ot,at;return ot=this.parent.children.indexOf(this),at=this.parent.children.splice(ot),this.parent.instruction(it,st),Array.prototype.push.apply(this.parent.children,at),this},rt.prototype.instructionAfter=function(it,st){var ot,at;return ot=this.parent.children.indexOf(this),at=this.parent.children.splice(ot+1),this.parent.instruction(it,st),Array.prototype.push.apply(this.parent.children,at),this},rt.prototype.declaration=function(it,st,ot){var at,ct;return at=this.document(),ct=new s(at,it,st,ot),at.children[0]instanceof s?at.children[0]=ct:at.children.unshift(ct),at.root()||at},rt.prototype.doctype=function(it,st){var ot,at,ct,ut,dt,ht,pt,ft,bt,Ct;for(at=this.document(),ct=new a(at,it,st),bt=at.children,ut=dt=0,pt=bt.length;dt<pt;ut=++dt)if(ot=bt[ut],ot instanceof a)return at.children[ut]=ct,ct;for(Ct=at.children,ut=ht=0,ft=Ct.length;ht<ft;ut=++ht)if(ot=Ct[ut],ot.isRoot)return at.children.splice(ut,0,ct),ct;return at.children.push(ct),ct},rt.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},rt.prototype.root=function(){var it;for(it=this;it;){if(it.isDocument)return it.rootObject;if(it.isRoot)return it;it=it.parent}},rt.prototype.document=function(){var it;for(it=this;it;){if(it.isDocument)return it;it=it.parent}},rt.prototype.end=function(it){return this.document().end(it)},rt.prototype.prev=function(){var it;for(it=this.parent.children.indexOf(this);it>0&&this.parent.children[it-1].isDummy;)it=it-1;if(it<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[it-1]},rt.prototype.next=function(){var it;for(it=this.parent.children.indexOf(this);it<this.parent.children.length-1&&this.parent.children[it+1].isDummy;)it=it+1;if(it===-1||it===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[it+1]},rt.prototype.importDocument=function(it){var st;return st=it.root().clone(),st.parent=this,st.isRoot=!1,this.children.push(st),this},rt.prototype.debugInfo=function(it){var st,ot;return it=it||this.name,it==null&&!((st=this.parent)!=null&&st.name)?"":it==null?"parent: <"+this.parent.name+">":(ot=this.parent)!=null&&ot.name?"node: <"+it+">, parent: <"+this.parent.name+">":"node: <"+it+">"},rt.prototype.ele=function(it,st,ot){return this.element(it,st,ot)},rt.prototype.nod=function(it,st,ot){return this.node(it,st,ot)},rt.prototype.txt=function(it){return this.text(it)},rt.prototype.dat=function(it){return this.cdata(it)},rt.prototype.com=function(it){return this.comment(it)},rt.prototype.ins=function(it,st){return this.instruction(it,st)},rt.prototype.doc=function(){return this.document()},rt.prototype.dec=function(it,st,ot){return this.declaration(it,st,ot)},rt.prototype.dtd=function(it,st){return this.doctype(it,st)},rt.prototype.e=function(it,st,ot){return this.element(it,st,ot)},rt.prototype.n=function(it,st,ot){return this.node(it,st,ot)},rt.prototype.t=function(it){return this.text(it)},rt.prototype.d=function(it){return this.cdata(it)},rt.prototype.c=function(it){return this.comment(it)},rt.prototype.r=function(it){return this.raw(it)},rt.prototype.i=function(it,st){return this.instruction(it,st)},rt.prototype.u=function(){return this.up()},rt.prototype.importXMLBuilder=function(it){return this.importDocument(it)},rt}()}).call(commonjsGlobal)),XMLNode.exports}var XMLStringifier={exports:{}},hasRequiredXMLStringifier;function requireXMLStringifier(){return hasRequiredXMLStringifier||(hasRequiredXMLStringifier=1,(function(){var o=function(s,a){return function(){return s.apply(a,arguments)}},e={}.hasOwnProperty;XMLStringifier.exports=function(){function s(a){this.assertLegalChar=o(this.assertLegalChar,this);var c,d,g;a||(a={}),this.noDoubleEncoding=a.noDoubleEncoding,d=a.stringify||{};for(c in d)e.call(d,c)&&(g=d[c],this[c]=g)}return s.prototype.eleName=function(a){return a=""+a||"",this.assertLegalChar(a)},s.prototype.eleText=function(a){return a=""+a||"",this.assertLegalChar(this.elEscape(a))},s.prototype.cdata=function(a){return a=""+a||"",a=a.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(a)},s.prototype.comment=function(a){if(a=""+a||"",a.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+a);return this.assertLegalChar(a)},s.prototype.raw=function(a){return""+a||""},s.prototype.attName=function(a){return a=""+a||""},s.prototype.attValue=function(a){return a=""+a||"",this.attEscape(a)},s.prototype.insTarget=function(a){return""+a||""},s.prototype.insValue=function(a){if(a=""+a||"",a.match(/\?>/))throw new Error("Invalid processing instruction value: "+a);return a},s.prototype.xmlVersion=function(a){if(a=""+a||"",!a.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+a);return a},s.prototype.xmlEncoding=function(a){if(a=""+a||"",!a.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+a);return a},s.prototype.xmlStandalone=function(a){return a?"yes":"no"},s.prototype.dtdPubID=function(a){return""+a||""},s.prototype.dtdSysID=function(a){return""+a||""},s.prototype.dtdElementValue=function(a){return""+a||""},s.prototype.dtdAttType=function(a){return""+a||""},s.prototype.dtdAttDefault=function(a){return a!=null?""+a||"":a},s.prototype.dtdEntityValue=function(a){return""+a||""},s.prototype.dtdNData=function(a){return""+a||""},s.prototype.convertAttKey="@",s.prototype.convertPIKey="?",s.prototype.convertTextKey="#text",s.prototype.convertCDataKey="#cdata",s.prototype.convertCommentKey="#comment",s.prototype.convertRawKey="#raw",s.prototype.assertLegalChar=function(a){var c;if(c=a.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),c)throw new Error("Invalid character in string: "+a+" at index "+c.index);return a},s.prototype.elEscape=function(a){var c;return c=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,a.replace(c,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},s.prototype.attEscape=function(a){var c;return c=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,a.replace(c,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},s}()}).call(commonjsGlobal)),XMLStringifier.exports}var XMLStringWriter={exports:{}},XMLWriterBase={exports:{}},hasRequiredXMLWriterBase;function requireXMLWriterBase(){return hasRequiredXMLWriterBase||(hasRequiredXMLWriterBase=1,(function(){var o={}.hasOwnProperty;XMLWriterBase.exports=function(){function e(s){var a,c,d,g,$,j,tt,et,b;s||(s={}),this.pretty=s.pretty||!1,this.allowEmpty=(c=s.allowEmpty)!=null?c:!1,this.pretty?(this.indent=(d=s.indent)!=null?d:"  ",this.newline=(g=s.newline)!=null?g:`
`,this.offset=($=s.offset)!=null?$:0,this.dontprettytextnodes=(j=s.dontprettytextnodes)!=null?j:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(tt=s.spacebeforeslash)!=null?tt:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,et=s.writer||{};for(a in et)o.call(et,a)&&(b=et[a],this[a]=b)}return e.prototype.set=function(s){var a,c,d;s||(s={}),"pretty"in s&&(this.pretty=s.pretty),"allowEmpty"in s&&(this.allowEmpty=s.allowEmpty),this.pretty?(this.indent="indent"in s?s.indent:"  ",this.newline="newline"in s?s.newline:`
`,this.offset="offset"in s?s.offset:0,this.dontprettytextnodes="dontprettytextnodes"in s?s.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in s?s.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,c=s.writer||{};for(a in c)o.call(c,a)&&(d=c[a],this[a]=d);return this},e.prototype.space=function(s){var a;return this.pretty?(a=(s||0)+this.offset+1,a>0?new Array(a).join(this.indent):""):""},e}()}).call(commonjsGlobal)),XMLWriterBase.exports}var hasRequiredXMLStringWriter;function requireXMLStringWriter(){return hasRequiredXMLStringWriter||(hasRequiredXMLStringWriter=1,(function(){var o,e,s,a,c,d,g,$,j,tt,et,b,h,_e,nt=function(it,st){for(var ot in st)rt.call(st,ot)&&(it[ot]=st[ot]);function at(){this.constructor=it}return at.prototype=st.prototype,it.prototype=new at,it.__super__=st.prototype,it},rt={}.hasOwnProperty;g=requireXMLDeclaration(),$=requireXMLDocType(),o=requireXMLCData(),e=requireXMLComment(),tt=requireXMLElement(),b=requireXMLRaw(),h=requireXMLText(),et=requireXMLProcessingInstruction(),j=requireXMLDummy(),s=requireXMLDTDAttList(),a=requireXMLDTDElement(),c=requireXMLDTDEntity(),d=requireXMLDTDNotation(),_e=requireXMLWriterBase(),XMLStringWriter.exports=function(it){nt(st,it);function st(ot){st.__super__.constructor.call(this,ot)}return st.prototype.document=function(ot){var at,ct,ut,dt,ht;for(this.textispresent=!1,dt="",ht=ot.children,ct=0,ut=ht.length;ct<ut;ct++)at=ht[ct],!(at instanceof j)&&(dt+=(function(){switch(!1){case!(at instanceof g):return this.declaration(at);case!(at instanceof $):return this.docType(at);case!(at instanceof e):return this.comment(at);case!(at instanceof et):return this.processingInstruction(at);default:return this.element(at,0)}}).call(this));return this.pretty&&dt.slice(-this.newline.length)===this.newline&&(dt=dt.slice(0,-this.newline.length)),dt},st.prototype.attribute=function(ot){return" "+ot.name+'="'+ot.value+'"'},st.prototype.cdata=function(ot,at){return this.space(at)+"<![CDATA["+ot.text+"]]>"+this.newline},st.prototype.comment=function(ot,at){return this.space(at)+"<!-- "+ot.text+" -->"+this.newline},st.prototype.declaration=function(ot,at){var ct;return ct=this.space(at),ct+='<?xml version="'+ot.version+'"',ot.encoding!=null&&(ct+=' encoding="'+ot.encoding+'"'),ot.standalone!=null&&(ct+=' standalone="'+ot.standalone+'"'),ct+=this.spacebeforeslash+"?>",ct+=this.newline,ct},st.prototype.docType=function(ot,at){var ct,ut,dt,ht,pt;if(at||(at=0),ht=this.space(at),ht+="<!DOCTYPE "+ot.root().name,ot.pubID&&ot.sysID?ht+=' PUBLIC "'+ot.pubID+'" "'+ot.sysID+'"':ot.sysID&&(ht+=' SYSTEM "'+ot.sysID+'"'),ot.children.length>0){for(ht+=" [",ht+=this.newline,pt=ot.children,ut=0,dt=pt.length;ut<dt;ut++)ct=pt[ut],ht+=(function(){switch(!1){case!(ct instanceof s):return this.dtdAttList(ct,at+1);case!(ct instanceof a):return this.dtdElement(ct,at+1);case!(ct instanceof c):return this.dtdEntity(ct,at+1);case!(ct instanceof d):return this.dtdNotation(ct,at+1);case!(ct instanceof o):return this.cdata(ct,at+1);case!(ct instanceof e):return this.comment(ct,at+1);case!(ct instanceof et):return this.processingInstruction(ct,at+1);default:throw new Error("Unknown DTD node type: "+ct.constructor.name)}}).call(this);ht+="]"}return ht+=this.spacebeforeslash+">",ht+=this.newline,ht},st.prototype.element=function(ot,at){var ct,ut,dt,ht,pt,ft,bt,Ct,yt,Et,gt,At,mt;at||(at=0),mt=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),At=this.space(at),Ct="",Ct+=At+"<"+ot.name,yt=ot.attributes;for(bt in yt)rt.call(yt,bt)&&(ct=yt[bt],Ct+=this.attribute(ct));if(ot.children.length===0||ot.children.every(function(_t){return _t.value===""}))this.allowEmpty?Ct+="></"+ot.name+">"+this.newline:Ct+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&ot.children.length===1&&ot.children[0].value!=null)Ct+=">",Ct+=ot.children[0].value,Ct+="</"+ot.name+">"+this.newline;else{if(this.dontprettytextnodes){for(Et=ot.children,dt=0,pt=Et.length;dt<pt;dt++)if(ut=Et[dt],ut.value!=null){this.textispresent++,mt=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,At=this.space(at)),Ct+=">"+this.newline,gt=ot.children,ht=0,ft=gt.length;ht<ft;ht++)ut=gt[ht],Ct+=(function(){switch(!1){case!(ut instanceof o):return this.cdata(ut,at+1);case!(ut instanceof e):return this.comment(ut,at+1);case!(ut instanceof tt):return this.element(ut,at+1);case!(ut instanceof b):return this.raw(ut,at+1);case!(ut instanceof h):return this.text(ut,at+1);case!(ut instanceof et):return this.processingInstruction(ut,at+1);case!(ut instanceof j):return"";default:throw new Error("Unknown XML node type: "+ut.constructor.name)}}).call(this);mt&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Ct+=At+"</"+ot.name+">"+this.newline}return Ct},st.prototype.processingInstruction=function(ot,at){var ct;return ct=this.space(at)+"<?"+ot.target,ot.value&&(ct+=" "+ot.value),ct+=this.spacebeforeslash+"?>"+this.newline,ct},st.prototype.raw=function(ot,at){return this.space(at)+ot.value+this.newline},st.prototype.text=function(ot,at){return this.space(at)+ot.value+this.newline},st.prototype.dtdAttList=function(ot,at){var ct;return ct=this.space(at)+"<!ATTLIST "+ot.elementName+" "+ot.attributeName+" "+ot.attributeType,ot.defaultValueType!=="#DEFAULT"&&(ct+=" "+ot.defaultValueType),ot.defaultValue&&(ct+=' "'+ot.defaultValue+'"'),ct+=this.spacebeforeslash+">"+this.newline,ct},st.prototype.dtdElement=function(ot,at){return this.space(at)+"<!ELEMENT "+ot.name+" "+ot.value+this.spacebeforeslash+">"+this.newline},st.prototype.dtdEntity=function(ot,at){var ct;return ct=this.space(at)+"<!ENTITY",ot.pe&&(ct+=" %"),ct+=" "+ot.name,ot.value?ct+=' "'+ot.value+'"':(ot.pubID&&ot.sysID?ct+=' PUBLIC "'+ot.pubID+'" "'+ot.sysID+'"':ot.sysID&&(ct+=' SYSTEM "'+ot.sysID+'"'),ot.nData&&(ct+=" NDATA "+ot.nData)),ct+=this.spacebeforeslash+">"+this.newline,ct},st.prototype.dtdNotation=function(ot,at){var ct;return ct=this.space(at)+"<!NOTATION "+ot.name,ot.pubID&&ot.sysID?ct+=' PUBLIC "'+ot.pubID+'" "'+ot.sysID+'"':ot.pubID?ct+=' PUBLIC "'+ot.pubID+'"':ot.sysID&&(ct+=' SYSTEM "'+ot.sysID+'"'),ct+=this.spacebeforeslash+">"+this.newline,ct},st.prototype.openNode=function(ot,at){var ct,ut,dt,ht;if(at||(at=0),ot instanceof tt){dt=this.space(at)+"<"+ot.name,ht=ot.attributes;for(ut in ht)rt.call(ht,ut)&&(ct=ht[ut],dt+=this.attribute(ct));return dt+=(ot.children?">":"/>")+this.newline,dt}else return dt=this.space(at)+"<!DOCTYPE "+ot.rootNodeName,ot.pubID&&ot.sysID?dt+=' PUBLIC "'+ot.pubID+'" "'+ot.sysID+'"':ot.sysID&&(dt+=' SYSTEM "'+ot.sysID+'"'),dt+=(ot.children?" [":">")+this.newline,dt},st.prototype.closeNode=function(ot,at){switch(at||(at=0),!1){case!(ot instanceof tt):return this.space(at)+"</"+ot.name+">"+this.newline;case!(ot instanceof $):return this.space(at)+"]>"+this.newline}},st}(_e)}).call(commonjsGlobal)),XMLStringWriter.exports}var hasRequiredXMLDocument;function requireXMLDocument(){return hasRequiredXMLDocument||(hasRequiredXMLDocument=1,(function(){var o,e,s,a,c=function(g,$){for(var j in $)d.call($,j)&&(g[j]=$[j]);function tt(){this.constructor=g}return tt.prototype=$.prototype,g.prototype=new tt,g.__super__=$.prototype,g},d={}.hasOwnProperty;a=requireUtility().isPlainObject,o=requireXMLNode(),s=requireXMLStringifier(),e=requireXMLStringWriter(),XMLDocument.exports=function(g){c($,g);function $(j){$.__super__.constructor.call(this,null),this.name="?xml",j||(j={}),j.writer||(j.writer=new e),this.options=j,this.stringify=new s(j),this.isDocument=!0}return $.prototype.end=function(j){var tt;return j?a(j)&&(tt=j,j=this.options.writer.set(tt)):j=this.options.writer,j.document(this)},$.prototype.toString=function(j){return this.options.writer.set(j).document(this)},$}(o)}).call(commonjsGlobal)),XMLDocument.exports}var XMLDocumentCB={exports:{}},hasRequiredXMLDocumentCB;function requireXMLDocumentCB(){return hasRequiredXMLDocumentCB||(hasRequiredXMLDocumentCB=1,(function(){var o,e,s,a,c,d,g,$,j,tt,et,b,h,_e,nt,rt,it,st,ot,at,ct={}.hasOwnProperty;at=requireUtility(),st=at.isObject,it=at.isFunction,ot=at.isPlainObject,rt=at.getValue,tt=requireXMLElement(),e=requireXMLCData(),s=requireXMLComment(),b=requireXMLRaw(),nt=requireXMLText(),et=requireXMLProcessingInstruction(),$=requireXMLDeclaration(),j=requireXMLDocType(),a=requireXMLDTDAttList(),d=requireXMLDTDEntity(),c=requireXMLDTDElement(),g=requireXMLDTDNotation(),o=requireXMLAttribute(),_e=requireXMLStringifier(),h=requireXMLStringWriter(),XMLDocumentCB.exports=function(){function ut(dt,ht,pt){var ft;this.name="?xml",dt||(dt={}),dt.writer?ot(dt.writer)&&(ft=dt.writer,dt.writer=new h(ft)):dt.writer=new h(dt),this.options=dt,this.writer=dt.writer,this.stringify=new _e(dt),this.onDataCallback=ht||function(){},this.onEndCallback=pt||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return ut.prototype.node=function(dt,ht,pt){var ft,bt;if(dt==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(dt));return this.openCurrent(),dt=rt(dt),ht===null&&pt==null&&(ft=[{},null],ht=ft[0],pt=ft[1]),ht==null&&(ht={}),ht=rt(ht),st(ht)||(bt=[ht,pt],pt=bt[0],ht=bt[1]),this.currentNode=new tt(this,dt,ht),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,pt!=null&&this.text(pt),this},ut.prototype.element=function(dt,ht,pt){return this.currentNode&&this.currentNode instanceof j?this.dtdElement.apply(this,arguments):this.node(dt,ht,pt)},ut.prototype.attribute=function(dt,ht){var pt,ft;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(dt));if(dt!=null&&(dt=rt(dt)),st(dt))for(pt in dt)ct.call(dt,pt)&&(ft=dt[pt],this.attribute(pt,ft));else it(ht)&&(ht=ht.apply()),(!this.options.skipNullAttributes||ht!=null)&&(this.currentNode.attributes[dt]=new o(this,dt,ht));return this},ut.prototype.text=function(dt){var ht;return this.openCurrent(),ht=new nt(this,dt),this.onData(this.writer.text(ht,this.currentLevel+1),this.currentLevel+1),this},ut.prototype.cdata=function(dt){var ht;return this.openCurrent(),ht=new e(this,dt),this.onData(this.writer.cdata(ht,this.currentLevel+1),this.currentLevel+1),this},ut.prototype.comment=function(dt){var ht;return this.openCurrent(),ht=new s(this,dt),this.onData(this.writer.comment(ht,this.currentLevel+1),this.currentLevel+1),this},ut.prototype.raw=function(dt){var ht;return this.openCurrent(),ht=new b(this,dt),this.onData(this.writer.raw(ht,this.currentLevel+1),this.currentLevel+1),this},ut.prototype.instruction=function(dt,ht){var pt,ft,bt,Ct,yt;if(this.openCurrent(),dt!=null&&(dt=rt(dt)),ht!=null&&(ht=rt(ht)),Array.isArray(dt))for(pt=0,Ct=dt.length;pt<Ct;pt++)ft=dt[pt],this.instruction(ft);else if(st(dt))for(ft in dt)ct.call(dt,ft)&&(bt=dt[ft],this.instruction(ft,bt));else it(ht)&&(ht=ht.apply()),yt=new et(this,dt,ht),this.onData(this.writer.processingInstruction(yt,this.currentLevel+1),this.currentLevel+1);return this},ut.prototype.declaration=function(dt,ht,pt){var ft;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return ft=new $(this,dt,ht,pt),this.onData(this.writer.declaration(ft,this.currentLevel+1),this.currentLevel+1),this},ut.prototype.doctype=function(dt,ht,pt){if(this.openCurrent(),dt==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new j(this,ht,pt),this.currentNode.rootNodeName=dt,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},ut.prototype.dtdElement=function(dt,ht){var pt;return this.openCurrent(),pt=new c(this,dt,ht),this.onData(this.writer.dtdElement(pt,this.currentLevel+1),this.currentLevel+1),this},ut.prototype.attList=function(dt,ht,pt,ft,bt){var Ct;return this.openCurrent(),Ct=new a(this,dt,ht,pt,ft,bt),this.onData(this.writer.dtdAttList(Ct,this.currentLevel+1),this.currentLevel+1),this},ut.prototype.entity=function(dt,ht){var pt;return this.openCurrent(),pt=new d(this,!1,dt,ht),this.onData(this.writer.dtdEntity(pt,this.currentLevel+1),this.currentLevel+1),this},ut.prototype.pEntity=function(dt,ht){var pt;return this.openCurrent(),pt=new d(this,!0,dt,ht),this.onData(this.writer.dtdEntity(pt,this.currentLevel+1),this.currentLevel+1),this},ut.prototype.notation=function(dt,ht){var pt;return this.openCurrent(),pt=new g(this,dt,ht),this.onData(this.writer.dtdNotation(pt,this.currentLevel+1),this.currentLevel+1),this},ut.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},ut.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},ut.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},ut.prototype.openNode=function(dt){if(!dt.isOpen)return!this.root&&this.currentLevel===0&&dt instanceof tt&&(this.root=dt),this.onData(this.writer.openNode(dt,this.currentLevel),this.currentLevel),dt.isOpen=!0},ut.prototype.closeNode=function(dt){if(!dt.isClosed)return this.onData(this.writer.closeNode(dt,this.currentLevel),this.currentLevel),dt.isClosed=!0},ut.prototype.onData=function(dt,ht){return this.documentStarted=!0,this.onDataCallback(dt,ht+1)},ut.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},ut.prototype.debugInfo=function(dt){return dt==null?"":"node: <"+dt+">"},ut.prototype.ele=function(){return this.element.apply(this,arguments)},ut.prototype.nod=function(dt,ht,pt){return this.node(dt,ht,pt)},ut.prototype.txt=function(dt){return this.text(dt)},ut.prototype.dat=function(dt){return this.cdata(dt)},ut.prototype.com=function(dt){return this.comment(dt)},ut.prototype.ins=function(dt,ht){return this.instruction(dt,ht)},ut.prototype.dec=function(dt,ht,pt){return this.declaration(dt,ht,pt)},ut.prototype.dtd=function(dt,ht,pt){return this.doctype(dt,ht,pt)},ut.prototype.e=function(dt,ht,pt){return this.element(dt,ht,pt)},ut.prototype.n=function(dt,ht,pt){return this.node(dt,ht,pt)},ut.prototype.t=function(dt){return this.text(dt)},ut.prototype.d=function(dt){return this.cdata(dt)},ut.prototype.c=function(dt){return this.comment(dt)},ut.prototype.r=function(dt){return this.raw(dt)},ut.prototype.i=function(dt,ht){return this.instruction(dt,ht)},ut.prototype.att=function(){return this.currentNode&&this.currentNode instanceof j?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},ut.prototype.a=function(){return this.currentNode&&this.currentNode instanceof j?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},ut.prototype.ent=function(dt,ht){return this.entity(dt,ht)},ut.prototype.pent=function(dt,ht){return this.pEntity(dt,ht)},ut.prototype.not=function(dt,ht){return this.notation(dt,ht)},ut}()}).call(commonjsGlobal)),XMLDocumentCB.exports}var XMLStreamWriter={exports:{}},hasRequiredXMLStreamWriter;function requireXMLStreamWriter(){return hasRequiredXMLStreamWriter||(hasRequiredXMLStreamWriter=1,(function(){var o,e,s,a,c,d,g,$,j,tt,et,b,h,_e,nt=function(it,st){for(var ot in st)rt.call(st,ot)&&(it[ot]=st[ot]);function at(){this.constructor=it}return at.prototype=st.prototype,it.prototype=new at,it.__super__=st.prototype,it},rt={}.hasOwnProperty;g=requireXMLDeclaration(),$=requireXMLDocType(),o=requireXMLCData(),e=requireXMLComment(),tt=requireXMLElement(),b=requireXMLRaw(),h=requireXMLText(),et=requireXMLProcessingInstruction(),j=requireXMLDummy(),s=requireXMLDTDAttList(),a=requireXMLDTDElement(),c=requireXMLDTDEntity(),d=requireXMLDTDNotation(),_e=requireXMLWriterBase(),XMLStreamWriter.exports=function(it){nt(st,it);function st(ot,at){st.__super__.constructor.call(this,at),this.stream=ot}return st.prototype.document=function(ot){var at,ct,ut,dt,ht,pt,ft,bt;for(pt=ot.children,ct=0,dt=pt.length;ct<dt;ct++)at=pt[ct],at.isLastRootNode=!1;for(ot.children[ot.children.length-1].isLastRootNode=!0,ft=ot.children,bt=[],ut=0,ht=ft.length;ut<ht;ut++)if(at=ft[ut],!(at instanceof j))switch(!1){case!(at instanceof g):bt.push(this.declaration(at));break;case!(at instanceof $):bt.push(this.docType(at));break;case!(at instanceof e):bt.push(this.comment(at));break;case!(at instanceof et):bt.push(this.processingInstruction(at));break;default:bt.push(this.element(at))}return bt},st.prototype.attribute=function(ot){return this.stream.write(" "+ot.name+'="'+ot.value+'"')},st.prototype.cdata=function(ot,at){return this.stream.write(this.space(at)+"<![CDATA["+ot.text+"]]>"+this.endline(ot))},st.prototype.comment=function(ot,at){return this.stream.write(this.space(at)+"<!-- "+ot.text+" -->"+this.endline(ot))},st.prototype.declaration=function(ot,at){return this.stream.write(this.space(at)),this.stream.write('<?xml version="'+ot.version+'"'),ot.encoding!=null&&this.stream.write(' encoding="'+ot.encoding+'"'),ot.standalone!=null&&this.stream.write(' standalone="'+ot.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(ot))},st.prototype.docType=function(ot,at){var ct,ut,dt,ht;if(at||(at=0),this.stream.write(this.space(at)),this.stream.write("<!DOCTYPE "+ot.root().name),ot.pubID&&ot.sysID?this.stream.write(' PUBLIC "'+ot.pubID+'" "'+ot.sysID+'"'):ot.sysID&&this.stream.write(' SYSTEM "'+ot.sysID+'"'),ot.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(ot)),ht=ot.children,ut=0,dt=ht.length;ut<dt;ut++)switch(ct=ht[ut],!1){case!(ct instanceof s):this.dtdAttList(ct,at+1);break;case!(ct instanceof a):this.dtdElement(ct,at+1);break;case!(ct instanceof c):this.dtdEntity(ct,at+1);break;case!(ct instanceof d):this.dtdNotation(ct,at+1);break;case!(ct instanceof o):this.cdata(ct,at+1);break;case!(ct instanceof e):this.comment(ct,at+1);break;case!(ct instanceof et):this.processingInstruction(ct,at+1);break;default:throw new Error("Unknown DTD node type: "+ct.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(ot))},st.prototype.element=function(ot,at){var ct,ut,dt,ht,pt,ft,bt,Ct;at||(at=0),Ct=this.space(at),this.stream.write(Ct+"<"+ot.name),ft=ot.attributes;for(pt in ft)rt.call(ft,pt)&&(ct=ft[pt],this.attribute(ct));if(ot.children.length===0||ot.children.every(function(yt){return yt.value===""}))this.allowEmpty?this.stream.write("></"+ot.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&ot.children.length===1&&ot.children[0].value!=null)this.stream.write(">"),this.stream.write(ot.children[0].value),this.stream.write("</"+ot.name+">");else{for(this.stream.write(">"+this.newline),bt=ot.children,dt=0,ht=bt.length;dt<ht;dt++)switch(ut=bt[dt],!1){case!(ut instanceof o):this.cdata(ut,at+1);break;case!(ut instanceof e):this.comment(ut,at+1);break;case!(ut instanceof tt):this.element(ut,at+1);break;case!(ut instanceof b):this.raw(ut,at+1);break;case!(ut instanceof h):this.text(ut,at+1);break;case!(ut instanceof et):this.processingInstruction(ut,at+1);break;case!(ut instanceof j):break;default:throw new Error("Unknown XML node type: "+ut.constructor.name)}this.stream.write(Ct+"</"+ot.name+">")}return this.stream.write(this.endline(ot))},st.prototype.processingInstruction=function(ot,at){return this.stream.write(this.space(at)+"<?"+ot.target),ot.value&&this.stream.write(" "+ot.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(ot))},st.prototype.raw=function(ot,at){return this.stream.write(this.space(at)+ot.value+this.endline(ot))},st.prototype.text=function(ot,at){return this.stream.write(this.space(at)+ot.value+this.endline(ot))},st.prototype.dtdAttList=function(ot,at){return this.stream.write(this.space(at)+"<!ATTLIST "+ot.elementName+" "+ot.attributeName+" "+ot.attributeType),ot.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+ot.defaultValueType),ot.defaultValue&&this.stream.write(' "'+ot.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(ot))},st.prototype.dtdElement=function(ot,at){return this.stream.write(this.space(at)+"<!ELEMENT "+ot.name+" "+ot.value),this.stream.write(this.spacebeforeslash+">"+this.endline(ot))},st.prototype.dtdEntity=function(ot,at){return this.stream.write(this.space(at)+"<!ENTITY"),ot.pe&&this.stream.write(" %"),this.stream.write(" "+ot.name),ot.value?this.stream.write(' "'+ot.value+'"'):(ot.pubID&&ot.sysID?this.stream.write(' PUBLIC "'+ot.pubID+'" "'+ot.sysID+'"'):ot.sysID&&this.stream.write(' SYSTEM "'+ot.sysID+'"'),ot.nData&&this.stream.write(" NDATA "+ot.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(ot))},st.prototype.dtdNotation=function(ot,at){return this.stream.write(this.space(at)+"<!NOTATION "+ot.name),ot.pubID&&ot.sysID?this.stream.write(' PUBLIC "'+ot.pubID+'" "'+ot.sysID+'"'):ot.pubID?this.stream.write(' PUBLIC "'+ot.pubID+'"'):ot.sysID&&this.stream.write(' SYSTEM "'+ot.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(ot))},st.prototype.endline=function(ot){return ot.isLastRootNode?"":this.newline},st}(_e)}).call(commonjsGlobal)),XMLStreamWriter.exports}(function(){var o,e,s,a,c,d,g;g=requireUtility(),c=g.assign,d=g.isFunction,o=requireXMLDocument(),e=requireXMLDocumentCB(),a=requireXMLStringWriter(),s=requireXMLStreamWriter(),lib$1.create=function($,j,tt,et){var b,h;if($==null)throw new Error("Root element needs a name.");return et=c({},j,tt,et),b=new o(et),h=b.element($),et.headless||(b.declaration(et),(et.pubID!=null||et.sysID!=null)&&b.doctype(et)),h},lib$1.begin=function($,j,tt){var et;return d($)&&(et=[$,j],j=et[0],tt=et[1],$={}),j?new e($,j,tt):new o($)},lib$1.stringWriter=function($){return new a($)},lib$1.streamWriter=function($,j){return new s($,j)}}).call(commonjsGlobal);var _$b=require$$0$2,xmlbuilder=lib$1;writer$2.writeString=writeString;function writeString(o,e){var s=_$b.invert(e),a={element:d,text:writeTextNode};function c(j,tt){return a[tt.type](j,tt)}function d(j,tt){var et=j.element(g(tt.name),tt.attributes);tt.children.forEach(function(b){c(et,b)})}function g(j){var tt=/^\{(.*)\}(.*)$/.exec(j);if(tt){var et=s[tt[1]];return et+(et===""?"":":")+tt[2]}else return j}function $(j){var tt=xmlbuilder.create(g(j.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return _$b.forEach(e,function(et,b){var h="xmlns"+(b===""?"":":"+b);tt.attribute(h,et)}),j.children.forEach(function(et){c(tt,et)}),tt.end()}return $(o)}function writeTextNode(o,e){o.text(e.value)}var nodes=nodes$2;xml$3.Element=nodes.Element;xml$3.element=nodes.element;xml$3.emptyElement=nodes.emptyElement;xml$3.text=nodes.text;xml$3.readString=reader.readString;xml$3.writeString=writer$2.writeString;var _$a=require$$0$2,promises$5=promises$7,xml$2=xml$3;officeXmlReader.read=read$1;officeXmlReader.readXmlFromZipFile=readXmlFromZipFile$1;var xmlNamespaceMap={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function read$1(o){return xml$2.readString(o,xmlNamespaceMap).then(function(e){return collapseAlternateContent(e)[0]})}function readXmlFromZipFile$1(o,e){return o.exists(e)?o.read(e,"utf-8").then(stripUtf8Bom).then(read$1):promises$5.resolve(null)}function stripUtf8Bom(o){return o.replace(/^\uFEFF/g,"")}function collapseAlternateContent(o){return o.type==="element"?o.name==="mc:AlternateContent"?o.firstOrEmpty("mc:Fallback").children:(o.children=_$a.flatten(o.children.map(collapseAlternateContent,!0)),[o]):[o]}var bodyReader={},dist={},dingbats$1={};Object.defineProperty(dingbats$1,"__esModule",{value:!0});var dingbats=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];dingbats$1.default=dingbats;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(dist,"__esModule",{value:!0});dist.hex=dist.dec=dist.codePoint=void 0;var dingbats_1=__importDefault(dingbats$1),dingbatsByCodePoint={},fromCodePoint=String.fromCodePoint?String.fromCodePoint:fromCodePointPolyfill;for(var _i=0,dingbats_2=dingbats_1.default;_i<dingbats_2.length;_i++){var dingbat=dingbats_2[_i],codePoint_1=parseInt(dingbat["Unicode dec"],10),scalarValue={codePoint:codePoint_1,string:fromCodePoint(codePoint_1)};dingbatsByCodePoint[dingbat["Typeface name"].toUpperCase()+"_"+dingbat["Dingbat dec"]]=scalarValue}function codePoint(o,e){return dingbatsByCodePoint[o.toUpperCase()+"_"+e]}dist.codePoint=codePoint;function dec(o,e){return codePoint(o,parseInt(e,10))}dist.dec=dec;function hex(o,e){return codePoint(o,parseInt(e,16))}dist.hex=hex;function fromCodePointPolyfill(o){if(o<=65535)return String.fromCharCode(o);var e=Math.floor((o-65536)/1024)+55296,s=(o-65536)%1024+56320;return String.fromCharCode(e,s)}var transforms$1={},_$9=require$$0$2;transforms$1.paragraph=paragraph$1;transforms$1.run=run$1;transforms$1._elements=elements;transforms$1._elementsOfType=elementsOfType;transforms$1.getDescendantsOfType=getDescendantsOfType;transforms$1.getDescendants=getDescendants;function paragraph$1(o){return elementsOfType("paragraph",o)}function run$1(o){return elementsOfType("run",o)}function elementsOfType(o,e){return elements(function(s){return s.type===o?e(s):s})}function elements(o){return function e(s){if(s.children){var a=_$9.map(s.children,e);s=_$9.extend(s,{children:a})}return o(s)}}function getDescendantsOfType(o,e){return getDescendants(o).filter(function(s){return s.type===e})}function getDescendants(o){var e=[];return visitDescendants(o,function(s){e.push(s)}),e}function visitDescendants(o,e){o.children&&o.children.forEach(function(s){visitDescendants(s,e),e(s)})}var uris$1={};uris$1.uriToZipEntryName=uriToZipEntryName;uris$1.replaceFragment=replaceFragment;function uriToZipEntryName(o,e){return e.charAt(0)==="/"?e.substr(1):o+"/"+e}function replaceFragment(o,e){var s=o.indexOf("#");return s!==-1&&(o=o.substring(0,s)),o+"#"+e}bodyReader.createBodyReader=createBodyReader$1;bodyReader._readNumberingProperties=readNumberingProperties;var dingbatToUnicode=dist,_$8=require$$0$2,documents$6=documents$7,Result$6=results$2.Result,warning=results$2.warning,xml$1=xml$3,transforms=transforms$1,uris=uris$1;function createBodyReader$1(o){return{readXmlElement:function(e){return new BodyReader(o).readXmlElement(e)},readXmlElements:function(e){return new BodyReader(o).readXmlElements(e)}}}function BodyReader(o){var e=[],s=[],a=[],c=o.relationships,d=o.contentTypes,g=o.docxFile,$=o.files,j=o.numbering,tt=o.styles;function et(Yt){var an=Yt.map(b);return combineResults(an)}function b(Yt){if(Yt.type==="element"){var an=mt[Yt.name];if(an)return an(Yt);if(!Object.prototype.hasOwnProperty.call(ignoreElements,Yt.name)){var vt=warning("An unrecognised element was ignored: "+Yt.name);return emptyResultWithMessages([vt])}}return emptyResult()}function h(Yt){return at(Yt).map(function(an){return{type:"paragraphProperties",styleId:an.styleId,styleName:an.name,alignment:Yt.firstOrEmpty("w:jc").attributes["w:val"],numbering:readNumberingProperties(an.styleId,Yt.firstOrEmpty("w:numPr"),j),indent:_e(Yt.firstOrEmpty("w:ind"))}})}function _e(Yt){return{start:Yt.attributes["w:start"]||Yt.attributes["w:left"],end:Yt.attributes["w:end"]||Yt.attributes["w:right"],firstLine:Yt.attributes["w:firstLine"],hanging:Yt.attributes["w:hanging"]}}function nt(Yt){return ct(Yt).map(function(an){var vt=Yt.firstOrEmpty("w:sz").attributes["w:val"],Qt=/^[0-9]+$/.test(vt)?parseInt(vt,10)/2:null;return{type:"runProperties",styleId:an.styleId,styleName:an.name,verticalAlignment:Yt.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Yt.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Qt,isBold:it(Yt.first("w:b")),isUnderline:rt(Yt.first("w:u")),isItalic:it(Yt.first("w:i")),isStrikethrough:it(Yt.first("w:strike")),isAllCaps:it(Yt.first("w:caps")),isSmallCaps:it(Yt.first("w:smallCaps")),highlight:ot(Yt.firstOrEmpty("w:highlight").attributes["w:val"])}})}function rt(Yt){if(Yt){var an=Yt.attributes["w:val"];return an!==void 0&&an!=="false"&&an!=="0"&&an!=="none"}else return!1}function it(Yt){if(Yt){var an=Yt.attributes["w:val"];return an!=="false"&&an!=="0"}else return!1}function st(Yt){return Yt!=="false"&&Yt!=="0"}function ot(Yt){return!Yt||Yt==="none"?null:Yt}function at(Yt){return dt(Yt,"w:pStyle","Paragraph",tt.findParagraphStyleById)}function ct(Yt){return dt(Yt,"w:rStyle","Run",tt.findCharacterStyleById)}function ut(Yt){return dt(Yt,"w:tblStyle","Table",tt.findTableStyleById)}function dt(Yt,an,vt,Qt){var Kt=[],Lt=Yt.first(an),Rt=null,Gt=null;if(Lt&&(Rt=Lt.attributes["w:val"],Rt)){var dn=Qt(Rt);dn?Gt=dn.name:Kt.push(Tn(vt,Rt))}return elementResultWithMessages({styleId:Rt,name:Gt},Kt)}function ht(Yt){var an=Yt.attributes["w:fldCharType"];if(an==="begin")e.push({type:"begin",fldChar:Yt}),s=[];else if(an==="end"){var vt=e.pop();if(vt.type==="begin"&&(vt=ft(vt)),vt.type==="checkbox")return elementResult(documents$6.checkbox({checked:vt.checked}))}else if(an==="separate"){var Qt=e.pop(),Kt=ft(Qt);e.push(Kt)}return emptyResult()}function pt(){var Yt=_$8.last(e.filter(function(an){return an.type==="hyperlink"}));return Yt?Yt.options:null}function ft(Yt){return bt(s.join(""),Yt.type==="begin"?Yt.fldChar:xml$1.emptyElement)}function bt(Yt,an){var vt=/\s*HYPERLINK "(.*)"/.exec(Yt);if(vt)return{type:"hyperlink",options:{href:vt[1]}};var Qt=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Yt);if(Qt)return{type:"hyperlink",options:{anchor:Qt[1]}};var Kt=/\s*FORMCHECKBOX\s*/.exec(Yt);if(Kt){var Lt=an.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),Rt=Lt.first("w:checked"),Gt=Rt==null?it(Lt.first("w:default")):it(Rt);return{type:"checkbox",checked:Gt}}return{type:"unknown"}}function Ct(Yt){return s.push(Yt.text()),emptyResult()}function yt(Yt){var an=Yt.attributes["w:font"],vt=Yt.attributes["w:char"],Qt=dingbatToUnicode.hex(an,vt);return Qt==null&&/^F0..$/.test(vt)&&(Qt=dingbatToUnicode.hex(an,vt.substring(2))),Qt==null?emptyResultWithMessages([warning("A w:sym element with an unsupported character was ignored: char "+vt+" in font "+an)]):elementResult(new documents$6.Text(Qt.string))}function Et(Yt){return function(an){var vt=an.attributes["w:id"];return elementResult(new documents$6.NoteReference({noteType:Yt,noteId:vt}))}}function gt(Yt){return elementResult(documents$6.commentReference({commentId:Yt.attributes["w:id"]}))}function At(Yt){return et(Yt.children)}var mt={"w:p":function(Yt){var an=Yt.firstOrEmpty("w:pPr"),vt=!!an.firstOrEmpty("w:rPr").first("w:del");if(vt)return Yt.children.forEach(function(Kt){a.push(Kt)}),emptyResult();var Qt=Yt.children;return a.length>0&&(Qt=a.concat(Qt),a=[]),ReadResult.map(h(an),et(Qt),function(Kt,Lt){return new documents$6.Paragraph(Lt,Kt)}).insertExtra()},"w:r":function(Yt){return ReadResult.map(nt(Yt.firstOrEmpty("w:rPr")),et(Yt.children),function(an,vt){var Qt=pt();return Qt!==null&&(vt=[new documents$6.Hyperlink(vt,Qt)]),new documents$6.Run(vt,an)})},"w:fldChar":ht,"w:instrText":Ct,"w:t":function(Yt){return elementResult(new documents$6.Text(Yt.text()))},"w:tab":function(Yt){return elementResult(new documents$6.Tab)},"w:noBreakHyphen":function(){return elementResult(new documents$6.Text("‑"))},"w:softHyphen":function(Yt){return elementResult(new documents$6.Text("­"))},"w:sym":yt,"w:hyperlink":function(Yt){var an=Yt.attributes["r:id"],vt=Yt.attributes["w:anchor"];return et(Yt.children).map(function(Qt){function Kt(Rt){var Gt=Yt.attributes["w:tgtFrame"]||null;return new documents$6.Hyperlink(Qt,_$8.extend({targetFrame:Gt},Rt))}if(an){var Lt=c.findTargetByRelationshipId(an);return vt&&(Lt=uris.replaceFragment(Lt,vt)),Kt({href:Lt})}else return vt?Kt({anchor:vt}):Qt})},"w:tbl":_t,"w:tr":wt,"w:tc":kt,"w:footnoteReference":Et("footnote"),"w:endnoteReference":Et("endnote"),"w:commentReference":gt,"w:br":function(Yt){var an=Yt.attributes["w:type"];return an==null||an==="textWrapping"?elementResult(documents$6.lineBreak):an==="page"?elementResult(documents$6.pageBreak):an==="column"?elementResult(documents$6.columnBreak):emptyResultWithMessages([warning("Unsupported break type: "+an)])},"w:bookmarkStart":function(Yt){var an=Yt.attributes["w:name"];return an==="_GoBack"?emptyResult():elementResult(new documents$6.BookmarkStart({name:an}))},"mc:AlternateContent":function(Yt){return At(Yt.firstOrEmpty("mc:Fallback"))},"w:sdt":function(Yt){var an=et(Yt.firstOrEmpty("w:sdtContent").children);return an.map(function(vt){var Qt=Yt.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(Qt){var Kt=Qt.first("wordml:checked"),Lt=!!Kt&&st(Kt.attributes["wordml:val"]),Rt=documents$6.checkbox({checked:Lt}),Gt=!1,dn=vt.map(transforms._elementsOfType(documents$6.types.text,function(hn){return hn.value.length>0&&!Gt?(Gt=!0,Rt):hn}));return Gt?dn:Rt}else return vt})},"w:ins":At,"w:object":At,"w:smartTag":At,"w:drawing":At,"w:pict":function(Yt){return At(Yt).toExtra()},"v:roundrect":At,"v:shape":At,"v:textbox":At,"w:txbxContent":At,"wp:inline":Bt,"wp:anchor":Bt,"v:imagedata":fn,"v:group":At,"v:rect":At};return{readXmlElement:b,readXmlElements:et};function _t(Yt){var an=St(Yt.firstOrEmpty("w:tblPr"));return et(Yt.children).flatMap(Ft).flatMap(function(vt){return an.map(function(Qt){return documents$6.Table(vt,Qt)})})}function St(Yt){return ut(Yt).map(function(an){return{styleId:an.styleId,styleName:an.name}})}function wt(Yt){var an=Yt.firstOrEmpty("w:trPr"),vt=!!an.first("w:del");if(vt)return emptyResult();var Qt=!!an.first("w:tblHeader");return et(Yt.children).map(function(Kt){return documents$6.TableRow(Kt,{isHeader:Qt})})}function kt(Yt){return et(Yt.children).map(function(an){var vt=Yt.firstOrEmpty("w:tcPr"),Qt=vt.firstOrEmpty("w:gridSpan").attributes["w:val"],Kt=Qt?parseInt(Qt,10):1,Lt=documents$6.TableCell(an,{colSpan:Kt});return Lt._vMerge=Dt(vt),Lt})}function Dt(Yt){var an=Yt.first("w:vMerge");if(an){var vt=an.attributes["w:val"];return vt==="continue"||!vt}else return null}function Ft(Yt){var an=_$8.any(Yt,function(Kt){return Kt.type!==documents$6.types.tableRow});if(an)return Ot(Yt),elementResultWithMessages(Yt,[warning("unexpected non-row element in table, cell merging may be incorrect")]);var vt=_$8.any(Yt,function(Kt){return _$8.any(Kt.children,function(Lt){return Lt.type!==documents$6.types.tableCell})});if(vt)return Ot(Yt),elementResultWithMessages(Yt,[warning("unexpected non-cell element in table row, cell merging may be incorrect")]);var Qt={};return Yt.forEach(function(Kt){var Lt=0;Kt.children.forEach(function(Rt){Rt._vMerge&&Qt[Lt]?Qt[Lt].rowSpan++:(Qt[Lt]=Rt,Rt._vMerge=!1),Lt+=Rt.colSpan})}),Yt.forEach(function(Kt){Kt.children=Kt.children.filter(function(Lt){return!Lt._vMerge}),Kt.children.forEach(function(Lt){delete Lt._vMerge})}),elementResult(Yt)}function Ot(Yt){Yt.forEach(function(an){var vt=transforms.getDescendantsOfType(an,documents$6.types.tableCell);vt.forEach(function(Qt){delete Qt._vMerge})})}function Bt(Yt){var an=Yt.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return combineResults(an.map(Vt.bind(null,Yt)))}function Vt(Yt,an){var vt=Yt.first("wp:docPr").attributes,Qt=Zt(vt.descr)?vt.title:vt.descr,Kt=Jt(an);return Kt===null?emptyResultWithMessages([warning("Could not find image file for a:blip element")]):_n(Kt,Qt)}function Zt(Yt){return Yt==null||/^\s*$/.test(Yt)}function Jt(Yt){var an=Yt.attributes["r:embed"],vt=Yt.attributes["r:link"];if(an)return yn(an);if(vt){var Qt=c.findTargetByRelationshipId(vt);return{path:Qt,read:$.read.bind($,Qt)}}else return null}function fn(Yt){var an=Yt.attributes["r:id"];return an?_n(yn(an),Yt.attributes["o:title"]):emptyResultWithMessages([warning("A v:imagedata element without a relationship ID was ignored")])}function yn(Yt){var an=uris.uriToZipEntryName("word",c.findTargetByRelationshipId(Yt));return{path:an,read:g.read.bind(g,an)}}function _n(Yt,an){var vt=d.findContentType(Yt.path),Qt=documents$6.Image({readImage:Yt.read,altText:an,contentType:vt}),Kt=supportedImageTypes[vt]?[]:warning("Image of type "+vt+" is unlikely to display in web browsers");return elementResultWithMessages(Qt,Kt)}function Tn(Yt,an){return warning(Yt+" style with ID "+an+" was referenced but not defined in the document")}}function readNumberingProperties(o,e,s){var a=e.firstOrEmpty("w:ilvl").attributes["w:val"],c=e.firstOrEmpty("w:numId").attributes["w:val"];if(a!==void 0&&c!==void 0)return s.findLevel(c,a);if(o!=null){var d=s.findLevelByParagraphStyleId(o);if(d!=null)return d}return c!==void 0?s.findLevel(c,"0"):null}var supportedImageTypes={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},ignoreElements={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function emptyResultWithMessages(o){return new ReadResult(null,null,o)}function emptyResult(){return new ReadResult(null)}function elementResult(o){return new ReadResult(o)}function elementResultWithMessages(o,e){return new ReadResult(o,null,e)}function ReadResult(o,e,s){this.value=o||[],this.extra=e||[],this._result=new Result$6({element:this.value,extra:e},s),this.messages=this._result.messages}ReadResult.prototype.toExtra=function(){return new ReadResult(null,joinElements(this.extra,this.value),this.messages)};ReadResult.prototype.insertExtra=function(){var o=this.extra;return o&&o.length?new ReadResult(joinElements(this.value,o),null,this.messages):this};ReadResult.prototype.map=function(o){var e=this._result.map(function(s){return o(s.element)});return new ReadResult(e.value,this.extra,e.messages)};ReadResult.prototype.flatMap=function(o){var e=this._result.flatMap(function(s){return o(s.element)._result});return new ReadResult(e.value.element,joinElements(this.extra,e.value.extra),e.messages)};ReadResult.map=function(o,e,s){return new ReadResult(s(o.value,e.value),joinElements(o.extra,e.extra),o.messages.concat(e.messages))};function combineResults(o){var e=Result$6.combine(_$8.pluck(o,"_result"));return new ReadResult(_$8.flatten(_$8.pluck(e.value,"element")),_$8.filter(_$8.flatten(_$8.pluck(e.value,"extra")),identity$1),e.messages)}function joinElements(o,e){return _$8.flatten([o,e])}function identity$1(o){return o}var documentXmlReader={};documentXmlReader.DocumentXmlReader=DocumentXmlReader$1;var documents$5=documents$7,Result$5=results$2.Result;function DocumentXmlReader$1(o){var e=o.bodyReader;function s(a){var c=a.first("w:body");if(c==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var d=e.readXmlElements(c.children).map(function(g){return new documents$5.Document(g,{notes:o.notes,comments:o.comments})});return new Result$5(d.value,d.messages)}return{convertXmlToDocument:s}}var relationshipsReader$1={};relationshipsReader$1.readRelationships=readRelationships;relationshipsReader$1.defaultValue=new Relationships([]);relationshipsReader$1.Relationships=Relationships;function readRelationships(o){var e=[];return o.children.forEach(function(s){if(s.name==="relationships:Relationship"){var a={relationshipId:s.attributes.Id,target:s.attributes.Target,type:s.attributes.Type};e.push(a)}}),new Relationships(e)}function Relationships(o){var e={};o.forEach(function(a){e[a.relationshipId]=a.target});var s={};return o.forEach(function(a){s[a.type]||(s[a.type]=[]),s[a.type].push(a.target)}),{findTargetByRelationshipId:function(a){return e[a]},findTargetsByType:function(a){return s[a]||[]}}}var contentTypesReader$1={};contentTypesReader$1.readContentTypesFromXml=readContentTypesFromXml;var fallbackContentTypes={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};contentTypesReader$1.defaultContentTypes=contentTypes({},{});function readContentTypesFromXml(o){var e={},s={};return o.children.forEach(function(a){if(a.name==="content-types:Default"&&(e[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var c=a.attributes.PartName;c.charAt(0)==="/"&&(c=c.substring(1)),s[c]=a.attributes.ContentType}}),contentTypes(s,e)}function contentTypes(o,e){return{findContentType:function(s){var a=o[s];if(a)return a;var c=s.split("."),d=c[c.length-1];if(e.hasOwnProperty(d))return e[d];var g=fallbackContentTypes[d.toLowerCase()];return g?"image/"+g:null}}}var numberingXml$1={},_$7=require$$0$2;numberingXml$1.readNumberingXml=readNumberingXml;numberingXml$1.Numbering=Numbering;numberingXml$1.defaultNumbering=new Numbering({},{});function Numbering(o,e,s){var a=_$7.flatten(_$7.values(e).map(function($){return _$7.values($.levels)})),c=_$7.indexBy(a.filter(function($){return $.paragraphStyleId!=null}),"paragraphStyleId");function d($,j){var tt=o[$];if(tt){var et=e[tt.abstractNumId];if(et){if(et.numStyleLink==null)return e[tt.abstractNumId].levels[j];var b=s.findNumberingStyleById(et.numStyleLink);return d(b.numId,j)}else return null}else return null}function g($){return c[$]||null}return{findLevel:d,findLevelByParagraphStyleId:g}}function readNumberingXml(o,e){if(!e||!e.styles)throw new Error("styles is missing");var s=readAbstractNums(o),a=readNums(o);return new Numbering(a,s,e.styles)}function readAbstractNums(o){var e={};return o.getElementsByTagName("w:abstractNum").forEach(function(s){var a=s.attributes["w:abstractNumId"];e[a]=readAbstractNum(s)}),e}function readAbstractNum(o){var e={},s=null;o.getElementsByTagName("w:lvl").forEach(function(c){var d=c.attributes["w:ilvl"],g=c.firstOrEmpty("w:numFmt").attributes["w:val"],$=g!=="bullet",j=c.firstOrEmpty("w:pStyle").attributes["w:val"];d===void 0?s={isOrdered:$,level:"0",paragraphStyleId:j}:e[d]={isOrdered:$,level:d,paragraphStyleId:j}}),s!==null&&e[s.level]===void 0&&(e[s.level]=s);var a=o.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:e,numStyleLink:a}}function readNums(o){var e={};return o.getElementsByTagName("w:num").forEach(function(s){var a=s.attributes["w:numId"],c=s.first("w:abstractNumId").attributes["w:val"];e[a]={abstractNumId:c}}),e}var stylesReader$1={};stylesReader$1.readStylesXml=readStylesXml;stylesReader$1.Styles=Styles;stylesReader$1.defaultStyles=new Styles({},{});function Styles(o,e,s,a){return{findParagraphStyleById:function(c){return o[c]},findCharacterStyleById:function(c){return e[c]},findTableStyleById:function(c){return s[c]},findNumberingStyleById:function(c){return a[c]}}}Styles.EMPTY=new Styles({},{},{},{});function readStylesXml(o){var e={},s={},a={},c={},d={paragraph:e,character:s,table:a,numbering:c};return o.getElementsByTagName("w:style").forEach(function(g){var $=readStyleElement(g),j=d[$.type];j&&j[$.styleId]===void 0&&(j[$.styleId]=$)}),new Styles(e,s,a,c)}function readStyleElement(o){var e=o.attributes["w:type"];if(e==="numbering")return readNumberingStyleElement(e,o);var s=readStyleId(o),a=styleName(o);return{type:e,styleId:s,name:a}}function styleName(o){var e=o.first("w:name");return e?e.attributes["w:val"]:null}function readNumberingStyleElement(o,e){var s=readStyleId(e),a=e.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:o,numId:a,styleId:s}}function readStyleId(o){return o.attributes["w:styleId"]}var notesReader$1={},documents$4=documents$7,Result$4=results$2.Result;notesReader$1.createFootnotesReader=createReader.bind(commonjsGlobal,"footnote");notesReader$1.createEndnotesReader=createReader.bind(commonjsGlobal,"endnote");function createReader(o,e){function s(d){return Result$4.combine(d.getElementsByTagName("w:"+o).filter(a).map(c))}function a(d){var g=d.attributes["w:type"];return g!=="continuationSeparator"&&g!=="separator"}function c(d){var g=d.attributes["w:id"];return e.readXmlElements(d.children).map(function($){return documents$4.Note({noteType:o,noteId:g,body:$})})}return s}var commentsReader$1={},documents$3=documents$7,Result$3=results$2.Result;function createCommentsReader(o){function e(a){return Result$3.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var c=a.attributes["w:id"];function d(g){return(a.attributes[g]||"").trim()||null}return o.readXmlElements(a.children).map(function(g){return documents$3.comment({commentId:c,body:g,authorName:d("w:author"),authorInitials:d("w:initials")})})}return e}commentsReader$1.createCommentsReader=createCommentsReader;var files={},promises$4=promises$7;files.Files=Files$1;function Files$1(){function o(e){return promises$4.reject(new Error("could not open external image: '"+e+`'
cannot open linked files from a web browser`))}return{read:o}}docxReader$1.read=read;docxReader$1._findPartPaths=findPartPaths;var promises$3=promises$7,documents$2=documents$7,Result$2=results$2.Result,zipfile$1=zipfile$2,readXmlFromZipFile=officeXmlReader.readXmlFromZipFile,createBodyReader=bodyReader.createBodyReader,DocumentXmlReader=documentXmlReader.DocumentXmlReader,relationshipsReader=relationshipsReader$1,contentTypesReader=contentTypesReader$1,numberingXml=numberingXml$1,stylesReader=stylesReader$1,notesReader=notesReader$1,commentsReader=commentsReader$1,Files=files.Files;function read(o,e,s){e=e||{},s=s||{};var a=new Files({externalFileAccess:s.externalFileAccess,relativeToFile:e.path});return promises$3.props({contentTypes:readContentTypesFromZipFile(o),partPaths:findPartPaths(o),docxFile:o,files:a}).also(function(c){return{styles:readStylesFromZipFile(o,c.partPaths.styles)}}).also(function(c){return{numbering:readNumberingFromZipFile(o,c.partPaths.numbering,c.styles)}}).also(function(c){return{footnotes:readXmlFileWithBody(c.partPaths.footnotes,c,function(d,g){return g?notesReader.createFootnotesReader(d)(g):new Result$2([])}),endnotes:readXmlFileWithBody(c.partPaths.endnotes,c,function(d,g){return g?notesReader.createEndnotesReader(d)(g):new Result$2([])}),comments:readXmlFileWithBody(c.partPaths.comments,c,function(d,g){return g?commentsReader.createCommentsReader(d)(g):new Result$2([])})}}).also(function(c){return{notes:c.footnotes.flatMap(function(d){return c.endnotes.map(function(g){return new documents$2.Notes(d.concat(g))})})}}).then(function(c){return readXmlFileWithBody(c.partPaths.mainDocument,c,function(d,g){return c.notes.flatMap(function($){return c.comments.flatMap(function(j){var tt=new DocumentXmlReader({bodyReader:d,notes:$,comments:j});return tt.convertXmlToDocument(g)})})})})}function findPartPaths(o){return readPackageRelationships(o).then(function(e){var s=findPartPath({docxFile:o,relationships:e,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!o.exists(s))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return xmlFileReader({filename:relationshipsFilename(s),readElement:relationshipsReader.readRelationships,defaultValue:relationshipsReader.defaultValue})(o).then(function(a){function c(d){return findPartPath({docxFile:o,relationships:a,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+d,basePath:zipfile$1.splitPath(s).dirname,fallbackPath:"word/"+d+".xml"})}return{mainDocument:s,comments:c("comments"),endnotes:c("endnotes"),footnotes:c("footnotes"),numbering:c("numbering"),styles:c("styles")}})})}function findPartPath(o){var e=o.docxFile,s=o.relationships,a=o.relationshipType,c=o.basePath,d=o.fallbackPath,g=s.findTargetsByType(a),$=g.map(function(tt){return stripPrefix(zipfile$1.joinPath(c,tt),"/")}),j=$.filter(function(tt){return e.exists(tt)});return j.length===0?d:j[0]}function stripPrefix(o,e){return o.substring(0,e.length)===e?o.substring(e.length):o}function xmlFileReader(o){return function(e){return readXmlFromZipFile(e,o.filename).then(function(s){return s?o.readElement(s):o.defaultValue})}}function readXmlFileWithBody(o,e,s){var a=xmlFileReader({filename:relationshipsFilename(o),readElement:relationshipsReader.readRelationships,defaultValue:relationshipsReader.defaultValue});return a(e.docxFile).then(function(c){var d=new createBodyReader({relationships:c,contentTypes:e.contentTypes,docxFile:e.docxFile,numbering:e.numbering,styles:e.styles,files:e.files});return readXmlFromZipFile(e.docxFile,o).then(function(g){return s(d,g)})})}function relationshipsFilename(o){var e=zipfile$1.splitPath(o);return zipfile$1.joinPath(e.dirname,"_rels",e.basename+".rels")}var readContentTypesFromZipFile=xmlFileReader({filename:"[Content_Types].xml",readElement:contentTypesReader.readContentTypesFromXml,defaultValue:contentTypesReader.defaultContentTypes});function readNumberingFromZipFile(o,e,s){return xmlFileReader({filename:e,readElement:function(a){return numberingXml.readNumberingXml(a,{styles:s})},defaultValue:numberingXml.defaultNumbering})(o)}function readStylesFromZipFile(o,e){return xmlFileReader({filename:e,readElement:stylesReader.readStylesXml,defaultValue:stylesReader.defaultStyles})(o)}var readPackageRelationships=xmlFileReader({filename:"_rels/.rels",readElement:relationshipsReader.readRelationships,defaultValue:relationshipsReader.defaultValue}),styleMap={},_$6=require$$0$2,promises$2=promises$7,xml=xml$3;styleMap.writeStyleMap=writeStyleMap;styleMap.readStyleMap=readStyleMap$1;var schema$1="http://schemas.zwobble.org/mammoth/style-map",styleMapPath="mammoth/style-map",styleMapAbsolutePath="/"+styleMapPath;function writeStyleMap(o,e){return o.write(styleMapPath,e),updateRelationships(o).then(function(){return updateContentTypes(o)})}function updateRelationships(o){var e="word/_rels/document.xml.rels",s="http://schemas.openxmlformats.org/package/2006/relationships",a="{"+s+"}Relationship";return o.read(e,"utf8").then(xml.readString).then(function(c){var d=c.children;addOrUpdateElement(d,a,"Id",{Id:"rMammothStyleMap",Type:schema$1,Target:styleMapAbsolutePath});var g={"":s};return o.write(e,xml.writeString(c,g))})}function updateContentTypes(o){var e="[Content_Types].xml",s="http://schemas.openxmlformats.org/package/2006/content-types",a="{"+s+"}Override";return o.read(e,"utf8").then(xml.readString).then(function(c){var d=c.children;addOrUpdateElement(d,a,"PartName",{PartName:styleMapAbsolutePath,ContentType:"text/prs.mammoth.style-map"});var g={"":s};return o.write(e,xml.writeString(c,g))})}function addOrUpdateElement(o,e,s,a){var c=_$6.find(o,function(d){return d.name===e&&d.attributes[s]===a[s]});c?c.attributes=a:o.push(xml.element(e,a))}function readStyleMap$1(o){return o.exists(styleMapPath)?o.read(styleMapPath,"utf8"):promises$2.resolve(null)}var documentToHtml={},htmlPaths$3={},html={},ast={},hasRequiredAst;function requireAst(){if(hasRequiredAst)return ast;hasRequiredAst=1;var o=requireHtmlPaths();function e(j,tt,et){return a(o.element(j,tt,{fresh:!1}),et)}function s(j,tt,et){var b=o.element(j,tt,{fresh:!0});return a(b,et)}function a(j,tt){return{type:"element",tag:j,children:tt||[]}}function c(j){return{type:"text",value:j}}var d={type:"forceWrite"};ast.freshElement=s,ast.nonFreshElement=e,ast.elementWithTag=a,ast.text=c,ast.forceWrite=d;var g={br:!0,hr:!0,img:!0,input:!0};function $(j){return j.children.length===0&&g[j.tag.tagName]}return ast.isVoidElement=$,ast}var simplify_1,hasRequiredSimplify;function requireSimplify(){if(hasRequiredSimplify)return simplify_1;hasRequiredSimplify=1;var o=require$$0$2,e=requireAst();function s(rt){return a(tt(rt))}function a(rt){var it=[];return rt.map(c).forEach(function(st){j(it,st)}),it}function c(rt){return d[rt.type](rt)}var d={element:g,text:$,forceWrite:$};function g(rt){return e.elementWithTag(rt.tag,a(rt.children))}function $(rt){return rt}function j(rt,it){var st=rt[rt.length-1];it.type==="element"&&!it.tag.fresh&&st&&st.type==="element"&&it.tag.matchesElement(st.tag)?(it.tag.separator&&j(st.children,e.text(it.tag.separator)),it.children.forEach(function(ot){j(st.children,ot)})):rt.push(it)}function tt(rt){return et(rt,function(it){return b[it.type](it)})}function et(rt,it){return o.flatten(o.map(rt,it),!0)}var b={element:_e,text:nt,forceWrite:h};function h(rt){return[rt]}function _e(rt){var it=tt(rt.children);return it.length===0&&!e.isVoidElement(rt)?[]:[e.elementWithTag(rt.tag,it)]}function nt(rt){return rt.value.length===0?[]:[rt]}return simplify_1=s,simplify_1}var hasRequiredHtml;function requireHtml(){if(hasRequiredHtml)return html;hasRequiredHtml=1;var o=requireAst();html.freshElement=o.freshElement,html.nonFreshElement=o.nonFreshElement,html.elementWithTag=o.elementWithTag,html.text=o.text,html.forceWrite=o.forceWrite,html.simplify=requireSimplify();function e(g,$){$.forEach(function(j){s(g,j)})}function s(g,$){a[$.type](g,$)}var a={element:c,text:d,forceWrite:function(){}};function c(g,$){o.isVoidElement($)?g.selfClosing($.tag.tagName,$.tag.attributes):(g.open($.tag.tagName,$.tag.attributes),e(g,$.children),g.close($.tag.tagName))}function d(g,$){g.text($.value)}return html.write=e,html}var hasRequiredHtmlPaths;function requireHtmlPaths(){if(hasRequiredHtmlPaths)return htmlPaths$3;hasRequiredHtmlPaths=1;var o=require$$0$2,e=requireHtml();htmlPaths$3.topLevelElement=s,htmlPaths$3.elements=a,htmlPaths$3.element=d;function s($,j){return a([d($,j,{fresh:!0})])}function a($){return new c($.map(function(j){return o.isString(j)?d(j):j}))}function c($){this._elements=$}c.prototype.wrap=function(j){for(var tt=j(),et=this._elements.length-1;et>=0;et--)tt=this._elements[et].wrapNodes(tt);return tt};function d($,j,tt){return tt=tt||{},new g($,j,tt)}function g($,j,tt){var et={};o.isArray($)?($.forEach(function(b){et[b]=!0}),$=$[0]):et[$]=!0,this.tagName=$,this.tagNames=et,this.attributes=j||{},this.fresh=tt.fresh,this.separator=tt.separator}return g.prototype.matchesElement=function($){return this.tagNames[$.tagName]&&o.isEqual(this.attributes||{},$.attributes||{})},g.prototype.wrap=function(j){return this.wrapNodes(j())},g.prototype.wrapNodes=function(j){return[e.elementWithTag(this,j)]},htmlPaths$3.empty=a([]),htmlPaths$3.ignore={wrap:function(){return[]}},htmlPaths$3}var images$1={};(function(o){var e=require$$0$2,s=promises$7,a=requireHtml();o.imgElement=c;function c(d){return function(g,$){return s.when(d(g)).then(function(j){var tt={};return g.altText&&(tt.alt=g.altText),e.extend(tt,j),[a.freshElement("img",tt)]})}}o.inline=o.imgElement,o.dataUri=c(function(d){return d.readAsBase64String().then(function(g){return{src:"data:"+d.contentType+";base64,"+g}})})})(images$1);var writers$1={},htmlWriter$1={},_$5=require$$0$2;htmlWriter$1.writer=writer$1;function writer$1(o){return o=o||{},o.prettyPrint?prettyWriter():simpleWriter()}var indentedElements={div:!0,p:!0,ul:!0,li:!0};function prettyWriter(){var o=0,e="  ",s=[],a=!0,c=!1,d=simpleWriter();function g(nt,rt){indentedElements[nt]&&h(),s.push(nt),d.open(nt,rt),indentedElements[nt]&&o++,a=!1}function $(nt){indentedElements[nt]&&(o--,h()),s.pop(),d.close(nt)}function j(nt){b();var rt=_e()?nt:nt.replace(`
`,`
`+e);d.text(rt)}function tt(nt,rt){h(),d.selfClosing(nt,rt)}function et(){return s.length===0||indentedElements[s[s.length-1]]}function b(){c||(h(),c=!0)}function h(){if(c=!1,!a&&et()&&!_e()){d._append(`
`);for(var nt=0;nt<o;nt++)d._append(e)}}function _e(){return _$5.some(s,function(nt){return nt==="pre"})}return{asString:d.asString,open:g,close:$,text:j,selfClosing:tt}}function simpleWriter(){var o=[];function e(j,tt){var et=c(tt);o.push("<"+j+et+">")}function s(j){o.push("</"+j+">")}function a(j,tt){var et=c(tt);o.push("<"+j+et+" />")}function c(j){return _$5.map(j,function(tt,et){return" "+et+'="'+escapeHtmlAttribute(tt)+'"'}).join("")}function d(j){o.push(escapeHtmlText(j))}function g(j){o.push(j)}function $(){return o.join("")}return{asString:$,open:e,close:s,text:d,selfClosing:a,_append:g}}function escapeHtmlText(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function escapeHtmlAttribute(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var markdownWriter$2={},_$4=require$$0$2;function symmetricMarkdownElement(o){return markdownElement(o,o)}function markdownElement(o,e){return function(){return{start:o,end:e}}}function markdownLink(o){var e=o.href||"";return e?{start:"[",end:"]("+e+")",anchorPosition:"before"}:{}}function markdownImage(o){var e=o.src||"",s=o.alt||"";return e||s?{start:"!["+s+"]("+e+")"}:{}}function markdownList(o){return function(e,s){return{start:s?`
`:"",end:s?"":`
`,list:{isOrdered:o.isOrdered,indent:s?s.indent+1:0,count:0}}}}function markdownListItem(o,e,s){e=e||{indent:0,isOrdered:!1,count:0},e.count++,s.hasClosed=!1;var a=e.isOrdered?e.count+".":"-",c=repeatString("	",e.indent)+a+" ";return{start:c,end:function(){if(!s.hasClosed)return s.hasClosed=!0,`
`}}}var htmlToMarkdown={p:markdownElement("",`

`),br:markdownElement("",`  
`),ul:markdownList({isOrdered:!1}),ol:markdownList({isOrdered:!0}),li:markdownListItem,strong:symmetricMarkdownElement("__"),em:symmetricMarkdownElement("*"),a:markdownLink,img:markdownImage};(function(){for(var o=1;o<=6;o++)htmlToMarkdown["h"+o]=markdownElement(repeatString("#",o)+" ",`

`)})();function repeatString(o,e){return new Array(e+1).join(o)}function markdownWriter$1(){var o=[],e=[],s=null,a={};function c(et,b){b=b||{};var h=htmlToMarkdown[et]||function(){return{}},_e=h(b,s,a);e.push({end:_e.end,list:s}),_e.list&&(s=_e.list);var nt=_e.anchorPosition==="before";nt&&d(b),o.push(_e.start||""),nt||d(b)}function d(et){et.id&&o.push('<a id="'+et.id+'"></a>')}function g(et){var b=e.pop();s=b.list;var h=_$4.isFunction(b.end)?b.end():b.end;o.push(h||"")}function $(et,b){c(et,b),g()}function j(et){o.push(escapeMarkdown(et))}function tt(){return o.join("")}return{asString:tt,open:c,close:g,text:j,selfClosing:$}}markdownWriter$2.writer=markdownWriter$1;function escapeMarkdown(o){return o.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}var htmlWriter=htmlWriter$1,markdownWriter=markdownWriter$2;writers$1.writer=writer;function writer(o){return o=o||{},o.outputFormat==="markdown"?markdownWriter.writer():htmlWriter.writer(o)}var _$3=require$$0$2,promises$1=promises$7,documents$1=documents$7,htmlPaths$2=requireHtmlPaths(),results$1=results$2,images=images$1,Html$1=requireHtml(),writers=writers$1;documentToHtml.DocumentConverter=DocumentConverter$1;function DocumentConverter$1(o){return{convertToHtml:function(e){var s=_$3.indexBy(e.type===documents$1.types.document?e.comments:[],"commentId"),a=new DocumentConversion(o,s);return a.convertToHtml(e)}}}function DocumentConversion(o,e){var s=1,a=[],c=[];o=_$3.extend({ignoreEmptyParagraphs:!0},o);var d=o.idPrefix===void 0?"":o.idPrefix,g=o.ignoreEmptyParagraphs,$=htmlPaths$2.topLevelElement("p"),j=o.styleMap||[];function tt(St){var wt=[],kt=b(St,wt,{}),Dt=[];walkHtml(kt,function(Ot){Ot.type==="deferred"&&Dt.push(Ot)});var Ft={};return promises$1.mapSeries(Dt,function(Ot){return Ot.value().then(function(Bt){Ft[Ot.id]=Bt})}).then(function(){function Ot(Vt){return flatMap(Vt,function(Zt){return Zt.type==="deferred"?Ft[Zt.id]:Zt.children?[_$3.extend({},Zt,{children:Ot(Zt.children)})]:[Zt]})}var Bt=writers.writer({prettyPrint:o.prettyPrint,outputFormat:o.outputFormat});return Html$1.write(Bt,Html$1.simplify(Ot(kt))),new results$1.Result(Bt.asString(),wt)})}function et(St,wt,kt){return flatMap(St,function(Dt){return b(Dt,wt,kt)})}function b(St,wt,kt){if(!kt)throw new Error("options not set");var Dt=_t[St.type];return Dt?Dt(St,wt,kt):[]}function h(St,wt,kt){return _e(St,wt).wrap(function(){var Dt=et(St.children,wt,kt);return g?Dt:[Html$1.forceWrite].concat(Dt)})}function _e(St,wt){var kt=st(St);return kt?kt.to:(St.styleId&&wt.push(unrecognisedStyleWarning("paragraph",St)),$)}function nt(St,wt,kt){var Dt=function(){return et(St.children,wt,kt)},Ft=[];if(St.highlight!==null){var Ot=it({type:"highlight",color:St.highlight});Ot&&Ft.push(Ot)}St.isSmallCaps&&Ft.push(rt("smallCaps")),St.isAllCaps&&Ft.push(rt("allCaps")),St.isStrikethrough&&Ft.push(rt("strikethrough","s")),St.isUnderline&&Ft.push(rt("underline")),St.verticalAlignment===documents$1.verticalAlignment.subscript&&Ft.push(htmlPaths$2.element("sub",{},{fresh:!1})),St.verticalAlignment===documents$1.verticalAlignment.superscript&&Ft.push(htmlPaths$2.element("sup",{},{fresh:!1})),St.isItalic&&Ft.push(rt("italic","em")),St.isBold&&Ft.push(rt("bold","strong"));var Bt=htmlPaths$2.empty,Vt=st(St);return Vt?Bt=Vt.to:St.styleId&&wt.push(unrecognisedStyleWarning("run",St)),Ft.push(Bt),Ft.forEach(function(Zt){Dt=Zt.wrap.bind(Zt,Dt)}),Dt()}function rt(St,wt){var kt=it({type:St});return kt||(wt?htmlPaths$2.element(wt,{},{fresh:!1}):htmlPaths$2.empty)}function it(St,wt){var kt=st(St);return kt?kt.to:wt}function st(St){for(var wt=0;wt<j.length;wt++)if(j[wt].from.matches(St))return j[wt]}function ot(St){return function(wt,kt){return promises$1.attempt(function(){return St(wt,kt)}).caught(function(Dt){return kt.push(results$1.error(Dt)),[]})}}function at(St){return ut(St.noteType,St.noteId)}function ct(St){return dt(St.noteType,St.noteId)}function ut(St,wt){return ht(St+"-"+wt)}function dt(St,wt){return ht(St+"-ref-"+wt)}function ht(St){return d+St}var pt=htmlPaths$2.elements([htmlPaths$2.element("table",{},{fresh:!0})]);function ft(St,wt,kt){return it(St,pt).wrap(function(){return bt(St,wt,kt)})}function bt(St,wt,kt){var Dt=_$3.findIndex(St.children,function(Vt){return!Vt.type===documents$1.types.tableRow||!Vt.isHeader});Dt===-1&&(Dt=St.children.length);var Ft;if(Dt===0)Ft=et(St.children,wt,_$3.extend({},kt,{isTableHeader:!1}));else{var Ot=et(St.children.slice(0,Dt),wt,_$3.extend({},kt,{isTableHeader:!0})),Bt=et(St.children.slice(Dt),wt,_$3.extend({},kt,{isTableHeader:!1}));Ft=[Html$1.freshElement("thead",{},Ot),Html$1.freshElement("tbody",{},Bt)]}return[Html$1.forceWrite].concat(Ft)}function Ct(St,wt,kt){var Dt=et(St.children,wt,kt);return[Html$1.freshElement("tr",{},[Html$1.forceWrite].concat(Dt))]}function yt(St,wt,kt){var Dt=kt.isTableHeader?"th":"td",Ft=et(St.children,wt,kt),Ot={};return St.colSpan!==1&&(Ot.colspan=St.colSpan.toString()),St.rowSpan!==1&&(Ot.rowspan=St.rowSpan.toString()),[Html$1.freshElement(Dt,Ot,[Html$1.forceWrite].concat(Ft))]}function Et(St,wt,kt){return it(St,htmlPaths$2.ignore).wrap(function(){var Dt=e[St.commentId],Ft=c.length+1,Ot="["+commentAuthorLabel(Dt)+Ft+"]";return c.push({label:Ot,comment:Dt}),[Html$1.freshElement("a",{href:"#"+ut("comment",St.commentId),id:dt("comment",St.commentId)},[Html$1.text(Ot)])]})}function gt(St,wt,kt){var Dt=St.label,Ft=St.comment,Ot=et(Ft.body,wt,kt).concat([Html$1.nonFreshElement("p",{},[Html$1.text(" "),Html$1.freshElement("a",{href:"#"+dt("comment",Ft.commentId)},[Html$1.text("↑")])])]);return[Html$1.freshElement("dt",{id:ut("comment",Ft.commentId)},[Html$1.text("Comment "+Dt)]),Html$1.freshElement("dd",{},Ot)]}function At(St,wt,kt){return mt(St).wrap(function(){return[]})}function mt(St){var wt=st(St);return wt?wt.to:St.breakType==="line"?htmlPaths$2.topLevelElement("br"):htmlPaths$2.empty}var _t={document:function(St,wt,kt){var Dt=et(St.children,wt,kt),Ft=a.map(function(Bt){return St.notes.resolve(Bt)}),Ot=et(Ft,wt,kt);return Dt.concat([Html$1.freshElement("ol",{},Ot),Html$1.freshElement("dl",{},flatMap(c,function(Bt){return gt(Bt,wt,kt)}))])},paragraph:h,run:nt,text:function(St,wt,kt){return[Html$1.text(St.value)]},tab:function(St,wt,kt){return[Html$1.text("	")]},hyperlink:function(St,wt,kt){var Dt=St.anchor?"#"+ht(St.anchor):St.href,Ft={href:Dt};St.targetFrame!=null&&(Ft.target=St.targetFrame);var Ot=et(St.children,wt,kt);return[Html$1.nonFreshElement("a",Ft,Ot)]},checkbox:function(St){var wt={type:"checkbox"};return St.checked&&(wt.checked="checked"),[Html$1.freshElement("input",wt)]},bookmarkStart:function(St,wt,kt){var Dt=Html$1.freshElement("a",{id:ht(St.name)},[Html$1.forceWrite]);return[Dt]},noteReference:function(St,wt,kt){a.push(St);var Dt=Html$1.freshElement("a",{href:"#"+at(St),id:ct(St)},[Html$1.text("["+s+++"]")]);return[Html$1.freshElement("sup",{},[Dt])]},note:function(St,wt,kt){var Dt=et(St.body,wt,kt),Ft=Html$1.elementWithTag(htmlPaths$2.element("p",{},{fresh:!1}),[Html$1.text(" "),Html$1.freshElement("a",{href:"#"+ct(St)},[Html$1.text("↑")])]),Ot=Dt.concat([Ft]);return Html$1.freshElement("li",{id:at(St)},Ot)},commentReference:Et,comment:gt,image:deferredConversion(ot(o.convertImage||images.dataUri)),table:ft,tableRow:Ct,tableCell:yt,break:At};return{convertToHtml:tt}}var deferredId=1;function deferredConversion(o){return function(e,s,a){return[{type:"deferred",id:deferredId++,value:function(){return o(e,s,a)}}]}}function unrecognisedStyleWarning(o,e){return results$1.warning("Unrecognised "+o+" style: '"+e.styleName+"' (Style ID: "+e.styleId+")")}function flatMap(o,e){return _$3.flatten(o.map(e),!0)}function walkHtml(o,e){o.forEach(function(s){e(s),s.children&&walkHtml(s.children,e)})}var commentAuthorLabel=documentToHtml.commentAuthorLabel=function(e){return e.authorInitials||""},rawText={},documents=documents$7;function convertElementToRawText$1(o){if(o.type==="text")return o.value;if(o.type===documents.types.tab)return"	";var e=o.type==="paragraph"?`

`:"";return(o.children||[]).map(convertElementToRawText$1).join("")+e}rawText.convertElementToRawText=convertElementToRawText$1;var styleReader={},lop$2={},parser={},TokenIterator$2={exports:{}},TokenIterator$1=TokenIterator$2.exports=function(o,e){this._tokens=o,this._startIndex=e||0};TokenIterator$1.prototype.head=function(){return this._tokens[this._startIndex]};TokenIterator$1.prototype.tail=function(o){return new TokenIterator$1(this._tokens,this._startIndex+1)};TokenIterator$1.prototype.toArray=function(){return this._tokens.slice(this._startIndex)};TokenIterator$1.prototype.end=function(){return this._tokens[this._tokens.length-1]};TokenIterator$1.prototype.to=function(o){var e=this.head().source,s=o.head()||o.end();return e.to(s.source)};var TokenIteratorExports=TokenIterator$2.exports,TokenIterator=TokenIteratorExports;parser.Parser=function(o){var e=function(s,a){return s(new TokenIterator(a))};return{parseTokens:e}};var rules={},option={};(function(o){o.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return o.none},flatMap:function(){return o.none},filter:function(){return o.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(a){return typeof a=="function"?a():a}o.some=function(a){return new s(a)};var s=function(a){this._value=a};s.prototype.value=function(){return this._value},s.prototype.isNone=function(){return!1},s.prototype.isSome=function(){return!0},s.prototype.map=function(a){return new s(a(this._value))},s.prototype.flatMap=function(a){return a(this._value)},s.prototype.filter=function(a){return a(this._value)?this:o.none},s.prototype.toArray=function(){return[this._value]},s.prototype.orElse=function(a){return this},s.prototype.valueOrElse=function(a){return this._value},o.isOption=function(a){return a===o.none||a instanceof s},o.fromNullable=function(a){return a==null?o.none:new s(a)}})(option);var parsingResults={failure:function(o,e){if(o.length<1)throw new Error("Failure must have errors");return new Result$1({status:"failure",remaining:e,errors:o})},error:function(o,e){if(o.length<1)throw new Error("Failure must have errors");return new Result$1({status:"error",remaining:e,errors:o})},success:function(o,e,s){return new Result$1({status:"success",value:o,source:s,remaining:e,errors:[]})},cut:function(o){return new Result$1({status:"cut",remaining:o,errors:[]})}},Result$1=function(o){this._value=o.value,this._status=o.status,this._hasValue=o.value!==void 0,this._remaining=o.remaining,this._source=o.source,this._errors=o.errors};Result$1.prototype.map=function(o){return this._hasValue?new Result$1({value:o(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this};Result$1.prototype.changeRemaining=function(o){return new Result$1({value:this._value,status:this._status,remaining:o,source:this._source,errors:this._errors})};Result$1.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"};Result$1.prototype.isFailure=function(){return this._status==="failure"};Result$1.prototype.isError=function(){return this._status==="error"};Result$1.prototype.isCut=function(){return this._status==="cut"};Result$1.prototype.value=function(){return this._value};Result$1.prototype.remaining=function(){return this._remaining};Result$1.prototype.source=function(){return this._source};Result$1.prototype.errors=function(){return this._errors};var errors={};errors.error=function(o){return new Error$1(o)};var Error$1=function(o){this.expected=o.expected,this.actual=o.actual,this._location=o.location};Error$1.prototype.describe=function(){var o=this._location?this._location.describe()+`:
`:"";return o+"Expected "+this.expected+`
but got `+this.actual};Error$1.prototype.lineNumber=function(){return this._location.lineNumber()};Error$1.prototype.characterNumber=function(){return this._location.characterNumber()};var lazyIterators={};lazyIterators.fromArray=function(o){var e=0,s=function(){return e<o.length};return new LazyIterator({hasNext:s,next:function(){if(s())return o[e++];throw new Error("No more elements")}})};var LazyIterator=function(o){this._iterator=o};LazyIterator.prototype.map=function(o){var e=this._iterator;return new LazyIterator({hasNext:function(){return e.hasNext()},next:function(){return o(e.next())}})};LazyIterator.prototype.filter=function(o){var e=this._iterator,s=!1,a=!1,c,d=function(){if(!s)for(s=!0,a=!1;e.hasNext()&&!a;)c=e.next(),a=o(c)};return new LazyIterator({hasNext:function(){return d(),a},next:function(){d();var g=c;return s=!1,g}})};LazyIterator.prototype.first=function(){var o=this._iterator;return this._iterator.hasNext()?o.next():null};LazyIterator.prototype.toArray=function(){for(var o=[];this._iterator.hasNext();)o.push(this._iterator.next());return o};(function(o){var e=require$$0$2,s=option,a=parsingResults,c=errors,d=lazyIterators;o.token=function(h,_e){var nt=_e!==void 0;return function(rt){var it=rt.head();if(it&&it.name===h&&(!nt||it.value===_e))return a.success(it.value,rt.tail(),it.source);var st=et({name:h,value:_e});return b(rt,st)}},o.tokenOfType=function(h){return o.token(h)},o.firstOf=function(h,_e){return e.isArray(_e)||(_e=Array.prototype.slice.call(arguments,1)),function(nt){return d.fromArray(_e).map(function(rt){return rt(nt)}).filter(function(rt){return rt.isSuccess()||rt.isError()}).first()||b(nt,h)}},o.then=function(h,_e){return function(nt){var rt=h(nt);return rt.map||console.log(rt),rt.map(_e)}},o.sequence=function(){var h=Array.prototype.slice.call(arguments,0),_e=function(rt){var it=e.foldl(h,function(ot,at){var ct=ot.result,ut=ot.hasCut;if(!ct.isSuccess())return{result:ct,hasCut:ut};var dt=at(ct.remaining());if(dt.isCut())return{result:ct,hasCut:!0};if(dt.isSuccess()){var ht;at.isCaptured?ht=ct.value().withValue(at,dt.value()):ht=ct.value();var pt=dt.remaining(),ft=rt.to(pt);return{result:a.success(ht,pt,ft),hasCut:ut}}else return ut?{result:a.error(dt.errors(),dt.remaining()),hasCut:ut}:{result:dt,hasCut:ut}},{result:a.success(new g,rt),hasCut:!1}).result,st=rt.to(it.remaining());return it.map(function(ot){return ot.withValue(o.sequence.source,st)})};_e.head=function(){var rt=e.find(h,nt);return o.then(_e,o.sequence.extract(rt))},_e.map=function(rt){return o.then(_e,function(it){return rt.apply(this,it.toArray())})};function nt(rt){return rt.isCaptured}return _e};var g=function(h,_e){this._values=h||{},this._valuesArray=_e||[]};g.prototype.withValue=function(h,_e){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var nt=e.clone(this._values);nt[h.captureName]=_e;var rt=this._valuesArray.concat([_e]);return new g(nt,rt)},g.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},g.prototype.toArray=function(){return this._valuesArray},o.sequence.capture=function(h,_e){var nt=function(){return h.apply(this,arguments)};return nt.captureName=_e,nt.isCaptured=!0,nt},o.sequence.extract=function(h){return function(_e){return _e.get(h)}},o.sequence.applyValues=function(h){var _e=Array.prototype.slice.call(arguments,1);return function(nt){var rt=_e.map(function(it){return nt.get(it)});return h.apply(this,rt)}},o.sequence.source={captureName:"☃source☃"},o.sequence.cut=function(){return function(h){return a.cut(h)}},o.optional=function(h){return function(_e){var nt=h(_e);return nt.isSuccess()?nt.map(s.some):nt.isFailure()?a.success(s.none,_e):nt}},o.zeroOrMoreWithSeparator=function(h,_e){return tt(h,_e,!1)},o.oneOrMoreWithSeparator=function(h,_e){return tt(h,_e,!0)};var $=o.zeroOrMore=function(h){return function(_e){for(var nt=[],rt;(rt=h(_e))&&rt.isSuccess();)_e=rt.remaining(),nt.push(rt.value());return rt.isError()?rt:a.success(nt,_e)}};o.oneOrMore=function(h){return o.oneOrMoreWithSeparator(h,j)};function j(h){return a.success(null,h)}var tt=function(h,_e,nt){return function(rt){var it=h(rt);if(it.isSuccess()){var st=o.sequence.capture(h,"main"),ot=$(o.then(o.sequence(_e,st),o.sequence.extract(st))),at=ot(it.remaining());return a.success([it.value()].concat(at.value()),at.remaining())}else return nt||it.isError()?it:a.success([],rt)}};o.leftAssociative=function(h,_e,nt){var rt;nt?rt=[{func:nt,rule:_e}]:rt=_e,rt=rt.map(function(st){return o.then(st.rule,function(ot){return function(at,ct){return st.func(at,ot,ct)}})});var it=o.firstOf.apply(null,["rules"].concat(rt));return function(st){var ot=st,at=h(st);if(!at.isSuccess())return at;for(var ct=it(at.remaining());ct.isSuccess();){var ut=ct.remaining(),dt=ot.to(ct.remaining()),ht=ct.value();at=a.success(ht(at.value(),dt),ut,dt),ct=it(at.remaining())}return ct.isError()?ct:at}},o.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},o.nonConsuming=function(h){return function(_e){return h(_e).changeRemaining(_e)}};var et=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function b(h,_e){var nt,rt=h.head();return rt?nt=c.error({expected:_e,actual:et(rt),location:rt.source}):nt=c.error({expected:_e,actual:"end of tokens"}),a.failure([nt],h)}})(rules);var StringSource$1={exports:{}};StringSource$1.exports=function(o,e){var s={asString:function(){return o},range:function(a,c){return new StringSourceRange(o,e,a,c)}};return s};var StringSourceRange=function(o,e,s,a){this._string=o,this._description=e,this._startIndex=s,this._endIndex=a};StringSourceRange.prototype.to=function(o){return new StringSourceRange(this._string,this._description,this._startIndex,o._endIndex)};StringSourceRange.prototype.describe=function(){var o=this._position(),e=this._description?this._description+`
`:"";return e+"Line number: "+o.lineNumber+`
Character number: `+o.characterNumber};StringSourceRange.prototype.lineNumber=function(){return this._position().lineNumber};StringSourceRange.prototype.characterNumber=function(){return this._position().characterNumber};StringSourceRange.prototype._position=function(){for(var o=this,e=0,s=function(){return o._string.indexOf(`
`,e)},a=1;s()!==-1&&s()<this._startIndex;)e=s()+1,a+=1;var c=this._startIndex-e+1;return{lineNumber:a,characterNumber:c}};var StringSourceExports=StringSource$1.exports,Token$2=function(o,e,s){this.name=o,this.value=e,s&&(this.source=s)},bottomUp={};(function(o){var e=rules,s=parsingResults;o.parser=function(d,g,$){var j={rule:h,leftAssociative:_e,rightAssociative:nt},tt=new a($.map(b)),et=e.firstOf(d,g);function b(st){return{name:st.name,rule:c(st.ruleBuilder.bind(null,j))}}function h(){return rt(tt)}function _e(st){return rt(tt.untilExclusive(st))}function nt(st){return rt(tt.untilInclusive(st))}function rt(st){return it.bind(null,st)}function it(st,ot){var at=et(ot);return at.isSuccess()?st.apply(at):at}return j};function a(d){function g(b){return new a(d.slice(0,j().indexOf(b)))}function $(b){return new a(d.slice(0,j().indexOf(b)+1))}function j(){return d.map(function(b){return b.name})}function tt(b){for(var h,_e;;)if(h=et(b.remaining()),h.isSuccess())_e=b.source().to(h.source()),b=s.success(h.value()(b.value(),_e),h.remaining(),_e);else return h.isFailure()?b:h}function et(b){return e.firstOf("infix",d.map(function(h){return h.rule}))(b)}return{apply:tt,untilExclusive:g,untilInclusive:$}}o.infix=function(d,g){function $(j){return o.infix(d,function(tt){var et=g(tt);return function(b){var h=et(b);return h.map(function(_e){return function(nt,rt){return j(nt,_e,rt)}})}})}return{name:d,ruleBuilder:g,map:$}};var c=function(d){var g;return function($){return g||(g=d()),g($)}}})(bottomUp);var regexTokeniser={},Token$1=Token$2,StringSource=StringSourceExports;regexTokeniser.RegexTokeniser=RegexTokeniser$1;function RegexTokeniser$1(o){o=o.map(function(c){return{name:c.name,regex:new RegExp(c.regex.source,"g")}});function e(c,d){for(var g=new StringSource(c,d),$=0,j=[];$<c.length;){var tt=s(c,$,g);$=tt.endIndex,j.push(tt.token)}return j.push(a(c,g)),j}function s(c,d,g){for(var $=0;$<o.length;$++){var j=o[$].regex;j.lastIndex=d;var tt=j.exec(c);if(tt){var b=d+tt[0].length;if(tt.index===d&&b>d){var et=tt[1],h=new Token$1(o[$].name,et,g.range(d,b));return{token:h,endIndex:b}}}}var b=d+1,h=new Token$1("unrecognisedCharacter",c.substring(d,b),g.range(d,b));return{token:h,endIndex:b}}function a(c,d){return new Token$1("end",null,d.range(c.length,c.length))}return{tokenise:e}}lop$2.Parser=parser.Parser;lop$2.rules=rules;lop$2.errors=errors;lop$2.results=parsingResults;lop$2.StringSource=StringSourceExports;lop$2.Token=Token$2;lop$2.bottomUp=bottomUp;lop$2.RegexTokeniser=regexTokeniser.RegexTokeniser;lop$2.rule=function(o){var e;return function(s){return e||(e=o()),e(s)}};var documentMatchers$1={};documentMatchers$1.paragraph=paragraph;documentMatchers$1.run=run;documentMatchers$1.table=table;documentMatchers$1.bold=new Matcher("bold");documentMatchers$1.italic=new Matcher("italic");documentMatchers$1.underline=new Matcher("underline");documentMatchers$1.strikethrough=new Matcher("strikethrough");documentMatchers$1.allCaps=new Matcher("allCaps");documentMatchers$1.smallCaps=new Matcher("smallCaps");documentMatchers$1.highlight=highlight;documentMatchers$1.commentReference=new Matcher("commentReference");documentMatchers$1.lineBreak=new BreakMatcher({breakType:"line"});documentMatchers$1.pageBreak=new BreakMatcher({breakType:"page"});documentMatchers$1.columnBreak=new BreakMatcher({breakType:"column"});documentMatchers$1.equalTo=equalTo;documentMatchers$1.startsWith=startsWith;function paragraph(o){return new Matcher("paragraph",o)}function run(o){return new Matcher("run",o)}function table(o){return new Matcher("table",o)}function highlight(o){return new HighlightMatcher(o)}function Matcher(o,e){e=e||{},this._elementType=o,this._styleId=e.styleId,this._styleName=e.styleName,e.list&&(this._listIndex=e.list.levelIndex,this._listIsOrdered=e.list.isOrdered)}Matcher.prototype.matches=function(o){return o.type===this._elementType&&(this._styleId===void 0||o.styleId===this._styleId)&&(this._styleName===void 0||o.styleName&&this._styleName.operator(this._styleName.operand,o.styleName))&&(this._listIndex===void 0||isList(o,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===o.breakType)};function HighlightMatcher(o){o=o||{},this._color=o.color}HighlightMatcher.prototype.matches=function(o){return o.type==="highlight"&&(this._color===void 0||o.color===this._color)};function BreakMatcher(o){o=o||{},this._breakType=o.breakType}BreakMatcher.prototype.matches=function(o){return o.type==="break"&&(this._breakType===void 0||o.breakType===this._breakType)};function isList(o,e,s){return o.numbering&&o.numbering.level==e&&o.numbering.isOrdered==s}function equalTo(o){return{operator:operatorEqualTo,operand:o}}function startsWith(o){return{operator:operatorStartsWith,operand:o}}function operatorEqualTo(o,e){return o.toUpperCase()===e.toUpperCase()}function operatorStartsWith(o,e){return e.toUpperCase().indexOf(o.toUpperCase())===0}var tokeniser={},lop$1=lop$2,RegexTokeniser=lop$1.RegexTokeniser;tokeniser.tokenise=tokenise$1;var stringPrefix="'((?:\\\\.|[^'])*)";function tokenise$1(o){var e="(?:[a-zA-Z\\-_]|\\\\.)",s=new RegexTokeniser([{name:"identifier",regex:new RegExp("("+e+"(?:"+e+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(stringPrefix+"'")},{name:"unterminated-string",regex:new RegExp(stringPrefix)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return s.tokenise(o)}var _$2=require$$0$2,lop=lop$2,documentMatchers=documentMatchers$1,htmlPaths$1=requireHtmlPaths(),tokenise=tokeniser.tokenise,results=results$2;styleReader.readHtmlPath=readHtmlPath;styleReader.readDocumentMatcher=readDocumentMatcher;styleReader.readStyle=readStyle$1;function readStyle$1(o){return parseString(styleRule,o)}function createStyleRule(){return lop.rules.sequence(lop.rules.sequence.capture(documentMatcherRule()),lop.rules.tokenOfType("whitespace"),lop.rules.tokenOfType("arrow"),lop.rules.sequence.capture(lop.rules.optional(lop.rules.sequence(lop.rules.tokenOfType("whitespace"),lop.rules.sequence.capture(htmlPathRule())).head())),lop.rules.tokenOfType("end")).map(function(o,e){return{from:o,to:e.valueOrElse(htmlPaths$1.empty)}})}function readDocumentMatcher(o){return parseString(documentMatcherRule(),o)}function documentMatcherRule(){var o=lop.rules.sequence,e=function(dt,ht){return lop.rules.then(lop.rules.token("identifier",dt),function(){return ht})},s=e("p",documentMatchers.paragraph),a=e("r",documentMatchers.run),c=lop.rules.firstOf("p or r or table",s,a),d=lop.rules.sequence(lop.rules.tokenOfType("dot"),lop.rules.sequence.cut(),lop.rules.sequence.capture(identifierRule)).map(function(dt){return{styleId:dt}}),g=lop.rules.firstOf("style name matcher",lop.rules.then(lop.rules.sequence(lop.rules.tokenOfType("equals"),lop.rules.sequence.cut(),lop.rules.sequence.capture(stringRule)).head(),function(dt){return{styleName:documentMatchers.equalTo(dt)}}),lop.rules.then(lop.rules.sequence(lop.rules.tokenOfType("startsWith"),lop.rules.sequence.cut(),lop.rules.sequence.capture(stringRule)).head(),function(dt){return{styleName:documentMatchers.startsWith(dt)}})),$=lop.rules.sequence(lop.rules.tokenOfType("open-square-bracket"),lop.rules.sequence.cut(),lop.rules.token("identifier","style-name"),lop.rules.sequence.capture(g),lop.rules.tokenOfType("close-square-bracket")).head(),j=lop.rules.firstOf("list type",e("ordered-list",{isOrdered:!0}),e("unordered-list",{isOrdered:!1})),tt=o(lop.rules.tokenOfType("colon"),o.capture(j),o.cut(),lop.rules.tokenOfType("open-paren"),o.capture(integerRule),lop.rules.tokenOfType("close-paren")).map(function(dt,ht){return{list:{isOrdered:dt.isOrdered,levelIndex:ht-1}}});function et(dt){var ht=lop.rules.firstOf.apply(lop.rules.firstOf,["matcher suffix"].concat(dt)),pt=lop.rules.zeroOrMore(ht);return lop.rules.then(pt,function(ft){var bt={};return ft.forEach(function(Ct){_$2.extend(bt,Ct)}),bt})}var b=o(o.capture(c),o.capture(et([d,$,tt]))).map(function(dt,ht){return dt(ht)}),h=o(lop.rules.token("identifier","table"),o.capture(et([d,$]))).map(function(dt){return documentMatchers.table(dt)}),_e=e("b",documentMatchers.bold),nt=e("i",documentMatchers.italic),rt=e("u",documentMatchers.underline),it=e("strike",documentMatchers.strikethrough),st=e("all-caps",documentMatchers.allCaps),ot=e("small-caps",documentMatchers.smallCaps),at=o(lop.rules.token("identifier","highlight"),lop.rules.sequence.capture(lop.rules.optional(lop.rules.sequence(lop.rules.tokenOfType("open-square-bracket"),lop.rules.sequence.cut(),lop.rules.token("identifier","color"),lop.rules.tokenOfType("equals"),lop.rules.sequence.capture(stringRule),lop.rules.tokenOfType("close-square-bracket")).head()))).map(function(dt){return documentMatchers.highlight({color:dt.valueOrElse(void 0)})}),ct=e("comment-reference",documentMatchers.commentReference),ut=o(lop.rules.token("identifier","br"),o.cut(),lop.rules.tokenOfType("open-square-bracket"),lop.rules.token("identifier","type"),lop.rules.tokenOfType("equals"),o.capture(stringRule),lop.rules.tokenOfType("close-square-bracket")).map(function(dt){switch(dt){case"line":return documentMatchers.lineBreak;case"page":return documentMatchers.pageBreak;case"column":return documentMatchers.columnBreak}});return lop.rules.firstOf("element type",b,h,_e,nt,rt,it,st,ot,at,ct,ut)}function readHtmlPath(o){return parseString(htmlPathRule(),o)}function htmlPathRule(){var o=lop.rules.sequence.capture,e=lop.rules.tokenOfType("whitespace"),s=lop.rules.then(lop.rules.optional(lop.rules.sequence(lop.rules.tokenOfType("colon"),lop.rules.token("identifier","fresh"))),function(g){return g.map(function(){return!0}).valueOrElse(!1)}),a=lop.rules.then(lop.rules.optional(lop.rules.sequence(lop.rules.tokenOfType("colon"),lop.rules.token("identifier","separator"),lop.rules.tokenOfType("open-paren"),o(stringRule),lop.rules.tokenOfType("close-paren")).head()),function(g){return g.valueOrElse("")}),c=lop.rules.oneOrMoreWithSeparator(identifierRule,lop.rules.tokenOfType("choice")),d=lop.rules.sequence(o(c),o(lop.rules.zeroOrMore(attributeOrClassRule)),o(s),o(a)).map(function(g,$,j,tt){var et={},b={};return $.forEach(function(h){h.append&&et[h.name]?et[h.name]+=" "+h.value:et[h.name]=h.value}),j&&(b.fresh=!0),tt&&(b.separator=tt),htmlPaths$1.element(g,et,b)});return lop.rules.firstOf("html path",lop.rules.then(lop.rules.tokenOfType("bang"),function(){return htmlPaths$1.ignore}),lop.rules.then(lop.rules.zeroOrMoreWithSeparator(d,lop.rules.sequence(e,lop.rules.tokenOfType("gt"),e)),htmlPaths$1.elements))}var identifierRule=lop.rules.then(lop.rules.tokenOfType("identifier"),decodeEscapeSequences),integerRule=lop.rules.tokenOfType("integer"),stringRule=lop.rules.then(lop.rules.tokenOfType("string"),decodeEscapeSequences),escapeSequences={n:`
`,r:"\r",t:"	"};function decodeEscapeSequences(o){return o.replace(/\\(.)/g,function(e,s){return escapeSequences[s]||s})}var attributeRule=lop.rules.sequence(lop.rules.tokenOfType("open-square-bracket"),lop.rules.sequence.cut(),lop.rules.sequence.capture(identifierRule),lop.rules.tokenOfType("equals"),lop.rules.sequence.capture(stringRule),lop.rules.tokenOfType("close-square-bracket")).map(function(o,e){return{name:o,value:e,append:!1}}),classRule=lop.rules.sequence(lop.rules.tokenOfType("dot"),lop.rules.sequence.cut(),lop.rules.sequence.capture(identifierRule)).map(function(o){return{name:"class",value:o,append:!0}}),attributeOrClassRule=lop.rules.firstOf("attribute or class",attributeRule,classRule);function parseString(o,e){var s=tokenise(e),a=lop.Parser(),c=a.parseTokens(o,s);return c.isSuccess()?results.success(c.value()):new results.Result(null,[results.warning(describeFailure(e,c))])}function describeFailure(o,e){return"Did not understand this style mapping, so ignored it: "+o+`
`+e.errors().map(describeError).join(`
`)}function describeError(o){return"Error was at character number "+o.characterNumber()+": Expected "+o.expected+" but got "+o.actual}var styleRule=createStyleRule(),optionsReader={};optionsReader.readOptions=readOptions$1;var _$1=require$$0$2,defaultStyleMap=optionsReader._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],standardOptions=optionsReader._standardOptions={externalFileAccess:!1,transformDocument:identity,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function readOptions$1(o){return o=o||{},_$1.extend({},standardOptions,o,{customStyleMap:readStyleMap(o.styleMap),readStyleMap:function(){var e=this.customStyleMap;return this.includeEmbeddedStyleMap&&(e=e.concat(readStyleMap(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(e=e.concat(defaultStyleMap)),e}})}function readStyleMap(o){return o?_$1.isString(o)?o.split(`
`).map(function(e){return e.trim()}).filter(function(e){return e!==""&&e.charAt(0)!=="#"}):o:[]}function identity(o){return o}var unzip$1={},promises=promises$7,zipfile=zipfile$2;unzip$1.openZip=openZip;function openZip(o){return o.arrayBuffer?promises.resolve(zipfile.openArrayBuffer(o.arrayBuffer)):promises.reject(new Error("Could not find file in options"))}var underline={},htmlPaths=requireHtmlPaths(),Html=requireHtml();underline.element=element;function element(o){return function(e){return Html.elementWithTag(htmlPaths.element(o),[e])}}var _=require$$0$2,docxReader=docxReader$1,docxStyleMap=styleMap,DocumentConverter=documentToHtml.DocumentConverter,convertElementToRawText=rawText.convertElementToRawText,readStyle=styleReader.readStyle,readOptions=optionsReader.readOptions,unzip=unzip$1,Result=results$2.Result;lib$3.convertToHtml=convertToHtml;lib$3.convertToMarkdown=convertToMarkdown;lib$3.convert=convert;lib$3.extractRawText=extractRawText;lib$3.images=images$1;lib$3.transforms=transforms$1;lib$3.underline=underline;lib$3.embedStyleMap=embedStyleMap;lib$3.readEmbeddedStyleMap=readEmbeddedStyleMap;function convertToHtml(o,e){return convert(o,e)}function convertToMarkdown(o,e){var s=Object.create(e||{});return s.outputFormat="markdown",convert(o,s)}function convert(o,e){return e=readOptions(e),unzip.openZip(o).tap(function(s){return docxStyleMap.readStyleMap(s).then(function(a){e.embeddedStyleMap=a})}).then(function(s){return docxReader.read(s,o,e).then(function(a){return a.map(e.transformDocument)}).then(function(a){return convertDocumentToHtml(a,e)})})}function readEmbeddedStyleMap(o){return unzip.openZip(o).then(docxStyleMap.readStyleMap)}function convertDocumentToHtml(o,e){var s=parseStyleMap(e.readStyleMap()),a=_.extend({},e,{styleMap:s.value}),c=new DocumentConverter(a);return o.flatMapThen(function(d){return s.flatMapThen(function(g){return c.convertToHtml(d)})})}function parseStyleMap(o){return Result.combine((o||[]).map(readStyle)).map(function(e){return e.filter(function(s){return!!s})})}function extractRawText(o){return unzip.openZip(o).then(docxReader.read).then(function(e){return e.map(convertElementToRawText)})}function embedStyleMap(o,e){return unzip.openZip(o).tap(function(s){return docxStyleMap.writeStyleMap(s,e)}).then(function(s){return s.toArrayBuffer()}).then(function(s){return{toArrayBuffer:function(){return s},toBuffer:function(){return Buffer.from(s)}}})}lib$3.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(o){return typeof o>"u"||o===null}function isObject(o){return typeof o=="object"&&o!==null}function toArray(o){return Array.isArray(o)?o:isNothing(o)?[]:[o]}function extend(o,e){var s,a,c,d;if(e)for(d=Object.keys(e),s=0,a=d.length;s<a;s+=1)c=d[s],o[c]=e[c];return o}function repeat(o,e){var s="",a;for(a=0;a<e;a+=1)s+=o;return s}function isNegativeZero(o){return o===0&&Number.NEGATIVE_INFINITY===1/o}var isNothing_1=isNothing,isObject_1=isObject,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(o,e){var s="",a=o.reason||"(unknown reason)";return o.mark?(o.mark.name&&(s+='in "'+o.mark.name+'" '),s+="("+(o.mark.line+1)+":"+(o.mark.column+1)+")",!e&&o.mark.snippet&&(s+=`

`+o.mark.snippet),a+" "+s):a}function YAMLException$1(o,e){Error.call(this),this.name="YAMLException",this.reason=o,this.mark=e,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function(e){return this.name+": "+formatError(this,e)};var exception=YAMLException$1;function getLine(o,e,s,a,c){var d="",g="",$=Math.floor(c/2)-1;return a-e>$&&(d=" ... ",e=a-$+d.length),s-a>$&&(g=" ...",s=a+$-g.length),{str:d+o.slice(e,s).replace(/\t/g,"→")+g,pos:a-e+d.length}}function padStart(o,e){return common.repeat(" ",e-o.length)+o}function makeSnippet(o,e){if(e=Object.create(e||null),!o.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var s=/\r?\n|\r|\0/g,a=[0],c=[],d,g=-1;d=s.exec(o.buffer);)c.push(d.index),a.push(d.index+d[0].length),o.position<=d.index&&g<0&&(g=a.length-2);g<0&&(g=a.length-1);var $="",j,tt,et=Math.min(o.line+e.linesAfter,c.length).toString().length,b=e.maxLength-(e.indent+et+3);for(j=1;j<=e.linesBefore&&!(g-j<0);j++)tt=getLine(o.buffer,a[g-j],c[g-j],o.position-(a[g]-a[g-j]),b),$=common.repeat(" ",e.indent)+padStart((o.line-j+1).toString(),et)+" | "+tt.str+`
`+$;for(tt=getLine(o.buffer,a[g],c[g],o.position,b),$+=common.repeat(" ",e.indent)+padStart((o.line+1).toString(),et)+" | "+tt.str+`
`,$+=common.repeat("-",e.indent+et+3+tt.pos)+`^
`,j=1;j<=e.linesAfter&&!(g+j>=c.length);j++)tt=getLine(o.buffer,a[g+j],c[g+j],o.position-(a[g]-a[g+j]),b),$+=common.repeat(" ",e.indent)+padStart((o.line+j+1).toString(),et)+" | "+tt.str+`
`;return $.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(o){var e={};return o!==null&&Object.keys(o).forEach(function(s){o[s].forEach(function(a){e[String(a)]=s})}),e}function Type$1(o,e){if(e=e||{},Object.keys(e).forEach(function(s){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(s)===-1)throw new exception('Unknown option "'+s+'" is met in definition of "'+o+'" YAML type.')}),this.options=e,this.tag=o,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(s){return s},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=compileStyleAliases(e.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+o+'" YAML type.')}var type=Type$1;function compileList(o,e){var s=[];return o[e].forEach(function(a){var c=s.length;s.forEach(function(d,g){d.tag===a.tag&&d.kind===a.kind&&d.multi===a.multi&&(c=g)}),s[c]=a}),s}function compileMap(){var o={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,s;function a(c){c.multi?(o.multi[c.kind].push(c),o.multi.fallback.push(c)):o[c.kind][c.tag]=o.fallback[c.tag]=c}for(e=0,s=arguments.length;e<s;e+=1)arguments[e].forEach(a);return o}function Schema$1(o){return this.extend(o)}Schema$1.prototype.extend=function(e){var s=[],a=[];if(e instanceof type)a.push(e);else if(Array.isArray(e))a=a.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(s=s.concat(e.implicit)),e.explicit&&(a=a.concat(e.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(d){if(!(d instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(d.loadKind&&d.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(d.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),a.forEach(function(d){if(!(d instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var c=Object.create(Schema$1.prototype);return c.implicit=(this.implicit||[]).concat(s),c.explicit=(this.explicit||[]).concat(a),c.compiledImplicit=compileList(c,"implicit"),c.compiledExplicit=compileList(c,"explicit"),c.compiledTypeMap=compileMap(c.compiledImplicit,c.compiledExplicit),c};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(o){return o!==null?o:""}}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(o){return o!==null?o:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(o){return o!==null?o:{}}}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(o){if(o===null)return!0;var e=o.length;return e===1&&o==="~"||e===4&&(o==="null"||o==="Null"||o==="NULL")}function constructYamlNull(){return null}function isNull(o){return o===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(o){if(o===null)return!1;var e=o.length;return e===4&&(o==="true"||o==="True"||o==="TRUE")||e===5&&(o==="false"||o==="False"||o==="FALSE")}function constructYamlBoolean(o){return o==="true"||o==="True"||o==="TRUE"}function isBoolean(o){return Object.prototype.toString.call(o)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(o){return o?"true":"false"},uppercase:function(o){return o?"TRUE":"FALSE"},camelcase:function(o){return o?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(o){return 48<=o&&o<=57||65<=o&&o<=70||97<=o&&o<=102}function isOctCode(o){return 48<=o&&o<=55}function isDecCode(o){return 48<=o&&o<=57}function resolveYamlInteger(o){if(o===null)return!1;var e=o.length,s=0,a=!1,c;if(!e)return!1;if(c=o[s],(c==="-"||c==="+")&&(c=o[++s]),c==="0"){if(s+1===e)return!0;if(c=o[++s],c==="b"){for(s++;s<e;s++)if(c=o[s],c!=="_"){if(c!=="0"&&c!=="1")return!1;a=!0}return a&&c!=="_"}if(c==="x"){for(s++;s<e;s++)if(c=o[s],c!=="_"){if(!isHexCode(o.charCodeAt(s)))return!1;a=!0}return a&&c!=="_"}if(c==="o"){for(s++;s<e;s++)if(c=o[s],c!=="_"){if(!isOctCode(o.charCodeAt(s)))return!1;a=!0}return a&&c!=="_"}}if(c==="_")return!1;for(;s<e;s++)if(c=o[s],c!=="_"){if(!isDecCode(o.charCodeAt(s)))return!1;a=!0}return!(!a||c==="_")}function constructYamlInteger(o){var e=o,s=1,a;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),a=e[0],(a==="-"||a==="+")&&(a==="-"&&(s=-1),e=e.slice(1),a=e[0]),e==="0")return 0;if(a==="0"){if(e[1]==="b")return s*parseInt(e.slice(2),2);if(e[1]==="x")return s*parseInt(e.slice(2),16);if(e[1]==="o")return s*parseInt(e.slice(2),8)}return s*parseInt(e,10)}function isInteger$1(o){return Object.prototype.toString.call(o)==="[object Number]"&&o%1===0&&!common.isNegativeZero(o)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger$1,represent:{binary:function(o){return o>=0?"0b"+o.toString(2):"-0b"+o.toString(2).slice(1)},octal:function(o){return o>=0?"0o"+o.toString(8):"-0o"+o.toString(8).slice(1)},decimal:function(o){return o.toString(10)},hexadecimal:function(o){return o>=0?"0x"+o.toString(16).toUpperCase():"-0x"+o.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(o){return!(o===null||!YAML_FLOAT_PATTERN.test(o)||o[o.length-1]==="_")}function constructYamlFloat(o){var e,s;return e=o.replace(/_/g,"").toLowerCase(),s=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?s===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:s*parseFloat(e,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(o,e){var s;if(isNaN(o))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===o)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===o)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(o))return"-0.0";return s=o.toString(10),SCIENTIFIC_WITHOUT_DOT.test(s)?s.replace("e",".e"):s}function isFloat(o){return Object.prototype.toString.call(o)==="[object Number]"&&(o%1!==0||common.isNegativeZero(o))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(o){return o===null?!1:YAML_DATE_REGEXP.exec(o)!==null||YAML_TIMESTAMP_REGEXP.exec(o)!==null}function constructYamlTimestamp(o){var e,s,a,c,d,g,$,j=0,tt=null,et,b,h;if(e=YAML_DATE_REGEXP.exec(o),e===null&&(e=YAML_TIMESTAMP_REGEXP.exec(o)),e===null)throw new Error("Date resolve error");if(s=+e[1],a=+e[2]-1,c=+e[3],!e[4])return new Date(Date.UTC(s,a,c));if(d=+e[4],g=+e[5],$=+e[6],e[7]){for(j=e[7].slice(0,3);j.length<3;)j+="0";j=+j}return e[9]&&(et=+e[10],b=+(e[11]||0),tt=(et*60+b)*6e4,e[9]==="-"&&(tt=-tt)),h=new Date(Date.UTC(s,a,c,d,g,$,j)),tt&&h.setTime(h.getTime()-tt),h}function representYamlTimestamp(o){return o.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(o){return o==="<<"||o===null}var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(o){if(o===null)return!1;var e,s,a=0,c=o.length,d=BASE64_MAP;for(s=0;s<c;s++)if(e=d.indexOf(o.charAt(s)),!(e>64)){if(e<0)return!1;a+=6}return a%8===0}function constructYamlBinary(o){var e,s,a=o.replace(/[\r\n=]/g,""),c=a.length,d=BASE64_MAP,g=0,$=[];for(e=0;e<c;e++)e%4===0&&e&&($.push(g>>16&255),$.push(g>>8&255),$.push(g&255)),g=g<<6|d.indexOf(a.charAt(e));return s=c%4*6,s===0?($.push(g>>16&255),$.push(g>>8&255),$.push(g&255)):s===18?($.push(g>>10&255),$.push(g>>2&255)):s===12&&$.push(g>>4&255),new Uint8Array($)}function representYamlBinary(o){var e="",s=0,a,c,d=o.length,g=BASE64_MAP;for(a=0;a<d;a++)a%3===0&&a&&(e+=g[s>>18&63],e+=g[s>>12&63],e+=g[s>>6&63],e+=g[s&63]),s=(s<<8)+o[a];return c=d%3,c===0?(e+=g[s>>18&63],e+=g[s>>12&63],e+=g[s>>6&63],e+=g[s&63]):c===2?(e+=g[s>>10&63],e+=g[s>>4&63],e+=g[s<<2&63],e+=g[64]):c===1&&(e+=g[s>>2&63],e+=g[s<<4&63],e+=g[64],e+=g[64]),e}function isBinary(o){return Object.prototype.toString.call(o)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(o){if(o===null)return!0;var e=[],s,a,c,d,g,$=o;for(s=0,a=$.length;s<a;s+=1){if(c=$[s],g=!1,_toString$2.call(c)!=="[object Object]")return!1;for(d in c)if(_hasOwnProperty$3.call(c,d))if(!g)g=!0;else return!1;if(!g)return!1;if(e.indexOf(d)===-1)e.push(d);else return!1}return!0}function constructYamlOmap(o){return o!==null?o:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(o){if(o===null)return!0;var e,s,a,c,d,g=o;for(d=new Array(g.length),e=0,s=g.length;e<s;e+=1){if(a=g[e],_toString$1.call(a)!=="[object Object]"||(c=Object.keys(a),c.length!==1))return!1;d[e]=[c[0],a[c[0]]]}return!0}function constructYamlPairs(o){if(o===null)return[];var e,s,a,c,d,g=o;for(d=new Array(g.length),e=0,s=g.length;e<s;e+=1)a=g[e],c=Object.keys(a),d[e]=[c[0],a[c[0]]];return d}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(o){if(o===null)return!0;var e,s=o;for(e in s)if(_hasOwnProperty$2.call(s,e)&&s[e]!==null)return!1;return!0}function constructYamlSet(o){return o!==null?o:{}}var set=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(o){return Object.prototype.toString.call(o)}function is_EOL(o){return o===10||o===13}function is_WHITE_SPACE(o){return o===9||o===32}function is_WS_OR_EOL(o){return o===9||o===32||o===10||o===13}function is_FLOW_INDICATOR(o){return o===44||o===91||o===93||o===123||o===125}function fromHexCode(o){var e;return 48<=o&&o<=57?o-48:(e=o|32,97<=e&&e<=102?e-97+10:-1)}function escapedHexLen(o){return o===120?2:o===117?4:o===85?8:0}function fromDecimalCode(o){return 48<=o&&o<=57?o-48:-1}function simpleEscapeSequence(o){return o===48?"\0":o===97?"\x07":o===98?"\b":o===116||o===9?"	":o===110?`
`:o===118?"\v":o===102?"\f":o===114?"\r":o===101?"\x1B":o===32?" ":o===34?'"':o===47?"/":o===92?"\\":o===78?"":o===95?" ":o===76?"\u2028":o===80?"\u2029":""}function charFromCodepoint(o){return o<=65535?String.fromCharCode(o):String.fromCharCode((o-65536>>10)+55296,(o-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(o,e){this.input=o,this.filename=e.filename||null,this.schema=e.schema||_default,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=o.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(o,e){var s={name:o.filename,buffer:o.input.slice(0,-1),position:o.position,line:o.line,column:o.position-o.lineStart};return s.snippet=snippet(s),new exception(e,s)}function throwError(o,e){throw generateError(o,e)}function throwWarning(o,e){o.onWarning&&o.onWarning.call(null,generateError(o,e))}var directiveHandlers={YAML:function(e,s,a){var c,d,g;e.version!==null&&throwError(e,"duplication of %YAML directive"),a.length!==1&&throwError(e,"YAML directive accepts exactly one argument"),c=/^([0-9]+)\.([0-9]+)$/.exec(a[0]),c===null&&throwError(e,"ill-formed argument of the YAML directive"),d=parseInt(c[1],10),g=parseInt(c[2],10),d!==1&&throwError(e,"unacceptable YAML version of the document"),e.version=a[0],e.checkLineBreaks=g<2,g!==1&&g!==2&&throwWarning(e,"unsupported YAML version of the document")},TAG:function(e,s,a){var c,d;a.length!==2&&throwError(e,"TAG directive accepts exactly two arguments"),c=a[0],d=a[1],PATTERN_TAG_HANDLE.test(c)||throwError(e,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(e.tagMap,c)&&throwError(e,'there is a previously declared suffix for "'+c+'" tag handle'),PATTERN_TAG_URI.test(d)||throwError(e,"ill-formed tag prefix (second argument) of the TAG directive");try{d=decodeURIComponent(d)}catch{throwError(e,"tag prefix is malformed: "+d)}e.tagMap[c]=d}};function captureSegment(o,e,s,a){var c,d,g,$;if(e<s){if($=o.input.slice(e,s),a)for(c=0,d=$.length;c<d;c+=1)g=$.charCodeAt(c),g===9||32<=g&&g<=1114111||throwError(o,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test($)&&throwError(o,"the stream contains non-printable characters");o.result+=$}}function mergeMappings(o,e,s,a){var c,d,g,$;for(common.isObject(s)||throwError(o,"cannot merge mappings; the provided source object is unacceptable"),c=Object.keys(s),g=0,$=c.length;g<$;g+=1)d=c[g],_hasOwnProperty$1.call(e,d)||(e[d]=s[d],a[d]=!0)}function storeMappingPair(o,e,s,a,c,d,g,$,j){var tt,et;if(Array.isArray(c))for(c=Array.prototype.slice.call(c),tt=0,et=c.length;tt<et;tt+=1)Array.isArray(c[tt])&&throwError(o,"nested arrays are not supported inside keys"),typeof c=="object"&&_class(c[tt])==="[object Object]"&&(c[tt]="[object Object]");if(typeof c=="object"&&_class(c)==="[object Object]"&&(c="[object Object]"),c=String(c),e===null&&(e={}),a==="tag:yaml.org,2002:merge")if(Array.isArray(d))for(tt=0,et=d.length;tt<et;tt+=1)mergeMappings(o,e,d[tt],s);else mergeMappings(o,e,d,s);else!o.json&&!_hasOwnProperty$1.call(s,c)&&_hasOwnProperty$1.call(e,c)&&(o.line=g||o.line,o.lineStart=$||o.lineStart,o.position=j||o.position,throwError(o,"duplicated mapping key")),c==="__proto__"?Object.defineProperty(e,c,{configurable:!0,enumerable:!0,writable:!0,value:d}):e[c]=d,delete s[c];return e}function readLineBreak(o){var e;e=o.input.charCodeAt(o.position),e===10?o.position++:e===13?(o.position++,o.input.charCodeAt(o.position)===10&&o.position++):throwError(o,"a line break is expected"),o.line+=1,o.lineStart=o.position,o.firstTabInLine=-1}function skipSeparationSpace(o,e,s){for(var a=0,c=o.input.charCodeAt(o.position);c!==0;){for(;is_WHITE_SPACE(c);)c===9&&o.firstTabInLine===-1&&(o.firstTabInLine=o.position),c=o.input.charCodeAt(++o.position);if(e&&c===35)do c=o.input.charCodeAt(++o.position);while(c!==10&&c!==13&&c!==0);if(is_EOL(c))for(readLineBreak(o),c=o.input.charCodeAt(o.position),a++,o.lineIndent=0;c===32;)o.lineIndent++,c=o.input.charCodeAt(++o.position);else break}return s!==-1&&a!==0&&o.lineIndent<s&&throwWarning(o,"deficient indentation"),a}function testDocumentSeparator(o){var e=o.position,s;return s=o.input.charCodeAt(e),!!((s===45||s===46)&&s===o.input.charCodeAt(e+1)&&s===o.input.charCodeAt(e+2)&&(e+=3,s=o.input.charCodeAt(e),s===0||is_WS_OR_EOL(s)))}function writeFoldedLines(o,e){e===1?o.result+=" ":e>1&&(o.result+=common.repeat(`
`,e-1))}function readPlainScalar(o,e,s){var a,c,d,g,$,j,tt,et,b=o.kind,h=o.result,_e;if(_e=o.input.charCodeAt(o.position),is_WS_OR_EOL(_e)||is_FLOW_INDICATOR(_e)||_e===35||_e===38||_e===42||_e===33||_e===124||_e===62||_e===39||_e===34||_e===37||_e===64||_e===96||(_e===63||_e===45)&&(c=o.input.charCodeAt(o.position+1),is_WS_OR_EOL(c)||s&&is_FLOW_INDICATOR(c)))return!1;for(o.kind="scalar",o.result="",d=g=o.position,$=!1;_e!==0;){if(_e===58){if(c=o.input.charCodeAt(o.position+1),is_WS_OR_EOL(c)||s&&is_FLOW_INDICATOR(c))break}else if(_e===35){if(a=o.input.charCodeAt(o.position-1),is_WS_OR_EOL(a))break}else{if(o.position===o.lineStart&&testDocumentSeparator(o)||s&&is_FLOW_INDICATOR(_e))break;if(is_EOL(_e))if(j=o.line,tt=o.lineStart,et=o.lineIndent,skipSeparationSpace(o,!1,-1),o.lineIndent>=e){$=!0,_e=o.input.charCodeAt(o.position);continue}else{o.position=g,o.line=j,o.lineStart=tt,o.lineIndent=et;break}}$&&(captureSegment(o,d,g,!1),writeFoldedLines(o,o.line-j),d=g=o.position,$=!1),is_WHITE_SPACE(_e)||(g=o.position+1),_e=o.input.charCodeAt(++o.position)}return captureSegment(o,d,g,!1),o.result?!0:(o.kind=b,o.result=h,!1)}function readSingleQuotedScalar(o,e){var s,a,c;if(s=o.input.charCodeAt(o.position),s!==39)return!1;for(o.kind="scalar",o.result="",o.position++,a=c=o.position;(s=o.input.charCodeAt(o.position))!==0;)if(s===39)if(captureSegment(o,a,o.position,!0),s=o.input.charCodeAt(++o.position),s===39)a=o.position,o.position++,c=o.position;else return!0;else is_EOL(s)?(captureSegment(o,a,c,!0),writeFoldedLines(o,skipSeparationSpace(o,!1,e)),a=c=o.position):o.position===o.lineStart&&testDocumentSeparator(o)?throwError(o,"unexpected end of the document within a single quoted scalar"):(o.position++,c=o.position);throwError(o,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(o,e){var s,a,c,d,g,$;if($=o.input.charCodeAt(o.position),$!==34)return!1;for(o.kind="scalar",o.result="",o.position++,s=a=o.position;($=o.input.charCodeAt(o.position))!==0;){if($===34)return captureSegment(o,s,o.position,!0),o.position++,!0;if($===92){if(captureSegment(o,s,o.position,!0),$=o.input.charCodeAt(++o.position),is_EOL($))skipSeparationSpace(o,!1,e);else if($<256&&simpleEscapeCheck[$])o.result+=simpleEscapeMap[$],o.position++;else if((g=escapedHexLen($))>0){for(c=g,d=0;c>0;c--)$=o.input.charCodeAt(++o.position),(g=fromHexCode($))>=0?d=(d<<4)+g:throwError(o,"expected hexadecimal character");o.result+=charFromCodepoint(d),o.position++}else throwError(o,"unknown escape sequence");s=a=o.position}else is_EOL($)?(captureSegment(o,s,a,!0),writeFoldedLines(o,skipSeparationSpace(o,!1,e)),s=a=o.position):o.position===o.lineStart&&testDocumentSeparator(o)?throwError(o,"unexpected end of the document within a double quoted scalar"):(o.position++,a=o.position)}throwError(o,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(o,e){var s=!0,a,c,d,g=o.tag,$,j=o.anchor,tt,et,b,h,_e,nt=Object.create(null),rt,it,st,ot;if(ot=o.input.charCodeAt(o.position),ot===91)et=93,_e=!1,$=[];else if(ot===123)et=125,_e=!0,$={};else return!1;for(o.anchor!==null&&(o.anchorMap[o.anchor]=$),ot=o.input.charCodeAt(++o.position);ot!==0;){if(skipSeparationSpace(o,!0,e),ot=o.input.charCodeAt(o.position),ot===et)return o.position++,o.tag=g,o.anchor=j,o.kind=_e?"mapping":"sequence",o.result=$,!0;s?ot===44&&throwError(o,"expected the node content, but found ','"):throwError(o,"missed comma between flow collection entries"),it=rt=st=null,b=h=!1,ot===63&&(tt=o.input.charCodeAt(o.position+1),is_WS_OR_EOL(tt)&&(b=h=!0,o.position++,skipSeparationSpace(o,!0,e))),a=o.line,c=o.lineStart,d=o.position,composeNode(o,e,CONTEXT_FLOW_IN,!1,!0),it=o.tag,rt=o.result,skipSeparationSpace(o,!0,e),ot=o.input.charCodeAt(o.position),(h||o.line===a)&&ot===58&&(b=!0,ot=o.input.charCodeAt(++o.position),skipSeparationSpace(o,!0,e),composeNode(o,e,CONTEXT_FLOW_IN,!1,!0),st=o.result),_e?storeMappingPair(o,$,nt,it,rt,st,a,c,d):b?$.push(storeMappingPair(o,null,nt,it,rt,st,a,c,d)):$.push(rt),skipSeparationSpace(o,!0,e),ot=o.input.charCodeAt(o.position),ot===44?(s=!0,ot=o.input.charCodeAt(++o.position)):s=!1}throwError(o,"unexpected end of the stream within a flow collection")}function readBlockScalar(o,e){var s,a,c=CHOMPING_CLIP,d=!1,g=!1,$=e,j=0,tt=!1,et,b;if(b=o.input.charCodeAt(o.position),b===124)a=!1;else if(b===62)a=!0;else return!1;for(o.kind="scalar",o.result="";b!==0;)if(b=o.input.charCodeAt(++o.position),b===43||b===45)CHOMPING_CLIP===c?c=b===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(o,"repeat of a chomping mode identifier");else if((et=fromDecimalCode(b))>=0)et===0?throwError(o,"bad explicit indentation width of a block scalar; it cannot be less than one"):g?throwError(o,"repeat of an indentation width identifier"):($=e+et-1,g=!0);else break;if(is_WHITE_SPACE(b)){do b=o.input.charCodeAt(++o.position);while(is_WHITE_SPACE(b));if(b===35)do b=o.input.charCodeAt(++o.position);while(!is_EOL(b)&&b!==0)}for(;b!==0;){for(readLineBreak(o),o.lineIndent=0,b=o.input.charCodeAt(o.position);(!g||o.lineIndent<$)&&b===32;)o.lineIndent++,b=o.input.charCodeAt(++o.position);if(!g&&o.lineIndent>$&&($=o.lineIndent),is_EOL(b)){j++;continue}if(o.lineIndent<$){c===CHOMPING_KEEP?o.result+=common.repeat(`
`,d?1+j:j):c===CHOMPING_CLIP&&d&&(o.result+=`
`);break}for(a?is_WHITE_SPACE(b)?(tt=!0,o.result+=common.repeat(`
`,d?1+j:j)):tt?(tt=!1,o.result+=common.repeat(`
`,j+1)):j===0?d&&(o.result+=" "):o.result+=common.repeat(`
`,j):o.result+=common.repeat(`
`,d?1+j:j),d=!0,g=!0,j=0,s=o.position;!is_EOL(b)&&b!==0;)b=o.input.charCodeAt(++o.position);captureSegment(o,s,o.position,!1)}return!0}function readBlockSequence(o,e){var s,a=o.tag,c=o.anchor,d=[],g,$=!1,j;if(o.firstTabInLine!==-1)return!1;for(o.anchor!==null&&(o.anchorMap[o.anchor]=d),j=o.input.charCodeAt(o.position);j!==0&&(o.firstTabInLine!==-1&&(o.position=o.firstTabInLine,throwError(o,"tab characters must not be used in indentation")),!(j!==45||(g=o.input.charCodeAt(o.position+1),!is_WS_OR_EOL(g))));){if($=!0,o.position++,skipSeparationSpace(o,!0,-1)&&o.lineIndent<=e){d.push(null),j=o.input.charCodeAt(o.position);continue}if(s=o.line,composeNode(o,e,CONTEXT_BLOCK_IN,!1,!0),d.push(o.result),skipSeparationSpace(o,!0,-1),j=o.input.charCodeAt(o.position),(o.line===s||o.lineIndent>e)&&j!==0)throwError(o,"bad indentation of a sequence entry");else if(o.lineIndent<e)break}return $?(o.tag=a,o.anchor=c,o.kind="sequence",o.result=d,!0):!1}function readBlockMapping(o,e,s){var a,c,d,g,$,j,tt=o.tag,et=o.anchor,b={},h=Object.create(null),_e=null,nt=null,rt=null,it=!1,st=!1,ot;if(o.firstTabInLine!==-1)return!1;for(o.anchor!==null&&(o.anchorMap[o.anchor]=b),ot=o.input.charCodeAt(o.position);ot!==0;){if(!it&&o.firstTabInLine!==-1&&(o.position=o.firstTabInLine,throwError(o,"tab characters must not be used in indentation")),a=o.input.charCodeAt(o.position+1),d=o.line,(ot===63||ot===58)&&is_WS_OR_EOL(a))ot===63?(it&&(storeMappingPair(o,b,h,_e,nt,null,g,$,j),_e=nt=rt=null),st=!0,it=!0,c=!0):it?(it=!1,c=!0):throwError(o,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),o.position+=1,ot=a;else{if(g=o.line,$=o.lineStart,j=o.position,!composeNode(o,s,CONTEXT_FLOW_OUT,!1,!0))break;if(o.line===d){for(ot=o.input.charCodeAt(o.position);is_WHITE_SPACE(ot);)ot=o.input.charCodeAt(++o.position);if(ot===58)ot=o.input.charCodeAt(++o.position),is_WS_OR_EOL(ot)||throwError(o,"a whitespace character is expected after the key-value separator within a block mapping"),it&&(storeMappingPair(o,b,h,_e,nt,null,g,$,j),_e=nt=rt=null),st=!0,it=!1,c=!1,_e=o.tag,nt=o.result;else if(st)throwError(o,"can not read an implicit mapping pair; a colon is missed");else return o.tag=tt,o.anchor=et,!0}else if(st)throwError(o,"can not read a block mapping entry; a multiline key may not be an implicit key");else return o.tag=tt,o.anchor=et,!0}if((o.line===d||o.lineIndent>e)&&(it&&(g=o.line,$=o.lineStart,j=o.position),composeNode(o,e,CONTEXT_BLOCK_OUT,!0,c)&&(it?nt=o.result:rt=o.result),it||(storeMappingPair(o,b,h,_e,nt,rt,g,$,j),_e=nt=rt=null),skipSeparationSpace(o,!0,-1),ot=o.input.charCodeAt(o.position)),(o.line===d||o.lineIndent>e)&&ot!==0)throwError(o,"bad indentation of a mapping entry");else if(o.lineIndent<e)break}return it&&storeMappingPair(o,b,h,_e,nt,null,g,$,j),st&&(o.tag=tt,o.anchor=et,o.kind="mapping",o.result=b),st}function readTagProperty(o){var e,s=!1,a=!1,c,d,g;if(g=o.input.charCodeAt(o.position),g!==33)return!1;if(o.tag!==null&&throwError(o,"duplication of a tag property"),g=o.input.charCodeAt(++o.position),g===60?(s=!0,g=o.input.charCodeAt(++o.position)):g===33?(a=!0,c="!!",g=o.input.charCodeAt(++o.position)):c="!",e=o.position,s){do g=o.input.charCodeAt(++o.position);while(g!==0&&g!==62);o.position<o.length?(d=o.input.slice(e,o.position),g=o.input.charCodeAt(++o.position)):throwError(o,"unexpected end of the stream within a verbatim tag")}else{for(;g!==0&&!is_WS_OR_EOL(g);)g===33&&(a?throwError(o,"tag suffix cannot contain exclamation marks"):(c=o.input.slice(e-1,o.position+1),PATTERN_TAG_HANDLE.test(c)||throwError(o,"named tag handle cannot contain such characters"),a=!0,e=o.position+1)),g=o.input.charCodeAt(++o.position);d=o.input.slice(e,o.position),PATTERN_FLOW_INDICATORS.test(d)&&throwError(o,"tag suffix cannot contain flow indicator characters")}d&&!PATTERN_TAG_URI.test(d)&&throwError(o,"tag name cannot contain such characters: "+d);try{d=decodeURIComponent(d)}catch{throwError(o,"tag name is malformed: "+d)}return s?o.tag=d:_hasOwnProperty$1.call(o.tagMap,c)?o.tag=o.tagMap[c]+d:c==="!"?o.tag="!"+d:c==="!!"?o.tag="tag:yaml.org,2002:"+d:throwError(o,'undeclared tag handle "'+c+'"'),!0}function readAnchorProperty(o){var e,s;if(s=o.input.charCodeAt(o.position),s!==38)return!1;for(o.anchor!==null&&throwError(o,"duplication of an anchor property"),s=o.input.charCodeAt(++o.position),e=o.position;s!==0&&!is_WS_OR_EOL(s)&&!is_FLOW_INDICATOR(s);)s=o.input.charCodeAt(++o.position);return o.position===e&&throwError(o,"name of an anchor node must contain at least one character"),o.anchor=o.input.slice(e,o.position),!0}function readAlias(o){var e,s,a;if(a=o.input.charCodeAt(o.position),a!==42)return!1;for(a=o.input.charCodeAt(++o.position),e=o.position;a!==0&&!is_WS_OR_EOL(a)&&!is_FLOW_INDICATOR(a);)a=o.input.charCodeAt(++o.position);return o.position===e&&throwError(o,"name of an alias node must contain at least one character"),s=o.input.slice(e,o.position),_hasOwnProperty$1.call(o.anchorMap,s)||throwError(o,'unidentified alias "'+s+'"'),o.result=o.anchorMap[s],skipSeparationSpace(o,!0,-1),!0}function composeNode(o,e,s,a,c){var d,g,$,j=1,tt=!1,et=!1,b,h,_e,nt,rt,it;if(o.listener!==null&&o.listener("open",o),o.tag=null,o.anchor=null,o.kind=null,o.result=null,d=g=$=CONTEXT_BLOCK_OUT===s||CONTEXT_BLOCK_IN===s,a&&skipSeparationSpace(o,!0,-1)&&(tt=!0,o.lineIndent>e?j=1:o.lineIndent===e?j=0:o.lineIndent<e&&(j=-1)),j===1)for(;readTagProperty(o)||readAnchorProperty(o);)skipSeparationSpace(o,!0,-1)?(tt=!0,$=d,o.lineIndent>e?j=1:o.lineIndent===e?j=0:o.lineIndent<e&&(j=-1)):$=!1;if($&&($=tt||c),(j===1||CONTEXT_BLOCK_OUT===s)&&(CONTEXT_FLOW_IN===s||CONTEXT_FLOW_OUT===s?rt=e:rt=e+1,it=o.position-o.lineStart,j===1?$&&(readBlockSequence(o,it)||readBlockMapping(o,it,rt))||readFlowCollection(o,rt)?et=!0:(g&&readBlockScalar(o,rt)||readSingleQuotedScalar(o,rt)||readDoubleQuotedScalar(o,rt)?et=!0:readAlias(o)?(et=!0,(o.tag!==null||o.anchor!==null)&&throwError(o,"alias node should not have any properties")):readPlainScalar(o,rt,CONTEXT_FLOW_IN===s)&&(et=!0,o.tag===null&&(o.tag="?")),o.anchor!==null&&(o.anchorMap[o.anchor]=o.result)):j===0&&(et=$&&readBlockSequence(o,it))),o.tag===null)o.anchor!==null&&(o.anchorMap[o.anchor]=o.result);else if(o.tag==="?"){for(o.result!==null&&o.kind!=="scalar"&&throwError(o,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+o.kind+'"'),b=0,h=o.implicitTypes.length;b<h;b+=1)if(nt=o.implicitTypes[b],nt.resolve(o.result)){o.result=nt.construct(o.result),o.tag=nt.tag,o.anchor!==null&&(o.anchorMap[o.anchor]=o.result);break}}else if(o.tag!=="!"){if(_hasOwnProperty$1.call(o.typeMap[o.kind||"fallback"],o.tag))nt=o.typeMap[o.kind||"fallback"][o.tag];else for(nt=null,_e=o.typeMap.multi[o.kind||"fallback"],b=0,h=_e.length;b<h;b+=1)if(o.tag.slice(0,_e[b].tag.length)===_e[b].tag){nt=_e[b];break}nt||throwError(o,"unknown tag !<"+o.tag+">"),o.result!==null&&nt.kind!==o.kind&&throwError(o,"unacceptable node kind for !<"+o.tag+'> tag; it should be "'+nt.kind+'", not "'+o.kind+'"'),nt.resolve(o.result,o.tag)?(o.result=nt.construct(o.result,o.tag),o.anchor!==null&&(o.anchorMap[o.anchor]=o.result)):throwError(o,"cannot resolve a node with !<"+o.tag+"> explicit tag")}return o.listener!==null&&o.listener("close",o),o.tag!==null||o.anchor!==null||et}function readDocument(o){var e=o.position,s,a,c,d=!1,g;for(o.version=null,o.checkLineBreaks=o.legacy,o.tagMap=Object.create(null),o.anchorMap=Object.create(null);(g=o.input.charCodeAt(o.position))!==0&&(skipSeparationSpace(o,!0,-1),g=o.input.charCodeAt(o.position),!(o.lineIndent>0||g!==37));){for(d=!0,g=o.input.charCodeAt(++o.position),s=o.position;g!==0&&!is_WS_OR_EOL(g);)g=o.input.charCodeAt(++o.position);for(a=o.input.slice(s,o.position),c=[],a.length<1&&throwError(o,"directive name must not be less than one character in length");g!==0;){for(;is_WHITE_SPACE(g);)g=o.input.charCodeAt(++o.position);if(g===35){do g=o.input.charCodeAt(++o.position);while(g!==0&&!is_EOL(g));break}if(is_EOL(g))break;for(s=o.position;g!==0&&!is_WS_OR_EOL(g);)g=o.input.charCodeAt(++o.position);c.push(o.input.slice(s,o.position))}g!==0&&readLineBreak(o),_hasOwnProperty$1.call(directiveHandlers,a)?directiveHandlers[a](o,a,c):throwWarning(o,'unknown document directive "'+a+'"')}if(skipSeparationSpace(o,!0,-1),o.lineIndent===0&&o.input.charCodeAt(o.position)===45&&o.input.charCodeAt(o.position+1)===45&&o.input.charCodeAt(o.position+2)===45?(o.position+=3,skipSeparationSpace(o,!0,-1)):d&&throwError(o,"directives end mark is expected"),composeNode(o,o.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(o,!0,-1),o.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(o.input.slice(e,o.position))&&throwWarning(o,"non-ASCII line breaks are interpreted as content"),o.documents.push(o.result),o.position===o.lineStart&&testDocumentSeparator(o)){o.input.charCodeAt(o.position)===46&&(o.position+=3,skipSeparationSpace(o,!0,-1));return}if(o.position<o.length-1)throwError(o,"end of the stream or a document separator is expected");else return}function loadDocuments(o,e){o=String(o),e=e||{},o.length!==0&&(o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o.charCodeAt(0)===65279&&(o=o.slice(1)));var s=new State$1(o,e),a=o.indexOf("\0");for(a!==-1&&(s.position=a,throwError(s,"null byte is not allowed in input")),s.input+="\0";s.input.charCodeAt(s.position)===32;)s.lineIndent+=1,s.position+=1;for(;s.position<s.length-1;)readDocument(s);return s.documents}function loadAll$1(o,e,s){e!==null&&typeof e=="object"&&typeof s>"u"&&(s=e,e=null);var a=loadDocuments(o,s);if(typeof e!="function")return a;for(var c=0,d=a.length;c<d;c+=1)e(a[c])}function load$1(o,e){var s=loadDocuments(o,e);if(s.length!==0){if(s.length===1)return s[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll_1,load:load_1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(o,e){var s,a,c,d,g,$,j;if(e===null)return{};for(s={},a=Object.keys(e),c=0,d=a.length;c<d;c+=1)g=a[c],$=String(e[g]),g.slice(0,2)==="!!"&&(g="tag:yaml.org,2002:"+g.slice(2)),j=o.compiledTypeMap.fallback[g],j&&_hasOwnProperty.call(j.styleAliases,$)&&($=j.styleAliases[$]),s[g]=$;return s}function encodeHex(o){var e,s,a;if(e=o.toString(16).toUpperCase(),o<=255)s="x",a=2;else if(o<=65535)s="u",a=4;else if(o<=4294967295)s="U",a=8;else throw new exception("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+s+common.repeat("0",a-e.length)+e}var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(o){this.schema=o.schema||_default,this.indent=Math.max(1,o.indent||2),this.noArrayIndent=o.noArrayIndent||!1,this.skipInvalid=o.skipInvalid||!1,this.flowLevel=common.isNothing(o.flowLevel)?-1:o.flowLevel,this.styleMap=compileStyleMap(this.schema,o.styles||null),this.sortKeys=o.sortKeys||!1,this.lineWidth=o.lineWidth||80,this.noRefs=o.noRefs||!1,this.noCompatMode=o.noCompatMode||!1,this.condenseFlow=o.condenseFlow||!1,this.quotingType=o.quotingType==='"'?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=o.forceQuotes||!1,this.replacer=typeof o.replacer=="function"?o.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(o,e){for(var s=common.repeat(" ",e),a=0,c=-1,d="",g,$=o.length;a<$;)c=o.indexOf(`
`,a),c===-1?(g=o.slice(a),a=$):(g=o.slice(a,c+1),a=c+1),g.length&&g!==`
`&&(d+=s),d+=g;return d}function generateNextLine(o,e){return`
`+common.repeat(" ",o.indent*e)}function testImplicitResolving(o,e){var s,a,c;for(s=0,a=o.implicitTypes.length;s<a;s+=1)if(c=o.implicitTypes[s],c.resolve(e))return!0;return!1}function isWhitespace(o){return o===CHAR_SPACE||o===CHAR_TAB}function isPrintable(o){return 32<=o&&o<=126||161<=o&&o<=55295&&o!==8232&&o!==8233||57344<=o&&o<=65533&&o!==CHAR_BOM||65536<=o&&o<=1114111}function isNsCharOrWhitespace(o){return isPrintable(o)&&o!==CHAR_BOM&&o!==CHAR_CARRIAGE_RETURN&&o!==CHAR_LINE_FEED}function isPlainSafe(o,e,s){var a=isNsCharOrWhitespace(o),c=a&&!isWhitespace(o);return(s?a:a&&o!==CHAR_COMMA&&o!==CHAR_LEFT_SQUARE_BRACKET&&o!==CHAR_RIGHT_SQUARE_BRACKET&&o!==CHAR_LEFT_CURLY_BRACKET&&o!==CHAR_RIGHT_CURLY_BRACKET)&&o!==CHAR_SHARP&&!(e===CHAR_COLON&&!c)||isNsCharOrWhitespace(e)&&!isWhitespace(e)&&o===CHAR_SHARP||e===CHAR_COLON&&c}function isPlainSafeFirst(o){return isPrintable(o)&&o!==CHAR_BOM&&!isWhitespace(o)&&o!==CHAR_MINUS&&o!==CHAR_QUESTION&&o!==CHAR_COLON&&o!==CHAR_COMMA&&o!==CHAR_LEFT_SQUARE_BRACKET&&o!==CHAR_RIGHT_SQUARE_BRACKET&&o!==CHAR_LEFT_CURLY_BRACKET&&o!==CHAR_RIGHT_CURLY_BRACKET&&o!==CHAR_SHARP&&o!==CHAR_AMPERSAND&&o!==CHAR_ASTERISK&&o!==CHAR_EXCLAMATION&&o!==CHAR_VERTICAL_LINE&&o!==CHAR_EQUALS&&o!==CHAR_GREATER_THAN&&o!==CHAR_SINGLE_QUOTE&&o!==CHAR_DOUBLE_QUOTE&&o!==CHAR_PERCENT&&o!==CHAR_COMMERCIAL_AT&&o!==CHAR_GRAVE_ACCENT}function isPlainSafeLast(o){return!isWhitespace(o)&&o!==CHAR_COLON}function codePointAt(o,e){var s=o.charCodeAt(e),a;return s>=55296&&s<=56319&&e+1<o.length&&(a=o.charCodeAt(e+1),a>=56320&&a<=57343)?(s-55296)*1024+a-56320+65536:s}function needIndentIndicator(o){var e=/^\n* /;return e.test(o)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(o,e,s,a,c,d,g,$){var j,tt=0,et=null,b=!1,h=!1,_e=a!==-1,nt=-1,rt=isPlainSafeFirst(codePointAt(o,0))&&isPlainSafeLast(codePointAt(o,o.length-1));if(e||g)for(j=0;j<o.length;tt>=65536?j+=2:j++){if(tt=codePointAt(o,j),!isPrintable(tt))return STYLE_DOUBLE;rt=rt&&isPlainSafe(tt,et,$),et=tt}else{for(j=0;j<o.length;tt>=65536?j+=2:j++){if(tt=codePointAt(o,j),tt===CHAR_LINE_FEED)b=!0,_e&&(h=h||j-nt-1>a&&o[nt+1]!==" ",nt=j);else if(!isPrintable(tt))return STYLE_DOUBLE;rt=rt&&isPlainSafe(tt,et,$),et=tt}h=h||_e&&j-nt-1>a&&o[nt+1]!==" "}return!b&&!h?rt&&!g&&!c(o)?STYLE_PLAIN:d===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:s>9&&needIndentIndicator(o)?STYLE_DOUBLE:g?d===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:h?STYLE_FOLDED:STYLE_LITERAL}function writeScalar(o,e,s,a,c){o.dump=function(){if(e.length===0)return o.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!o.noCompatMode&&(DEPRECATED_BOOLEANS_SYNTAX.indexOf(e)!==-1||DEPRECATED_BASE60_SYNTAX.test(e)))return o.quotingType===QUOTING_TYPE_DOUBLE?'"'+e+'"':"'"+e+"'";var d=o.indent*Math.max(1,s),g=o.lineWidth===-1?-1:Math.max(Math.min(o.lineWidth,40),o.lineWidth-d),$=a||o.flowLevel>-1&&s>=o.flowLevel;function j(tt){return testImplicitResolving(o,tt)}switch(chooseScalarStyle(e,$,o.indent,g,j,o.quotingType,o.forceQuotes&&!a,c)){case STYLE_PLAIN:return e;case STYLE_SINGLE:return"'"+e.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(e,o.indent)+dropEndingNewline(indentString(e,d));case STYLE_FOLDED:return">"+blockHeader(e,o.indent)+dropEndingNewline(indentString(foldString(e,g),d));case STYLE_DOUBLE:return'"'+escapeString(e)+'"';default:throw new exception("impossible error: invalid scalar style")}}()}function blockHeader(o,e){var s=needIndentIndicator(o)?String(e):"",a=o[o.length-1]===`
`,c=a&&(o[o.length-2]===`
`||o===`
`),d=c?"+":a?"":"-";return s+d+`
`}function dropEndingNewline(o){return o[o.length-1]===`
`?o.slice(0,-1):o}function foldString(o,e){for(var s=/(\n+)([^\n]*)/g,a=function(){var tt=o.indexOf(`
`);return tt=tt!==-1?tt:o.length,s.lastIndex=tt,foldLine(o.slice(0,tt),e)}(),c=o[0]===`
`||o[0]===" ",d,g;g=s.exec(o);){var $=g[1],j=g[2];d=j[0]===" ",a+=$+(!c&&!d&&j!==""?`
`:"")+foldLine(j,e),c=d}return a}function foldLine(o,e){if(o===""||o[0]===" ")return o;for(var s=/ [^ ]/g,a,c=0,d,g=0,$=0,j="";a=s.exec(o);)$=a.index,$-c>e&&(d=g>c?g:$,j+=`
`+o.slice(c,d),c=d+1),g=$;return j+=`
`,o.length-c>e&&g>c?j+=o.slice(c,g)+`
`+o.slice(g+1):j+=o.slice(c),j.slice(1)}function escapeString(o){for(var e="",s=0,a,c=0;c<o.length;s>=65536?c+=2:c++)s=codePointAt(o,c),a=ESCAPE_SEQUENCES[s],!a&&isPrintable(s)?(e+=o[c],s>=65536&&(e+=o[c+1])):e+=a||encodeHex(s);return e}function writeFlowSequence(o,e,s){var a="",c=o.tag,d,g,$;for(d=0,g=s.length;d<g;d+=1)$=s[d],o.replacer&&($=o.replacer.call(s,String(d),$)),(writeNode(o,e,$,!1,!1)||typeof $>"u"&&writeNode(o,e,null,!1,!1))&&(a!==""&&(a+=","+(o.condenseFlow?"":" ")),a+=o.dump);o.tag=c,o.dump="["+a+"]"}function writeBlockSequence(o,e,s,a){var c="",d=o.tag,g,$,j;for(g=0,$=s.length;g<$;g+=1)j=s[g],o.replacer&&(j=o.replacer.call(s,String(g),j)),(writeNode(o,e+1,j,!0,!0,!1,!0)||typeof j>"u"&&writeNode(o,e+1,null,!0,!0,!1,!0))&&((!a||c!=="")&&(c+=generateNextLine(o,e)),o.dump&&CHAR_LINE_FEED===o.dump.charCodeAt(0)?c+="-":c+="- ",c+=o.dump);o.tag=d,o.dump=c||"[]"}function writeFlowMapping(o,e,s){var a="",c=o.tag,d=Object.keys(s),g,$,j,tt,et;for(g=0,$=d.length;g<$;g+=1)et="",a!==""&&(et+=", "),o.condenseFlow&&(et+='"'),j=d[g],tt=s[j],o.replacer&&(tt=o.replacer.call(s,j,tt)),writeNode(o,e,j,!1,!1)&&(o.dump.length>1024&&(et+="? "),et+=o.dump+(o.condenseFlow?'"':"")+":"+(o.condenseFlow?"":" "),writeNode(o,e,tt,!1,!1)&&(et+=o.dump,a+=et));o.tag=c,o.dump="{"+a+"}"}function writeBlockMapping(o,e,s,a){var c="",d=o.tag,g=Object.keys(s),$,j,tt,et,b,h;if(o.sortKeys===!0)g.sort();else if(typeof o.sortKeys=="function")g.sort(o.sortKeys);else if(o.sortKeys)throw new exception("sortKeys must be a boolean or a function");for($=0,j=g.length;$<j;$+=1)h="",(!a||c!=="")&&(h+=generateNextLine(o,e)),tt=g[$],et=s[tt],o.replacer&&(et=o.replacer.call(s,tt,et)),writeNode(o,e+1,tt,!0,!0,!0)&&(b=o.tag!==null&&o.tag!=="?"||o.dump&&o.dump.length>1024,b&&(o.dump&&CHAR_LINE_FEED===o.dump.charCodeAt(0)?h+="?":h+="? "),h+=o.dump,b&&(h+=generateNextLine(o,e)),writeNode(o,e+1,et,!0,b)&&(o.dump&&CHAR_LINE_FEED===o.dump.charCodeAt(0)?h+=":":h+=": ",h+=o.dump,c+=h));o.tag=d,o.dump=c||"{}"}function detectType(o,e,s){var a,c,d,g,$,j;for(c=s?o.explicitTypes:o.implicitTypes,d=0,g=c.length;d<g;d+=1)if($=c[d],($.instanceOf||$.predicate)&&(!$.instanceOf||typeof e=="object"&&e instanceof $.instanceOf)&&(!$.predicate||$.predicate(e))){if(s?$.multi&&$.representName?o.tag=$.representName(e):o.tag=$.tag:o.tag="?",$.represent){if(j=o.styleMap[$.tag]||$.defaultStyle,_toString.call($.represent)==="[object Function]")a=$.represent(e,j);else if(_hasOwnProperty.call($.represent,j))a=$.represent[j](e,j);else throw new exception("!<"+$.tag+'> tag resolver accepts not "'+j+'" style');o.dump=a}return!0}return!1}function writeNode(o,e,s,a,c,d,g){o.tag=null,o.dump=s,detectType(o,s,!1)||detectType(o,s,!0);var $=_toString.call(o.dump),j=a,tt;a&&(a=o.flowLevel<0||o.flowLevel>e);var et=$==="[object Object]"||$==="[object Array]",b,h;if(et&&(b=o.duplicates.indexOf(s),h=b!==-1),(o.tag!==null&&o.tag!=="?"||h||o.indent!==2&&e>0)&&(c=!1),h&&o.usedDuplicates[b])o.dump="*ref_"+b;else{if(et&&h&&!o.usedDuplicates[b]&&(o.usedDuplicates[b]=!0),$==="[object Object]")a&&Object.keys(o.dump).length!==0?(writeBlockMapping(o,e,o.dump,c),h&&(o.dump="&ref_"+b+o.dump)):(writeFlowMapping(o,e,o.dump),h&&(o.dump="&ref_"+b+" "+o.dump));else if($==="[object Array]")a&&o.dump.length!==0?(o.noArrayIndent&&!g&&e>0?writeBlockSequence(o,e-1,o.dump,c):writeBlockSequence(o,e,o.dump,c),h&&(o.dump="&ref_"+b+o.dump)):(writeFlowSequence(o,e,o.dump),h&&(o.dump="&ref_"+b+" "+o.dump));else if($==="[object String]")o.tag!=="?"&&writeScalar(o,o.dump,e,d,j);else{if($==="[object Undefined]")return!1;if(o.skipInvalid)return!1;throw new exception("unacceptable kind of an object to dump "+$)}o.tag!==null&&o.tag!=="?"&&(tt=encodeURI(o.tag[0]==="!"?o.tag.slice(1):o.tag).replace(/!/g,"%21"),o.tag[0]==="!"?tt="!"+tt:tt.slice(0,18)==="tag:yaml.org,2002:"?tt="!!"+tt.slice(18):tt="!<"+tt+">",o.dump=tt+" "+o.dump)}return!0}function getDuplicateReferences(o,e){var s=[],a=[],c,d;for(inspectNode(o,s,a),c=0,d=a.length;c<d;c+=1)e.duplicates.push(s[a[c]]);e.usedDuplicates=new Array(d)}function inspectNode(o,e,s){var a,c,d;if(o!==null&&typeof o=="object")if(c=e.indexOf(o),c!==-1)s.indexOf(c)===-1&&s.push(c);else if(e.push(o),Array.isArray(o))for(c=0,d=o.length;c<d;c+=1)inspectNode(o[c],e,s);else for(a=Object.keys(o),c=0,d=a.length;c<d;c+=1)inspectNode(o[a[c]],e,s)}function dump$1(o,e){e=e||{};var s=new State(e);s.noRefs||getDuplicateReferences(o,s);var a=o;return s.replacer&&(a=s.replacer.call({"":a},"",a)),writeNode(s,0,a,!0,!0)?s.dump+`
`:""}var dump_1=dump$1,dumper={dump:dump_1};function renamed(o,e){return function(){throw new Error("Function yaml."+o+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Type=type,Schema=schema,FAILSAFE_SCHEMA=failsafe,JSON_SCHEMA=json,CORE_SCHEMA=core,DEFAULT_SCHEMA=_default,load=loader.load,loadAll=loader.loadAll,dump=dumper.dump,YAMLException=exception,types={binary,float,map,null:_null,pairs,set,timestamp,bool,int,merge,omap,seq,str},safeLoad=renamed("safeLoad","load"),safeLoadAll=renamed("safeLoadAll","loadAll"),safeDump=renamed("safeDump","dump"),jsYaml={Type,Schema,FAILSAFE_SCHEMA,JSON_SCHEMA,CORE_SCHEMA,DEFAULT_SCHEMA,load,loadAll,dump,YAMLException,types,safeLoad,safeLoadAll,safeDump};function dispatchCallback(o,e){o&&o(e)}function reverseDictionary(o){return Object.fromEntries(Object.entries(o).map(([e,s])=>[s,e]))}function escapeRegExp(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Callable=class{constructor(){let o=function(...e){return o._call(...e)};return Object.setPrototypeOf(o,new.target.prototype)}_call(...o){throw Error("Must implement _call method in subclass")}};function isTypedArray(o){var e,s,a;return((a=(s=(e=o==null?void 0:o.prototype)==null?void 0:e.__proto__)==null?void 0:s.constructor)==null?void 0:a.name)==="TypedArray"}function isIntegralNumber(o){return Number.isInteger(o)||typeof o=="bigint"}function exists(o){return o!=null}function calculateDimensions(o){const e=[];let s=o;for(;Array.isArray(s);)e.push(s.length),s=s[0];return e}function pop(o,e,s=void 0){const a=o[e];if(a!==void 0)return delete o[e],a;if(s===void 0)throw Error(`Key ${e} does not exist in object.`);return s}function mergeArrays(...o){return Array.prototype.concat.apply([],o)}function product(...o){return o.reduce((e,s)=>e.flatMap(a=>s.map(c=>[a,c])))}function calculateReflectOffset(o,e){return Math.abs((o+e)%(2*e)-e)}const sharp={},ONNX_NODE=Object.freeze(Object.defineProperty({__proto__:null,default:sharp},Symbol.toStringTag,{value:"Module"}));var ortWeb_min$1={exports:{}};const backends={},backendsSortedByPriority=[],registerBackend=(o,e,s)=>{if(e&&typeof e.init=="function"&&typeof e.createSessionHandler=="function"){const a=backends[o];if(a===void 0)backends[o]={backend:e,priority:s};else{if(a.priority>s)return;if(a.priority===s&&a.backend!==e)throw new Error(`cannot register backend "${o}" using priority ${s}`)}if(s>=0){const c=backendsSortedByPriority.indexOf(o);c!==-1&&backendsSortedByPriority.splice(c,1);for(let d=0;d<backendsSortedByPriority.length;d++)if(backends[backendsSortedByPriority[d]].priority<=s){backendsSortedByPriority.splice(d,0,o);return}backendsSortedByPriority.push(o)}return}throw new TypeError("not a valid backend")},resolveBackend=async o=>{const e=o.length===0?backendsSortedByPriority:o,s=[];for(const a of e){const c=backends[a];if(c){if(c.initialized)return c.backend;if(c.aborted)continue;const d=!!c.initPromise;try{return d||(c.initPromise=c.backend.init()),await c.initPromise,c.initialized=!0,c.backend}catch(g){d||s.push({name:a,err:g}),c.aborted=!0}finally{delete c.initPromise}}}throw new Error(`no available backend found. ERR: ${s.map(a=>`[${a.name}] ${a.err}`).join(", ")}`)};class EnvImpl{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(e){if(e!==void 0){if(typeof e!="string"||["verbose","info","warning","error","fatal"].indexOf(e)===-1)throw new Error(`Unsupported logging level: ${e}`);this.logLevelInternal=e}}get logLevel(){return this.logLevelInternal}}const env$2=new EnvImpl,isBigInt64ArrayAvailable=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",isBigUint64ArrayAvailable=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function",NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);isBigInt64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64"));isBigUint64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64"));const calculateSize=o=>{let e=1;for(let s=0;s<o.length;s++){const a=o[s];if(typeof a!="number"||!Number.isSafeInteger(a))throw new TypeError(`dims[${s}] must be an integer, got: ${a}`);if(a<0)throw new RangeError(`dims[${s}] must be a non-negative integer, got: ${a}`);e*=a}return e};let Tensor$2=class Xl{constructor(e,s,a){let c,d,g;if(typeof e=="string")if(c=e,g=a,e==="string"){if(!Array.isArray(s))throw new TypeError("A string tensor's data must be a string array.");d=s}else{const j=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(e);if(j===void 0)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(s))d=j.from(s);else if(s instanceof j)d=s;else throw new TypeError(`A ${c} tensor's data must be type of ${j}`)}else if(g=s,Array.isArray(e)){if(e.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const j=typeof e[0];if(j==="string")c="string",d=e;else if(j==="boolean")c="bool",d=Uint8Array.from(e);else throw new TypeError(`Invalid element type of data array: ${j}.`)}else{const j=NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(e.constructor);if(j===void 0)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);c=j,d=e}if(g===void 0)g=[d.length];else if(!Array.isArray(g))throw new TypeError("A tensor's dims must be a number array");const $=calculateSize(g);if($!==d.length)throw new Error(`Tensor's size(${$}) does not match data length(${d.length}).`);this.dims=g,this.type=c,this.data=d,this.size=$}static bufferToTensor(e,s){if(e===void 0)throw new Error("Image buffer must be defined");if(s.height===void 0||s.width===void 0)throw new Error("Image height and width must be defined");const{height:a,width:c}=s,d=s.norm;let g,$;d===void 0||d.mean===void 0?g=255:g=d.mean,d===void 0||d.bias===void 0?$=0:$=d.bias;const j=s.bitmapFormat!==void 0?s.bitmapFormat:"RGBA",tt=s.tensorFormat!==void 0&&s.tensorFormat!==void 0?s.tensorFormat:"RGB",et=a*c,b=tt==="RGBA"?new Float32Array(et*4):new Float32Array(et*3);let h=4,_e=0,nt=1,rt=2,it=3,st=0,ot=et,at=et*2,ct=-1;j==="RGB"&&(h=3,_e=0,nt=1,rt=2,it=-1),tt==="RGBA"?ct=et*3:tt==="RBG"?(st=0,at=et,ot=et*2):tt==="BGR"&&(at=0,ot=et,st=et*2);for(let dt=0;dt<et;dt++,_e+=h,rt+=h,nt+=h,it+=h)b[st++]=(e[_e]+$)/g,b[ot++]=(e[nt]+$)/g,b[at++]=(e[rt]+$)/g,ct!==-1&&it!==-1&&(b[ct++]=(e[it]+$)/g);return tt==="RGBA"?new Xl("float32",b,[1,4,a,c]):new Xl("float32",b,[1,3,a,c])}static async fromImage(e,s){const a=typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement,c=typeof ImageData<"u"&&e instanceof ImageData,d=typeof ImageBitmap<"u"&&e instanceof ImageBitmap,g=typeof String<"u"&&(e instanceof String||typeof e=="string");let $,j={};if(a){const tt=document.createElement("canvas"),et=tt.getContext("2d");if(et!=null){let b=e.naturalHeight,h=e.naturalWidth;if(s!==void 0&&s.resizedHeight!==void 0&&s.resizedWidth!==void 0&&(b=s.resizedHeight,h=s.resizedWidth),s!==void 0){if(j=s,s.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(j.tensorFormat="RGBA",s.height!==void 0&&s.height!==b)throw new Error("Image input config height doesn't match HTMLImageElement height");if(j.height=b,s.width!==void 0&&s.width!==h)throw new Error("Image input config width doesn't match HTMLImageElement width");j.width=h}else j.tensorFormat="RGBA",j.height=b,j.width=h;tt.width=h,tt.height=b,et.drawImage(e,0,0,h,b),$=et.getImageData(0,0,h,b).data}else throw new Error("Can not access image data")}else if(c){const tt="RGBA";let et,b;if(s!==void 0&&s.resizedWidth!==void 0&&s.resizedHeight!==void 0?(et=s.resizedHeight,b=s.resizedWidth):(et=e.height,b=e.width),s!==void 0){if(j=s,s.bitmapFormat!==void 0&&s.bitmapFormat!==tt)throw new Error("Image input config format must be RGBA for ImageData");j.bitmapFormat="RGBA"}else j.bitmapFormat="RGBA";if(j.height=et,j.width=b,s!==void 0){const h=document.createElement("canvas");h.width=b,h.height=et;const _e=h.getContext("2d");if(_e!=null)_e.putImageData(e,0,0),$=_e.getImageData(0,0,b,et).data;else throw new Error("Can not access image data")}else $=e.data}else if(d){if(s===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(s.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const tt=document.createElement("canvas").getContext("2d");if(tt!=null){const et=e.height,b=e.width;if(tt.drawImage(e,0,0,b,et),$=tt.getImageData(0,0,b,et).data,s!==void 0){if(s.height!==void 0&&s.height!==et)throw new Error("Image input config height doesn't match ImageBitmap height");if(j.height=et,s.width!==void 0&&s.width!==b)throw new Error("Image input config width doesn't match ImageBitmap width");j.width=b}else j.height=et,j.width=b;return Xl.bufferToTensor($,j)}else throw new Error("Can not access image data")}else{if(g)return new Promise((tt,et)=>{const b=document.createElement("canvas"),h=b.getContext("2d");if(!e||!h)return et();const _e=new Image;_e.crossOrigin="Anonymous",_e.src=e,_e.onload=()=>{b.width=_e.width,b.height=_e.height,h.drawImage(_e,0,0,b.width,b.height);const nt=h.getImageData(0,0,b.width,b.height);if(s!==void 0){if(s.height!==void 0&&s.height!==b.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(j.height=b.height,s.width!==void 0&&s.width!==b.width)throw new Error("Image input config width doesn't match ImageBitmap width");j.width=b.width}else j.height=b.height,j.width=b.width;tt(Xl.bufferToTensor(nt.data,j))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if($!==void 0)return Xl.bufferToTensor($,j);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(e){var s,a;const c=document.createElement("canvas").getContext("2d");let d;if(c!=null){const g=this.dims[3],$=this.dims[2],j=this.dims[1],tt=e!==void 0&&e.format!==void 0?e.format:"RGB",et=e!==void 0&&((s=e.norm)===null||s===void 0?void 0:s.mean)!==void 0?e.norm.mean:255,b=e!==void 0&&((a=e.norm)===null||a===void 0?void 0:a.bias)!==void 0?e.norm.bias:0,h=$*g;if(e!==void 0){if(e.height!==void 0&&e.height!==$)throw new Error("Image output config height doesn't match tensor height");if(e.width!==void 0&&e.width!==g)throw new Error("Image output config width doesn't match tensor width");if(e.format!==void 0&&j===4&&e.format!=="RGBA"||j===3&&e.format!=="RGB"&&e.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const _e=4;let nt=0,rt=1,it=2,st=3,ot=0,at=h,ct=h*2,ut=-1;tt==="RGBA"?(ot=0,at=h,ct=h*2,ut=h*3):tt==="RGB"?(ot=0,at=h,ct=h*2):tt==="RBG"&&(ot=0,ct=h,at=h*2),d=c.createImageData(g,$);for(let dt=0;dt<$*g;nt+=_e,rt+=_e,it+=_e,st+=_e,dt++)d.data[nt]=(this.data[ot++]-b)*et,d.data[rt]=(this.data[at++]-b)*et,d.data[it]=(this.data[ct++]-b)*et,d.data[st]=ut===-1?255:(this.data[ut++]-b)*et}else throw new Error("Can not access image data");return d}reshape(e){return new Xl(this.type,this.data,e)}};const Tensor$1=Tensor$2;let InferenceSession$2=class u2{constructor(e){this.handler=e}async run(e,s,a){const c={};let d={};if(typeof e!="object"||e===null||e instanceof Tensor$1||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let g=!0;if(typeof s=="object"){if(s===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(s instanceof Tensor$1)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(s)){if(s.length===0)throw new TypeError("'fetches' cannot be an empty array.");g=!1;for(const tt of s){if(typeof tt!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(tt)===-1)throw new RangeError(`'fetches' contains invalid output name: ${tt}.`);c[tt]=null}if(typeof a=="object"&&a!==null)d=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else{let tt=!1;const et=Object.getOwnPropertyNames(s);for(const b of this.outputNames)if(et.indexOf(b)!==-1){const h=s[b];(h===null||h instanceof Tensor$1)&&(tt=!0,g=!1,c[b]=h)}if(tt){if(typeof a=="object"&&a!==null)d=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else d=s}}else if(typeof s<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const tt of this.inputNames)if(typeof e[tt]>"u")throw new Error(`input '${tt}' is missing in 'feeds'.`);if(g)for(const tt of this.outputNames)c[tt]=null;const $=await this.handler.run(e,c,d),j={};for(const tt in $)Object.hasOwnProperty.call($,tt)&&(j[tt]=new Tensor$1($[tt].type,$[tt].data,$[tt].dims));return j}static async create(e,s,a,c){let d,g={};if(typeof e=="string"){if(d=e,typeof s=="object"&&s!==null)g=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(d=e,typeof s=="object"&&s!==null)g=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer){const b=e;let h=0,_e=e.byteLength;if(typeof s=="object"&&s!==null)g=s;else if(typeof s=="number"){if(h=s,!Number.isSafeInteger(h))throw new RangeError("'byteOffset' must be an integer.");if(h<0||h>=b.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${b.byteLength}).`);if(_e=e.byteLength-h,typeof a=="number"){if(_e=a,!Number.isSafeInteger(_e))throw new RangeError("'byteLength' must be an integer.");if(_e<=0||h+_e>b.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${b.byteLength-h}].`);if(typeof c=="object"&&c!==null)g=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else if(typeof a<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof s<"u")throw new TypeError("'options' must be an object.");d=new Uint8Array(b,h,_e)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");const j=(g.executionProviders||[]).map(b=>typeof b=="string"?b:b.name),et=await(await resolveBackend(j)).createSessionHandler(d,g);return new u2(et)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};const InferenceSession$1=InferenceSession$2,lib=Object.freeze(Object.defineProperty({__proto__:null,InferenceSession:InferenceSession$1,Tensor:Tensor$1,env:env$2,registerBackend},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(lib);/*!
* ONNX Runtime Web v1.14.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(o,e){module.exports=e(require$$0$1)})(self,__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(o,e,s)=>{var a,c=(a=(a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(d){function g(){return wt.buffer!=Dt&&an(wt.buffer),Ft}function $(){return wt.buffer!=Dt&&an(wt.buffer),Ot}function j(){return wt.buffer!=Dt&&an(wt.buffer),Bt}function tt(){return wt.buffer!=Dt&&an(wt.buffer),Vt}function et(){return wt.buffer!=Dt&&an(wt.buffer),Zt}var b,h,_e;d=d||{},b||(b=d!==void 0?d:{}),b.ready=new Promise(function(Tt,It){h=Tt,_e=It});var nt,rt,it,st,ot,at,ct=Object.assign({},b),ut="./this.program",dt=(Tt,It)=>{throw It},ht=typeof window=="object",pt=typeof importScripts=="function",ft=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",bt=b.ENVIRONMENT_IS_PTHREAD||!1,Ct="";function yt(Tt){return b.locateFile?b.locateFile(Tt,Ct):Ct+Tt}if(ft){let Tt;Ct=pt?s(908).dirname(Ct)+"/":"//",at=()=>{ot||(st=s(1384),ot=s(908))},nt=function(It,Ut){return at(),It=ot.normalize(It),st.readFileSync(It,Ut?void 0:"utf8")},it=It=>((It=nt(It,!0)).buffer||(It=new Uint8Array(It)),It),rt=(It,Ut,Wt)=>{at(),It=ot.normalize(It),st.readFile(It,function(tn,on){tn?Wt(tn):Ut(on.buffer)})},1<process.argv.length&&(ut=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(It){if(!(It instanceof On))throw It}),process.on("unhandledRejection",function(It){throw It}),dt=(It,Ut)=>{if(dn())throw process.exitCode=It,Ut;Ut instanceof On||_t("exiting due to exception: "+Ut),process.exit(It)},b.inspect=function(){return"[Emscripten Module object]"};try{Tt=s(9925)}catch(It){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),It}s.g.Worker=Tt.Worker}else(ht||pt)&&(pt?Ct=self.location.href:typeof document<"u"&&document.currentScript&&(Ct=document.currentScript.src),a&&(Ct=a),Ct=Ct.indexOf("blob:")!==0?Ct.substr(0,Ct.replace(/[?#].*/,"").lastIndexOf("/")+1):"",ft||(nt=Tt=>{var It=new XMLHttpRequest;return It.open("GET",Tt,!1),It.send(null),It.responseText},pt&&(it=Tt=>{var It=new XMLHttpRequest;return It.open("GET",Tt,!1),It.responseType="arraybuffer",It.send(null),new Uint8Array(It.response)}),rt=(Tt,It,Ut)=>{var Wt=new XMLHttpRequest;Wt.open("GET",Tt,!0),Wt.responseType="arraybuffer",Wt.onload=()=>{Wt.status==200||Wt.status==0&&Wt.response?It(Wt.response):Ut()},Wt.onerror=Ut,Wt.send(null)}));ft&&typeof performance>"u"&&(s.g.performance=s(6953).performance);var Et=console.log.bind(console),gt=console.warn.bind(console);ft&&(at(),Et=Tt=>st.writeSync(1,Tt+`
`),gt=Tt=>st.writeSync(2,Tt+`
`));var At,mt=b.print||Et,_t=b.printErr||gt;Object.assign(b,ct),ct=null,b.thisProgram&&(ut=b.thisProgram),b.quit&&(dt=b.quit),b.wasmBinary&&(At=b.wasmBinary);var St=b.noExitRuntime||!1;typeof WebAssembly!="object"&&qt("no native wasm support detected");var wt,kt,Dt,Ft,Ot,Bt,Vt,Zt,Jt=!1,fn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function yn(Tt,It,Ut){var Wt=(It>>>=0)+Ut;for(Ut=It;Tt[Ut]&&!(Ut>=Wt);)++Ut;if(16<Ut-It&&Tt.buffer&&fn)return fn.decode(Tt.buffer instanceof SharedArrayBuffer?Tt.slice(It,Ut):Tt.subarray(It,Ut));for(Wt="";It<Ut;){var tn=Tt[It++];if(128&tn){var on=63&Tt[It++];if((224&tn)==192)Wt+=String.fromCharCode((31&tn)<<6|on);else{var gn=63&Tt[It++];65536>(tn=(240&tn)==224?(15&tn)<<12|on<<6|gn:(7&tn)<<18|on<<12|gn<<6|63&Tt[It++])?Wt+=String.fromCharCode(tn):(tn-=65536,Wt+=String.fromCharCode(55296|tn>>10,56320|1023&tn))}}else Wt+=String.fromCharCode(tn)}return Wt}function _n(Tt,It){return(Tt>>>=0)?yn($(),Tt,It):""}function Tn(Tt,It,Ut,Wt){if(!(0<Wt))return 0;var tn=Ut>>>=0;Wt=Ut+Wt-1;for(var on=0;on<Tt.length;++on){var gn=Tt.charCodeAt(on);if(55296<=gn&&57343>=gn&&(gn=65536+((1023&gn)<<10)|1023&Tt.charCodeAt(++on)),127>=gn){if(Ut>=Wt)break;It[Ut++>>>0]=gn}else{if(2047>=gn){if(Ut+1>=Wt)break;It[Ut++>>>0]=192|gn>>6}else{if(65535>=gn){if(Ut+2>=Wt)break;It[Ut++>>>0]=224|gn>>12}else{if(Ut+3>=Wt)break;It[Ut++>>>0]=240|gn>>18,It[Ut++>>>0]=128|gn>>12&63}It[Ut++>>>0]=128|gn>>6&63}It[Ut++>>>0]=128|63&gn}}return It[Ut>>>0]=0,Ut-tn}function Yt(Tt){for(var It=0,Ut=0;Ut<Tt.length;++Ut){var Wt=Tt.charCodeAt(Ut);127>=Wt?It++:2047>=Wt?It+=2:55296<=Wt&&57343>=Wt?(It+=4,++Ut):It+=3}return It}function an(Tt){Dt=Tt,b.HEAP8=Ft=new Int8Array(Tt),b.HEAP16=new Int16Array(Tt),b.HEAP32=Bt=new Int32Array(Tt),b.HEAPU8=Ot=new Uint8Array(Tt),b.HEAPU16=new Uint16Array(Tt),b.HEAPU32=Vt=new Uint32Array(Tt),b.HEAPF32=new Float32Array(Tt),b.HEAPF64=Zt=new Float64Array(Tt)}bt&&(Dt=b.buffer);var vt=b.INITIAL_MEMORY||16777216;if(bt)wt=b.wasmMemory,Dt=b.buffer;else if(b.wasmMemory)wt=b.wasmMemory;else if(!((wt=new WebAssembly.Memory({initial:vt/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw _t("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),ft&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");wt&&(Dt=wt.buffer),vt=Dt.byteLength,an(Dt);var Qt,Kt=[],Lt=[],Rt=[],Gt=[];function dn(){return St||!1}function hn(){var Tt=b.preRun.shift();Kt.unshift(Tt)}var Ht,$t=0,zt=null;function qt(Tt){throw bt?postMessage({cmd:"onAbort",arg:Tt}):b.onAbort&&b.onAbort(Tt),_t(Tt="Aborted("+Tt+")"),Jt=!0,Tt=new WebAssembly.RuntimeError(Tt+". Build with -sASSERTIONS for more info."),_e(Tt),Tt}function sn(){return Ht.startsWith("data:application/octet-stream;base64,")}function mn(){var Tt=Ht;try{if(Tt==Ht&&At)return new Uint8Array(At);if(it)return it(Tt);throw"both async and sync fetching of the wasm failed"}catch(It){qt(It)}}Ht="ort-wasm-threaded.wasm",sn()||(Ht=yt(Ht));var En={};function On(Tt){this.name="ExitStatus",this.message="Program terminated with exit("+Tt+")",this.status=Tt}function kn(Tt){(Tt=An.Vb[Tt])||qt(),An.mc(Tt)}function Rn(Tt){var It=An.Cc();if(!It)return 6;An.ac.push(It),An.Vb[Tt.Ub]=It,It.Ub=Tt.Ub;var Ut={cmd:"run",start_routine:Tt.Ic,arg:Tt.zc,pthread_ptr:Tt.Ub};return It.$b=()=>{Ut.time=performance.now(),It.postMessage(Ut,Tt.Nc)},It.loaded&&(It.$b(),delete It.$b),0}function Nn(Tt){if(bt)return vn(1,1,Tt);dn()||(An.oc(),b.onExit&&b.onExit(Tt),Jt=!0),dt(Tt,new On(Tt))}function jn(Tt,It){if(!It&&bt)throw zl(Tt),"unwind";dn()||bt||(b1(),Kr(Rt),y1(0),a0[1].length&&l0(1,10),a0[2].length&&l0(2,10),An.oc()),Nn(Tt)}var An={Yb:[],ac:[],qc:[],Vb:{},fc:function(){bt&&An.Ec()},Pc:function(){},Ec:function(){An.receiveObjectTransfer=An.Gc,An.threadInitTLS=An.pc,An.setExitStatus=An.nc,St=!1},nc:function(){},oc:function(){for(var Tt of Object.values(An.Vb))An.mc(Tt);for(Tt of An.Yb)Tt.terminate();An.Yb=[]},mc:function(Tt){var It=Tt.Ub;delete An.Vb[It],An.Yb.push(Tt),An.ac.splice(An.ac.indexOf(Tt),1),Tt.Ub=0,u0(It)},Gc:function(){},pc:function(){An.qc.forEach(Tt=>Tt())},Fc:function(Tt,It){Tt.onmessage=Ut=>{var Wt=(Ut=Ut.data).cmd;if(Tt.Ub&&(An.Bc=Tt.Ub),Ut.targetThread&&Ut.targetThread!=u_()){var tn=An.Vb[Ut.Qc];tn?tn.postMessage(Ut,Ut.transferList):_t('Internal error! Worker sent a message "'+Wt+'" to target pthread '+Ut.targetThread+", but that thread no longer exists!")}else Wt==="processProxyingQueue"?Xt(Ut.queue):Wt==="spawnThread"?Rn(Ut):Wt==="cleanupThread"?kn(Ut.thread):Wt==="killThread"?(Ut=Ut.thread,Wt=An.Vb[Ut],delete An.Vb[Ut],Wt.terminate(),u0(Ut),An.ac.splice(An.ac.indexOf(Wt),1),Wt.Ub=0):Wt==="cancelThread"?An.Vb[Ut.thread].postMessage({cmd:"cancel"}):Wt==="loaded"?(Tt.loaded=!0,It&&It(Tt),Tt.$b&&(Tt.$b(),delete Tt.$b)):Wt==="print"?mt("Thread "+Ut.threadId+": "+Ut.text):Wt==="printErr"?_t("Thread "+Ut.threadId+": "+Ut.text):Wt==="alert"?alert("Thread "+Ut.threadId+": "+Ut.text):Ut.target==="setimmediate"?Tt.postMessage(Ut):Wt==="onAbort"?b.onAbort&&b.onAbort(Ut.arg):Wt&&_t("worker sent an unknown command "+Wt);An.Bc=void 0},Tt.onerror=Ut=>{throw _t("worker sent an error! "+Ut.filename+":"+Ut.lineno+": "+Ut.message),Ut},ft&&(Tt.on("message",function(Ut){Tt.onmessage({data:Ut})}),Tt.on("error",function(Ut){Tt.onerror(Ut)}),Tt.on("detachedExit",function(){})),Tt.postMessage({cmd:"load",urlOrBlob:b.mainScriptUrlOrBlob||a,wasmMemory:wt,wasmModule:kt})},yc:function(){var Tt=yt("ort-wasm-threaded.worker.js");An.Yb.push(new Worker(Tt))},Cc:function(){return An.Yb.length==0&&(An.yc(),An.Fc(An.Yb[0])),An.Yb.pop()}};function Kr(Tt){for(;0<Tt.length;)Tt.shift()(b)}function Nr(Tt){var It=zn();return Tt=Tt(),$n(It),Tt}function zl(Tt){if(bt)return vn(2,0,Tt);try{jn(Tt)}catch(It){It instanceof On||It=="unwind"||dt(1,It)}}b.PThread=An,b.establishStackSpace=function(){var Tt=u_(),It=j()[Tt+44>>2>>>0];Tt=j()[Tt+48>>2>>>0],T1(It,It-Tt),$n(It)};var ks=[];function Yn(Tt){var It=ks[Tt];return It||(Tt>=ks.length&&(ks.length=Tt+1),ks[Tt]=It=Qt.get(Tt)),It}b.invokeEntryPoint=function(Tt,It){Tt=Yn(Tt)(It),dn()?An.nc(Tt):x1(Tt)};var ho,Xo,ns=[],Pn=0,Fn=0;function In(Tt){this.Zb=Tt,this.Sb=Tt-24,this.xc=function(It){tt()[this.Sb+4>>2>>>0]=It},this.bc=function(){return tt()[this.Sb+4>>2>>>0]},this.wc=function(It){tt()[this.Sb+8>>2>>>0]=It},this.Dc=function(){return tt()[this.Sb+8>>2>>>0]},this.rc=function(){j()[this.Sb>>2>>>0]=0},this.hc=function(It){It=It?1:0,g()[this.Sb+12>>0>>>0]=It},this.uc=function(){return g()[this.Sb+12>>0>>>0]!=0},this.ic=function(It){It=It?1:0,g()[this.Sb+13>>0>>>0]=It},this.kc=function(){return g()[this.Sb+13>>0>>>0]!=0},this.fc=function(It,Ut){this.cc(0),this.xc(It),this.wc(Ut),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(j(),this.Sb>>2,1)},this.Hc=function(){return Atomics.sub(j(),this.Sb>>2,1)===1},this.cc=function(It){tt()[this.Sb+16>>2>>>0]=It},this.tc=function(){return tt()[this.Sb+16>>2>>>0]},this.vc=function(){if(E1(this.bc()))return tt()[this.Zb>>2>>>0];var It=this.tc();return It!==0?It:this.Zb}}function dm(Tt){return m1(new In(Tt).Sb)}function Wl(Tt,It,Ut,Wt){return bt?vn(3,1,Tt,It,Ut,Wt):hm(Tt,It,Ut,Wt)}function hm(Tt,It,Ut,Wt){if(typeof SharedArrayBuffer>"u")return _t("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var tn=[];return bt&&tn.length===0?Wl(Tt,It,Ut,Wt):(Tt={Ic:Ut,Ub:Tt,zc:Wt,Nc:tn},bt?(Tt.Oc="spawnThread",postMessage(Tt,tn),0):Rn(Tt))}function fm(Tt,It,Ut){return bt?vn(4,1,Tt,It,Ut):0}function pm(Tt,It){if(bt)return vn(5,1,Tt,It)}function gm(Tt,It){if(bt)return vn(6,1,Tt,It)}function mm(Tt,It,Ut){if(bt)return vn(7,1,Tt,It,Ut)}function ym(Tt,It,Ut){return bt?vn(8,1,Tt,It,Ut):0}function bm(Tt,It){if(bt)return vn(9,1,Tt,It)}function _m(Tt,It,Ut){if(bt)return vn(10,1,Tt,It,Ut)}function vm(Tt,It,Ut,Wt){if(bt)return vn(11,1,Tt,It,Ut,Wt)}function wm(Tt,It,Ut,Wt){if(bt)return vn(12,1,Tt,It,Ut,Wt)}function xm(Tt,It,Ut,Wt){if(bt)return vn(13,1,Tt,It,Ut,Wt)}function Tm(Tt){if(bt)return vn(14,1,Tt)}function Nt(Tt,It){if(bt)return vn(15,1,Tt,It)}function jt(Tt,It,Ut){if(bt)return vn(16,1,Tt,It,Ut)}function Xt(Tt){Atomics.store(j(),Tt>>2,1),u_()&&w1(Tt),Atomics.compareExchange(j(),Tt>>2,1,0)}function en(Tt){return tt()[Tt>>>2]+4294967296*j()[Tt+4>>>2]}function rn(Tt,It,Ut,Wt,tn,on){return bt?vn(17,1,Tt,It,Ut,Wt,tn,on):-52}function un(Tt,It,Ut,Wt,tn,on){if(bt)return vn(18,1,Tt,It,Ut,Wt,tn,on)}function pn(Tt){var It=Yt(Tt)+1,Ut=c0(It);return Ut&&Tn(Tt,g(),Ut,It),Ut}function Sn(Tt,It,Ut){function Wt(Gn){return(Gn=Gn.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Gn[1]:"GMT"}if(bt)return vn(19,1,Tt,It,Ut);var tn=new Date().getFullYear(),on=new Date(tn,0,1),gn=new Date(tn,6,1);tn=on.getTimezoneOffset();var Cn=gn.getTimezoneOffset(),Vn=Math.max(tn,Cn);j()[Tt>>2>>>0]=60*Vn,j()[It>>2>>>0]=+(tn!=Cn),Tt=Wt(on),It=Wt(gn),Tt=pn(Tt),It=pn(It),Cn<tn?(tt()[Ut>>2>>>0]=Tt,tt()[Ut+4>>2>>>0]=It):(tt()[Ut>>2>>>0]=It,tt()[Ut+4>>2>>>0]=Tt)}function vn(Tt,It){var Ut=arguments.length-2,Wt=arguments;return Nr(()=>{for(var tn=d0(8*Ut),on=tn>>3,gn=0;gn<Ut;gn++){var Cn=Wt[2+gn];et()[on+gn>>>0]=Cn}return v1(Tt,Ut,tn,It)})}b.executeNotifiedProxyingQueue=Xt,Xo=ft?()=>{var Tt=process.hrtime();return 1e3*Tt[0]+Tt[1]/1e6}:bt?()=>performance.now()-b.__performance_now_clock_drift:()=>performance.now();var Un,Jn=[],xr={};function yr(){if(!Un){var Tt,It={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ut||"./this.program"};for(Tt in xr)xr[Tt]===void 0?delete It[Tt]:It[Tt]=xr[Tt];var Ut=[];for(Tt in It)Ut.push(Tt+"="+It[Tt]);Un=Ut}return Un}function ln(Tt,It){if(bt)return vn(20,1,Tt,It);var Ut=0;return yr().forEach(function(Wt,tn){var on=It+Ut;for(tn=tt()[Tt+4*tn>>2>>>0]=on,on=0;on<Wt.length;++on)g()[tn++>>0>>>0]=Wt.charCodeAt(on);g()[tn>>0>>>0]=0,Ut+=Wt.length+1}),0}function Hn(Tt,It){if(bt)return vn(21,1,Tt,It);var Ut=yr();tt()[Tt>>2>>>0]=Ut.length;var Wt=0;return Ut.forEach(function(tn){Wt+=tn.length+1}),tt()[It>>2>>>0]=Wt,0}function ir(Tt){return bt?vn(22,1,Tt):52}function ys(Tt,It,Ut,Wt){return bt?vn(23,1,Tt,It,Ut,Wt):52}function fo(Tt,It,Ut,Wt,tn){return bt?vn(24,1,Tt,It,Ut,Wt,tn):70}var a0=[null,[],[]];function l0(Tt,It){var Ut=a0[Tt];It===0||It===10?((Tt===1?mt:_t)(yn(Ut,0)),Ut.length=0):Ut.push(It)}function h1(Tt,It,Ut,Wt){if(bt)return vn(25,1,Tt,It,Ut,Wt);for(var tn=0,on=0;on<Ut;on++){var gn=tt()[It>>2>>>0],Cn=tt()[It+4>>2>>>0];It+=8;for(var Vn=0;Vn<Cn;Vn++)l0(Tt,$()[gn+Vn>>>0]);tn+=Cn}return tt()[Wt>>2>>>0]=tn,0}var Qr=0;function c_(Tt){return Tt%4==0&&(Tt%100!=0||Tt%400==0)}var f1=[31,29,31,30,31,30,31,31,30,31,30,31],p1=[31,28,31,30,31,30,31,31,30,31,30,31];function g1(Tt,It,Ut,Wt){function tn(cn,Xn,cr){for(cn=typeof cn=="number"?cn.toString():cn||"";cn.length<Xn;)cn=cr[0]+cn;return cn}function on(cn,Xn){return tn(cn,Xn,"0")}function gn(cn,Xn){function cr(_h){return 0>_h?-1:0<_h?1:0}var po;return(po=cr(cn.getFullYear()-Xn.getFullYear()))===0&&(po=cr(cn.getMonth()-Xn.getMonth()))===0&&(po=cr(cn.getDate()-Xn.getDate())),po}function Cn(cn){switch(cn.getDay()){case 0:return new Date(cn.getFullYear()-1,11,29);case 1:return cn;case 2:return new Date(cn.getFullYear(),0,3);case 3:return new Date(cn.getFullYear(),0,2);case 4:return new Date(cn.getFullYear(),0,1);case 5:return new Date(cn.getFullYear()-1,11,31);case 6:return new Date(cn.getFullYear()-1,11,30)}}function Vn(cn){var Xn=cn.Wb;for(cn=new Date(new Date(cn.Xb+1900,0,1).getTime());0<Xn;){var cr=cn.getMonth(),po=(c_(cn.getFullYear())?f1:p1)[cr];if(!(Xn>po-cn.getDate())){cn.setDate(cn.getDate()+Xn);break}Xn-=po-cn.getDate()+1,cn.setDate(1),11>cr?cn.setMonth(cr+1):(cn.setMonth(0),cn.setFullYear(cn.getFullYear()+1))}return cr=new Date(cn.getFullYear()+1,0,4),Xn=Cn(new Date(cn.getFullYear(),0,4)),cr=Cn(cr),0>=gn(Xn,cn)?0>=gn(cr,cn)?cn.getFullYear()+1:cn.getFullYear():cn.getFullYear()-1}var Gn=j()[Wt+40>>2>>>0];for(var hr in Wt={Lc:j()[Wt>>2>>>0],Kc:j()[Wt+4>>2>>>0],dc:j()[Wt+8>>2>>>0],jc:j()[Wt+12>>2>>>0],ec:j()[Wt+16>>2>>>0],Xb:j()[Wt+20>>2>>>0],Tb:j()[Wt+24>>2>>>0],Wb:j()[Wt+28>>2>>>0],Rc:j()[Wt+32>>2>>>0],Jc:j()[Wt+36>>2>>>0],Mc:Gn?_n(Gn):""},Ut=_n(Ut),Gn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Ut=Ut.replace(new RegExp(hr,"g"),Gn[hr]);var qs="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),bs="January February March April May June July August September October November December".split(" ");for(hr in Gn={"%a":function(cn){return qs[cn.Tb].substring(0,3)},"%A":function(cn){return qs[cn.Tb]},"%b":function(cn){return bs[cn.ec].substring(0,3)},"%B":function(cn){return bs[cn.ec]},"%C":function(cn){return on((cn.Xb+1900)/100|0,2)},"%d":function(cn){return on(cn.jc,2)},"%e":function(cn){return tn(cn.jc,2," ")},"%g":function(cn){return Vn(cn).toString().substring(2)},"%G":function(cn){return Vn(cn)},"%H":function(cn){return on(cn.dc,2)},"%I":function(cn){return(cn=cn.dc)==0?cn=12:12<cn&&(cn-=12),on(cn,2)},"%j":function(cn){for(var Xn=0,cr=0;cr<=cn.ec-1;Xn+=(c_(cn.Xb+1900)?f1:p1)[cr++]);return on(cn.jc+Xn,3)},"%m":function(cn){return on(cn.ec+1,2)},"%M":function(cn){return on(cn.Kc,2)},"%n":function(){return`
`},"%p":function(cn){return 0<=cn.dc&&12>cn.dc?"AM":"PM"},"%S":function(cn){return on(cn.Lc,2)},"%t":function(){return"	"},"%u":function(cn){return cn.Tb||7},"%U":function(cn){return on(Math.floor((cn.Wb+7-cn.Tb)/7),2)},"%V":function(cn){var Xn=Math.floor((cn.Wb+7-(cn.Tb+6)%7)/7);if(2>=(cn.Tb+371-cn.Wb-2)%7&&Xn++,Xn)Xn==53&&((cr=(cn.Tb+371-cn.Wb)%7)==4||cr==3&&c_(cn.Xb)||(Xn=1));else{Xn=52;var cr=(cn.Tb+7-cn.Wb-1)%7;(cr==4||cr==5&&c_(cn.Xb%400-1))&&Xn++}return on(Xn,2)},"%w":function(cn){return cn.Tb},"%W":function(cn){return on(Math.floor((cn.Wb+7-(cn.Tb+6)%7)/7),2)},"%y":function(cn){return(cn.Xb+1900).toString().substring(2)},"%Y":function(cn){return cn.Xb+1900},"%z":function(cn){var Xn=0<=(cn=cn.Jc);return cn=Math.abs(cn)/60,(Xn?"+":"-")+("0000"+(cn/60*100+cn%60)).slice(-4)},"%Z":function(cn){return cn.Mc},"%%":function(){return"%"}},Ut=Ut.replace(/%%/g,"\0\0"),Gn)Ut.includes(hr)&&(Ut=Ut.replace(new RegExp(hr,"g"),Gn[hr](Wt)));return hr=function(cn){var Xn=Array(Yt(cn)+1);return Tn(cn,Xn,0,Xn.length),Xn}(Ut=Ut.replace(/\0\0/g,"%")),hr.length>It?0:(function(cn,Xn){g().set(cn,Xn>>>0)}(hr,Tt),hr.length-1)}An.fc();var d2=[null,Nn,zl,Wl,fm,pm,gm,mm,ym,bm,_m,vm,wm,xm,Tm,Nt,jt,rn,un,Sn,ln,Hn,ir,ys,fo,h1],h2={b:function(Tt){return c0(Tt+24)+24},n:function(Tt){return(Tt=new In(Tt)).uc()||(Tt.hc(!0),Pn--),Tt.ic(!1),ns.push(Tt),Tt.sc(),Tt.vc()},ma:function(Tt){throw _t("Unexpected exception thrown, this is not properly supported - aborting"),Jt=!0,Tt},x:function(){Wn(0);var Tt=ns.pop();if(Tt.Hc()&&!Tt.kc()){var It=Tt.Dc();It&&Yn(It)(Tt.Zb),dm(Tt.Zb)}Fn=0},e:function(){var Tt=Fn;if(!Tt)return Qr=0;var It=new In(Tt);It.cc(Tt);var Ut=It.bc();if(!Ut)return Qr=0,Tt;for(var Wt=Array.prototype.slice.call(arguments),tn=0;tn<Wt.length;tn++){var on=Wt[tn];if(on===0||on===Ut)break;if(h_(on,Ut,It.Sb+16))return Qr=on,Tt}return Qr=Ut,Tt},l:function(){var Tt=Fn;if(!Tt)return Qr=0;var It=new In(Tt);It.cc(Tt);var Ut=It.bc();if(!Ut)return Qr=0,Tt;for(var Wt=Array.prototype.slice.call(arguments),tn=0;tn<Wt.length;tn++){var on=Wt[tn];if(on===0||on===Ut)break;if(h_(on,Ut,It.Sb+16))return Qr=on,Tt}return Qr=Ut,Tt},h:function(){var Tt=Fn;if(!Tt)return Qr=0;var It=new In(Tt);It.cc(Tt);var Ut=It.bc();if(!Ut)return Qr=0,Tt;for(var Wt=Array.prototype.slice.call(arguments),tn=0;tn<Wt.length;tn++){var on=Wt[tn];if(on===0||on===Ut)break;if(h_(on,Ut,It.Sb+16))return Qr=on,Tt}return Qr=Ut,Tt},t:dm,M:function(){var Tt=ns.pop();Tt||qt("no exception to throw");var It=Tt.Zb;throw Tt.kc()||(ns.push(Tt),Tt.ic(!0),Tt.hc(!1),Pn++),Fn=It,It},c:function(Tt,It,Ut){throw new In(Tt).fc(It,Ut),Fn=Tt,Pn++,Tt},pa:function(){return Pn},Fa:function(Tt){_1(Tt,!pt,1,!ht),An.pc()},T:function(Tt){bt?postMessage({cmd:"cleanupThread",thread:Tt}):kn(Tt)},xa:hm,j:function(Tt){throw Fn||(Fn=Tt),Tt},H:fm,Ma:pm,ua:gm,wa:mm,oa:ym,Ka:bm,Ca:_m,Ja:vm,V:wm,va:xm,sa:Tm,La:Nt,ta:jt,Ta:function(){},X:function(){qt("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){qt("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(Tt,It,Ut,Wt){if(Tt==It)setTimeout(()=>Xt(Wt));else if(bt)postMessage({targetThread:Tt,cmd:"processProxyingQueue",queue:Wt});else{if(!(Tt=An.Vb[Tt]))return;Tt.postMessage({cmd:"processProxyingQueue",queue:Wt})}return 1},Ea:function(){return-1},Pa:function(Tt,It){Tt=new Date(1e3*en(Tt)),j()[It>>2>>>0]=Tt.getUTCSeconds(),j()[It+4>>2>>>0]=Tt.getUTCMinutes(),j()[It+8>>2>>>0]=Tt.getUTCHours(),j()[It+12>>2>>>0]=Tt.getUTCDate(),j()[It+16>>2>>>0]=Tt.getUTCMonth(),j()[It+20>>2>>>0]=Tt.getUTCFullYear()-1900,j()[It+24>>2>>>0]=Tt.getUTCDay(),Tt=(Tt.getTime()-Date.UTC(Tt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,j()[It+28>>2>>>0]=Tt},Qa:function(Tt,It){Tt=new Date(1e3*en(Tt)),j()[It>>2>>>0]=Tt.getSeconds(),j()[It+4>>2>>>0]=Tt.getMinutes(),j()[It+8>>2>>>0]=Tt.getHours(),j()[It+12>>2>>>0]=Tt.getDate(),j()[It+16>>2>>>0]=Tt.getMonth(),j()[It+20>>2>>>0]=Tt.getFullYear()-1900,j()[It+24>>2>>>0]=Tt.getDay();var Ut=new Date(Tt.getFullYear(),0,1),Wt=(Tt.getTime()-Ut.getTime())/864e5|0;j()[It+28>>2>>>0]=Wt,j()[It+36>>2>>>0]=-60*Tt.getTimezoneOffset(),Wt=new Date(Tt.getFullYear(),6,1).getTimezoneOffset(),Tt=0|(Wt!=(Ut=Ut.getTimezoneOffset())&&Tt.getTimezoneOffset()==Math.min(Ut,Wt)),j()[It+32>>2>>>0]=Tt},Ra:function(Tt){var It=new Date(j()[Tt+20>>2>>>0]+1900,j()[Tt+16>>2>>>0],j()[Tt+12>>2>>>0],j()[Tt+8>>2>>>0],j()[Tt+4>>2>>>0],j()[Tt>>2>>>0],0),Ut=j()[Tt+32>>2>>>0],Wt=It.getTimezoneOffset(),tn=new Date(It.getFullYear(),0,1),on=new Date(It.getFullYear(),6,1).getTimezoneOffset(),gn=tn.getTimezoneOffset(),Cn=Math.min(gn,on);return 0>Ut?j()[Tt+32>>2>>>0]=+(on!=gn&&Cn==Wt):0<Ut!=(Cn==Wt)&&(on=Math.max(gn,on),It.setTime(It.getTime()+6e4*((0<Ut?Cn:on)-Wt))),j()[Tt+24>>2>>>0]=It.getDay(),Ut=(It.getTime()-tn.getTime())/864e5|0,j()[Tt+28>>2>>>0]=Ut,j()[Tt>>2>>>0]=It.getSeconds(),j()[Tt+4>>2>>>0]=It.getMinutes(),j()[Tt+8>>2>>>0]=It.getHours(),j()[Tt+12>>2>>>0]=It.getDate(),j()[Tt+16>>2>>>0]=It.getMonth(),It.getTime()/1e3|0},Aa:rn,Ba:un,Sa:function Tt(It,Ut,Wt){Tt.Ac||(Tt.Ac=!0,Sn(It,Ut,Wt))},y:function(){qt("")},U:function(){if(!ft&&!pt){var Tt="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";ho||(ho={}),ho[Tt]||(ho[Tt]=1,ft&&(Tt="warning: "+Tt),_t(Tt))}},ra:function(){return 4294901760},B:Xo,Ia:function(Tt,It,Ut){$().copyWithin(Tt>>>0,It>>>0,It+Ut>>>0)},F:function(){return ft?s(3993).cpus().length:navigator.hardwareConcurrency},Da:function(Tt,It,Ut){Jn.length=It,Ut>>=3;for(var Wt=0;Wt<It;Wt++)Jn[Wt]=et()[Ut+Wt>>>0];return(0>Tt?En[-Tt-1]:d2[Tt]).apply(null,Jn)},qa:function(Tt){var It=$().length;if((Tt>>>=0)<=It||4294901760<Tt)return!1;for(var Ut=1;4>=Ut;Ut*=2){var Wt=It*(1+.2/Ut);Wt=Math.min(Wt,Tt+100663296);var tn=Math;Wt=Math.max(Tt,Wt),tn=tn.min.call(tn,4294901760,Wt+(65536-Wt%65536)%65536);e:{try{wt.grow(tn-Dt.byteLength+65535>>>16),an(wt.buffer);var on=1;break e}catch{}on=void 0}if(on)return!0}return!1},Na:function(){throw"unwind"},Ga:ln,Ha:Hn,J:jn,I:ir,S:ys,ga:fo,R:h1,d:function(){return Qr},na:function Tt(It,Ut){Tt.lc||(Tt.lc=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var tn=new Uint8Array(1);return()=>(crypto.getRandomValues(tn),tn[0])}if(ft)try{var on=s(Object(function(){var gn=new Error("Cannot find module 'crypto'");throw gn.code="MODULE_NOT_FOUND",gn}()));return()=>on.randomBytes(1)[0]}catch{}return()=>qt("randomDevice")}());for(var Wt=0;Wt<Ut;Wt++)g()[It+Wt>>0>>>0]=Tt.lc();return 0},ia:function(Tt,It,Ut){var Wt=zn();try{return Yn(Tt)(It,Ut)}catch(tn){if($n(Wt),tn!==tn+0)throw tn;Wn(1,0)}},ja:function(Tt,It,Ut){var Wt=zn();try{return Yn(Tt)(It,Ut)}catch(tn){if($n(Wt),tn!==tn+0)throw tn;Wn(1,0)}},K:function(Tt){var It=zn();try{return Yn(Tt)()}catch(Ut){if($n(It),Ut!==Ut+0)throw Ut;Wn(1,0)}},f:function(Tt,It){var Ut=zn();try{return Yn(Tt)(It)}catch(Wt){if($n(Ut),Wt!==Wt+0)throw Wt;Wn(1,0)}},P:function(Tt,It,Ut){var Wt=zn();try{return Yn(Tt)(It,Ut)}catch(tn){if($n(Wt),tn!==tn+0)throw tn;Wn(1,0)}},Q:function(Tt,It,Ut){var Wt=zn();try{return Yn(Tt)(It,Ut)}catch(tn){if($n(Wt),tn!==tn+0)throw tn;Wn(1,0)}},k:function(Tt,It,Ut){var Wt=zn();try{return Yn(Tt)(It,Ut)}catch(tn){if($n(Wt),tn!==tn+0)throw tn;Wn(1,0)}},p:function(Tt,It,Ut,Wt){var tn=zn();try{return Yn(Tt)(It,Ut,Wt)}catch(on){if($n(tn),on!==on+0)throw on;Wn(1,0)}},q:function(Tt,It,Ut,Wt,tn){var on=zn();try{return Yn(Tt)(It,Ut,Wt,tn)}catch(gn){if($n(on),gn!==gn+0)throw gn;Wn(1,0)}},N:function(Tt,It,Ut,Wt,tn,on){var gn=zn();try{return Yn(Tt)(It,Ut,Wt,tn,on)}catch(Cn){if($n(gn),Cn!==Cn+0)throw Cn;Wn(1,0)}},s:function(Tt,It,Ut,Wt,tn,on){var gn=zn();try{return Yn(Tt)(It,Ut,Wt,tn,on)}catch(Cn){if($n(gn),Cn!==Cn+0)throw Cn;Wn(1,0)}},w:function(Tt,It,Ut,Wt,tn,on,gn){var Cn=zn();try{return Yn(Tt)(It,Ut,Wt,tn,on,gn)}catch(Vn){if($n(Cn),Vn!==Vn+0)throw Vn;Wn(1,0)}},L:function(Tt,It,Ut,Wt,tn,on,gn,Cn){var Vn=zn();try{return Yn(Tt)(It,Ut,Wt,tn,on,gn,Cn)}catch(Gn){if($n(Vn),Gn!==Gn+0)throw Gn;Wn(1,0)}},E:function(Tt,It,Ut,Wt,tn,on,gn,Cn,Vn,Gn,hr,qs){var bs=zn();try{return Yn(Tt)(It,Ut,Wt,tn,on,gn,Cn,Vn,Gn,hr,qs)}catch(cn){if($n(bs),cn!==cn+0)throw cn;Wn(1,0)}},aa:function(Tt,It,Ut,Wt,tn,on,gn,Cn){var Vn=zn();try{return F1(Tt,It,Ut,Wt,tn,on,gn,Cn)}catch(Gn){if($n(Vn),Gn!==Gn+0)throw Gn;Wn(1,0)}},_:function(Tt,It,Ut,Wt,tn,on,gn){var Cn=zn();try{return D1(Tt,It,Ut,Wt,tn,on,gn)}catch(Vn){if($n(Cn),Vn!==Vn+0)throw Vn;Wn(1,0)}},Z:function(Tt,It,Ut,Wt,tn){var on=zn();try{return I1(Tt,It,Ut,Wt,tn)}catch(gn){if($n(on),gn!==gn+0)throw gn;Wn(1,0)}},ca:function(Tt,It,Ut,Wt){var tn=zn();try{return O1(Tt,It,Ut,Wt)}catch(on){if($n(tn),on!==on+0)throw on;Wn(1,0)}},$:function(Tt){var It=zn();try{return A1(Tt)}catch(Ut){if($n(It),Ut!==Ut+0)throw Ut;Wn(1,0)}},ba:function(Tt,It){var Ut=zn();try{return P1(Tt,It)}catch(Wt){if($n(Ut),Wt!==Wt+0)throw Wt;Wn(1,0)}},Y:function(Tt,It,Ut){var Wt=zn();try{return S1(Tt,It,Ut)}catch(tn){if($n(Wt),tn!==tn+0)throw tn;Wn(1,0)}},g:function(Tt){var It=zn();try{Yn(Tt)()}catch(Ut){if($n(It),Ut!==Ut+0)throw Ut;Wn(1,0)}},r:function(Tt,It){var Ut=zn();try{Yn(Tt)(It)}catch(Wt){if($n(Ut),Wt!==Wt+0)throw Wt;Wn(1,0)}},i:function(Tt,It,Ut){var Wt=zn();try{Yn(Tt)(It,Ut)}catch(tn){if($n(Wt),tn!==tn+0)throw tn;Wn(1,0)}},ha:function(Tt,It,Ut,Wt){var tn=zn();try{Yn(Tt)(It,Ut,Wt)}catch(on){if($n(tn),on!==on+0)throw on;Wn(1,0)}},m:function(Tt,It,Ut,Wt){var tn=zn();try{Yn(Tt)(It,Ut,Wt)}catch(on){if($n(tn),on!==on+0)throw on;Wn(1,0)}},v:function(Tt,It,Ut,Wt,tn){var on=zn();try{Yn(Tt)(It,Ut,Wt,tn)}catch(gn){if($n(on),gn!==gn+0)throw gn;Wn(1,0)}},u:function(Tt,It,Ut,Wt,tn,on){var gn=zn();try{Yn(Tt)(It,Ut,Wt,tn,on)}catch(Cn){if($n(gn),Cn!==Cn+0)throw Cn;Wn(1,0)}},O:function(Tt,It,Ut,Wt,tn,on,gn){var Cn=zn();try{Yn(Tt)(It,Ut,Wt,tn,on,gn)}catch(Vn){if($n(Cn),Vn!==Vn+0)throw Vn;Wn(1,0)}},A:function(Tt,It,Ut,Wt,tn,on,gn,Cn){var Vn=zn();try{Yn(Tt)(It,Ut,Wt,tn,on,gn,Cn)}catch(Gn){if($n(Vn),Gn!==Gn+0)throw Gn;Wn(1,0)}},ka:function(Tt,It,Ut,Wt,tn,on,gn,Cn,Vn){var Gn=zn();try{Yn(Tt)(It,Ut,Wt,tn,on,gn,Cn,Vn)}catch(hr){if($n(Gn),hr!==hr+0)throw hr;Wn(1,0)}},C:function(Tt,It,Ut,Wt,tn,on,gn,Cn,Vn,Gn,hr){var qs=zn();try{Yn(Tt)(It,Ut,Wt,tn,on,gn,Cn,Vn,Gn,hr)}catch(bs){if($n(qs),bs!==bs+0)throw bs;Wn(1,0)}},D:function(Tt,It,Ut,Wt,tn,on,gn,Cn,Vn,Gn,hr,qs,bs,cn,Xn,cr){var po=zn();try{Yn(Tt)(It,Ut,Wt,tn,on,gn,Cn,Vn,Gn,hr,qs,bs,cn,Xn,cr)}catch(_h){if($n(po),_h!==_h+0)throw _h;Wn(1,0)}},fa:function(Tt,It,Ut,Wt,tn,on,gn,Cn){var Vn=zn();try{C1(Tt,It,Ut,Wt,tn,on,gn,Cn)}catch(Gn){if($n(Vn),Gn!==Gn+0)throw Gn;Wn(1,0)}},da:function(Tt,It,Ut,Wt,tn,on,gn,Cn,Vn,Gn,hr,qs){var bs=zn();try{M1(Tt,It,Ut,Wt,tn,on,gn,Cn,Vn,Gn,hr,qs)}catch(cn){if($n(bs),cn!==cn+0)throw cn;Wn(1,0)}},ea:function(Tt,It,Ut,Wt,tn,on){var gn=zn();try{k1(Tt,It,Ut,Wt,tn,on)}catch(Cn){if($n(gn),Cn!==Cn+0)throw Cn;Wn(1,0)}},o:function(Tt){return Tt},a:wt||b.wasmMemory,G:function(Tt){Qr=Tt},la:g1,z:function(Tt,It,Ut,Wt){return g1(Tt,It,Ut,Wt)}};(function(){function Tt(tn,on){b.asm=tn.exports,An.qc.push(b.asm.sb),Qt=b.asm.ub,Lt.unshift(b.asm.Va),kt=on,bt||($t--,b.monitorRunDependencies&&b.monitorRunDependencies($t),$t==0&&zt&&(tn=zt,zt=null,tn()))}function It(tn){Tt(tn.instance,tn.module)}function Ut(tn){return function(){if(!At&&(ht||pt)){if(typeof fetch=="function"&&!Ht.startsWith("file://"))return fetch(Ht,{credentials:"same-origin"}).then(function(on){if(!on.ok)throw"failed to load wasm binary file at '"+Ht+"'";return on.arrayBuffer()}).catch(function(){return mn()});if(rt)return new Promise(function(on,gn){rt(Ht,function(Cn){on(new Uint8Array(Cn))},gn)})}return Promise.resolve().then(function(){return mn()})}().then(function(on){return WebAssembly.instantiate(on,Wt)}).then(function(on){return on}).then(tn,function(on){_t("failed to asynchronously prepare wasm: "+on),qt(on)})}var Wt={a:h2};if(bt||($t++,b.monitorRunDependencies&&b.monitorRunDependencies($t)),b.instantiateWasm)try{return b.instantiateWasm(Wt,Tt)}catch(tn){return _t("Module.instantiateWasm callback failed with error: "+tn),!1}(At||typeof WebAssembly.instantiateStreaming!="function"||sn()||Ht.startsWith("file://")||ft||typeof fetch!="function"?Ut(It):fetch(Ht,{credentials:"same-origin"}).then(function(tn){return WebAssembly.instantiateStreaming(tn,Wt).then(It,function(on){return _t("wasm streaming compile failed: "+on),_t("falling back to ArrayBuffer instantiation"),Ut(It)})})).catch(_e)})(),b.___wasm_call_ctors=function(){return(b.___wasm_call_ctors=b.asm.Va).apply(null,arguments)},b._OrtInit=function(){return(b._OrtInit=b.asm.Wa).apply(null,arguments)},b._OrtCreateSessionOptions=function(){return(b._OrtCreateSessionOptions=b.asm.Xa).apply(null,arguments)},b._OrtAppendExecutionProvider=function(){return(b._OrtAppendExecutionProvider=b.asm.Ya).apply(null,arguments)},b._OrtAddSessionConfigEntry=function(){return(b._OrtAddSessionConfigEntry=b.asm.Za).apply(null,arguments)},b._OrtReleaseSessionOptions=function(){return(b._OrtReleaseSessionOptions=b.asm._a).apply(null,arguments)},b._OrtCreateSession=function(){return(b._OrtCreateSession=b.asm.$a).apply(null,arguments)},b._OrtReleaseSession=function(){return(b._OrtReleaseSession=b.asm.ab).apply(null,arguments)},b._OrtGetInputCount=function(){return(b._OrtGetInputCount=b.asm.bb).apply(null,arguments)},b._OrtGetOutputCount=function(){return(b._OrtGetOutputCount=b.asm.cb).apply(null,arguments)},b._OrtGetInputName=function(){return(b._OrtGetInputName=b.asm.db).apply(null,arguments)},b._OrtGetOutputName=function(){return(b._OrtGetOutputName=b.asm.eb).apply(null,arguments)},b._OrtFree=function(){return(b._OrtFree=b.asm.fb).apply(null,arguments)},b._OrtCreateTensor=function(){return(b._OrtCreateTensor=b.asm.gb).apply(null,arguments)},b._OrtGetTensorData=function(){return(b._OrtGetTensorData=b.asm.hb).apply(null,arguments)},b._OrtReleaseTensor=function(){return(b._OrtReleaseTensor=b.asm.ib).apply(null,arguments)},b._OrtCreateRunOptions=function(){return(b._OrtCreateRunOptions=b.asm.jb).apply(null,arguments)},b._OrtAddRunConfigEntry=function(){return(b._OrtAddRunConfigEntry=b.asm.kb).apply(null,arguments)},b._OrtReleaseRunOptions=function(){return(b._OrtReleaseRunOptions=b.asm.lb).apply(null,arguments)},b._OrtRun=function(){return(b._OrtRun=b.asm.mb).apply(null,arguments)},b._OrtEndProfiling=function(){return(b._OrtEndProfiling=b.asm.nb).apply(null,arguments)};var u_=b._pthread_self=function(){return(u_=b._pthread_self=b.asm.ob).apply(null,arguments)},c0=b._malloc=function(){return(c0=b._malloc=b.asm.pb).apply(null,arguments)},m1=b._free=function(){return(m1=b._free=b.asm.qb).apply(null,arguments)},y1=b._fflush=function(){return(y1=b._fflush=b.asm.rb).apply(null,arguments)};b.__emscripten_tls_init=function(){return(b.__emscripten_tls_init=b.asm.sb).apply(null,arguments)};var b1=b.___funcs_on_exit=function(){return(b1=b.___funcs_on_exit=b.asm.tb).apply(null,arguments)},_1=b.__emscripten_thread_init=function(){return(_1=b.__emscripten_thread_init=b.asm.vb).apply(null,arguments)};b.__emscripten_thread_crashed=function(){return(b.__emscripten_thread_crashed=b.asm.wb).apply(null,arguments)};var d_,v1=b._emscripten_run_in_main_runtime_thread_js=function(){return(v1=b._emscripten_run_in_main_runtime_thread_js=b.asm.xb).apply(null,arguments)},w1=b.__emscripten_proxy_execute_task_queue=function(){return(w1=b.__emscripten_proxy_execute_task_queue=b.asm.yb).apply(null,arguments)},u0=b.__emscripten_thread_free_data=function(){return(u0=b.__emscripten_thread_free_data=b.asm.zb).apply(null,arguments)},x1=b.__emscripten_thread_exit=function(){return(x1=b.__emscripten_thread_exit=b.asm.Ab).apply(null,arguments)},Wn=b._setThrew=function(){return(Wn=b._setThrew=b.asm.Bb).apply(null,arguments)},T1=b._emscripten_stack_set_limits=function(){return(T1=b._emscripten_stack_set_limits=b.asm.Cb).apply(null,arguments)},zn=b.stackSave=function(){return(zn=b.stackSave=b.asm.Db).apply(null,arguments)},$n=b.stackRestore=function(){return($n=b.stackRestore=b.asm.Eb).apply(null,arguments)},d0=b.stackAlloc=function(){return(d0=b.stackAlloc=b.asm.Fb).apply(null,arguments)},h_=b.___cxa_can_catch=function(){return(h_=b.___cxa_can_catch=b.asm.Gb).apply(null,arguments)},E1=b.___cxa_is_pointer_type=function(){return(E1=b.___cxa_is_pointer_type=b.asm.Hb).apply(null,arguments)},A1=b.dynCall_j=function(){return(A1=b.dynCall_j=b.asm.Ib).apply(null,arguments)},D1=b.dynCall_iiiiij=function(){return(D1=b.dynCall_iiiiij=b.asm.Jb).apply(null,arguments)},S1=b.dynCall_jii=function(){return(S1=b.dynCall_jii=b.asm.Kb).apply(null,arguments)},C1=b.dynCall_viiiiij=function(){return(C1=b.dynCall_viiiiij=b.asm.Lb).apply(null,arguments)},k1=b.dynCall_vjji=function(){return(k1=b.dynCall_vjji=b.asm.Mb).apply(null,arguments)},M1=b.dynCall_viiijjjii=function(){return(M1=b.dynCall_viiijjjii=b.asm.Nb).apply(null,arguments)},O1=b.dynCall_iij=function(){return(O1=b.dynCall_iij=b.asm.Ob).apply(null,arguments)},P1=b.dynCall_ji=function(){return(P1=b.dynCall_ji=b.asm.Pb).apply(null,arguments)},F1=b.dynCall_iiiiiij=function(){return(F1=b.dynCall_iiiiiij=b.asm.Qb).apply(null,arguments)},I1=b.dynCall_iiij=function(){return(I1=b.dynCall_iiij=b.asm.Rb).apply(null,arguments)};function N1(){function Tt(){if(!d_&&(d_=!0,b.calledRun=!0,!Jt)&&(bt||Kr(Lt),h(b),b.onRuntimeInitialized&&b.onRuntimeInitialized(),!bt)){if(b.postRun)for(typeof b.postRun=="function"&&(b.postRun=[b.postRun]);b.postRun.length;){var It=b.postRun.shift();Gt.unshift(It)}Kr(Gt)}}if(!(0<$t))if(bt)h(b),bt||Kr(Lt),postMessage({cmd:"loaded"});else{if(b.preRun)for(typeof b.preRun=="function"&&(b.preRun=[b.preRun]);b.preRun.length;)hn();Kr(Kt),0<$t||(b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1),Tt()},1)):Tt())}}if(b.UTF8ToString=_n,b.stringToUTF8=function(Tt,It,Ut){return Tn(Tt,$(),It,Ut)},b.lengthBytesUTF8=Yt,b.keepRuntimeAlive=dn,b.wasmMemory=wt,b.stackSave=zn,b.stackRestore=$n,b.stackAlloc=d0,b.ExitStatus=On,b.PThread=An,zt=function Tt(){d_||N1(),d_||(zt=Tt)},b.preInit)for(typeof b.preInit=="function"&&(b.preInit=[b.preInit]);0<b.preInit.length;)b.preInit.pop()();return N1(),d.ready});o.exports=c},932:(o,e,s)=>{var a,c=(a=(a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(d){var g,$,j;d=d||{},g||(g=d!==void 0?d:{}),g.ready=new Promise(function(Nt,jt){$=Nt,j=jt});var tt,et,b,h,_e,nt,rt=Object.assign({},g),it="./this.program",st=(Nt,jt)=>{throw jt},ot=typeof window=="object",at=typeof importScripts=="function",ct=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ut="";ct?(ut=at?s(908).dirname(ut)+"/":"//",nt=()=>{_e||(h=s(1384),_e=s(908))},tt=function(Nt,jt){return nt(),Nt=_e.normalize(Nt),h.readFileSync(Nt,jt?void 0:"utf8")},b=Nt=>((Nt=tt(Nt,!0)).buffer||(Nt=new Uint8Array(Nt)),Nt),et=(Nt,jt,Xt)=>{nt(),Nt=_e.normalize(Nt),h.readFile(Nt,function(en,rn){en?Xt(en):jt(rn.buffer)})},1<process.argv.length&&(it=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Nt){if(!(Nt instanceof Lt))throw Nt}),process.on("unhandledRejection",function(Nt){throw Nt}),st=(Nt,jt)=>{if(ft||0<fn)throw process.exitCode=Nt,jt;jt instanceof Lt||pt("exiting due to exception: "+jt),process.exit(Nt)},g.inspect=function(){return"[Emscripten Module object]"}):(ot||at)&&(at?ut=self.location.href:typeof document<"u"&&document.currentScript&&(ut=document.currentScript.src),a&&(ut=a),ut=ut.indexOf("blob:")!==0?ut.substr(0,ut.replace(/[?#].*/,"").lastIndexOf("/")+1):"",tt=Nt=>{var jt=new XMLHttpRequest;return jt.open("GET",Nt,!1),jt.send(null),jt.responseText},at&&(b=Nt=>{var jt=new XMLHttpRequest;return jt.open("GET",Nt,!1),jt.responseType="arraybuffer",jt.send(null),new Uint8Array(jt.response)}),et=(Nt,jt,Xt)=>{var en=new XMLHttpRequest;en.open("GET",Nt,!0),en.responseType="arraybuffer",en.onload=()=>{en.status==200||en.status==0&&en.response?jt(en.response):Xt()},en.onerror=Xt,en.send(null)});var dt,ht=g.print||console.log.bind(console),pt=g.printErr||console.warn.bind(console);Object.assign(g,rt),rt=null,g.thisProgram&&(it=g.thisProgram),g.quit&&(st=g.quit),g.wasmBinary&&(dt=g.wasmBinary);var ft=g.noExitRuntime||!1;typeof WebAssembly!="object"&&an("no native wasm support detected");var bt,Ct,yt,Et,gt,At,mt=!1,_t=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function St(Nt,jt,Xt){var en=(jt>>>=0)+Xt;for(Xt=jt;Nt[Xt]&&!(Xt>=en);)++Xt;if(16<Xt-jt&&Nt.buffer&&_t)return _t.decode(Nt.subarray(jt,Xt));for(en="";jt<Xt;){var rn=Nt[jt++];if(128&rn){var un=63&Nt[jt++];if((224&rn)==192)en+=String.fromCharCode((31&rn)<<6|un);else{var pn=63&Nt[jt++];65536>(rn=(240&rn)==224?(15&rn)<<12|un<<6|pn:(7&rn)<<18|un<<12|pn<<6|63&Nt[jt++])?en+=String.fromCharCode(rn):(rn-=65536,en+=String.fromCharCode(55296|rn>>10,56320|1023&rn))}}else en+=String.fromCharCode(rn)}return en}function wt(Nt,jt){return(Nt>>>=0)?St(Et,Nt,jt):""}function kt(Nt,jt,Xt,en){if(!(0<en))return 0;var rn=Xt>>>=0;en=Xt+en-1;for(var un=0;un<Nt.length;++un){var pn=Nt.charCodeAt(un);if(55296<=pn&&57343>=pn&&(pn=65536+((1023&pn)<<10)|1023&Nt.charCodeAt(++un)),127>=pn){if(Xt>=en)break;jt[Xt++>>>0]=pn}else{if(2047>=pn){if(Xt+1>=en)break;jt[Xt++>>>0]=192|pn>>6}else{if(65535>=pn){if(Xt+2>=en)break;jt[Xt++>>>0]=224|pn>>12}else{if(Xt+3>=en)break;jt[Xt++>>>0]=240|pn>>18,jt[Xt++>>>0]=128|pn>>12&63}jt[Xt++>>>0]=128|pn>>6&63}jt[Xt++>>>0]=128|63&pn}}return jt[Xt>>>0]=0,Xt-rn}function Dt(Nt){for(var jt=0,Xt=0;Xt<Nt.length;++Xt){var en=Nt.charCodeAt(Xt);127>=en?jt++:2047>=en?jt+=2:55296<=en&&57343>=en?(jt+=4,++Xt):jt+=3}return jt}function Ft(){var Nt=bt.buffer;Ct=Nt,g.HEAP8=yt=new Int8Array(Nt),g.HEAP16=new Int16Array(Nt),g.HEAP32=gt=new Int32Array(Nt),g.HEAPU8=Et=new Uint8Array(Nt),g.HEAPU16=new Uint16Array(Nt),g.HEAPU32=At=new Uint32Array(Nt),g.HEAPF32=new Float32Array(Nt),g.HEAPF64=new Float64Array(Nt)}var Ot,Bt=[],Vt=[],Zt=[],Jt=[],fn=0;function yn(){var Nt=g.preRun.shift();Bt.unshift(Nt)}var _n,Tn=0,Yt=null;function an(Nt){throw g.onAbort&&g.onAbort(Nt),pt(Nt="Aborted("+Nt+")"),mt=!0,Nt=new WebAssembly.RuntimeError(Nt+". Build with -sASSERTIONS for more info."),j(Nt),Nt}function vt(){return _n.startsWith("data:application/octet-stream;base64,")}if(_n="ort-wasm.wasm",!vt()){var Qt=_n;_n=g.locateFile?g.locateFile(Qt,ut):ut+Qt}function Kt(){var Nt=_n;try{if(Nt==_n&&dt)return new Uint8Array(dt);if(b)return b(Nt);throw"both async and sync fetching of the wasm failed"}catch(jt){an(jt)}}function Lt(Nt){this.name="ExitStatus",this.message="Program terminated with exit("+Nt+")",this.status=Nt}function Rt(Nt){for(;0<Nt.length;)Nt.shift()(g)}var Gt=[],dn=0,hn=0;function Ht(Nt){this.Db=Nt,this.zb=Nt-24,this.Ub=function(jt){At[this.zb+4>>2>>>0]=jt},this.Eb=function(){return At[this.zb+4>>2>>>0]},this.Sb=function(jt){At[this.zb+8>>2>>>0]=jt},this.Wb=function(){return At[this.zb+8>>2>>>0]},this.Tb=function(){gt[this.zb>>2>>>0]=0},this.Ib=function(jt){yt[this.zb+12>>0>>>0]=jt?1:0},this.Pb=function(){return yt[this.zb+12>>0>>>0]!=0},this.Jb=function(jt){yt[this.zb+13>>0>>>0]=jt?1:0},this.Lb=function(){return yt[this.zb+13>>0>>>0]!=0},this.Rb=function(jt,Xt){this.Fb(0),this.Ub(jt),this.Sb(Xt),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){gt[this.zb>>2>>>0]+=1},this.Xb=function(){var jt=gt[this.zb>>2>>>0];return gt[this.zb>>2>>>0]=jt-1,jt===1},this.Fb=function(jt){At[this.zb+16>>2>>>0]=jt},this.Ob=function(){return At[this.zb+16>>2>>>0]},this.Qb=function(){if(hm(this.Eb()))return At[this.Db>>2>>>0];var jt=this.Ob();return jt!==0?jt:this.Db}}function $t(Nt){return ho(new Ht(Nt).zb)}var zt=[];function qt(Nt){var jt=zt[Nt];return jt||(Nt>=zt.length&&(zt.length=Nt+1),zt[Nt]=jt=Ot.get(Nt)),jt}function sn(Nt){var jt=Dt(Nt)+1,Xt=Yn(jt);return Xt&&kt(Nt,yt,Xt,jt),Xt}var mn={};function En(){if(!On){var Nt,jt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:it||"./this.program"};for(Nt in mn)mn[Nt]===void 0?delete jt[Nt]:jt[Nt]=mn[Nt];var Xt=[];for(Nt in jt)Xt.push(Nt+"="+jt[Nt]);On=Xt}return On}var On,kn=[null,[],[]];function Rn(Nt,jt){var Xt=kn[Nt];jt===0||jt===10?((Nt===1?ht:pt)(St(Xt,0)),Xt.length=0):Xt.push(jt)}var Nn=0;function jn(Nt){return Nt%4==0&&(Nt%100!=0||Nt%400==0)}var An=[31,29,31,30,31,30,31,31,30,31,30,31],Kr=[31,28,31,30,31,30,31,31,30,31,30,31];function Nr(Nt,jt,Xt,en){function rn(ln,Hn,ir){for(ln=typeof ln=="number"?ln.toString():ln||"";ln.length<Hn;)ln=ir[0]+ln;return ln}function un(ln,Hn){return rn(ln,Hn,"0")}function pn(ln,Hn){function ir(fo){return 0>fo?-1:0<fo?1:0}var ys;return(ys=ir(ln.getFullYear()-Hn.getFullYear()))===0&&(ys=ir(ln.getMonth()-Hn.getMonth()))===0&&(ys=ir(ln.getDate()-Hn.getDate())),ys}function Sn(ln){switch(ln.getDay()){case 0:return new Date(ln.getFullYear()-1,11,29);case 1:return ln;case 2:return new Date(ln.getFullYear(),0,3);case 3:return new Date(ln.getFullYear(),0,2);case 4:return new Date(ln.getFullYear(),0,1);case 5:return new Date(ln.getFullYear()-1,11,31);case 6:return new Date(ln.getFullYear()-1,11,30)}}function vn(ln){var Hn=ln.Bb;for(ln=new Date(new Date(ln.Cb+1900,0,1).getTime());0<Hn;){var ir=ln.getMonth(),ys=(jn(ln.getFullYear())?An:Kr)[ir];if(!(Hn>ys-ln.getDate())){ln.setDate(ln.getDate()+Hn);break}Hn-=ys-ln.getDate()+1,ln.setDate(1),11>ir?ln.setMonth(ir+1):(ln.setMonth(0),ln.setFullYear(ln.getFullYear()+1))}return ir=new Date(ln.getFullYear()+1,0,4),Hn=Sn(new Date(ln.getFullYear(),0,4)),ir=Sn(ir),0>=pn(Hn,ln)?0>=pn(ir,ln)?ln.getFullYear()+1:ln.getFullYear():ln.getFullYear()-1}var Un=gt[en+40>>2>>>0];for(var Jn in en={$b:gt[en>>2>>>0],Zb:gt[en+4>>2>>>0],Gb:gt[en+8>>2>>>0],Kb:gt[en+12>>2>>>0],Hb:gt[en+16>>2>>>0],Cb:gt[en+20>>2>>>0],Ab:gt[en+24>>2>>>0],Bb:gt[en+28>>2>>>0],bc:gt[en+32>>2>>>0],Yb:gt[en+36>>2>>>0],ac:Un?wt(Un):""},Xt=wt(Xt),Un={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Xt=Xt.replace(new RegExp(Jn,"g"),Un[Jn]);var xr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),yr="January February March April May June July August September October November December".split(" ");for(Jn in Un={"%a":function(ln){return xr[ln.Ab].substring(0,3)},"%A":function(ln){return xr[ln.Ab]},"%b":function(ln){return yr[ln.Hb].substring(0,3)},"%B":function(ln){return yr[ln.Hb]},"%C":function(ln){return un((ln.Cb+1900)/100|0,2)},"%d":function(ln){return un(ln.Kb,2)},"%e":function(ln){return rn(ln.Kb,2," ")},"%g":function(ln){return vn(ln).toString().substring(2)},"%G":function(ln){return vn(ln)},"%H":function(ln){return un(ln.Gb,2)},"%I":function(ln){return(ln=ln.Gb)==0?ln=12:12<ln&&(ln-=12),un(ln,2)},"%j":function(ln){for(var Hn=0,ir=0;ir<=ln.Hb-1;Hn+=(jn(ln.Cb+1900)?An:Kr)[ir++]);return un(ln.Kb+Hn,3)},"%m":function(ln){return un(ln.Hb+1,2)},"%M":function(ln){return un(ln.Zb,2)},"%n":function(){return`
`},"%p":function(ln){return 0<=ln.Gb&&12>ln.Gb?"AM":"PM"},"%S":function(ln){return un(ln.$b,2)},"%t":function(){return"	"},"%u":function(ln){return ln.Ab||7},"%U":function(ln){return un(Math.floor((ln.Bb+7-ln.Ab)/7),2)},"%V":function(ln){var Hn=Math.floor((ln.Bb+7-(ln.Ab+6)%7)/7);if(2>=(ln.Ab+371-ln.Bb-2)%7&&Hn++,Hn)Hn==53&&((ir=(ln.Ab+371-ln.Bb)%7)==4||ir==3&&jn(ln.Cb)||(Hn=1));else{Hn=52;var ir=(ln.Ab+7-ln.Bb-1)%7;(ir==4||ir==5&&jn(ln.Cb%400-1))&&Hn++}return un(Hn,2)},"%w":function(ln){return ln.Ab},"%W":function(ln){return un(Math.floor((ln.Bb+7-(ln.Ab+6)%7)/7),2)},"%y":function(ln){return(ln.Cb+1900).toString().substring(2)},"%Y":function(ln){return ln.Cb+1900},"%z":function(ln){var Hn=0<=(ln=ln.Yb);return ln=Math.abs(ln)/60,(Hn?"+":"-")+("0000"+(ln/60*100+ln%60)).slice(-4)},"%Z":function(ln){return ln.ac},"%%":function(){return"%"}},Xt=Xt.replace(/%%/g,"\0\0"),Un)Xt.includes(Jn)&&(Xt=Xt.replace(new RegExp(Jn,"g"),Un[Jn](en)));return Jn=function(ln){var Hn=Array(Dt(ln)+1);return kt(ln,Hn,0,Hn.length),Hn}(Xt=Xt.replace(/\0\0/g,"%")),Jn.length>jt?0:(yt.set(Jn,Nt>>>0),Jn.length-1)}var zl={a:function(Nt){return Yn(Nt+24)+24},m:function(Nt){return(Nt=new Ht(Nt)).Pb()||(Nt.Ib(!0),dn--),Nt.Jb(!1),Gt.push(Nt),Nt.Nb(),Nt.Qb()},ia:function(Nt){throw pt("Unexpected exception thrown, this is not properly supported - aborting"),mt=!0,Nt},w:function(){Pn(0);var Nt=Gt.pop();if(Nt.Xb()&&!Nt.Lb()){var jt=Nt.Wb();jt&&qt(jt)(Nt.Db),$t(Nt.Db)}hn=0},d:function(){var Nt=hn;if(!Nt)return Nn=0;var jt=new Ht(Nt);jt.Fb(Nt);var Xt=jt.Eb();if(!Xt)return Nn=0,Nt;for(var en=Array.prototype.slice.call(arguments),rn=0;rn<en.length;rn++){var un=en[rn];if(un===0||un===Xt)break;if(Wl(un,Xt,jt.zb+16))return Nn=un,Nt}return Nn=Xt,Nt},k:function(){var Nt=hn;if(!Nt)return Nn=0;var jt=new Ht(Nt);jt.Fb(Nt);var Xt=jt.Eb();if(!Xt)return Nn=0,Nt;for(var en=Array.prototype.slice.call(arguments),rn=0;rn<en.length;rn++){var un=en[rn];if(un===0||un===Xt)break;if(Wl(un,Xt,jt.zb+16))return Nn=un,Nt}return Nn=Xt,Nt},g:function(){var Nt=hn;if(!Nt)return Nn=0;var jt=new Ht(Nt);jt.Fb(Nt);var Xt=jt.Eb();if(!Xt)return Nn=0,Nt;for(var en=Array.prototype.slice.call(arguments),rn=0;rn<en.length;rn++){var un=en[rn];if(un===0||un===Xt)break;if(Wl(un,Xt,jt.zb+16))return Nn=un,Nt}return Nn=Xt,Nt},s:$t,L:function(){var Nt=Gt.pop();Nt||an("no exception to throw");var jt=Nt.Db;throw Nt.Lb()||(Gt.push(Nt),Nt.Jb(!0),Nt.Ib(!1),dn++),hn=jt,jt},b:function(Nt,jt,Xt){throw new Ht(Nt).Rb(jt,Xt),hn=Nt,dn++,Nt},la:function(){return dn},i:function(Nt){throw hn||(hn=Nt),Nt},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){an("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){an("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(Nt,jt){Nt=new Date(1e3*(At[Nt>>>2]+4294967296*gt[Nt+4>>>2])),gt[jt>>2>>>0]=Nt.getUTCSeconds(),gt[jt+4>>2>>>0]=Nt.getUTCMinutes(),gt[jt+8>>2>>>0]=Nt.getUTCHours(),gt[jt+12>>2>>>0]=Nt.getUTCDate(),gt[jt+16>>2>>>0]=Nt.getUTCMonth(),gt[jt+20>>2>>>0]=Nt.getUTCFullYear()-1900,gt[jt+24>>2>>>0]=Nt.getUTCDay(),gt[jt+28>>2>>>0]=(Nt.getTime()-Date.UTC(Nt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(Nt,jt){Nt=new Date(1e3*(At[Nt>>>2]+4294967296*gt[Nt+4>>>2])),gt[jt>>2>>>0]=Nt.getSeconds(),gt[jt+4>>2>>>0]=Nt.getMinutes(),gt[jt+8>>2>>>0]=Nt.getHours(),gt[jt+12>>2>>>0]=Nt.getDate(),gt[jt+16>>2>>>0]=Nt.getMonth(),gt[jt+20>>2>>>0]=Nt.getFullYear()-1900,gt[jt+24>>2>>>0]=Nt.getDay();var Xt=new Date(Nt.getFullYear(),0,1);gt[jt+28>>2>>>0]=(Nt.getTime()-Xt.getTime())/864e5|0,gt[jt+36>>2>>>0]=-60*Nt.getTimezoneOffset();var en=new Date(Nt.getFullYear(),6,1).getTimezoneOffset();Xt=Xt.getTimezoneOffset(),gt[jt+32>>2>>>0]=0|(en!=Xt&&Nt.getTimezoneOffset()==Math.min(Xt,en))},Fa:function(Nt){var jt=new Date(gt[Nt+20>>2>>>0]+1900,gt[Nt+16>>2>>>0],gt[Nt+12>>2>>>0],gt[Nt+8>>2>>>0],gt[Nt+4>>2>>>0],gt[Nt>>2>>>0],0),Xt=gt[Nt+32>>2>>>0],en=jt.getTimezoneOffset(),rn=new Date(jt.getFullYear(),0,1),un=new Date(jt.getFullYear(),6,1).getTimezoneOffset(),pn=rn.getTimezoneOffset(),Sn=Math.min(pn,un);return 0>Xt?gt[Nt+32>>2>>>0]=+(un!=pn&&Sn==en):0<Xt!=(Sn==en)&&(un=Math.max(pn,un),jt.setTime(jt.getTime()+6e4*((0<Xt?Sn:un)-en))),gt[Nt+24>>2>>>0]=jt.getDay(),gt[Nt+28>>2>>>0]=(jt.getTime()-rn.getTime())/864e5|0,gt[Nt>>2>>>0]=jt.getSeconds(),gt[Nt+4>>2>>>0]=jt.getMinutes(),gt[Nt+8>>2>>>0]=jt.getHours(),gt[Nt+12>>2>>>0]=jt.getDate(),gt[Nt+16>>2>>>0]=jt.getMonth(),jt.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function Nt(jt,Xt,en){Nt.Vb||(Nt.Vb=!0,function(rn,un,pn){function Sn(yr){return(yr=yr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?yr[1]:"GMT"}var vn=new Date().getFullYear(),Un=new Date(vn,0,1),Jn=new Date(vn,6,1);vn=Un.getTimezoneOffset();var xr=Jn.getTimezoneOffset();gt[rn>>2>>>0]=60*Math.max(vn,xr),gt[un>>2>>>0]=+(vn!=xr),rn=Sn(Un),un=Sn(Jn),rn=sn(rn),un=sn(un),xr<vn?(At[pn>>2>>>0]=rn,At[pn+4>>2>>>0]=un):(At[pn>>2>>>0]=un,At[pn+4>>2>>>0]=rn)}(jt,Xt,en))},B:function(){an("")},ma:function(){return 4294901760},I:ct?()=>{var Nt=process.hrtime();return 1e3*Nt[0]+Nt[1]/1e6}:()=>performance.now(),xa:function(Nt,jt,Xt){Et.copyWithin(Nt>>>0,jt>>>0,jt+Xt>>>0)},G:function(Nt){var jt=Et.length;if(4294901760<(Nt>>>=0))return!1;for(var Xt=1;4>=Xt;Xt*=2){var en=jt*(1+.2/Xt);en=Math.min(en,Nt+100663296);var rn=Math;en=Math.max(Nt,en),rn=rn.min.call(rn,4294901760,en+(65536-en%65536)%65536);e:{try{bt.grow(rn-Ct.byteLength+65535>>>16),Ft();var un=1;break e}catch{}un=void 0}if(un)return!0}return!1},va:function(Nt,jt){var Xt=0;return En().forEach(function(en,rn){var un=jt+Xt;for(rn=At[Nt+4*rn>>2>>>0]=un,un=0;un<en.length;++un)yt[rn++>>0>>>0]=en.charCodeAt(un);yt[rn>>0>>>0]=0,Xt+=en.length+1}),0},wa:function(Nt,jt){var Xt=En();At[Nt>>2>>>0]=Xt.length;var en=0;return Xt.forEach(function(rn){en+=rn.length+1}),At[jt>>2>>>0]=en,0},ba:function(Nt){ft||0<fn||(ns(),Rt(Zt),Xo(0),kn[1].length&&Rn(1,10),kn[2].length&&Rn(2,10)),ft||0<fn||(g.onExit&&g.onExit(Nt),mt=!0),st(Nt,new Lt(Nt))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(Nt,jt,Xt,en){for(var rn=0,un=0;un<Xt;un++){var pn=At[jt>>2>>>0],Sn=At[jt+4>>2>>>0];jt+=8;for(var vn=0;vn<Sn;vn++)Rn(Nt,Et[pn+vn>>>0]);rn+=Sn}return At[en>>2>>>0]=rn,0},c:function(){return Nn},ja:function Nt(jt,Xt){Nt.Mb||(Nt.Mb=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var rn=new Uint8Array(1);return()=>(crypto.getRandomValues(rn),rn[0])}if(ct)try{var un=s(Object(function(){var pn=new Error("Cannot find module 'crypto'");throw pn.code="MODULE_NOT_FOUND",pn}()));return()=>un.randomBytes(1)[0]}catch{}return()=>an("randomDevice")}());for(var en=0;en<Xt;en++)yt[jt+en>>0>>>0]=Nt.Mb();return 0},ea:function(Nt,jt,Xt){var en=Fn();try{return qt(Nt)(jt,Xt)}catch(rn){if(In(en),rn!==rn+0)throw rn;Pn(1,0)}},fa:function(Nt,jt,Xt){var en=Fn();try{return qt(Nt)(jt,Xt)}catch(rn){if(In(en),rn!==rn+0)throw rn;Pn(1,0)}},J:function(Nt){var jt=Fn();try{return qt(Nt)()}catch(Xt){if(In(jt),Xt!==Xt+0)throw Xt;Pn(1,0)}},e:function(Nt,jt){var Xt=Fn();try{return qt(Nt)(jt)}catch(en){if(In(Xt),en!==en+0)throw en;Pn(1,0)}},N:function(Nt,jt,Xt){var en=Fn();try{return qt(Nt)(jt,Xt)}catch(rn){if(In(en),rn!==rn+0)throw rn;Pn(1,0)}},O:function(Nt,jt,Xt){var en=Fn();try{return qt(Nt)(jt,Xt)}catch(rn){if(In(en),rn!==rn+0)throw rn;Pn(1,0)}},j:function(Nt,jt,Xt){var en=Fn();try{return qt(Nt)(jt,Xt)}catch(rn){if(In(en),rn!==rn+0)throw rn;Pn(1,0)}},o:function(Nt,jt,Xt,en){var rn=Fn();try{return qt(Nt)(jt,Xt,en)}catch(un){if(In(rn),un!==un+0)throw un;Pn(1,0)}},p:function(Nt,jt,Xt,en,rn){var un=Fn();try{return qt(Nt)(jt,Xt,en,rn)}catch(pn){if(In(un),pn!==pn+0)throw pn;Pn(1,0)}},M:function(Nt,jt,Xt,en,rn,un){var pn=Fn();try{return qt(Nt)(jt,Xt,en,rn,un)}catch(Sn){if(In(pn),Sn!==Sn+0)throw Sn;Pn(1,0)}},r:function(Nt,jt,Xt,en,rn,un){var pn=Fn();try{return qt(Nt)(jt,Xt,en,rn,un)}catch(Sn){if(In(pn),Sn!==Sn+0)throw Sn;Pn(1,0)}},v:function(Nt,jt,Xt,en,rn,un,pn){var Sn=Fn();try{return qt(Nt)(jt,Xt,en,rn,un,pn)}catch(vn){if(In(Sn),vn!==vn+0)throw vn;Pn(1,0)}},K:function(Nt,jt,Xt,en,rn,un,pn,Sn){var vn=Fn();try{return qt(Nt)(jt,Xt,en,rn,un,pn,Sn)}catch(Un){if(In(vn),Un!==Un+0)throw Un;Pn(1,0)}},D:function(Nt,jt,Xt,en,rn,un,pn,Sn,vn,Un,Jn,xr){var yr=Fn();try{return qt(Nt)(jt,Xt,en,rn,un,pn,Sn,vn,Un,Jn,xr)}catch(ln){if(In(yr),ln!==ln+0)throw ln;Pn(1,0)}},X:function(Nt,jt,Xt,en,rn,un,pn,Sn){var vn=Fn();try{return wm(Nt,jt,Xt,en,rn,un,pn,Sn)}catch(Un){if(In(vn),Un!==Un+0)throw Un;Pn(1,0)}},V:function(Nt,jt,Xt,en,rn,un,pn){var Sn=Fn();try{return pm(Nt,jt,Xt,en,rn,un,pn)}catch(vn){if(In(Sn),vn!==vn+0)throw vn;Pn(1,0)}},U:function(Nt,jt,Xt,en,rn){var un=Fn();try{return xm(Nt,jt,Xt,en,rn)}catch(pn){if(In(un),pn!==pn+0)throw pn;Pn(1,0)}},Z:function(Nt,jt,Xt,en){var rn=Fn();try{return _m(Nt,jt,Xt,en)}catch(un){if(In(rn),un!==un+0)throw un;Pn(1,0)}},W:function(Nt){var jt=Fn();try{return fm(Nt)}catch(Xt){if(In(jt),Xt!==Xt+0)throw Xt;Pn(1,0)}},Y:function(Nt,jt){var Xt=Fn();try{return vm(Nt,jt)}catch(en){if(In(Xt),en!==en+0)throw en;Pn(1,0)}},T:function(Nt,jt,Xt){var en=Fn();try{return gm(Nt,jt,Xt)}catch(rn){if(In(en),rn!==rn+0)throw rn;Pn(1,0)}},f:function(Nt){var jt=Fn();try{qt(Nt)()}catch(Xt){if(In(jt),Xt!==Xt+0)throw Xt;Pn(1,0)}},q:function(Nt,jt){var Xt=Fn();try{qt(Nt)(jt)}catch(en){if(In(Xt),en!==en+0)throw en;Pn(1,0)}},h:function(Nt,jt,Xt){var en=Fn();try{qt(Nt)(jt,Xt)}catch(rn){if(In(en),rn!==rn+0)throw rn;Pn(1,0)}},da:function(Nt,jt,Xt,en){var rn=Fn();try{qt(Nt)(jt,Xt,en)}catch(un){if(In(rn),un!==un+0)throw un;Pn(1,0)}},l:function(Nt,jt,Xt,en){var rn=Fn();try{qt(Nt)(jt,Xt,en)}catch(un){if(In(rn),un!==un+0)throw un;Pn(1,0)}},t:function(Nt,jt,Xt,en,rn){var un=Fn();try{qt(Nt)(jt,Xt,en,rn)}catch(pn){if(In(un),pn!==pn+0)throw pn;Pn(1,0)}},u:function(Nt,jt,Xt,en,rn,un){var pn=Fn();try{qt(Nt)(jt,Xt,en,rn,un)}catch(Sn){if(In(pn),Sn!==Sn+0)throw Sn;Pn(1,0)}},x:function(Nt,jt,Xt,en,rn,un,pn){var Sn=Fn();try{qt(Nt)(jt,Xt,en,rn,un,pn)}catch(vn){if(In(Sn),vn!==vn+0)throw vn;Pn(1,0)}},z:function(Nt,jt,Xt,en,rn,un,pn,Sn){var vn=Fn();try{qt(Nt)(jt,Xt,en,rn,un,pn,Sn)}catch(Un){if(In(vn),Un!==Un+0)throw Un;Pn(1,0)}},ga:function(Nt,jt,Xt,en,rn,un,pn,Sn,vn){var Un=Fn();try{qt(Nt)(jt,Xt,en,rn,un,pn,Sn,vn)}catch(Jn){if(In(Un),Jn!==Jn+0)throw Jn;Pn(1,0)}},A:function(Nt,jt,Xt,en,rn,un,pn,Sn,vn,Un,Jn){var xr=Fn();try{qt(Nt)(jt,Xt,en,rn,un,pn,Sn,vn,Un,Jn)}catch(yr){if(In(xr),yr!==yr+0)throw yr;Pn(1,0)}},C:function(Nt,jt,Xt,en,rn,un,pn,Sn,vn,Un,Jn,xr,yr,ln,Hn,ir){var ys=Fn();try{qt(Nt)(jt,Xt,en,rn,un,pn,Sn,vn,Un,Jn,xr,yr,ln,Hn,ir)}catch(fo){if(In(ys),fo!==fo+0)throw fo;Pn(1,0)}},aa:function(Nt,jt,Xt,en,rn,un,pn,Sn){var vn=Fn();try{mm(Nt,jt,Xt,en,rn,un,pn,Sn)}catch(Un){if(In(vn),Un!==Un+0)throw Un;Pn(1,0)}},_:function(Nt,jt,Xt,en,rn,un,pn,Sn,vn,Un,Jn,xr){var yr=Fn();try{bm(Nt,jt,Xt,en,rn,un,pn,Sn,vn,Un,Jn,xr)}catch(ln){if(In(yr),ln!==ln+0)throw ln;Pn(1,0)}},$:function(Nt,jt,Xt,en,rn,un){var pn=Fn();try{ym(Nt,jt,Xt,en,rn,un)}catch(Sn){if(In(pn),Sn!==Sn+0)throw Sn;Pn(1,0)}},n:function(Nt){return Nt},F:function(Nt){Nn=Nt},ha:Nr,y:function(Nt,jt,Xt,en){return Nr(Nt,jt,Xt,en)}};(function(){function Nt(rn){g.asm=rn.exports,bt=g.asm.Ka,Ft(),Ot=g.asm.ib,Vt.unshift(g.asm.La),Tn--,g.monitorRunDependencies&&g.monitorRunDependencies(Tn),Tn==0&&Yt&&(rn=Yt,Yt=null,rn())}function jt(rn){Nt(rn.instance)}function Xt(rn){return function(){if(!dt&&(ot||at)){if(typeof fetch=="function"&&!_n.startsWith("file://"))return fetch(_n,{credentials:"same-origin"}).then(function(un){if(!un.ok)throw"failed to load wasm binary file at '"+_n+"'";return un.arrayBuffer()}).catch(function(){return Kt()});if(et)return new Promise(function(un,pn){et(_n,function(Sn){un(new Uint8Array(Sn))},pn)})}return Promise.resolve().then(function(){return Kt()})}().then(function(un){return WebAssembly.instantiate(un,en)}).then(function(un){return un}).then(rn,function(un){pt("failed to asynchronously prepare wasm: "+un),an(un)})}var en={a:zl};if(Tn++,g.monitorRunDependencies&&g.monitorRunDependencies(Tn),g.instantiateWasm)try{return g.instantiateWasm(en,Nt)}catch(rn){return pt("Module.instantiateWasm callback failed with error: "+rn),!1}(dt||typeof WebAssembly.instantiateStreaming!="function"||vt()||_n.startsWith("file://")||ct||typeof fetch!="function"?Xt(jt):fetch(_n,{credentials:"same-origin"}).then(function(rn){return WebAssembly.instantiateStreaming(rn,en).then(jt,function(un){return pt("wasm streaming compile failed: "+un),pt("falling back to ArrayBuffer instantiation"),Xt(jt)})})).catch(j)})(),g.___wasm_call_ctors=function(){return(g.___wasm_call_ctors=g.asm.La).apply(null,arguments)},g._OrtInit=function(){return(g._OrtInit=g.asm.Ma).apply(null,arguments)},g._OrtCreateSessionOptions=function(){return(g._OrtCreateSessionOptions=g.asm.Na).apply(null,arguments)},g._OrtAppendExecutionProvider=function(){return(g._OrtAppendExecutionProvider=g.asm.Oa).apply(null,arguments)},g._OrtAddSessionConfigEntry=function(){return(g._OrtAddSessionConfigEntry=g.asm.Pa).apply(null,arguments)},g._OrtReleaseSessionOptions=function(){return(g._OrtReleaseSessionOptions=g.asm.Qa).apply(null,arguments)},g._OrtCreateSession=function(){return(g._OrtCreateSession=g.asm.Ra).apply(null,arguments)},g._OrtReleaseSession=function(){return(g._OrtReleaseSession=g.asm.Sa).apply(null,arguments)},g._OrtGetInputCount=function(){return(g._OrtGetInputCount=g.asm.Ta).apply(null,arguments)},g._OrtGetOutputCount=function(){return(g._OrtGetOutputCount=g.asm.Ua).apply(null,arguments)},g._OrtGetInputName=function(){return(g._OrtGetInputName=g.asm.Va).apply(null,arguments)},g._OrtGetOutputName=function(){return(g._OrtGetOutputName=g.asm.Wa).apply(null,arguments)},g._OrtFree=function(){return(g._OrtFree=g.asm.Xa).apply(null,arguments)},g._OrtCreateTensor=function(){return(g._OrtCreateTensor=g.asm.Ya).apply(null,arguments)},g._OrtGetTensorData=function(){return(g._OrtGetTensorData=g.asm.Za).apply(null,arguments)},g._OrtReleaseTensor=function(){return(g._OrtReleaseTensor=g.asm._a).apply(null,arguments)},g._OrtCreateRunOptions=function(){return(g._OrtCreateRunOptions=g.asm.$a).apply(null,arguments)},g._OrtAddRunConfigEntry=function(){return(g._OrtAddRunConfigEntry=g.asm.ab).apply(null,arguments)},g._OrtReleaseRunOptions=function(){return(g._OrtReleaseRunOptions=g.asm.bb).apply(null,arguments)},g._OrtRun=function(){return(g._OrtRun=g.asm.cb).apply(null,arguments)},g._OrtEndProfiling=function(){return(g._OrtEndProfiling=g.asm.db).apply(null,arguments)};var ks,Yn=g._malloc=function(){return(Yn=g._malloc=g.asm.eb).apply(null,arguments)},ho=g._free=function(){return(ho=g._free=g.asm.fb).apply(null,arguments)},Xo=g._fflush=function(){return(Xo=g._fflush=g.asm.gb).apply(null,arguments)},ns=g.___funcs_on_exit=function(){return(ns=g.___funcs_on_exit=g.asm.hb).apply(null,arguments)},Pn=g._setThrew=function(){return(Pn=g._setThrew=g.asm.jb).apply(null,arguments)},Fn=g.stackSave=function(){return(Fn=g.stackSave=g.asm.kb).apply(null,arguments)},In=g.stackRestore=function(){return(In=g.stackRestore=g.asm.lb).apply(null,arguments)},dm=g.stackAlloc=function(){return(dm=g.stackAlloc=g.asm.mb).apply(null,arguments)},Wl=g.___cxa_can_catch=function(){return(Wl=g.___cxa_can_catch=g.asm.nb).apply(null,arguments)},hm=g.___cxa_is_pointer_type=function(){return(hm=g.___cxa_is_pointer_type=g.asm.ob).apply(null,arguments)},fm=g.dynCall_j=function(){return(fm=g.dynCall_j=g.asm.pb).apply(null,arguments)},pm=g.dynCall_iiiiij=function(){return(pm=g.dynCall_iiiiij=g.asm.qb).apply(null,arguments)},gm=g.dynCall_jii=function(){return(gm=g.dynCall_jii=g.asm.rb).apply(null,arguments)},mm=g.dynCall_viiiiij=function(){return(mm=g.dynCall_viiiiij=g.asm.sb).apply(null,arguments)},ym=g.dynCall_vjji=function(){return(ym=g.dynCall_vjji=g.asm.tb).apply(null,arguments)},bm=g.dynCall_viiijjjii=function(){return(bm=g.dynCall_viiijjjii=g.asm.ub).apply(null,arguments)},_m=g.dynCall_iij=function(){return(_m=g.dynCall_iij=g.asm.vb).apply(null,arguments)},vm=g.dynCall_ji=function(){return(vm=g.dynCall_ji=g.asm.wb).apply(null,arguments)},wm=g.dynCall_iiiiiij=function(){return(wm=g.dynCall_iiiiiij=g.asm.xb).apply(null,arguments)},xm=g.dynCall_iiij=function(){return(xm=g.dynCall_iiij=g.asm.yb).apply(null,arguments)};function Tm(){function Nt(){if(!ks&&(ks=!0,g.calledRun=!0,!mt)){if(Rt(Vt),$(g),g.onRuntimeInitialized&&g.onRuntimeInitialized(),g.postRun)for(typeof g.postRun=="function"&&(g.postRun=[g.postRun]);g.postRun.length;){var jt=g.postRun.shift();Jt.unshift(jt)}Rt(Jt)}}if(!(0<Tn)){if(g.preRun)for(typeof g.preRun=="function"&&(g.preRun=[g.preRun]);g.preRun.length;)yn();Rt(Bt),0<Tn||(g.setStatus?(g.setStatus("Running..."),setTimeout(function(){setTimeout(function(){g.setStatus("")},1),Nt()},1)):Nt())}}if(g.UTF8ToString=wt,g.stringToUTF8=function(Nt,jt,Xt){return kt(Nt,Et,jt,Xt)},g.lengthBytesUTF8=Dt,g.stackSave=Fn,g.stackRestore=In,g.stackAlloc=dm,Yt=function Nt(){ks||Tm(),ks||(Yt=Nt)},g.preInit)for(typeof g.preInit=="function"&&(g.preInit=[g.preInit]);0<g.preInit.length;)g.preInit.pop()();return Tm(),d.ready});o.exports=c},4537:o=>{o.exports=function(e,s){for(var a=new Array(arguments.length-1),c=0,d=2,g=!0;d<arguments.length;)a[c++]=arguments[d++];return new Promise(function($,j){a[c]=function(tt){if(g)if(g=!1,tt)j(tt);else{for(var et=new Array(arguments.length-1),b=0;b<et.length;)et[b++]=arguments[b];$.apply(null,et)}};try{e.apply(s||null,a)}catch(tt){g&&(g=!1,j(tt))}})}},7419:(o,e)=>{var s=e;s.length=function($){var j=$.length;if(!j)return 0;for(var tt=0;--j%4>1&&$.charAt(j)==="=";)++tt;return Math.ceil(3*$.length)/4-tt};for(var a=new Array(64),c=new Array(123),d=0;d<64;)c[a[d]=d<26?d+65:d<52?d+71:d<62?d-4:d-59|43]=d++;s.encode=function($,j,tt){for(var et,b=null,h=[],_e=0,nt=0;j<tt;){var rt=$[j++];switch(nt){case 0:h[_e++]=a[rt>>2],et=(3&rt)<<4,nt=1;break;case 1:h[_e++]=a[et|rt>>4],et=(15&rt)<<2,nt=2;break;case 2:h[_e++]=a[et|rt>>6],h[_e++]=a[63&rt],nt=0}_e>8191&&((b||(b=[])).push(String.fromCharCode.apply(String,h)),_e=0)}return nt&&(h[_e++]=a[et],h[_e++]=61,nt===1&&(h[_e++]=61)),b?(_e&&b.push(String.fromCharCode.apply(String,h.slice(0,_e))),b.join("")):String.fromCharCode.apply(String,h.slice(0,_e))};var g="invalid encoding";s.decode=function($,j,tt){for(var et,b=tt,h=0,_e=0;_e<$.length;){var nt=$.charCodeAt(_e++);if(nt===61&&h>1)break;if((nt=c[nt])===void 0)throw Error(g);switch(h){case 0:et=nt,h=1;break;case 1:j[tt++]=et<<2|(48&nt)>>4,et=nt,h=2;break;case 2:j[tt++]=(15&et)<<4|(60&nt)>>2,et=nt,h=3;break;case 3:j[tt++]=(3&et)<<6|nt,h=0}}if(h===1)throw Error(g);return tt-b},s.test=function($){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test($)}},9211:o=>{function e(){this._listeners={}}o.exports=e,e.prototype.on=function(s,a,c){return(this._listeners[s]||(this._listeners[s]=[])).push({fn:a,ctx:c||this}),this},e.prototype.off=function(s,a){if(s===void 0)this._listeners={};else if(a===void 0)this._listeners[s]=[];else for(var c=this._listeners[s],d=0;d<c.length;)c[d].fn===a?c.splice(d,1):++d;return this},e.prototype.emit=function(s){var a=this._listeners[s];if(a){for(var c=[],d=1;d<arguments.length;)c.push(arguments[d++]);for(d=0;d<a.length;)a[d].fn.apply(a[d++].ctx,c)}return this}},945:o=>{function e(g){return typeof Float32Array<"u"?function(){var $=new Float32Array([-0]),j=new Uint8Array($.buffer),tt=j[3]===128;function et(nt,rt,it){$[0]=nt,rt[it]=j[0],rt[it+1]=j[1],rt[it+2]=j[2],rt[it+3]=j[3]}function b(nt,rt,it){$[0]=nt,rt[it]=j[3],rt[it+1]=j[2],rt[it+2]=j[1],rt[it+3]=j[0]}function h(nt,rt){return j[0]=nt[rt],j[1]=nt[rt+1],j[2]=nt[rt+2],j[3]=nt[rt+3],$[0]}function _e(nt,rt){return j[3]=nt[rt],j[2]=nt[rt+1],j[1]=nt[rt+2],j[0]=nt[rt+3],$[0]}g.writeFloatLE=tt?et:b,g.writeFloatBE=tt?b:et,g.readFloatLE=tt?h:_e,g.readFloatBE=tt?_e:h}():function(){function $(tt,et,b,h){var _e=et<0?1:0;if(_e&&(et=-et),et===0)tt(1/et>0?0:2147483648,b,h);else if(isNaN(et))tt(2143289344,b,h);else if(et>34028234663852886e22)tt((_e<<31|2139095040)>>>0,b,h);else if(et<11754943508222875e-54)tt((_e<<31|Math.round(et/1401298464324817e-60))>>>0,b,h);else{var nt=Math.floor(Math.log(et)/Math.LN2);tt((_e<<31|nt+127<<23|8388607&Math.round(et*Math.pow(2,-nt)*8388608))>>>0,b,h)}}function j(tt,et,b){var h=tt(et,b),_e=2*(h>>31)+1,nt=h>>>23&255,rt=8388607&h;return nt===255?rt?NaN:_e*(1/0):nt===0?1401298464324817e-60*_e*rt:_e*Math.pow(2,nt-150)*(rt+8388608)}g.writeFloatLE=$.bind(null,s),g.writeFloatBE=$.bind(null,a),g.readFloatLE=j.bind(null,c),g.readFloatBE=j.bind(null,d)}(),typeof Float64Array<"u"?function(){var $=new Float64Array([-0]),j=new Uint8Array($.buffer),tt=j[7]===128;function et(nt,rt,it){$[0]=nt,rt[it]=j[0],rt[it+1]=j[1],rt[it+2]=j[2],rt[it+3]=j[3],rt[it+4]=j[4],rt[it+5]=j[5],rt[it+6]=j[6],rt[it+7]=j[7]}function b(nt,rt,it){$[0]=nt,rt[it]=j[7],rt[it+1]=j[6],rt[it+2]=j[5],rt[it+3]=j[4],rt[it+4]=j[3],rt[it+5]=j[2],rt[it+6]=j[1],rt[it+7]=j[0]}function h(nt,rt){return j[0]=nt[rt],j[1]=nt[rt+1],j[2]=nt[rt+2],j[3]=nt[rt+3],j[4]=nt[rt+4],j[5]=nt[rt+5],j[6]=nt[rt+6],j[7]=nt[rt+7],$[0]}function _e(nt,rt){return j[7]=nt[rt],j[6]=nt[rt+1],j[5]=nt[rt+2],j[4]=nt[rt+3],j[3]=nt[rt+4],j[2]=nt[rt+5],j[1]=nt[rt+6],j[0]=nt[rt+7],$[0]}g.writeDoubleLE=tt?et:b,g.writeDoubleBE=tt?b:et,g.readDoubleLE=tt?h:_e,g.readDoubleBE=tt?_e:h}():function(){function $(tt,et,b,h,_e,nt){var rt=h<0?1:0;if(rt&&(h=-h),h===0)tt(0,_e,nt+et),tt(1/h>0?0:2147483648,_e,nt+b);else if(isNaN(h))tt(0,_e,nt+et),tt(2146959360,_e,nt+b);else if(h>17976931348623157e292)tt(0,_e,nt+et),tt((rt<<31|2146435072)>>>0,_e,nt+b);else{var it;if(h<22250738585072014e-324)tt((it=h/5e-324)>>>0,_e,nt+et),tt((rt<<31|it/4294967296)>>>0,_e,nt+b);else{var st=Math.floor(Math.log(h)/Math.LN2);st===1024&&(st=1023),tt(4503599627370496*(it=h*Math.pow(2,-st))>>>0,_e,nt+et),tt((rt<<31|st+1023<<20|1048576*it&1048575)>>>0,_e,nt+b)}}}function j(tt,et,b,h,_e){var nt=tt(h,_e+et),rt=tt(h,_e+b),it=2*(rt>>31)+1,st=rt>>>20&2047,ot=4294967296*(1048575&rt)+nt;return st===2047?ot?NaN:it*(1/0):st===0?5e-324*it*ot:it*Math.pow(2,st-1075)*(ot+4503599627370496)}g.writeDoubleLE=$.bind(null,s,0,4),g.writeDoubleBE=$.bind(null,a,4,0),g.readDoubleLE=j.bind(null,c,0,4),g.readDoubleBE=j.bind(null,d,4,0)}(),g}function s(g,$,j){$[j]=255&g,$[j+1]=g>>>8&255,$[j+2]=g>>>16&255,$[j+3]=g>>>24}function a(g,$,j){$[j]=g>>>24,$[j+1]=g>>>16&255,$[j+2]=g>>>8&255,$[j+3]=255&g}function c(g,$){return(g[$]|g[$+1]<<8|g[$+2]<<16|g[$+3]<<24)>>>0}function d(g,$){return(g[$]<<24|g[$+1]<<16|g[$+2]<<8|g[$+3])>>>0}o.exports=e(e)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}module.exports=inquire},6662:o=>{o.exports=function(e,s,a){var c=a||8192,d=c>>>1,g=null,$=c;return function(j){if(j<1||j>d)return e(j);$+j>c&&(g=e(c),$=0);var tt=s.call(g,$,$+=j);return 7&$&&($=1+(7|$)),tt}}},4997:(o,e)=>{var s=e;s.length=function(a){for(var c=0,d=0,g=0;g<a.length;++g)(d=a.charCodeAt(g))<128?c+=1:d<2048?c+=2:(64512&d)==55296&&(64512&a.charCodeAt(g+1))==56320?(++g,c+=4):c+=3;return c},s.read=function(a,c,d){if(d-c<1)return"";for(var g,$=null,j=[],tt=0;c<d;)(g=a[c++])<128?j[tt++]=g:g>191&&g<224?j[tt++]=(31&g)<<6|63&a[c++]:g>239&&g<365?(g=((7&g)<<18|(63&a[c++])<<12|(63&a[c++])<<6|63&a[c++])-65536,j[tt++]=55296+(g>>10),j[tt++]=56320+(1023&g)):j[tt++]=(15&g)<<12|(63&a[c++])<<6|63&a[c++],tt>8191&&(($||($=[])).push(String.fromCharCode.apply(String,j)),tt=0);return $?(tt&&$.push(String.fromCharCode.apply(String,j.slice(0,tt))),$.join("")):String.fromCharCode.apply(String,j.slice(0,tt))},s.write=function(a,c,d){for(var g,$,j=d,tt=0;tt<a.length;++tt)(g=a.charCodeAt(tt))<128?c[d++]=g:g<2048?(c[d++]=g>>6|192,c[d++]=63&g|128):(64512&g)==55296&&(64512&($=a.charCodeAt(tt+1)))==56320?(g=65536+((1023&g)<<10)+(1023&$),++tt,c[d++]=g>>18|240,c[d++]=g>>12&63|128,c[d++]=g>>6&63|128,c[d++]=63&g|128):(c[d++]=g>>12|224,c[d++]=g>>6&63|128,c[d++]=63&g|128);return d-j}},3442:(o,e)=>{e.__esModule=!0;var s=function(){function a(c){if(!c)throw new TypeError("Invalid argument; `value` has no value.");this.value=a.EMPTY,c&&a.isGuid(c)&&(this.value=c)}return a.isGuid=function(c){var d=c.toString();return c&&(c instanceof a||a.validator.test(d))},a.create=function(){return new a([a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-"))},a.createEmpty=function(){return new a("emptyguid")},a.parse=function(c){return new a(c)},a.raw=function(){return[a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-")},a.gen=function(c){for(var d="",g=0;g<c;g++)d+=(65536*(1+Math.random())|0).toString(16).substring(1);return d},a.prototype.equals=function(c){return a.isGuid(c)&&this.value===c.toString()},a.prototype.isEmpty=function(){return this.value===a.EMPTY},a.prototype.toString=function(){return this.value},a.prototype.toJSON=function(){return{value:this.value}},a.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),a.EMPTY="00000000-0000-0000-0000-000000000000",a}();e.Guid=s},3720:o=>{o.exports=s;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function s(ft,bt,Ct){this.low=0|ft,this.high=0|bt,this.unsigned=!!Ct}function a(ft){return(ft&&ft.__isLong__)===!0}s.prototype.__isLong__,Object.defineProperty(s.prototype,"__isLong__",{value:!0}),s.isLong=a;var c={},d={};function g(ft,bt){var Ct,yt,Et;return bt?(Et=0<=(ft>>>=0)&&ft<256)&&(yt=d[ft])?yt:(Ct=j(ft,(0|ft)<0?-1:0,!0),Et&&(d[ft]=Ct),Ct):(Et=-128<=(ft|=0)&&ft<128)&&(yt=c[ft])?yt:(Ct=j(ft,ft<0?-1:0,!1),Et&&(c[ft]=Ct),Ct)}function $(ft,bt){if(isNaN(ft))return bt?st:it;if(bt){if(ft<0)return st;if(ft>=_e)return dt}else{if(ft<=-nt)return ht;if(ft+1>=nt)return ut}return ft<0?$(-ft,bt).neg():j(ft%h|0,ft/h|0,bt)}function j(ft,bt,Ct){return new s(ft,bt,Ct)}s.fromInt=g,s.fromNumber=$,s.fromBits=j;var tt=Math.pow;function et(ft,bt,Ct){if(ft.length===0)throw Error("empty string");if(ft==="NaN"||ft==="Infinity"||ft==="+Infinity"||ft==="-Infinity")return it;if(typeof bt=="number"?(Ct=bt,bt=!1):bt=!!bt,(Ct=Ct||10)<2||36<Ct)throw RangeError("radix");var yt;if((yt=ft.indexOf("-"))>0)throw Error("interior hyphen");if(yt===0)return et(ft.substring(1),bt,Ct).neg();for(var Et=$(tt(Ct,8)),gt=it,At=0;At<ft.length;At+=8){var mt=Math.min(8,ft.length-At),_t=parseInt(ft.substring(At,At+mt),Ct);if(mt<8){var St=$(tt(Ct,mt));gt=gt.mul(St).add($(_t))}else gt=(gt=gt.mul(Et)).add($(_t))}return gt.unsigned=bt,gt}function b(ft,bt){return typeof ft=="number"?$(ft,bt):typeof ft=="string"?et(ft,bt):j(ft.low,ft.high,typeof bt=="boolean"?bt:ft.unsigned)}s.fromString=et,s.fromValue=b;var h=4294967296,_e=h*h,nt=_e/2,rt=g(1<<24),it=g(0);s.ZERO=it;var st=g(0,!0);s.UZERO=st;var ot=g(1);s.ONE=ot;var at=g(1,!0);s.UONE=at;var ct=g(-1);s.NEG_ONE=ct;var ut=j(-1,2147483647,!1);s.MAX_VALUE=ut;var dt=j(-1,-1,!0);s.MAX_UNSIGNED_VALUE=dt;var ht=j(0,-2147483648,!1);s.MIN_VALUE=ht;var pt=s.prototype;pt.toInt=function(){return this.unsigned?this.low>>>0:this.low},pt.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},pt.toString=function(ft){if((ft=ft||10)<2||36<ft)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(ht)){var bt=$(ft),Ct=this.div(bt),yt=Ct.mul(bt).sub(this);return Ct.toString(ft)+yt.toInt().toString(ft)}return"-"+this.neg().toString(ft)}for(var Et=$(tt(ft,6),this.unsigned),gt=this,At="";;){var mt=gt.div(Et),_t=(gt.sub(mt.mul(Et)).toInt()>>>0).toString(ft);if((gt=mt).isZero())return _t+At;for(;_t.length<6;)_t="0"+_t;At=""+_t+At}},pt.getHighBits=function(){return this.high},pt.getHighBitsUnsigned=function(){return this.high>>>0},pt.getLowBits=function(){return this.low},pt.getLowBitsUnsigned=function(){return this.low>>>0},pt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ht)?64:this.neg().getNumBitsAbs();for(var ft=this.high!=0?this.high:this.low,bt=31;bt>0&&!(ft&1<<bt);bt--);return this.high!=0?bt+33:bt+1},pt.isZero=function(){return this.high===0&&this.low===0},pt.eqz=pt.isZero,pt.isNegative=function(){return!this.unsigned&&this.high<0},pt.isPositive=function(){return this.unsigned||this.high>=0},pt.isOdd=function(){return(1&this.low)==1},pt.isEven=function(){return(1&this.low)==0},pt.equals=function(ft){return a(ft)||(ft=b(ft)),(this.unsigned===ft.unsigned||this.high>>>31!=1||ft.high>>>31!=1)&&this.high===ft.high&&this.low===ft.low},pt.eq=pt.equals,pt.notEquals=function(ft){return!this.eq(ft)},pt.neq=pt.notEquals,pt.ne=pt.notEquals,pt.lessThan=function(ft){return this.comp(ft)<0},pt.lt=pt.lessThan,pt.lessThanOrEqual=function(ft){return this.comp(ft)<=0},pt.lte=pt.lessThanOrEqual,pt.le=pt.lessThanOrEqual,pt.greaterThan=function(ft){return this.comp(ft)>0},pt.gt=pt.greaterThan,pt.greaterThanOrEqual=function(ft){return this.comp(ft)>=0},pt.gte=pt.greaterThanOrEqual,pt.ge=pt.greaterThanOrEqual,pt.compare=function(ft){if(a(ft)||(ft=b(ft)),this.eq(ft))return 0;var bt=this.isNegative(),Ct=ft.isNegative();return bt&&!Ct?-1:!bt&&Ct?1:this.unsigned?ft.high>>>0>this.high>>>0||ft.high===this.high&&ft.low>>>0>this.low>>>0?-1:1:this.sub(ft).isNegative()?-1:1},pt.comp=pt.compare,pt.negate=function(){return!this.unsigned&&this.eq(ht)?ht:this.not().add(ot)},pt.neg=pt.negate,pt.add=function(ft){a(ft)||(ft=b(ft));var bt=this.high>>>16,Ct=65535&this.high,yt=this.low>>>16,Et=65535&this.low,gt=ft.high>>>16,At=65535&ft.high,mt=ft.low>>>16,_t=0,St=0,wt=0,kt=0;return wt+=(kt+=Et+(65535&ft.low))>>>16,St+=(wt+=yt+mt)>>>16,_t+=(St+=Ct+At)>>>16,_t+=bt+gt,j((wt&=65535)<<16|(kt&=65535),(_t&=65535)<<16|(St&=65535),this.unsigned)},pt.subtract=function(ft){return a(ft)||(ft=b(ft)),this.add(ft.neg())},pt.sub=pt.subtract,pt.multiply=function(ft){if(this.isZero())return it;if(a(ft)||(ft=b(ft)),e)return j(e.mul(this.low,this.high,ft.low,ft.high),e.get_high(),this.unsigned);if(ft.isZero())return it;if(this.eq(ht))return ft.isOdd()?ht:it;if(ft.eq(ht))return this.isOdd()?ht:it;if(this.isNegative())return ft.isNegative()?this.neg().mul(ft.neg()):this.neg().mul(ft).neg();if(ft.isNegative())return this.mul(ft.neg()).neg();if(this.lt(rt)&&ft.lt(rt))return $(this.toNumber()*ft.toNumber(),this.unsigned);var bt=this.high>>>16,Ct=65535&this.high,yt=this.low>>>16,Et=65535&this.low,gt=ft.high>>>16,At=65535&ft.high,mt=ft.low>>>16,_t=65535&ft.low,St=0,wt=0,kt=0,Dt=0;return kt+=(Dt+=Et*_t)>>>16,wt+=(kt+=yt*_t)>>>16,kt&=65535,wt+=(kt+=Et*mt)>>>16,St+=(wt+=Ct*_t)>>>16,wt&=65535,St+=(wt+=yt*mt)>>>16,wt&=65535,St+=(wt+=Et*At)>>>16,St+=bt*_t+Ct*mt+yt*At+Et*gt,j((kt&=65535)<<16|(Dt&=65535),(St&=65535)<<16|(wt&=65535),this.unsigned)},pt.mul=pt.multiply,pt.divide=function(ft){if(a(ft)||(ft=b(ft)),ft.isZero())throw Error("division by zero");var bt,Ct,yt;if(e)return this.unsigned||this.high!==-2147483648||ft.low!==-1||ft.high!==-1?j((this.unsigned?e.div_u:e.div_s)(this.low,this.high,ft.low,ft.high),e.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?st:it;if(this.unsigned){if(ft.unsigned||(ft=ft.toUnsigned()),ft.gt(this))return st;if(ft.gt(this.shru(1)))return at;yt=st}else{if(this.eq(ht))return ft.eq(ot)||ft.eq(ct)?ht:ft.eq(ht)?ot:(bt=this.shr(1).div(ft).shl(1)).eq(it)?ft.isNegative()?ot:ct:(Ct=this.sub(ft.mul(bt)),yt=bt.add(Ct.div(ft)));if(ft.eq(ht))return this.unsigned?st:it;if(this.isNegative())return ft.isNegative()?this.neg().div(ft.neg()):this.neg().div(ft).neg();if(ft.isNegative())return this.div(ft.neg()).neg();yt=it}for(Ct=this;Ct.gte(ft);){bt=Math.max(1,Math.floor(Ct.toNumber()/ft.toNumber()));for(var Et=Math.ceil(Math.log(bt)/Math.LN2),gt=Et<=48?1:tt(2,Et-48),At=$(bt),mt=At.mul(ft);mt.isNegative()||mt.gt(Ct);)mt=(At=$(bt-=gt,this.unsigned)).mul(ft);At.isZero()&&(At=ot),yt=yt.add(At),Ct=Ct.sub(mt)}return yt},pt.div=pt.divide,pt.modulo=function(ft){return a(ft)||(ft=b(ft)),e?j((this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,ft.low,ft.high),e.get_high(),this.unsigned):this.sub(this.div(ft).mul(ft))},pt.mod=pt.modulo,pt.rem=pt.modulo,pt.not=function(){return j(~this.low,~this.high,this.unsigned)},pt.and=function(ft){return a(ft)||(ft=b(ft)),j(this.low&ft.low,this.high&ft.high,this.unsigned)},pt.or=function(ft){return a(ft)||(ft=b(ft)),j(this.low|ft.low,this.high|ft.high,this.unsigned)},pt.xor=function(ft){return a(ft)||(ft=b(ft)),j(this.low^ft.low,this.high^ft.high,this.unsigned)},pt.shiftLeft=function(ft){return a(ft)&&(ft=ft.toInt()),(ft&=63)==0?this:ft<32?j(this.low<<ft,this.high<<ft|this.low>>>32-ft,this.unsigned):j(0,this.low<<ft-32,this.unsigned)},pt.shl=pt.shiftLeft,pt.shiftRight=function(ft){return a(ft)&&(ft=ft.toInt()),(ft&=63)==0?this:ft<32?j(this.low>>>ft|this.high<<32-ft,this.high>>ft,this.unsigned):j(this.high>>ft-32,this.high>=0?0:-1,this.unsigned)},pt.shr=pt.shiftRight,pt.shiftRightUnsigned=function(ft){if(a(ft)&&(ft=ft.toInt()),(ft&=63)==0)return this;var bt=this.high;return ft<32?j(this.low>>>ft|bt<<32-ft,bt>>>ft,this.unsigned):j(ft===32?bt:bt>>>ft-32,0,this.unsigned)},pt.shru=pt.shiftRightUnsigned,pt.shr_u=pt.shiftRightUnsigned,pt.toSigned=function(){return this.unsigned?j(this.low,this.high,!1):this},pt.toUnsigned=function(){return this.unsigned?this:j(this.low,this.high,!0)},pt.toBytes=function(ft){return ft?this.toBytesLE():this.toBytesBE()},pt.toBytesLE=function(){var ft=this.high,bt=this.low;return[255&bt,bt>>>8&255,bt>>>16&255,bt>>>24,255&ft,ft>>>8&255,ft>>>16&255,ft>>>24]},pt.toBytesBE=function(){var ft=this.high,bt=this.low;return[ft>>>24,ft>>>16&255,ft>>>8&255,255&ft,bt>>>24,bt>>>16&255,bt>>>8&255,255&bt]},s.fromBytes=function(ft,bt,Ct){return Ct?s.fromBytesLE(ft,bt):s.fromBytesBE(ft,bt)},s.fromBytesLE=function(ft,bt){return new s(ft[0]|ft[1]<<8|ft[2]<<16|ft[3]<<24,ft[4]|ft[5]<<8|ft[6]<<16|ft[7]<<24,bt)},s.fromBytesBE=function(ft,bt){return new s(ft[4]<<24|ft[5]<<16|ft[6]<<8|ft[7],ft[0]<<24|ft[1]<<16|ft[2]<<8|ft[3],bt)}},1446:(o,e,s)=>{var a,c,d,g=s(2100),$=g.Reader,j=g.Writer,tt=g.util,et=g.roots.default||(g.roots.default={});et.onnx=((d={}).Version=(a={},(c=Object.create(a))[a[0]="_START_VERSION"]=0,c[a[1]="IR_VERSION_2017_10_10"]=1,c[a[2]="IR_VERSION_2017_10_30"]=2,c[a[3]="IR_VERSION_2017_11_3"]=3,c[a[4]="IR_VERSION_2019_1_22"]=4,c[a[5]="IR_VERSION"]=5,c),d.AttributeProto=function(){function b(h){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],h)for(var _e=Object.keys(h),nt=0;nt<_e.length;++nt)h[_e[nt]]!=null&&(this[_e[nt]]=h[_e[nt]])}return b.prototype.name="",b.prototype.refAttrName="",b.prototype.docString="",b.prototype.type=0,b.prototype.f=0,b.prototype.i=tt.Long?tt.Long.fromBits(0,0,!1):0,b.prototype.s=tt.newBuffer([]),b.prototype.t=null,b.prototype.g=null,b.prototype.floats=tt.emptyArray,b.prototype.ints=tt.emptyArray,b.prototype.strings=tt.emptyArray,b.prototype.tensors=tt.emptyArray,b.prototype.graphs=tt.emptyArray,b.create=function(h){return new b(h)},b.encode=function(h,_e){if(_e||(_e=j.create()),h.name!=null&&h.hasOwnProperty("name")&&_e.uint32(10).string(h.name),h.f!=null&&h.hasOwnProperty("f")&&_e.uint32(21).float(h.f),h.i!=null&&h.hasOwnProperty("i")&&_e.uint32(24).int64(h.i),h.s!=null&&h.hasOwnProperty("s")&&_e.uint32(34).bytes(h.s),h.t!=null&&h.hasOwnProperty("t")&&et.onnx.TensorProto.encode(h.t,_e.uint32(42).fork()).ldelim(),h.g!=null&&h.hasOwnProperty("g")&&et.onnx.GraphProto.encode(h.g,_e.uint32(50).fork()).ldelim(),h.floats!=null&&h.floats.length){_e.uint32(58).fork();for(var nt=0;nt<h.floats.length;++nt)_e.float(h.floats[nt]);_e.ldelim()}if(h.ints!=null&&h.ints.length){for(_e.uint32(66).fork(),nt=0;nt<h.ints.length;++nt)_e.int64(h.ints[nt]);_e.ldelim()}if(h.strings!=null&&h.strings.length)for(nt=0;nt<h.strings.length;++nt)_e.uint32(74).bytes(h.strings[nt]);if(h.tensors!=null&&h.tensors.length)for(nt=0;nt<h.tensors.length;++nt)et.onnx.TensorProto.encode(h.tensors[nt],_e.uint32(82).fork()).ldelim();if(h.graphs!=null&&h.graphs.length)for(nt=0;nt<h.graphs.length;++nt)et.onnx.GraphProto.encode(h.graphs[nt],_e.uint32(90).fork()).ldelim();return h.docString!=null&&h.hasOwnProperty("docString")&&_e.uint32(106).string(h.docString),h.type!=null&&h.hasOwnProperty("type")&&_e.uint32(160).int32(h.type),h.refAttrName!=null&&h.hasOwnProperty("refAttrName")&&_e.uint32(170).string(h.refAttrName),_e},b.encodeDelimited=function(h,_e){return this.encode(h,_e).ldelim()},b.decode=function(h,_e){h instanceof $||(h=$.create(h));for(var nt=_e===void 0?h.len:h.pos+_e,rt=new et.onnx.AttributeProto;h.pos<nt;){var it=h.uint32();switch(it>>>3){case 1:rt.name=h.string();break;case 21:rt.refAttrName=h.string();break;case 13:rt.docString=h.string();break;case 20:rt.type=h.int32();break;case 2:rt.f=h.float();break;case 3:rt.i=h.int64();break;case 4:rt.s=h.bytes();break;case 5:rt.t=et.onnx.TensorProto.decode(h,h.uint32());break;case 6:rt.g=et.onnx.GraphProto.decode(h,h.uint32());break;case 7:if(rt.floats&&rt.floats.length||(rt.floats=[]),(7&it)==2)for(var st=h.uint32()+h.pos;h.pos<st;)rt.floats.push(h.float());else rt.floats.push(h.float());break;case 8:if(rt.ints&&rt.ints.length||(rt.ints=[]),(7&it)==2)for(st=h.uint32()+h.pos;h.pos<st;)rt.ints.push(h.int64());else rt.ints.push(h.int64());break;case 9:rt.strings&&rt.strings.length||(rt.strings=[]),rt.strings.push(h.bytes());break;case 10:rt.tensors&&rt.tensors.length||(rt.tensors=[]),rt.tensors.push(et.onnx.TensorProto.decode(h,h.uint32()));break;case 11:rt.graphs&&rt.graphs.length||(rt.graphs=[]),rt.graphs.push(et.onnx.GraphProto.decode(h,h.uint32()));break;default:h.skipType(7&it)}}return rt},b.decodeDelimited=function(h){return h instanceof $||(h=new $(h)),this.decode(h,h.uint32())},b.verify=function(h){if(typeof h!="object"||h===null)return"object expected";if(h.name!=null&&h.hasOwnProperty("name")&&!tt.isString(h.name))return"name: string expected";if(h.refAttrName!=null&&h.hasOwnProperty("refAttrName")&&!tt.isString(h.refAttrName))return"refAttrName: string expected";if(h.docString!=null&&h.hasOwnProperty("docString")&&!tt.isString(h.docString))return"docString: string expected";if(h.type!=null&&h.hasOwnProperty("type"))switch(h.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(h.f!=null&&h.hasOwnProperty("f")&&typeof h.f!="number")return"f: number expected";if(h.i!=null&&h.hasOwnProperty("i")&&!(tt.isInteger(h.i)||h.i&&tt.isInteger(h.i.low)&&tt.isInteger(h.i.high)))return"i: integer|Long expected";if(h.s!=null&&h.hasOwnProperty("s")&&!(h.s&&typeof h.s.length=="number"||tt.isString(h.s)))return"s: buffer expected";if(h.t!=null&&h.hasOwnProperty("t")&&(nt=et.onnx.TensorProto.verify(h.t)))return"t."+nt;if(h.g!=null&&h.hasOwnProperty("g")&&(nt=et.onnx.GraphProto.verify(h.g)))return"g."+nt;if(h.floats!=null&&h.hasOwnProperty("floats")){if(!Array.isArray(h.floats))return"floats: array expected";for(var _e=0;_e<h.floats.length;++_e)if(typeof h.floats[_e]!="number")return"floats: number[] expected"}if(h.ints!=null&&h.hasOwnProperty("ints")){if(!Array.isArray(h.ints))return"ints: array expected";for(_e=0;_e<h.ints.length;++_e)if(!(tt.isInteger(h.ints[_e])||h.ints[_e]&&tt.isInteger(h.ints[_e].low)&&tt.isInteger(h.ints[_e].high)))return"ints: integer|Long[] expected"}if(h.strings!=null&&h.hasOwnProperty("strings")){if(!Array.isArray(h.strings))return"strings: array expected";for(_e=0;_e<h.strings.length;++_e)if(!(h.strings[_e]&&typeof h.strings[_e].length=="number"||tt.isString(h.strings[_e])))return"strings: buffer[] expected"}if(h.tensors!=null&&h.hasOwnProperty("tensors")){if(!Array.isArray(h.tensors))return"tensors: array expected";for(_e=0;_e<h.tensors.length;++_e)if(nt=et.onnx.TensorProto.verify(h.tensors[_e]))return"tensors."+nt}if(h.graphs!=null&&h.hasOwnProperty("graphs")){if(!Array.isArray(h.graphs))return"graphs: array expected";for(_e=0;_e<h.graphs.length;++_e){var nt;if(nt=et.onnx.GraphProto.verify(h.graphs[_e]))return"graphs."+nt}}return null},b.fromObject=function(h){if(h instanceof et.onnx.AttributeProto)return h;var _e=new et.onnx.AttributeProto;switch(h.name!=null&&(_e.name=String(h.name)),h.refAttrName!=null&&(_e.refAttrName=String(h.refAttrName)),h.docString!=null&&(_e.docString=String(h.docString)),h.type){case"UNDEFINED":case 0:_e.type=0;break;case"FLOAT":case 1:_e.type=1;break;case"INT":case 2:_e.type=2;break;case"STRING":case 3:_e.type=3;break;case"TENSOR":case 4:_e.type=4;break;case"GRAPH":case 5:_e.type=5;break;case"FLOATS":case 6:_e.type=6;break;case"INTS":case 7:_e.type=7;break;case"STRINGS":case 8:_e.type=8;break;case"TENSORS":case 9:_e.type=9;break;case"GRAPHS":case 10:_e.type=10}if(h.f!=null&&(_e.f=Number(h.f)),h.i!=null&&(tt.Long?(_e.i=tt.Long.fromValue(h.i)).unsigned=!1:typeof h.i=="string"?_e.i=parseInt(h.i,10):typeof h.i=="number"?_e.i=h.i:typeof h.i=="object"&&(_e.i=new tt.LongBits(h.i.low>>>0,h.i.high>>>0).toNumber())),h.s!=null&&(typeof h.s=="string"?tt.base64.decode(h.s,_e.s=tt.newBuffer(tt.base64.length(h.s)),0):h.s.length&&(_e.s=h.s)),h.t!=null){if(typeof h.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");_e.t=et.onnx.TensorProto.fromObject(h.t)}if(h.g!=null){if(typeof h.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");_e.g=et.onnx.GraphProto.fromObject(h.g)}if(h.floats){if(!Array.isArray(h.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");_e.floats=[];for(var nt=0;nt<h.floats.length;++nt)_e.floats[nt]=Number(h.floats[nt])}if(h.ints){if(!Array.isArray(h.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(_e.ints=[],nt=0;nt<h.ints.length;++nt)tt.Long?(_e.ints[nt]=tt.Long.fromValue(h.ints[nt])).unsigned=!1:typeof h.ints[nt]=="string"?_e.ints[nt]=parseInt(h.ints[nt],10):typeof h.ints[nt]=="number"?_e.ints[nt]=h.ints[nt]:typeof h.ints[nt]=="object"&&(_e.ints[nt]=new tt.LongBits(h.ints[nt].low>>>0,h.ints[nt].high>>>0).toNumber())}if(h.strings){if(!Array.isArray(h.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(_e.strings=[],nt=0;nt<h.strings.length;++nt)typeof h.strings[nt]=="string"?tt.base64.decode(h.strings[nt],_e.strings[nt]=tt.newBuffer(tt.base64.length(h.strings[nt])),0):h.strings[nt].length&&(_e.strings[nt]=h.strings[nt])}if(h.tensors){if(!Array.isArray(h.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(_e.tensors=[],nt=0;nt<h.tensors.length;++nt){if(typeof h.tensors[nt]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");_e.tensors[nt]=et.onnx.TensorProto.fromObject(h.tensors[nt])}}if(h.graphs){if(!Array.isArray(h.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(_e.graphs=[],nt=0;nt<h.graphs.length;++nt){if(typeof h.graphs[nt]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");_e.graphs[nt]=et.onnx.GraphProto.fromObject(h.graphs[nt])}}return _e},b.toObject=function(h,_e){_e||(_e={});var nt={};if((_e.arrays||_e.defaults)&&(nt.floats=[],nt.ints=[],nt.strings=[],nt.tensors=[],nt.graphs=[]),_e.defaults){if(nt.name="",nt.f=0,tt.Long){var rt=new tt.Long(0,0,!1);nt.i=_e.longs===String?rt.toString():_e.longs===Number?rt.toNumber():rt}else nt.i=_e.longs===String?"0":0;_e.bytes===String?nt.s="":(nt.s=[],_e.bytes!==Array&&(nt.s=tt.newBuffer(nt.s))),nt.t=null,nt.g=null,nt.docString="",nt.type=_e.enums===String?"UNDEFINED":0,nt.refAttrName=""}if(h.name!=null&&h.hasOwnProperty("name")&&(nt.name=h.name),h.f!=null&&h.hasOwnProperty("f")&&(nt.f=_e.json&&!isFinite(h.f)?String(h.f):h.f),h.i!=null&&h.hasOwnProperty("i")&&(typeof h.i=="number"?nt.i=_e.longs===String?String(h.i):h.i:nt.i=_e.longs===String?tt.Long.prototype.toString.call(h.i):_e.longs===Number?new tt.LongBits(h.i.low>>>0,h.i.high>>>0).toNumber():h.i),h.s!=null&&h.hasOwnProperty("s")&&(nt.s=_e.bytes===String?tt.base64.encode(h.s,0,h.s.length):_e.bytes===Array?Array.prototype.slice.call(h.s):h.s),h.t!=null&&h.hasOwnProperty("t")&&(nt.t=et.onnx.TensorProto.toObject(h.t,_e)),h.g!=null&&h.hasOwnProperty("g")&&(nt.g=et.onnx.GraphProto.toObject(h.g,_e)),h.floats&&h.floats.length){nt.floats=[];for(var it=0;it<h.floats.length;++it)nt.floats[it]=_e.json&&!isFinite(h.floats[it])?String(h.floats[it]):h.floats[it]}if(h.ints&&h.ints.length)for(nt.ints=[],it=0;it<h.ints.length;++it)typeof h.ints[it]=="number"?nt.ints[it]=_e.longs===String?String(h.ints[it]):h.ints[it]:nt.ints[it]=_e.longs===String?tt.Long.prototype.toString.call(h.ints[it]):_e.longs===Number?new tt.LongBits(h.ints[it].low>>>0,h.ints[it].high>>>0).toNumber():h.ints[it];if(h.strings&&h.strings.length)for(nt.strings=[],it=0;it<h.strings.length;++it)nt.strings[it]=_e.bytes===String?tt.base64.encode(h.strings[it],0,h.strings[it].length):_e.bytes===Array?Array.prototype.slice.call(h.strings[it]):h.strings[it];if(h.tensors&&h.tensors.length)for(nt.tensors=[],it=0;it<h.tensors.length;++it)nt.tensors[it]=et.onnx.TensorProto.toObject(h.tensors[it],_e);if(h.graphs&&h.graphs.length)for(nt.graphs=[],it=0;it<h.graphs.length;++it)nt.graphs[it]=et.onnx.GraphProto.toObject(h.graphs[it],_e);return h.docString!=null&&h.hasOwnProperty("docString")&&(nt.docString=h.docString),h.type!=null&&h.hasOwnProperty("type")&&(nt.type=_e.enums===String?et.onnx.AttributeProto.AttributeType[h.type]:h.type),h.refAttrName!=null&&h.hasOwnProperty("refAttrName")&&(nt.refAttrName=h.refAttrName),nt},b.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},b.AttributeType=function(){var h={},_e=Object.create(h);return _e[h[0]="UNDEFINED"]=0,_e[h[1]="FLOAT"]=1,_e[h[2]="INT"]=2,_e[h[3]="STRING"]=3,_e[h[4]="TENSOR"]=4,_e[h[5]="GRAPH"]=5,_e[h[6]="FLOATS"]=6,_e[h[7]="INTS"]=7,_e[h[8]="STRINGS"]=8,_e[h[9]="TENSORS"]=9,_e[h[10]="GRAPHS"]=10,_e}(),b}(),d.ValueInfoProto=function(){function b(h){if(h)for(var _e=Object.keys(h),nt=0;nt<_e.length;++nt)h[_e[nt]]!=null&&(this[_e[nt]]=h[_e[nt]])}return b.prototype.name="",b.prototype.type=null,b.prototype.docString="",b.create=function(h){return new b(h)},b.encode=function(h,_e){return _e||(_e=j.create()),h.name!=null&&h.hasOwnProperty("name")&&_e.uint32(10).string(h.name),h.type!=null&&h.hasOwnProperty("type")&&et.onnx.TypeProto.encode(h.type,_e.uint32(18).fork()).ldelim(),h.docString!=null&&h.hasOwnProperty("docString")&&_e.uint32(26).string(h.docString),_e},b.encodeDelimited=function(h,_e){return this.encode(h,_e).ldelim()},b.decode=function(h,_e){h instanceof $||(h=$.create(h));for(var nt=_e===void 0?h.len:h.pos+_e,rt=new et.onnx.ValueInfoProto;h.pos<nt;){var it=h.uint32();switch(it>>>3){case 1:rt.name=h.string();break;case 2:rt.type=et.onnx.TypeProto.decode(h,h.uint32());break;case 3:rt.docString=h.string();break;default:h.skipType(7&it)}}return rt},b.decodeDelimited=function(h){return h instanceof $||(h=new $(h)),this.decode(h,h.uint32())},b.verify=function(h){if(typeof h!="object"||h===null)return"object expected";if(h.name!=null&&h.hasOwnProperty("name")&&!tt.isString(h.name))return"name: string expected";if(h.type!=null&&h.hasOwnProperty("type")){var _e=et.onnx.TypeProto.verify(h.type);if(_e)return"type."+_e}return h.docString!=null&&h.hasOwnProperty("docString")&&!tt.isString(h.docString)?"docString: string expected":null},b.fromObject=function(h){if(h instanceof et.onnx.ValueInfoProto)return h;var _e=new et.onnx.ValueInfoProto;if(h.name!=null&&(_e.name=String(h.name)),h.type!=null){if(typeof h.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");_e.type=et.onnx.TypeProto.fromObject(h.type)}return h.docString!=null&&(_e.docString=String(h.docString)),_e},b.toObject=function(h,_e){_e||(_e={});var nt={};return _e.defaults&&(nt.name="",nt.type=null,nt.docString=""),h.name!=null&&h.hasOwnProperty("name")&&(nt.name=h.name),h.type!=null&&h.hasOwnProperty("type")&&(nt.type=et.onnx.TypeProto.toObject(h.type,_e)),h.docString!=null&&h.hasOwnProperty("docString")&&(nt.docString=h.docString),nt},b.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},b}(),d.NodeProto=function(){function b(h){if(this.input=[],this.output=[],this.attribute=[],h)for(var _e=Object.keys(h),nt=0;nt<_e.length;++nt)h[_e[nt]]!=null&&(this[_e[nt]]=h[_e[nt]])}return b.prototype.input=tt.emptyArray,b.prototype.output=tt.emptyArray,b.prototype.name="",b.prototype.opType="",b.prototype.domain="",b.prototype.attribute=tt.emptyArray,b.prototype.docString="",b.create=function(h){return new b(h)},b.encode=function(h,_e){if(_e||(_e=j.create()),h.input!=null&&h.input.length)for(var nt=0;nt<h.input.length;++nt)_e.uint32(10).string(h.input[nt]);if(h.output!=null&&h.output.length)for(nt=0;nt<h.output.length;++nt)_e.uint32(18).string(h.output[nt]);if(h.name!=null&&h.hasOwnProperty("name")&&_e.uint32(26).string(h.name),h.opType!=null&&h.hasOwnProperty("opType")&&_e.uint32(34).string(h.opType),h.attribute!=null&&h.attribute.length)for(nt=0;nt<h.attribute.length;++nt)et.onnx.AttributeProto.encode(h.attribute[nt],_e.uint32(42).fork()).ldelim();return h.docString!=null&&h.hasOwnProperty("docString")&&_e.uint32(50).string(h.docString),h.domain!=null&&h.hasOwnProperty("domain")&&_e.uint32(58).string(h.domain),_e},b.encodeDelimited=function(h,_e){return this.encode(h,_e).ldelim()},b.decode=function(h,_e){h instanceof $||(h=$.create(h));for(var nt=_e===void 0?h.len:h.pos+_e,rt=new et.onnx.NodeProto;h.pos<nt;){var it=h.uint32();switch(it>>>3){case 1:rt.input&&rt.input.length||(rt.input=[]),rt.input.push(h.string());break;case 2:rt.output&&rt.output.length||(rt.output=[]),rt.output.push(h.string());break;case 3:rt.name=h.string();break;case 4:rt.opType=h.string();break;case 7:rt.domain=h.string();break;case 5:rt.attribute&&rt.attribute.length||(rt.attribute=[]),rt.attribute.push(et.onnx.AttributeProto.decode(h,h.uint32()));break;case 6:rt.docString=h.string();break;default:h.skipType(7&it)}}return rt},b.decodeDelimited=function(h){return h instanceof $||(h=new $(h)),this.decode(h,h.uint32())},b.verify=function(h){if(typeof h!="object"||h===null)return"object expected";if(h.input!=null&&h.hasOwnProperty("input")){if(!Array.isArray(h.input))return"input: array expected";for(var _e=0;_e<h.input.length;++_e)if(!tt.isString(h.input[_e]))return"input: string[] expected"}if(h.output!=null&&h.hasOwnProperty("output")){if(!Array.isArray(h.output))return"output: array expected";for(_e=0;_e<h.output.length;++_e)if(!tt.isString(h.output[_e]))return"output: string[] expected"}if(h.name!=null&&h.hasOwnProperty("name")&&!tt.isString(h.name))return"name: string expected";if(h.opType!=null&&h.hasOwnProperty("opType")&&!tt.isString(h.opType))return"opType: string expected";if(h.domain!=null&&h.hasOwnProperty("domain")&&!tt.isString(h.domain))return"domain: string expected";if(h.attribute!=null&&h.hasOwnProperty("attribute")){if(!Array.isArray(h.attribute))return"attribute: array expected";for(_e=0;_e<h.attribute.length;++_e){var nt=et.onnx.AttributeProto.verify(h.attribute[_e]);if(nt)return"attribute."+nt}}return h.docString!=null&&h.hasOwnProperty("docString")&&!tt.isString(h.docString)?"docString: string expected":null},b.fromObject=function(h){if(h instanceof et.onnx.NodeProto)return h;var _e=new et.onnx.NodeProto;if(h.input){if(!Array.isArray(h.input))throw TypeError(".onnx.NodeProto.input: array expected");_e.input=[];for(var nt=0;nt<h.input.length;++nt)_e.input[nt]=String(h.input[nt])}if(h.output){if(!Array.isArray(h.output))throw TypeError(".onnx.NodeProto.output: array expected");for(_e.output=[],nt=0;nt<h.output.length;++nt)_e.output[nt]=String(h.output[nt])}if(h.name!=null&&(_e.name=String(h.name)),h.opType!=null&&(_e.opType=String(h.opType)),h.domain!=null&&(_e.domain=String(h.domain)),h.attribute){if(!Array.isArray(h.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(_e.attribute=[],nt=0;nt<h.attribute.length;++nt){if(typeof h.attribute[nt]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");_e.attribute[nt]=et.onnx.AttributeProto.fromObject(h.attribute[nt])}}return h.docString!=null&&(_e.docString=String(h.docString)),_e},b.toObject=function(h,_e){_e||(_e={});var nt={};if((_e.arrays||_e.defaults)&&(nt.input=[],nt.output=[],nt.attribute=[]),_e.defaults&&(nt.name="",nt.opType="",nt.docString="",nt.domain=""),h.input&&h.input.length){nt.input=[];for(var rt=0;rt<h.input.length;++rt)nt.input[rt]=h.input[rt]}if(h.output&&h.output.length)for(nt.output=[],rt=0;rt<h.output.length;++rt)nt.output[rt]=h.output[rt];if(h.name!=null&&h.hasOwnProperty("name")&&(nt.name=h.name),h.opType!=null&&h.hasOwnProperty("opType")&&(nt.opType=h.opType),h.attribute&&h.attribute.length)for(nt.attribute=[],rt=0;rt<h.attribute.length;++rt)nt.attribute[rt]=et.onnx.AttributeProto.toObject(h.attribute[rt],_e);return h.docString!=null&&h.hasOwnProperty("docString")&&(nt.docString=h.docString),h.domain!=null&&h.hasOwnProperty("domain")&&(nt.domain=h.domain),nt},b.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},b}(),d.ModelProto=function(){function b(h){if(this.opsetImport=[],this.metadataProps=[],h)for(var _e=Object.keys(h),nt=0;nt<_e.length;++nt)h[_e[nt]]!=null&&(this[_e[nt]]=h[_e[nt]])}return b.prototype.irVersion=tt.Long?tt.Long.fromBits(0,0,!1):0,b.prototype.opsetImport=tt.emptyArray,b.prototype.producerName="",b.prototype.producerVersion="",b.prototype.domain="",b.prototype.modelVersion=tt.Long?tt.Long.fromBits(0,0,!1):0,b.prototype.docString="",b.prototype.graph=null,b.prototype.metadataProps=tt.emptyArray,b.create=function(h){return new b(h)},b.encode=function(h,_e){if(_e||(_e=j.create()),h.irVersion!=null&&h.hasOwnProperty("irVersion")&&_e.uint32(8).int64(h.irVersion),h.producerName!=null&&h.hasOwnProperty("producerName")&&_e.uint32(18).string(h.producerName),h.producerVersion!=null&&h.hasOwnProperty("producerVersion")&&_e.uint32(26).string(h.producerVersion),h.domain!=null&&h.hasOwnProperty("domain")&&_e.uint32(34).string(h.domain),h.modelVersion!=null&&h.hasOwnProperty("modelVersion")&&_e.uint32(40).int64(h.modelVersion),h.docString!=null&&h.hasOwnProperty("docString")&&_e.uint32(50).string(h.docString),h.graph!=null&&h.hasOwnProperty("graph")&&et.onnx.GraphProto.encode(h.graph,_e.uint32(58).fork()).ldelim(),h.opsetImport!=null&&h.opsetImport.length)for(var nt=0;nt<h.opsetImport.length;++nt)et.onnx.OperatorSetIdProto.encode(h.opsetImport[nt],_e.uint32(66).fork()).ldelim();if(h.metadataProps!=null&&h.metadataProps.length)for(nt=0;nt<h.metadataProps.length;++nt)et.onnx.StringStringEntryProto.encode(h.metadataProps[nt],_e.uint32(114).fork()).ldelim();return _e},b.encodeDelimited=function(h,_e){return this.encode(h,_e).ldelim()},b.decode=function(h,_e){h instanceof $||(h=$.create(h));for(var nt=_e===void 0?h.len:h.pos+_e,rt=new et.onnx.ModelProto;h.pos<nt;){var it=h.uint32();switch(it>>>3){case 1:rt.irVersion=h.int64();break;case 8:rt.opsetImport&&rt.opsetImport.length||(rt.opsetImport=[]),rt.opsetImport.push(et.onnx.OperatorSetIdProto.decode(h,h.uint32()));break;case 2:rt.producerName=h.string();break;case 3:rt.producerVersion=h.string();break;case 4:rt.domain=h.string();break;case 5:rt.modelVersion=h.int64();break;case 6:rt.docString=h.string();break;case 7:rt.graph=et.onnx.GraphProto.decode(h,h.uint32());break;case 14:rt.metadataProps&&rt.metadataProps.length||(rt.metadataProps=[]),rt.metadataProps.push(et.onnx.StringStringEntryProto.decode(h,h.uint32()));break;default:h.skipType(7&it)}}return rt},b.decodeDelimited=function(h){return h instanceof $||(h=new $(h)),this.decode(h,h.uint32())},b.verify=function(h){if(typeof h!="object"||h===null)return"object expected";if(h.irVersion!=null&&h.hasOwnProperty("irVersion")&&!(tt.isInteger(h.irVersion)||h.irVersion&&tt.isInteger(h.irVersion.low)&&tt.isInteger(h.irVersion.high)))return"irVersion: integer|Long expected";if(h.opsetImport!=null&&h.hasOwnProperty("opsetImport")){if(!Array.isArray(h.opsetImport))return"opsetImport: array expected";for(var _e=0;_e<h.opsetImport.length;++_e)if(nt=et.onnx.OperatorSetIdProto.verify(h.opsetImport[_e]))return"opsetImport."+nt}if(h.producerName!=null&&h.hasOwnProperty("producerName")&&!tt.isString(h.producerName))return"producerName: string expected";if(h.producerVersion!=null&&h.hasOwnProperty("producerVersion")&&!tt.isString(h.producerVersion))return"producerVersion: string expected";if(h.domain!=null&&h.hasOwnProperty("domain")&&!tt.isString(h.domain))return"domain: string expected";if(h.modelVersion!=null&&h.hasOwnProperty("modelVersion")&&!(tt.isInteger(h.modelVersion)||h.modelVersion&&tt.isInteger(h.modelVersion.low)&&tt.isInteger(h.modelVersion.high)))return"modelVersion: integer|Long expected";if(h.docString!=null&&h.hasOwnProperty("docString")&&!tt.isString(h.docString))return"docString: string expected";if(h.graph!=null&&h.hasOwnProperty("graph")&&(nt=et.onnx.GraphProto.verify(h.graph)))return"graph."+nt;if(h.metadataProps!=null&&h.hasOwnProperty("metadataProps")){if(!Array.isArray(h.metadataProps))return"metadataProps: array expected";for(_e=0;_e<h.metadataProps.length;++_e){var nt;if(nt=et.onnx.StringStringEntryProto.verify(h.metadataProps[_e]))return"metadataProps."+nt}}return null},b.fromObject=function(h){if(h instanceof et.onnx.ModelProto)return h;var _e=new et.onnx.ModelProto;if(h.irVersion!=null&&(tt.Long?(_e.irVersion=tt.Long.fromValue(h.irVersion)).unsigned=!1:typeof h.irVersion=="string"?_e.irVersion=parseInt(h.irVersion,10):typeof h.irVersion=="number"?_e.irVersion=h.irVersion:typeof h.irVersion=="object"&&(_e.irVersion=new tt.LongBits(h.irVersion.low>>>0,h.irVersion.high>>>0).toNumber())),h.opsetImport){if(!Array.isArray(h.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");_e.opsetImport=[];for(var nt=0;nt<h.opsetImport.length;++nt){if(typeof h.opsetImport[nt]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");_e.opsetImport[nt]=et.onnx.OperatorSetIdProto.fromObject(h.opsetImport[nt])}}if(h.producerName!=null&&(_e.producerName=String(h.producerName)),h.producerVersion!=null&&(_e.producerVersion=String(h.producerVersion)),h.domain!=null&&(_e.domain=String(h.domain)),h.modelVersion!=null&&(tt.Long?(_e.modelVersion=tt.Long.fromValue(h.modelVersion)).unsigned=!1:typeof h.modelVersion=="string"?_e.modelVersion=parseInt(h.modelVersion,10):typeof h.modelVersion=="number"?_e.modelVersion=h.modelVersion:typeof h.modelVersion=="object"&&(_e.modelVersion=new tt.LongBits(h.modelVersion.low>>>0,h.modelVersion.high>>>0).toNumber())),h.docString!=null&&(_e.docString=String(h.docString)),h.graph!=null){if(typeof h.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");_e.graph=et.onnx.GraphProto.fromObject(h.graph)}if(h.metadataProps){if(!Array.isArray(h.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(_e.metadataProps=[],nt=0;nt<h.metadataProps.length;++nt){if(typeof h.metadataProps[nt]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");_e.metadataProps[nt]=et.onnx.StringStringEntryProto.fromObject(h.metadataProps[nt])}}return _e},b.toObject=function(h,_e){_e||(_e={});var nt={};if((_e.arrays||_e.defaults)&&(nt.opsetImport=[],nt.metadataProps=[]),_e.defaults){if(tt.Long){var rt=new tt.Long(0,0,!1);nt.irVersion=_e.longs===String?rt.toString():_e.longs===Number?rt.toNumber():rt}else nt.irVersion=_e.longs===String?"0":0;nt.producerName="",nt.producerVersion="",nt.domain="",tt.Long?(rt=new tt.Long(0,0,!1),nt.modelVersion=_e.longs===String?rt.toString():_e.longs===Number?rt.toNumber():rt):nt.modelVersion=_e.longs===String?"0":0,nt.docString="",nt.graph=null}if(h.irVersion!=null&&h.hasOwnProperty("irVersion")&&(typeof h.irVersion=="number"?nt.irVersion=_e.longs===String?String(h.irVersion):h.irVersion:nt.irVersion=_e.longs===String?tt.Long.prototype.toString.call(h.irVersion):_e.longs===Number?new tt.LongBits(h.irVersion.low>>>0,h.irVersion.high>>>0).toNumber():h.irVersion),h.producerName!=null&&h.hasOwnProperty("producerName")&&(nt.producerName=h.producerName),h.producerVersion!=null&&h.hasOwnProperty("producerVersion")&&(nt.producerVersion=h.producerVersion),h.domain!=null&&h.hasOwnProperty("domain")&&(nt.domain=h.domain),h.modelVersion!=null&&h.hasOwnProperty("modelVersion")&&(typeof h.modelVersion=="number"?nt.modelVersion=_e.longs===String?String(h.modelVersion):h.modelVersion:nt.modelVersion=_e.longs===String?tt.Long.prototype.toString.call(h.modelVersion):_e.longs===Number?new tt.LongBits(h.modelVersion.low>>>0,h.modelVersion.high>>>0).toNumber():h.modelVersion),h.docString!=null&&h.hasOwnProperty("docString")&&(nt.docString=h.docString),h.graph!=null&&h.hasOwnProperty("graph")&&(nt.graph=et.onnx.GraphProto.toObject(h.graph,_e)),h.opsetImport&&h.opsetImport.length){nt.opsetImport=[];for(var it=0;it<h.opsetImport.length;++it)nt.opsetImport[it]=et.onnx.OperatorSetIdProto.toObject(h.opsetImport[it],_e)}if(h.metadataProps&&h.metadataProps.length)for(nt.metadataProps=[],it=0;it<h.metadataProps.length;++it)nt.metadataProps[it]=et.onnx.StringStringEntryProto.toObject(h.metadataProps[it],_e);return nt},b.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},b}(),d.StringStringEntryProto=function(){function b(h){if(h)for(var _e=Object.keys(h),nt=0;nt<_e.length;++nt)h[_e[nt]]!=null&&(this[_e[nt]]=h[_e[nt]])}return b.prototype.key="",b.prototype.value="",b.create=function(h){return new b(h)},b.encode=function(h,_e){return _e||(_e=j.create()),h.key!=null&&h.hasOwnProperty("key")&&_e.uint32(10).string(h.key),h.value!=null&&h.hasOwnProperty("value")&&_e.uint32(18).string(h.value),_e},b.encodeDelimited=function(h,_e){return this.encode(h,_e).ldelim()},b.decode=function(h,_e){h instanceof $||(h=$.create(h));for(var nt=_e===void 0?h.len:h.pos+_e,rt=new et.onnx.StringStringEntryProto;h.pos<nt;){var it=h.uint32();switch(it>>>3){case 1:rt.key=h.string();break;case 2:rt.value=h.string();break;default:h.skipType(7&it)}}return rt},b.decodeDelimited=function(h){return h instanceof $||(h=new $(h)),this.decode(h,h.uint32())},b.verify=function(h){return typeof h!="object"||h===null?"object expected":h.key!=null&&h.hasOwnProperty("key")&&!tt.isString(h.key)?"key: string expected":h.value!=null&&h.hasOwnProperty("value")&&!tt.isString(h.value)?"value: string expected":null},b.fromObject=function(h){if(h instanceof et.onnx.StringStringEntryProto)return h;var _e=new et.onnx.StringStringEntryProto;return h.key!=null&&(_e.key=String(h.key)),h.value!=null&&(_e.value=String(h.value)),_e},b.toObject=function(h,_e){_e||(_e={});var nt={};return _e.defaults&&(nt.key="",nt.value=""),h.key!=null&&h.hasOwnProperty("key")&&(nt.key=h.key),h.value!=null&&h.hasOwnProperty("value")&&(nt.value=h.value),nt},b.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},b}(),d.TensorAnnotation=function(){function b(h){if(this.quantParameterTensorNames=[],h)for(var _e=Object.keys(h),nt=0;nt<_e.length;++nt)h[_e[nt]]!=null&&(this[_e[nt]]=h[_e[nt]])}return b.prototype.tensorName="",b.prototype.quantParameterTensorNames=tt.emptyArray,b.create=function(h){return new b(h)},b.encode=function(h,_e){if(_e||(_e=j.create()),h.tensorName!=null&&h.hasOwnProperty("tensorName")&&_e.uint32(10).string(h.tensorName),h.quantParameterTensorNames!=null&&h.quantParameterTensorNames.length)for(var nt=0;nt<h.quantParameterTensorNames.length;++nt)et.onnx.StringStringEntryProto.encode(h.quantParameterTensorNames[nt],_e.uint32(18).fork()).ldelim();return _e},b.encodeDelimited=function(h,_e){return this.encode(h,_e).ldelim()},b.decode=function(h,_e){h instanceof $||(h=$.create(h));for(var nt=_e===void 0?h.len:h.pos+_e,rt=new et.onnx.TensorAnnotation;h.pos<nt;){var it=h.uint32();switch(it>>>3){case 1:rt.tensorName=h.string();break;case 2:rt.quantParameterTensorNames&&rt.quantParameterTensorNames.length||(rt.quantParameterTensorNames=[]),rt.quantParameterTensorNames.push(et.onnx.StringStringEntryProto.decode(h,h.uint32()));break;default:h.skipType(7&it)}}return rt},b.decodeDelimited=function(h){return h instanceof $||(h=new $(h)),this.decode(h,h.uint32())},b.verify=function(h){if(typeof h!="object"||h===null)return"object expected";if(h.tensorName!=null&&h.hasOwnProperty("tensorName")&&!tt.isString(h.tensorName))return"tensorName: string expected";if(h.quantParameterTensorNames!=null&&h.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(h.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var _e=0;_e<h.quantParameterTensorNames.length;++_e){var nt=et.onnx.StringStringEntryProto.verify(h.quantParameterTensorNames[_e]);if(nt)return"quantParameterTensorNames."+nt}}return null},b.fromObject=function(h){if(h instanceof et.onnx.TensorAnnotation)return h;var _e=new et.onnx.TensorAnnotation;if(h.tensorName!=null&&(_e.tensorName=String(h.tensorName)),h.quantParameterTensorNames){if(!Array.isArray(h.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");_e.quantParameterTensorNames=[];for(var nt=0;nt<h.quantParameterTensorNames.length;++nt){if(typeof h.quantParameterTensorNames[nt]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");_e.quantParameterTensorNames[nt]=et.onnx.StringStringEntryProto.fromObject(h.quantParameterTensorNames[nt])}}return _e},b.toObject=function(h,_e){_e||(_e={});var nt={};if((_e.arrays||_e.defaults)&&(nt.quantParameterTensorNames=[]),_e.defaults&&(nt.tensorName=""),h.tensorName!=null&&h.hasOwnProperty("tensorName")&&(nt.tensorName=h.tensorName),h.quantParameterTensorNames&&h.quantParameterTensorNames.length){nt.quantParameterTensorNames=[];for(var rt=0;rt<h.quantParameterTensorNames.length;++rt)nt.quantParameterTensorNames[rt]=et.onnx.StringStringEntryProto.toObject(h.quantParameterTensorNames[rt],_e)}return nt},b.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},b}(),d.GraphProto=function(){function b(h){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],h)for(var _e=Object.keys(h),nt=0;nt<_e.length;++nt)h[_e[nt]]!=null&&(this[_e[nt]]=h[_e[nt]])}return b.prototype.node=tt.emptyArray,b.prototype.name="",b.prototype.initializer=tt.emptyArray,b.prototype.docString="",b.prototype.input=tt.emptyArray,b.prototype.output=tt.emptyArray,b.prototype.valueInfo=tt.emptyArray,b.prototype.quantizationAnnotation=tt.emptyArray,b.create=function(h){return new b(h)},b.encode=function(h,_e){if(_e||(_e=j.create()),h.node!=null&&h.node.length)for(var nt=0;nt<h.node.length;++nt)et.onnx.NodeProto.encode(h.node[nt],_e.uint32(10).fork()).ldelim();if(h.name!=null&&h.hasOwnProperty("name")&&_e.uint32(18).string(h.name),h.initializer!=null&&h.initializer.length)for(nt=0;nt<h.initializer.length;++nt)et.onnx.TensorProto.encode(h.initializer[nt],_e.uint32(42).fork()).ldelim();if(h.docString!=null&&h.hasOwnProperty("docString")&&_e.uint32(82).string(h.docString),h.input!=null&&h.input.length)for(nt=0;nt<h.input.length;++nt)et.onnx.ValueInfoProto.encode(h.input[nt],_e.uint32(90).fork()).ldelim();if(h.output!=null&&h.output.length)for(nt=0;nt<h.output.length;++nt)et.onnx.ValueInfoProto.encode(h.output[nt],_e.uint32(98).fork()).ldelim();if(h.valueInfo!=null&&h.valueInfo.length)for(nt=0;nt<h.valueInfo.length;++nt)et.onnx.ValueInfoProto.encode(h.valueInfo[nt],_e.uint32(106).fork()).ldelim();if(h.quantizationAnnotation!=null&&h.quantizationAnnotation.length)for(nt=0;nt<h.quantizationAnnotation.length;++nt)et.onnx.TensorAnnotation.encode(h.quantizationAnnotation[nt],_e.uint32(114).fork()).ldelim();return _e},b.encodeDelimited=function(h,_e){return this.encode(h,_e).ldelim()},b.decode=function(h,_e){h instanceof $||(h=$.create(h));for(var nt=_e===void 0?h.len:h.pos+_e,rt=new et.onnx.GraphProto;h.pos<nt;){var it=h.uint32();switch(it>>>3){case 1:rt.node&&rt.node.length||(rt.node=[]),rt.node.push(et.onnx.NodeProto.decode(h,h.uint32()));break;case 2:rt.name=h.string();break;case 5:rt.initializer&&rt.initializer.length||(rt.initializer=[]),rt.initializer.push(et.onnx.TensorProto.decode(h,h.uint32()));break;case 10:rt.docString=h.string();break;case 11:rt.input&&rt.input.length||(rt.input=[]),rt.input.push(et.onnx.ValueInfoProto.decode(h,h.uint32()));break;case 12:rt.output&&rt.output.length||(rt.output=[]),rt.output.push(et.onnx.ValueInfoProto.decode(h,h.uint32()));break;case 13:rt.valueInfo&&rt.valueInfo.length||(rt.valueInfo=[]),rt.valueInfo.push(et.onnx.ValueInfoProto.decode(h,h.uint32()));break;case 14:rt.quantizationAnnotation&&rt.quantizationAnnotation.length||(rt.quantizationAnnotation=[]),rt.quantizationAnnotation.push(et.onnx.TensorAnnotation.decode(h,h.uint32()));break;default:h.skipType(7&it)}}return rt},b.decodeDelimited=function(h){return h instanceof $||(h=new $(h)),this.decode(h,h.uint32())},b.verify=function(h){if(typeof h!="object"||h===null)return"object expected";if(h.node!=null&&h.hasOwnProperty("node")){if(!Array.isArray(h.node))return"node: array expected";for(var _e=0;_e<h.node.length;++_e)if(nt=et.onnx.NodeProto.verify(h.node[_e]))return"node."+nt}if(h.name!=null&&h.hasOwnProperty("name")&&!tt.isString(h.name))return"name: string expected";if(h.initializer!=null&&h.hasOwnProperty("initializer")){if(!Array.isArray(h.initializer))return"initializer: array expected";for(_e=0;_e<h.initializer.length;++_e)if(nt=et.onnx.TensorProto.verify(h.initializer[_e]))return"initializer."+nt}if(h.docString!=null&&h.hasOwnProperty("docString")&&!tt.isString(h.docString))return"docString: string expected";if(h.input!=null&&h.hasOwnProperty("input")){if(!Array.isArray(h.input))return"input: array expected";for(_e=0;_e<h.input.length;++_e)if(nt=et.onnx.ValueInfoProto.verify(h.input[_e]))return"input."+nt}if(h.output!=null&&h.hasOwnProperty("output")){if(!Array.isArray(h.output))return"output: array expected";for(_e=0;_e<h.output.length;++_e)if(nt=et.onnx.ValueInfoProto.verify(h.output[_e]))return"output."+nt}if(h.valueInfo!=null&&h.hasOwnProperty("valueInfo")){if(!Array.isArray(h.valueInfo))return"valueInfo: array expected";for(_e=0;_e<h.valueInfo.length;++_e)if(nt=et.onnx.ValueInfoProto.verify(h.valueInfo[_e]))return"valueInfo."+nt}if(h.quantizationAnnotation!=null&&h.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(h.quantizationAnnotation))return"quantizationAnnotation: array expected";for(_e=0;_e<h.quantizationAnnotation.length;++_e){var nt;if(nt=et.onnx.TensorAnnotation.verify(h.quantizationAnnotation[_e]))return"quantizationAnnotation."+nt}}return null},b.fromObject=function(h){if(h instanceof et.onnx.GraphProto)return h;var _e=new et.onnx.GraphProto;if(h.node){if(!Array.isArray(h.node))throw TypeError(".onnx.GraphProto.node: array expected");_e.node=[];for(var nt=0;nt<h.node.length;++nt){if(typeof h.node[nt]!="object")throw TypeError(".onnx.GraphProto.node: object expected");_e.node[nt]=et.onnx.NodeProto.fromObject(h.node[nt])}}if(h.name!=null&&(_e.name=String(h.name)),h.initializer){if(!Array.isArray(h.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(_e.initializer=[],nt=0;nt<h.initializer.length;++nt){if(typeof h.initializer[nt]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");_e.initializer[nt]=et.onnx.TensorProto.fromObject(h.initializer[nt])}}if(h.docString!=null&&(_e.docString=String(h.docString)),h.input){if(!Array.isArray(h.input))throw TypeError(".onnx.GraphProto.input: array expected");for(_e.input=[],nt=0;nt<h.input.length;++nt){if(typeof h.input[nt]!="object")throw TypeError(".onnx.GraphProto.input: object expected");_e.input[nt]=et.onnx.ValueInfoProto.fromObject(h.input[nt])}}if(h.output){if(!Array.isArray(h.output))throw TypeError(".onnx.GraphProto.output: array expected");for(_e.output=[],nt=0;nt<h.output.length;++nt){if(typeof h.output[nt]!="object")throw TypeError(".onnx.GraphProto.output: object expected");_e.output[nt]=et.onnx.ValueInfoProto.fromObject(h.output[nt])}}if(h.valueInfo){if(!Array.isArray(h.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(_e.valueInfo=[],nt=0;nt<h.valueInfo.length;++nt){if(typeof h.valueInfo[nt]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");_e.valueInfo[nt]=et.onnx.ValueInfoProto.fromObject(h.valueInfo[nt])}}if(h.quantizationAnnotation){if(!Array.isArray(h.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(_e.quantizationAnnotation=[],nt=0;nt<h.quantizationAnnotation.length;++nt){if(typeof h.quantizationAnnotation[nt]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");_e.quantizationAnnotation[nt]=et.onnx.TensorAnnotation.fromObject(h.quantizationAnnotation[nt])}}return _e},b.toObject=function(h,_e){_e||(_e={});var nt={};if((_e.arrays||_e.defaults)&&(nt.node=[],nt.initializer=[],nt.input=[],nt.output=[],nt.valueInfo=[],nt.quantizationAnnotation=[]),_e.defaults&&(nt.name="",nt.docString=""),h.node&&h.node.length){nt.node=[];for(var rt=0;rt<h.node.length;++rt)nt.node[rt]=et.onnx.NodeProto.toObject(h.node[rt],_e)}if(h.name!=null&&h.hasOwnProperty("name")&&(nt.name=h.name),h.initializer&&h.initializer.length)for(nt.initializer=[],rt=0;rt<h.initializer.length;++rt)nt.initializer[rt]=et.onnx.TensorProto.toObject(h.initializer[rt],_e);if(h.docString!=null&&h.hasOwnProperty("docString")&&(nt.docString=h.docString),h.input&&h.input.length)for(nt.input=[],rt=0;rt<h.input.length;++rt)nt.input[rt]=et.onnx.ValueInfoProto.toObject(h.input[rt],_e);if(h.output&&h.output.length)for(nt.output=[],rt=0;rt<h.output.length;++rt)nt.output[rt]=et.onnx.ValueInfoProto.toObject(h.output[rt],_e);if(h.valueInfo&&h.valueInfo.length)for(nt.valueInfo=[],rt=0;rt<h.valueInfo.length;++rt)nt.valueInfo[rt]=et.onnx.ValueInfoProto.toObject(h.valueInfo[rt],_e);if(h.quantizationAnnotation&&h.quantizationAnnotation.length)for(nt.quantizationAnnotation=[],rt=0;rt<h.quantizationAnnotation.length;++rt)nt.quantizationAnnotation[rt]=et.onnx.TensorAnnotation.toObject(h.quantizationAnnotation[rt],_e);return nt},b.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},b}(),d.TensorProto=function(){function b(h){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],h)for(var _e=Object.keys(h),nt=0;nt<_e.length;++nt)h[_e[nt]]!=null&&(this[_e[nt]]=h[_e[nt]])}return b.prototype.dims=tt.emptyArray,b.prototype.dataType=0,b.prototype.segment=null,b.prototype.floatData=tt.emptyArray,b.prototype.int32Data=tt.emptyArray,b.prototype.stringData=tt.emptyArray,b.prototype.int64Data=tt.emptyArray,b.prototype.name="",b.prototype.docString="",b.prototype.rawData=tt.newBuffer([]),b.prototype.externalData=tt.emptyArray,b.prototype.dataLocation=0,b.prototype.doubleData=tt.emptyArray,b.prototype.uint64Data=tt.emptyArray,b.create=function(h){return new b(h)},b.encode=function(h,_e){if(_e||(_e=j.create()),h.dims!=null&&h.dims.length){_e.uint32(10).fork();for(var nt=0;nt<h.dims.length;++nt)_e.int64(h.dims[nt]);_e.ldelim()}if(h.dataType!=null&&h.hasOwnProperty("dataType")&&_e.uint32(16).int32(h.dataType),h.segment!=null&&h.hasOwnProperty("segment")&&et.onnx.TensorProto.Segment.encode(h.segment,_e.uint32(26).fork()).ldelim(),h.floatData!=null&&h.floatData.length){for(_e.uint32(34).fork(),nt=0;nt<h.floatData.length;++nt)_e.float(h.floatData[nt]);_e.ldelim()}if(h.int32Data!=null&&h.int32Data.length){for(_e.uint32(42).fork(),nt=0;nt<h.int32Data.length;++nt)_e.int32(h.int32Data[nt]);_e.ldelim()}if(h.stringData!=null&&h.stringData.length)for(nt=0;nt<h.stringData.length;++nt)_e.uint32(50).bytes(h.stringData[nt]);if(h.int64Data!=null&&h.int64Data.length){for(_e.uint32(58).fork(),nt=0;nt<h.int64Data.length;++nt)_e.int64(h.int64Data[nt]);_e.ldelim()}if(h.name!=null&&h.hasOwnProperty("name")&&_e.uint32(66).string(h.name),h.rawData!=null&&h.hasOwnProperty("rawData")&&_e.uint32(74).bytes(h.rawData),h.doubleData!=null&&h.doubleData.length){for(_e.uint32(82).fork(),nt=0;nt<h.doubleData.length;++nt)_e.double(h.doubleData[nt]);_e.ldelim()}if(h.uint64Data!=null&&h.uint64Data.length){for(_e.uint32(90).fork(),nt=0;nt<h.uint64Data.length;++nt)_e.uint64(h.uint64Data[nt]);_e.ldelim()}if(h.docString!=null&&h.hasOwnProperty("docString")&&_e.uint32(98).string(h.docString),h.externalData!=null&&h.externalData.length)for(nt=0;nt<h.externalData.length;++nt)et.onnx.StringStringEntryProto.encode(h.externalData[nt],_e.uint32(106).fork()).ldelim();return h.dataLocation!=null&&h.hasOwnProperty("dataLocation")&&_e.uint32(112).int32(h.dataLocation),_e},b.encodeDelimited=function(h,_e){return this.encode(h,_e).ldelim()},b.decode=function(h,_e){h instanceof $||(h=$.create(h));for(var nt=_e===void 0?h.len:h.pos+_e,rt=new et.onnx.TensorProto;h.pos<nt;){var it=h.uint32();switch(it>>>3){case 1:if(rt.dims&&rt.dims.length||(rt.dims=[]),(7&it)==2)for(var st=h.uint32()+h.pos;h.pos<st;)rt.dims.push(h.int64());else rt.dims.push(h.int64());break;case 2:rt.dataType=h.int32();break;case 3:rt.segment=et.onnx.TensorProto.Segment.decode(h,h.uint32());break;case 4:if(rt.floatData&&rt.floatData.length||(rt.floatData=[]),(7&it)==2)for(st=h.uint32()+h.pos;h.pos<st;)rt.floatData.push(h.float());else rt.floatData.push(h.float());break;case 5:if(rt.int32Data&&rt.int32Data.length||(rt.int32Data=[]),(7&it)==2)for(st=h.uint32()+h.pos;h.pos<st;)rt.int32Data.push(h.int32());else rt.int32Data.push(h.int32());break;case 6:rt.stringData&&rt.stringData.length||(rt.stringData=[]),rt.stringData.push(h.bytes());break;case 7:if(rt.int64Data&&rt.int64Data.length||(rt.int64Data=[]),(7&it)==2)for(st=h.uint32()+h.pos;h.pos<st;)rt.int64Data.push(h.int64());else rt.int64Data.push(h.int64());break;case 8:rt.name=h.string();break;case 12:rt.docString=h.string();break;case 9:rt.rawData=h.bytes();break;case 13:rt.externalData&&rt.externalData.length||(rt.externalData=[]),rt.externalData.push(et.onnx.StringStringEntryProto.decode(h,h.uint32()));break;case 14:rt.dataLocation=h.int32();break;case 10:if(rt.doubleData&&rt.doubleData.length||(rt.doubleData=[]),(7&it)==2)for(st=h.uint32()+h.pos;h.pos<st;)rt.doubleData.push(h.double());else rt.doubleData.push(h.double());break;case 11:if(rt.uint64Data&&rt.uint64Data.length||(rt.uint64Data=[]),(7&it)==2)for(st=h.uint32()+h.pos;h.pos<st;)rt.uint64Data.push(h.uint64());else rt.uint64Data.push(h.uint64());break;default:h.skipType(7&it)}}return rt},b.decodeDelimited=function(h){return h instanceof $||(h=new $(h)),this.decode(h,h.uint32())},b.verify=function(h){if(typeof h!="object"||h===null)return"object expected";if(h.dims!=null&&h.hasOwnProperty("dims")){if(!Array.isArray(h.dims))return"dims: array expected";for(var _e=0;_e<h.dims.length;++_e)if(!(tt.isInteger(h.dims[_e])||h.dims[_e]&&tt.isInteger(h.dims[_e].low)&&tt.isInteger(h.dims[_e].high)))return"dims: integer|Long[] expected"}if(h.dataType!=null&&h.hasOwnProperty("dataType")&&!tt.isInteger(h.dataType))return"dataType: integer expected";if(h.segment!=null&&h.hasOwnProperty("segment")&&(nt=et.onnx.TensorProto.Segment.verify(h.segment)))return"segment."+nt;if(h.floatData!=null&&h.hasOwnProperty("floatData")){if(!Array.isArray(h.floatData))return"floatData: array expected";for(_e=0;_e<h.floatData.length;++_e)if(typeof h.floatData[_e]!="number")return"floatData: number[] expected"}if(h.int32Data!=null&&h.hasOwnProperty("int32Data")){if(!Array.isArray(h.int32Data))return"int32Data: array expected";for(_e=0;_e<h.int32Data.length;++_e)if(!tt.isInteger(h.int32Data[_e]))return"int32Data: integer[] expected"}if(h.stringData!=null&&h.hasOwnProperty("stringData")){if(!Array.isArray(h.stringData))return"stringData: array expected";for(_e=0;_e<h.stringData.length;++_e)if(!(h.stringData[_e]&&typeof h.stringData[_e].length=="number"||tt.isString(h.stringData[_e])))return"stringData: buffer[] expected"}if(h.int64Data!=null&&h.hasOwnProperty("int64Data")){if(!Array.isArray(h.int64Data))return"int64Data: array expected";for(_e=0;_e<h.int64Data.length;++_e)if(!(tt.isInteger(h.int64Data[_e])||h.int64Data[_e]&&tt.isInteger(h.int64Data[_e].low)&&tt.isInteger(h.int64Data[_e].high)))return"int64Data: integer|Long[] expected"}if(h.name!=null&&h.hasOwnProperty("name")&&!tt.isString(h.name))return"name: string expected";if(h.docString!=null&&h.hasOwnProperty("docString")&&!tt.isString(h.docString))return"docString: string expected";if(h.rawData!=null&&h.hasOwnProperty("rawData")&&!(h.rawData&&typeof h.rawData.length=="number"||tt.isString(h.rawData)))return"rawData: buffer expected";if(h.externalData!=null&&h.hasOwnProperty("externalData")){if(!Array.isArray(h.externalData))return"externalData: array expected";for(_e=0;_e<h.externalData.length;++_e){var nt;if(nt=et.onnx.StringStringEntryProto.verify(h.externalData[_e]))return"externalData."+nt}}if(h.dataLocation!=null&&h.hasOwnProperty("dataLocation"))switch(h.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(h.doubleData!=null&&h.hasOwnProperty("doubleData")){if(!Array.isArray(h.doubleData))return"doubleData: array expected";for(_e=0;_e<h.doubleData.length;++_e)if(typeof h.doubleData[_e]!="number")return"doubleData: number[] expected"}if(h.uint64Data!=null&&h.hasOwnProperty("uint64Data")){if(!Array.isArray(h.uint64Data))return"uint64Data: array expected";for(_e=0;_e<h.uint64Data.length;++_e)if(!(tt.isInteger(h.uint64Data[_e])||h.uint64Data[_e]&&tt.isInteger(h.uint64Data[_e].low)&&tt.isInteger(h.uint64Data[_e].high)))return"uint64Data: integer|Long[] expected"}return null},b.fromObject=function(h){if(h instanceof et.onnx.TensorProto)return h;var _e=new et.onnx.TensorProto;if(h.dims){if(!Array.isArray(h.dims))throw TypeError(".onnx.TensorProto.dims: array expected");_e.dims=[];for(var nt=0;nt<h.dims.length;++nt)tt.Long?(_e.dims[nt]=tt.Long.fromValue(h.dims[nt])).unsigned=!1:typeof h.dims[nt]=="string"?_e.dims[nt]=parseInt(h.dims[nt],10):typeof h.dims[nt]=="number"?_e.dims[nt]=h.dims[nt]:typeof h.dims[nt]=="object"&&(_e.dims[nt]=new tt.LongBits(h.dims[nt].low>>>0,h.dims[nt].high>>>0).toNumber())}if(h.dataType!=null&&(_e.dataType=0|h.dataType),h.segment!=null){if(typeof h.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");_e.segment=et.onnx.TensorProto.Segment.fromObject(h.segment)}if(h.floatData){if(!Array.isArray(h.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(_e.floatData=[],nt=0;nt<h.floatData.length;++nt)_e.floatData[nt]=Number(h.floatData[nt])}if(h.int32Data){if(!Array.isArray(h.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(_e.int32Data=[],nt=0;nt<h.int32Data.length;++nt)_e.int32Data[nt]=0|h.int32Data[nt]}if(h.stringData){if(!Array.isArray(h.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(_e.stringData=[],nt=0;nt<h.stringData.length;++nt)typeof h.stringData[nt]=="string"?tt.base64.decode(h.stringData[nt],_e.stringData[nt]=tt.newBuffer(tt.base64.length(h.stringData[nt])),0):h.stringData[nt].length&&(_e.stringData[nt]=h.stringData[nt])}if(h.int64Data){if(!Array.isArray(h.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(_e.int64Data=[],nt=0;nt<h.int64Data.length;++nt)tt.Long?(_e.int64Data[nt]=tt.Long.fromValue(h.int64Data[nt])).unsigned=!1:typeof h.int64Data[nt]=="string"?_e.int64Data[nt]=parseInt(h.int64Data[nt],10):typeof h.int64Data[nt]=="number"?_e.int64Data[nt]=h.int64Data[nt]:typeof h.int64Data[nt]=="object"&&(_e.int64Data[nt]=new tt.LongBits(h.int64Data[nt].low>>>0,h.int64Data[nt].high>>>0).toNumber())}if(h.name!=null&&(_e.name=String(h.name)),h.docString!=null&&(_e.docString=String(h.docString)),h.rawData!=null&&(typeof h.rawData=="string"?tt.base64.decode(h.rawData,_e.rawData=tt.newBuffer(tt.base64.length(h.rawData)),0):h.rawData.length&&(_e.rawData=h.rawData)),h.externalData){if(!Array.isArray(h.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(_e.externalData=[],nt=0;nt<h.externalData.length;++nt){if(typeof h.externalData[nt]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");_e.externalData[nt]=et.onnx.StringStringEntryProto.fromObject(h.externalData[nt])}}switch(h.dataLocation){case"DEFAULT":case 0:_e.dataLocation=0;break;case"EXTERNAL":case 1:_e.dataLocation=1}if(h.doubleData){if(!Array.isArray(h.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(_e.doubleData=[],nt=0;nt<h.doubleData.length;++nt)_e.doubleData[nt]=Number(h.doubleData[nt])}if(h.uint64Data){if(!Array.isArray(h.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(_e.uint64Data=[],nt=0;nt<h.uint64Data.length;++nt)tt.Long?(_e.uint64Data[nt]=tt.Long.fromValue(h.uint64Data[nt])).unsigned=!0:typeof h.uint64Data[nt]=="string"?_e.uint64Data[nt]=parseInt(h.uint64Data[nt],10):typeof h.uint64Data[nt]=="number"?_e.uint64Data[nt]=h.uint64Data[nt]:typeof h.uint64Data[nt]=="object"&&(_e.uint64Data[nt]=new tt.LongBits(h.uint64Data[nt].low>>>0,h.uint64Data[nt].high>>>0).toNumber(!0))}return _e},b.toObject=function(h,_e){_e||(_e={});var nt={};if((_e.arrays||_e.defaults)&&(nt.dims=[],nt.floatData=[],nt.int32Data=[],nt.stringData=[],nt.int64Data=[],nt.doubleData=[],nt.uint64Data=[],nt.externalData=[]),_e.defaults&&(nt.dataType=0,nt.segment=null,nt.name="",_e.bytes===String?nt.rawData="":(nt.rawData=[],_e.bytes!==Array&&(nt.rawData=tt.newBuffer(nt.rawData))),nt.docString="",nt.dataLocation=_e.enums===String?"DEFAULT":0),h.dims&&h.dims.length){nt.dims=[];for(var rt=0;rt<h.dims.length;++rt)typeof h.dims[rt]=="number"?nt.dims[rt]=_e.longs===String?String(h.dims[rt]):h.dims[rt]:nt.dims[rt]=_e.longs===String?tt.Long.prototype.toString.call(h.dims[rt]):_e.longs===Number?new tt.LongBits(h.dims[rt].low>>>0,h.dims[rt].high>>>0).toNumber():h.dims[rt]}if(h.dataType!=null&&h.hasOwnProperty("dataType")&&(nt.dataType=h.dataType),h.segment!=null&&h.hasOwnProperty("segment")&&(nt.segment=et.onnx.TensorProto.Segment.toObject(h.segment,_e)),h.floatData&&h.floatData.length)for(nt.floatData=[],rt=0;rt<h.floatData.length;++rt)nt.floatData[rt]=_e.json&&!isFinite(h.floatData[rt])?String(h.floatData[rt]):h.floatData[rt];if(h.int32Data&&h.int32Data.length)for(nt.int32Data=[],rt=0;rt<h.int32Data.length;++rt)nt.int32Data[rt]=h.int32Data[rt];if(h.stringData&&h.stringData.length)for(nt.stringData=[],rt=0;rt<h.stringData.length;++rt)nt.stringData[rt]=_e.bytes===String?tt.base64.encode(h.stringData[rt],0,h.stringData[rt].length):_e.bytes===Array?Array.prototype.slice.call(h.stringData[rt]):h.stringData[rt];if(h.int64Data&&h.int64Data.length)for(nt.int64Data=[],rt=0;rt<h.int64Data.length;++rt)typeof h.int64Data[rt]=="number"?nt.int64Data[rt]=_e.longs===String?String(h.int64Data[rt]):h.int64Data[rt]:nt.int64Data[rt]=_e.longs===String?tt.Long.prototype.toString.call(h.int64Data[rt]):_e.longs===Number?new tt.LongBits(h.int64Data[rt].low>>>0,h.int64Data[rt].high>>>0).toNumber():h.int64Data[rt];if(h.name!=null&&h.hasOwnProperty("name")&&(nt.name=h.name),h.rawData!=null&&h.hasOwnProperty("rawData")&&(nt.rawData=_e.bytes===String?tt.base64.encode(h.rawData,0,h.rawData.length):_e.bytes===Array?Array.prototype.slice.call(h.rawData):h.rawData),h.doubleData&&h.doubleData.length)for(nt.doubleData=[],rt=0;rt<h.doubleData.length;++rt)nt.doubleData[rt]=_e.json&&!isFinite(h.doubleData[rt])?String(h.doubleData[rt]):h.doubleData[rt];if(h.uint64Data&&h.uint64Data.length)for(nt.uint64Data=[],rt=0;rt<h.uint64Data.length;++rt)typeof h.uint64Data[rt]=="number"?nt.uint64Data[rt]=_e.longs===String?String(h.uint64Data[rt]):h.uint64Data[rt]:nt.uint64Data[rt]=_e.longs===String?tt.Long.prototype.toString.call(h.uint64Data[rt]):_e.longs===Number?new tt.LongBits(h.uint64Data[rt].low>>>0,h.uint64Data[rt].high>>>0).toNumber(!0):h.uint64Data[rt];if(h.docString!=null&&h.hasOwnProperty("docString")&&(nt.docString=h.docString),h.externalData&&h.externalData.length)for(nt.externalData=[],rt=0;rt<h.externalData.length;++rt)nt.externalData[rt]=et.onnx.StringStringEntryProto.toObject(h.externalData[rt],_e);return h.dataLocation!=null&&h.hasOwnProperty("dataLocation")&&(nt.dataLocation=_e.enums===String?et.onnx.TensorProto.DataLocation[h.dataLocation]:h.dataLocation),nt},b.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},b.DataType=function(){var h={},_e=Object.create(h);return _e[h[0]="UNDEFINED"]=0,_e[h[1]="FLOAT"]=1,_e[h[2]="UINT8"]=2,_e[h[3]="INT8"]=3,_e[h[4]="UINT16"]=4,_e[h[5]="INT16"]=5,_e[h[6]="INT32"]=6,_e[h[7]="INT64"]=7,_e[h[8]="STRING"]=8,_e[h[9]="BOOL"]=9,_e[h[10]="FLOAT16"]=10,_e[h[11]="DOUBLE"]=11,_e[h[12]="UINT32"]=12,_e[h[13]="UINT64"]=13,_e[h[14]="COMPLEX64"]=14,_e[h[15]="COMPLEX128"]=15,_e[h[16]="BFLOAT16"]=16,_e}(),b.Segment=function(){function h(_e){if(_e)for(var nt=Object.keys(_e),rt=0;rt<nt.length;++rt)_e[nt[rt]]!=null&&(this[nt[rt]]=_e[nt[rt]])}return h.prototype.begin=tt.Long?tt.Long.fromBits(0,0,!1):0,h.prototype.end=tt.Long?tt.Long.fromBits(0,0,!1):0,h.create=function(_e){return new h(_e)},h.encode=function(_e,nt){return nt||(nt=j.create()),_e.begin!=null&&_e.hasOwnProperty("begin")&&nt.uint32(8).int64(_e.begin),_e.end!=null&&_e.hasOwnProperty("end")&&nt.uint32(16).int64(_e.end),nt},h.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},h.decode=function(_e,nt){_e instanceof $||(_e=$.create(_e));for(var rt=nt===void 0?_e.len:_e.pos+nt,it=new et.onnx.TensorProto.Segment;_e.pos<rt;){var st=_e.uint32();switch(st>>>3){case 1:it.begin=_e.int64();break;case 2:it.end=_e.int64();break;default:_e.skipType(7&st)}}return it},h.decodeDelimited=function(_e){return _e instanceof $||(_e=new $(_e)),this.decode(_e,_e.uint32())},h.verify=function(_e){return typeof _e!="object"||_e===null?"object expected":_e.begin!=null&&_e.hasOwnProperty("begin")&&!(tt.isInteger(_e.begin)||_e.begin&&tt.isInteger(_e.begin.low)&&tt.isInteger(_e.begin.high))?"begin: integer|Long expected":_e.end!=null&&_e.hasOwnProperty("end")&&!(tt.isInteger(_e.end)||_e.end&&tt.isInteger(_e.end.low)&&tt.isInteger(_e.end.high))?"end: integer|Long expected":null},h.fromObject=function(_e){if(_e instanceof et.onnx.TensorProto.Segment)return _e;var nt=new et.onnx.TensorProto.Segment;return _e.begin!=null&&(tt.Long?(nt.begin=tt.Long.fromValue(_e.begin)).unsigned=!1:typeof _e.begin=="string"?nt.begin=parseInt(_e.begin,10):typeof _e.begin=="number"?nt.begin=_e.begin:typeof _e.begin=="object"&&(nt.begin=new tt.LongBits(_e.begin.low>>>0,_e.begin.high>>>0).toNumber())),_e.end!=null&&(tt.Long?(nt.end=tt.Long.fromValue(_e.end)).unsigned=!1:typeof _e.end=="string"?nt.end=parseInt(_e.end,10):typeof _e.end=="number"?nt.end=_e.end:typeof _e.end=="object"&&(nt.end=new tt.LongBits(_e.end.low>>>0,_e.end.high>>>0).toNumber())),nt},h.toObject=function(_e,nt){nt||(nt={});var rt={};if(nt.defaults){if(tt.Long){var it=new tt.Long(0,0,!1);rt.begin=nt.longs===String?it.toString():nt.longs===Number?it.toNumber():it}else rt.begin=nt.longs===String?"0":0;tt.Long?(it=new tt.Long(0,0,!1),rt.end=nt.longs===String?it.toString():nt.longs===Number?it.toNumber():it):rt.end=nt.longs===String?"0":0}return _e.begin!=null&&_e.hasOwnProperty("begin")&&(typeof _e.begin=="number"?rt.begin=nt.longs===String?String(_e.begin):_e.begin:rt.begin=nt.longs===String?tt.Long.prototype.toString.call(_e.begin):nt.longs===Number?new tt.LongBits(_e.begin.low>>>0,_e.begin.high>>>0).toNumber():_e.begin),_e.end!=null&&_e.hasOwnProperty("end")&&(typeof _e.end=="number"?rt.end=nt.longs===String?String(_e.end):_e.end:rt.end=nt.longs===String?tt.Long.prototype.toString.call(_e.end):nt.longs===Number?new tt.LongBits(_e.end.low>>>0,_e.end.high>>>0).toNumber():_e.end),rt},h.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},h}(),b.DataLocation=function(){var h={},_e=Object.create(h);return _e[h[0]="DEFAULT"]=0,_e[h[1]="EXTERNAL"]=1,_e}(),b}(),d.TensorShapeProto=function(){function b(h){if(this.dim=[],h)for(var _e=Object.keys(h),nt=0;nt<_e.length;++nt)h[_e[nt]]!=null&&(this[_e[nt]]=h[_e[nt]])}return b.prototype.dim=tt.emptyArray,b.create=function(h){return new b(h)},b.encode=function(h,_e){if(_e||(_e=j.create()),h.dim!=null&&h.dim.length)for(var nt=0;nt<h.dim.length;++nt)et.onnx.TensorShapeProto.Dimension.encode(h.dim[nt],_e.uint32(10).fork()).ldelim();return _e},b.encodeDelimited=function(h,_e){return this.encode(h,_e).ldelim()},b.decode=function(h,_e){h instanceof $||(h=$.create(h));for(var nt=_e===void 0?h.len:h.pos+_e,rt=new et.onnx.TensorShapeProto;h.pos<nt;){var it=h.uint32();it>>>3==1?(rt.dim&&rt.dim.length||(rt.dim=[]),rt.dim.push(et.onnx.TensorShapeProto.Dimension.decode(h,h.uint32()))):h.skipType(7&it)}return rt},b.decodeDelimited=function(h){return h instanceof $||(h=new $(h)),this.decode(h,h.uint32())},b.verify=function(h){if(typeof h!="object"||h===null)return"object expected";if(h.dim!=null&&h.hasOwnProperty("dim")){if(!Array.isArray(h.dim))return"dim: array expected";for(var _e=0;_e<h.dim.length;++_e){var nt=et.onnx.TensorShapeProto.Dimension.verify(h.dim[_e]);if(nt)return"dim."+nt}}return null},b.fromObject=function(h){if(h instanceof et.onnx.TensorShapeProto)return h;var _e=new et.onnx.TensorShapeProto;if(h.dim){if(!Array.isArray(h.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");_e.dim=[];for(var nt=0;nt<h.dim.length;++nt){if(typeof h.dim[nt]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");_e.dim[nt]=et.onnx.TensorShapeProto.Dimension.fromObject(h.dim[nt])}}return _e},b.toObject=function(h,_e){_e||(_e={});var nt={};if((_e.arrays||_e.defaults)&&(nt.dim=[]),h.dim&&h.dim.length){nt.dim=[];for(var rt=0;rt<h.dim.length;++rt)nt.dim[rt]=et.onnx.TensorShapeProto.Dimension.toObject(h.dim[rt],_e)}return nt},b.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},b.Dimension=function(){function h(nt){if(nt)for(var rt=Object.keys(nt),it=0;it<rt.length;++it)nt[rt[it]]!=null&&(this[rt[it]]=nt[rt[it]])}var _e;return h.prototype.dimValue=tt.Long?tt.Long.fromBits(0,0,!1):0,h.prototype.dimParam="",h.prototype.denotation="",Object.defineProperty(h.prototype,"value",{get:tt.oneOfGetter(_e=["dimValue","dimParam"]),set:tt.oneOfSetter(_e)}),h.create=function(nt){return new h(nt)},h.encode=function(nt,rt){return rt||(rt=j.create()),nt.dimValue!=null&&nt.hasOwnProperty("dimValue")&&rt.uint32(8).int64(nt.dimValue),nt.dimParam!=null&&nt.hasOwnProperty("dimParam")&&rt.uint32(18).string(nt.dimParam),nt.denotation!=null&&nt.hasOwnProperty("denotation")&&rt.uint32(26).string(nt.denotation),rt},h.encodeDelimited=function(nt,rt){return this.encode(nt,rt).ldelim()},h.decode=function(nt,rt){nt instanceof $||(nt=$.create(nt));for(var it=rt===void 0?nt.len:nt.pos+rt,st=new et.onnx.TensorShapeProto.Dimension;nt.pos<it;){var ot=nt.uint32();switch(ot>>>3){case 1:st.dimValue=nt.int64();break;case 2:st.dimParam=nt.string();break;case 3:st.denotation=nt.string();break;default:nt.skipType(7&ot)}}return st},h.decodeDelimited=function(nt){return nt instanceof $||(nt=new $(nt)),this.decode(nt,nt.uint32())},h.verify=function(nt){if(typeof nt!="object"||nt===null)return"object expected";var rt={};if(nt.dimValue!=null&&nt.hasOwnProperty("dimValue")&&(rt.value=1,!(tt.isInteger(nt.dimValue)||nt.dimValue&&tt.isInteger(nt.dimValue.low)&&tt.isInteger(nt.dimValue.high))))return"dimValue: integer|Long expected";if(nt.dimParam!=null&&nt.hasOwnProperty("dimParam")){if(rt.value===1)return"value: multiple values";if(rt.value=1,!tt.isString(nt.dimParam))return"dimParam: string expected"}return nt.denotation!=null&&nt.hasOwnProperty("denotation")&&!tt.isString(nt.denotation)?"denotation: string expected":null},h.fromObject=function(nt){if(nt instanceof et.onnx.TensorShapeProto.Dimension)return nt;var rt=new et.onnx.TensorShapeProto.Dimension;return nt.dimValue!=null&&(tt.Long?(rt.dimValue=tt.Long.fromValue(nt.dimValue)).unsigned=!1:typeof nt.dimValue=="string"?rt.dimValue=parseInt(nt.dimValue,10):typeof nt.dimValue=="number"?rt.dimValue=nt.dimValue:typeof nt.dimValue=="object"&&(rt.dimValue=new tt.LongBits(nt.dimValue.low>>>0,nt.dimValue.high>>>0).toNumber())),nt.dimParam!=null&&(rt.dimParam=String(nt.dimParam)),nt.denotation!=null&&(rt.denotation=String(nt.denotation)),rt},h.toObject=function(nt,rt){rt||(rt={});var it={};return rt.defaults&&(it.denotation=""),nt.dimValue!=null&&nt.hasOwnProperty("dimValue")&&(typeof nt.dimValue=="number"?it.dimValue=rt.longs===String?String(nt.dimValue):nt.dimValue:it.dimValue=rt.longs===String?tt.Long.prototype.toString.call(nt.dimValue):rt.longs===Number?new tt.LongBits(nt.dimValue.low>>>0,nt.dimValue.high>>>0).toNumber():nt.dimValue,rt.oneofs&&(it.value="dimValue")),nt.dimParam!=null&&nt.hasOwnProperty("dimParam")&&(it.dimParam=nt.dimParam,rt.oneofs&&(it.value="dimParam")),nt.denotation!=null&&nt.hasOwnProperty("denotation")&&(it.denotation=nt.denotation),it},h.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},h}(),b}(),d.TypeProto=function(){function b(_e){if(_e)for(var nt=Object.keys(_e),rt=0;rt<nt.length;++rt)_e[nt[rt]]!=null&&(this[nt[rt]]=_e[nt[rt]])}var h;return b.prototype.tensorType=null,b.prototype.denotation="",Object.defineProperty(b.prototype,"value",{get:tt.oneOfGetter(h=["tensorType"]),set:tt.oneOfSetter(h)}),b.create=function(_e){return new b(_e)},b.encode=function(_e,nt){return nt||(nt=j.create()),_e.tensorType!=null&&_e.hasOwnProperty("tensorType")&&et.onnx.TypeProto.Tensor.encode(_e.tensorType,nt.uint32(10).fork()).ldelim(),_e.denotation!=null&&_e.hasOwnProperty("denotation")&&nt.uint32(50).string(_e.denotation),nt},b.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},b.decode=function(_e,nt){_e instanceof $||(_e=$.create(_e));for(var rt=nt===void 0?_e.len:_e.pos+nt,it=new et.onnx.TypeProto;_e.pos<rt;){var st=_e.uint32();switch(st>>>3){case 1:it.tensorType=et.onnx.TypeProto.Tensor.decode(_e,_e.uint32());break;case 6:it.denotation=_e.string();break;default:_e.skipType(7&st)}}return it},b.decodeDelimited=function(_e){return _e instanceof $||(_e=new $(_e)),this.decode(_e,_e.uint32())},b.verify=function(_e){if(typeof _e!="object"||_e===null)return"object expected";if(_e.tensorType!=null&&_e.hasOwnProperty("tensorType")){var nt=et.onnx.TypeProto.Tensor.verify(_e.tensorType);if(nt)return"tensorType."+nt}return _e.denotation!=null&&_e.hasOwnProperty("denotation")&&!tt.isString(_e.denotation)?"denotation: string expected":null},b.fromObject=function(_e){if(_e instanceof et.onnx.TypeProto)return _e;var nt=new et.onnx.TypeProto;if(_e.tensorType!=null){if(typeof _e.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");nt.tensorType=et.onnx.TypeProto.Tensor.fromObject(_e.tensorType)}return _e.denotation!=null&&(nt.denotation=String(_e.denotation)),nt},b.toObject=function(_e,nt){nt||(nt={});var rt={};return nt.defaults&&(rt.denotation=""),_e.tensorType!=null&&_e.hasOwnProperty("tensorType")&&(rt.tensorType=et.onnx.TypeProto.Tensor.toObject(_e.tensorType,nt),nt.oneofs&&(rt.value="tensorType")),_e.denotation!=null&&_e.hasOwnProperty("denotation")&&(rt.denotation=_e.denotation),rt},b.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},b.Tensor=function(){function _e(nt){if(nt)for(var rt=Object.keys(nt),it=0;it<rt.length;++it)nt[rt[it]]!=null&&(this[rt[it]]=nt[rt[it]])}return _e.prototype.elemType=0,_e.prototype.shape=null,_e.create=function(nt){return new _e(nt)},_e.encode=function(nt,rt){return rt||(rt=j.create()),nt.elemType!=null&&nt.hasOwnProperty("elemType")&&rt.uint32(8).int32(nt.elemType),nt.shape!=null&&nt.hasOwnProperty("shape")&&et.onnx.TensorShapeProto.encode(nt.shape,rt.uint32(18).fork()).ldelim(),rt},_e.encodeDelimited=function(nt,rt){return this.encode(nt,rt).ldelim()},_e.decode=function(nt,rt){nt instanceof $||(nt=$.create(nt));for(var it=rt===void 0?nt.len:nt.pos+rt,st=new et.onnx.TypeProto.Tensor;nt.pos<it;){var ot=nt.uint32();switch(ot>>>3){case 1:st.elemType=nt.int32();break;case 2:st.shape=et.onnx.TensorShapeProto.decode(nt,nt.uint32());break;default:nt.skipType(7&ot)}}return st},_e.decodeDelimited=function(nt){return nt instanceof $||(nt=new $(nt)),this.decode(nt,nt.uint32())},_e.verify=function(nt){if(typeof nt!="object"||nt===null)return"object expected";if(nt.elemType!=null&&nt.hasOwnProperty("elemType")&&!tt.isInteger(nt.elemType))return"elemType: integer expected";if(nt.shape!=null&&nt.hasOwnProperty("shape")){var rt=et.onnx.TensorShapeProto.verify(nt.shape);if(rt)return"shape."+rt}return null},_e.fromObject=function(nt){if(nt instanceof et.onnx.TypeProto.Tensor)return nt;var rt=new et.onnx.TypeProto.Tensor;if(nt.elemType!=null&&(rt.elemType=0|nt.elemType),nt.shape!=null){if(typeof nt.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");rt.shape=et.onnx.TensorShapeProto.fromObject(nt.shape)}return rt},_e.toObject=function(nt,rt){rt||(rt={});var it={};return rt.defaults&&(it.elemType=0,it.shape=null),nt.elemType!=null&&nt.hasOwnProperty("elemType")&&(it.elemType=nt.elemType),nt.shape!=null&&nt.hasOwnProperty("shape")&&(it.shape=et.onnx.TensorShapeProto.toObject(nt.shape,rt)),it},_e.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},_e}(),b}(),d.OperatorSetIdProto=function(){function b(h){if(h)for(var _e=Object.keys(h),nt=0;nt<_e.length;++nt)h[_e[nt]]!=null&&(this[_e[nt]]=h[_e[nt]])}return b.prototype.domain="",b.prototype.version=tt.Long?tt.Long.fromBits(0,0,!1):0,b.create=function(h){return new b(h)},b.encode=function(h,_e){return _e||(_e=j.create()),h.domain!=null&&h.hasOwnProperty("domain")&&_e.uint32(10).string(h.domain),h.version!=null&&h.hasOwnProperty("version")&&_e.uint32(16).int64(h.version),_e},b.encodeDelimited=function(h,_e){return this.encode(h,_e).ldelim()},b.decode=function(h,_e){h instanceof $||(h=$.create(h));for(var nt=_e===void 0?h.len:h.pos+_e,rt=new et.onnx.OperatorSetIdProto;h.pos<nt;){var it=h.uint32();switch(it>>>3){case 1:rt.domain=h.string();break;case 2:rt.version=h.int64();break;default:h.skipType(7&it)}}return rt},b.decodeDelimited=function(h){return h instanceof $||(h=new $(h)),this.decode(h,h.uint32())},b.verify=function(h){return typeof h!="object"||h===null?"object expected":h.domain!=null&&h.hasOwnProperty("domain")&&!tt.isString(h.domain)?"domain: string expected":h.version!=null&&h.hasOwnProperty("version")&&!(tt.isInteger(h.version)||h.version&&tt.isInteger(h.version.low)&&tt.isInteger(h.version.high))?"version: integer|Long expected":null},b.fromObject=function(h){if(h instanceof et.onnx.OperatorSetIdProto)return h;var _e=new et.onnx.OperatorSetIdProto;return h.domain!=null&&(_e.domain=String(h.domain)),h.version!=null&&(tt.Long?(_e.version=tt.Long.fromValue(h.version)).unsigned=!1:typeof h.version=="string"?_e.version=parseInt(h.version,10):typeof h.version=="number"?_e.version=h.version:typeof h.version=="object"&&(_e.version=new tt.LongBits(h.version.low>>>0,h.version.high>>>0).toNumber())),_e},b.toObject=function(h,_e){_e||(_e={});var nt={};if(_e.defaults)if(nt.domain="",tt.Long){var rt=new tt.Long(0,0,!1);nt.version=_e.longs===String?rt.toString():_e.longs===Number?rt.toNumber():rt}else nt.version=_e.longs===String?"0":0;return h.domain!=null&&h.hasOwnProperty("domain")&&(nt.domain=h.domain),h.version!=null&&h.hasOwnProperty("version")&&(typeof h.version=="number"?nt.version=_e.longs===String?String(h.version):h.version:nt.version=_e.longs===String?tt.Long.prototype.toString.call(h.version):_e.longs===Number?new tt.LongBits(h.version.low>>>0,h.version.high>>>0).toNumber():h.version),nt},b.prototype.toJSON=function(){return this.constructor.toObject(this,g.util.toJSONOptions)},b}(),d),o.exports=et},2100:(o,e,s)=>{o.exports=s(9482)},9482:(o,e,s)=>{var a=e;function c(){a.util._configure(),a.Writer._configure(a.BufferWriter),a.Reader._configure(a.BufferReader)}a.build="minimal",a.Writer=s(1173),a.BufferWriter=s(3155),a.Reader=s(1408),a.BufferReader=s(593),a.util=s(9693),a.rpc=s(5994),a.roots=s(5054),a.configure=c,c()},1408:(o,e,s)=>{o.exports=j;var a,c=s(9693),d=c.LongBits,g=c.utf8;function $(rt,it){return RangeError("index out of range: "+rt.pos+" + "+(it||1)+" > "+rt.len)}function j(rt){this.buf=rt,this.pos=0,this.len=rt.length}var tt,et=typeof Uint8Array<"u"?function(rt){if(rt instanceof Uint8Array||Array.isArray(rt))return new j(rt);throw Error("illegal buffer")}:function(rt){if(Array.isArray(rt))return new j(rt);throw Error("illegal buffer")},b=function(){return c.Buffer?function(rt){return(j.create=function(it){return c.Buffer.isBuffer(it)?new a(it):et(it)})(rt)}:et};function h(){var rt=new d(0,0),it=0;if(!(this.len-this.pos>4)){for(;it<3;++it){if(this.pos>=this.len)throw $(this);if(rt.lo=(rt.lo|(127&this.buf[this.pos])<<7*it)>>>0,this.buf[this.pos++]<128)return rt}return rt.lo=(rt.lo|(127&this.buf[this.pos++])<<7*it)>>>0,rt}for(;it<4;++it)if(rt.lo=(rt.lo|(127&this.buf[this.pos])<<7*it)>>>0,this.buf[this.pos++]<128)return rt;if(rt.lo=(rt.lo|(127&this.buf[this.pos])<<28)>>>0,rt.hi=(rt.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return rt;if(it=0,this.len-this.pos>4){for(;it<5;++it)if(rt.hi=(rt.hi|(127&this.buf[this.pos])<<7*it+3)>>>0,this.buf[this.pos++]<128)return rt}else for(;it<5;++it){if(this.pos>=this.len)throw $(this);if(rt.hi=(rt.hi|(127&this.buf[this.pos])<<7*it+3)>>>0,this.buf[this.pos++]<128)return rt}throw Error("invalid varint encoding")}function _e(rt,it){return(rt[it-4]|rt[it-3]<<8|rt[it-2]<<16|rt[it-1]<<24)>>>0}function nt(){if(this.pos+8>this.len)throw $(this,8);return new d(_e(this.buf,this.pos+=4),_e(this.buf,this.pos+=4))}j.create=b(),j.prototype._slice=c.Array.prototype.subarray||c.Array.prototype.slice,j.prototype.uint32=(tt=4294967295,function(){if(tt=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(tt=(tt|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(tt=(tt|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(tt=(tt|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(tt=(tt|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return tt;if((this.pos+=5)>this.len)throw this.pos=this.len,$(this,10);return tt}),j.prototype.int32=function(){return 0|this.uint32()},j.prototype.sint32=function(){var rt=this.uint32();return rt>>>1^-(1&rt)|0},j.prototype.bool=function(){return this.uint32()!==0},j.prototype.fixed32=function(){if(this.pos+4>this.len)throw $(this,4);return _e(this.buf,this.pos+=4)},j.prototype.sfixed32=function(){if(this.pos+4>this.len)throw $(this,4);return 0|_e(this.buf,this.pos+=4)},j.prototype.float=function(){if(this.pos+4>this.len)throw $(this,4);var rt=c.float.readFloatLE(this.buf,this.pos);return this.pos+=4,rt},j.prototype.double=function(){if(this.pos+8>this.len)throw $(this,4);var rt=c.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,rt},j.prototype.bytes=function(){var rt=this.uint32(),it=this.pos,st=this.pos+rt;if(st>this.len)throw $(this,rt);return this.pos+=rt,Array.isArray(this.buf)?this.buf.slice(it,st):it===st?new this.buf.constructor(0):this._slice.call(this.buf,it,st)},j.prototype.string=function(){var rt=this.bytes();return g.read(rt,0,rt.length)},j.prototype.skip=function(rt){if(typeof rt=="number"){if(this.pos+rt>this.len)throw $(this,rt);this.pos+=rt}else do if(this.pos>=this.len)throw $(this);while(128&this.buf[this.pos++]);return this},j.prototype.skipType=function(rt){switch(rt){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(rt=7&this.uint32())!=4;)this.skipType(rt);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+rt+" at offset "+this.pos)}return this},j._configure=function(rt){a=rt,j.create=b(),a._configure();var it=c.Long?"toLong":"toNumber";c.merge(j.prototype,{int64:function(){return h.call(this)[it](!1)},uint64:function(){return h.call(this)[it](!0)},sint64:function(){return h.call(this).zzDecode()[it](!1)},fixed64:function(){return nt.call(this)[it](!0)},sfixed64:function(){return nt.call(this)[it](!1)}})}},593:(o,e,s)=>{o.exports=d;var a=s(1408);(d.prototype=Object.create(a.prototype)).constructor=d;var c=s(9693);function d(g){a.call(this,g)}d._configure=function(){c.Buffer&&(d.prototype._slice=c.Buffer.prototype.slice)},d.prototype.string=function(){var g=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+g,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+g,this.len))},d._configure()},5054:o=>{o.exports={}},5994:(o,e,s)=>{e.Service=s(7948)},7948:(o,e,s)=>{o.exports=c;var a=s(9693);function c(d,g,$){if(typeof d!="function")throw TypeError("rpcImpl must be a function");a.EventEmitter.call(this),this.rpcImpl=d,this.requestDelimited=!!g,this.responseDelimited=!!$}(c.prototype=Object.create(a.EventEmitter.prototype)).constructor=c,c.prototype.rpcCall=function d(g,$,j,tt,et){if(!tt)throw TypeError("request must be specified");var b=this;if(!et)return a.asPromise(d,b,g,$,j,tt);if(b.rpcImpl)try{return b.rpcImpl(g,$[b.requestDelimited?"encodeDelimited":"encode"](tt).finish(),function(h,_e){if(h)return b.emit("error",h,g),et(h);if(_e!==null){if(!(_e instanceof j))try{_e=j[b.responseDelimited?"decodeDelimited":"decode"](_e)}catch(nt){return b.emit("error",nt,g),et(nt)}return b.emit("data",_e,g),et(null,_e)}b.end(!0)})}catch(h){return b.emit("error",h,g),void setTimeout(function(){et(h)},0)}else setTimeout(function(){et(Error("already ended"))},0)},c.prototype.end=function(d){return this.rpcImpl&&(d||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(o,e,s)=>{o.exports=c;var a=s(9693);function c(j,tt){this.lo=j>>>0,this.hi=tt>>>0}var d=c.zero=new c(0,0);d.toNumber=function(){return 0},d.zzEncode=d.zzDecode=function(){return this},d.length=function(){return 1};var g=c.zeroHash="\0\0\0\0\0\0\0\0";c.fromNumber=function(j){if(j===0)return d;var tt=j<0;tt&&(j=-j);var et=j>>>0,b=(j-et)/4294967296>>>0;return tt&&(b=~b>>>0,et=~et>>>0,++et>4294967295&&(et=0,++b>4294967295&&(b=0))),new c(et,b)},c.from=function(j){if(typeof j=="number")return c.fromNumber(j);if(a.isString(j)){if(!a.Long)return c.fromNumber(parseInt(j,10));j=a.Long.fromString(j)}return j.low||j.high?new c(j.low>>>0,j.high>>>0):d},c.prototype.toNumber=function(j){if(!j&&this.hi>>>31){var tt=1+~this.lo>>>0,et=~this.hi>>>0;return tt||(et=et+1>>>0),-(tt+4294967296*et)}return this.lo+4294967296*this.hi},c.prototype.toLong=function(j){return a.Long?new a.Long(0|this.lo,0|this.hi,!!j):{low:0|this.lo,high:0|this.hi,unsigned:!!j}};var $=String.prototype.charCodeAt;c.fromHash=function(j){return j===g?d:new c(($.call(j,0)|$.call(j,1)<<8|$.call(j,2)<<16|$.call(j,3)<<24)>>>0,($.call(j,4)|$.call(j,5)<<8|$.call(j,6)<<16|$.call(j,7)<<24)>>>0)},c.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},c.prototype.zzEncode=function(){var j=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^j)>>>0,this.lo=(this.lo<<1^j)>>>0,this},c.prototype.zzDecode=function(){var j=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^j)>>>0,this.hi=(this.hi>>>1^j)>>>0,this},c.prototype.length=function(){var j=this.lo,tt=(this.lo>>>28|this.hi<<4)>>>0,et=this.hi>>>24;return et===0?tt===0?j<16384?j<128?1:2:j<2097152?3:4:tt<16384?tt<128?5:6:tt<2097152?7:8:et<128?9:10}},9693:function(o,e,s){var a=e;function c(g,$,j){for(var tt=Object.keys($),et=0;et<tt.length;++et)g[tt[et]]!==void 0&&j||(g[tt[et]]=$[tt[et]]);return g}function d(g){function $(j,tt){if(!(this instanceof $))return new $(j,tt);Object.defineProperty(this,"message",{get:function(){return j}}),Error.captureStackTrace?Error.captureStackTrace(this,$):Object.defineProperty(this,"stack",{value:new Error().stack||""}),tt&&c(this,tt)}return($.prototype=Object.create(Error.prototype)).constructor=$,Object.defineProperty($.prototype,"name",{get:function(){return g}}),$.prototype.toString=function(){return this.name+": "+this.message},$}a.asPromise=s(4537),a.base64=s(7419),a.EventEmitter=s(9211),a.float=s(945),a.inquire=s(7199),a.utf8=s(4997),a.pool=s(6662),a.LongBits=s(1945),a.isNode=!!(s.g!==void 0&&s.g&&s.g.process&&s.g.process.versions&&s.g.process.versions.node),a.global=a.isNode&&s.g||typeof window<"u"&&window||typeof self<"u"&&self||this,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isInteger=Number.isInteger||function(g){return typeof g=="number"&&isFinite(g)&&Math.floor(g)===g},a.isString=function(g){return typeof g=="string"||g instanceof String},a.isObject=function(g){return g&&typeof g=="object"},a.isset=a.isSet=function(g,$){var j=g[$];return!(j==null||!g.hasOwnProperty($))&&(typeof j!="object"||(Array.isArray(j)?j.length:Object.keys(j).length)>0)},a.Buffer=function(){try{var g=a.inquire("buffer").Buffer;return g.prototype.utf8Write?g:null}catch{return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(g){return typeof g=="number"?a.Buffer?a._Buffer_allocUnsafe(g):new a.Array(g):a.Buffer?a._Buffer_from(g):typeof Uint8Array>"u"?g:new Uint8Array(g)},a.Array=typeof Uint8Array<"u"?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(g){return g?a.LongBits.from(g).toHash():a.LongBits.zeroHash},a.longFromHash=function(g,$){var j=a.LongBits.fromHash(g);return a.Long?a.Long.fromBits(j.lo,j.hi,$):j.toNumber(!!$)},a.merge=c,a.lcFirst=function(g){return g.charAt(0).toLowerCase()+g.substring(1)},a.newError=d,a.ProtocolError=d("ProtocolError"),a.oneOfGetter=function(g){for(var $={},j=0;j<g.length;++j)$[g[j]]=1;return function(){for(var tt=Object.keys(this),et=tt.length-1;et>-1;--et)if($[tt[et]]===1&&this[tt[et]]!==void 0&&this[tt[et]]!==null)return tt[et]}},a.oneOfSetter=function(g){return function($){for(var j=0;j<g.length;++j)g[j]!==$&&delete this[g[j]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var g=a.Buffer;g?(a._Buffer_from=g.from!==Uint8Array.from&&g.from||function($,j){return new g($,j)},a._Buffer_allocUnsafe=g.allocUnsafe||function($){return new g($)}):a._Buffer_from=a._Buffer_allocUnsafe=null}},1173:(o,e,s)=>{o.exports=b;var a,c=s(9693),d=c.LongBits,g=c.base64,$=c.utf8;function j(ot,at,ct){this.fn=ot,this.len=at,this.next=void 0,this.val=ct}function tt(){}function et(ot){this.head=ot.head,this.tail=ot.tail,this.len=ot.len,this.next=ot.states}function b(){this.len=0,this.head=new j(tt,0,0),this.tail=this.head,this.states=null}var h=function(){return c.Buffer?function(){return(b.create=function(){return new a})()}:function(){return new b}};function _e(ot,at,ct){at[ct]=255&ot}function nt(ot,at){this.len=ot,this.next=void 0,this.val=at}function rt(ot,at,ct){for(;ot.hi;)at[ct++]=127&ot.lo|128,ot.lo=(ot.lo>>>7|ot.hi<<25)>>>0,ot.hi>>>=7;for(;ot.lo>127;)at[ct++]=127&ot.lo|128,ot.lo=ot.lo>>>7;at[ct++]=ot.lo}function it(ot,at,ct){at[ct]=255&ot,at[ct+1]=ot>>>8&255,at[ct+2]=ot>>>16&255,at[ct+3]=ot>>>24}b.create=h(),b.alloc=function(ot){return new c.Array(ot)},c.Array!==Array&&(b.alloc=c.pool(b.alloc,c.Array.prototype.subarray)),b.prototype._push=function(ot,at,ct){return this.tail=this.tail.next=new j(ot,at,ct),this.len+=at,this},nt.prototype=Object.create(j.prototype),nt.prototype.fn=function(ot,at,ct){for(;ot>127;)at[ct++]=127&ot|128,ot>>>=7;at[ct]=ot},b.prototype.uint32=function(ot){return this.len+=(this.tail=this.tail.next=new nt((ot>>>=0)<128?1:ot<16384?2:ot<2097152?3:ot<268435456?4:5,ot)).len,this},b.prototype.int32=function(ot){return ot<0?this._push(rt,10,d.fromNumber(ot)):this.uint32(ot)},b.prototype.sint32=function(ot){return this.uint32((ot<<1^ot>>31)>>>0)},b.prototype.uint64=function(ot){var at=d.from(ot);return this._push(rt,at.length(),at)},b.prototype.int64=b.prototype.uint64,b.prototype.sint64=function(ot){var at=d.from(ot).zzEncode();return this._push(rt,at.length(),at)},b.prototype.bool=function(ot){return this._push(_e,1,ot?1:0)},b.prototype.fixed32=function(ot){return this._push(it,4,ot>>>0)},b.prototype.sfixed32=b.prototype.fixed32,b.prototype.fixed64=function(ot){var at=d.from(ot);return this._push(it,4,at.lo)._push(it,4,at.hi)},b.prototype.sfixed64=b.prototype.fixed64,b.prototype.float=function(ot){return this._push(c.float.writeFloatLE,4,ot)},b.prototype.double=function(ot){return this._push(c.float.writeDoubleLE,8,ot)};var st=c.Array.prototype.set?function(ot,at,ct){at.set(ot,ct)}:function(ot,at,ct){for(var ut=0;ut<ot.length;++ut)at[ct+ut]=ot[ut]};b.prototype.bytes=function(ot){var at=ot.length>>>0;if(!at)return this._push(_e,1,0);if(c.isString(ot)){var ct=b.alloc(at=g.length(ot));g.decode(ot,ct,0),ot=ct}return this.uint32(at)._push(st,at,ot)},b.prototype.string=function(ot){var at=$.length(ot);return at?this.uint32(at)._push($.write,at,ot):this._push(_e,1,0)},b.prototype.fork=function(){return this.states=new et(this),this.head=this.tail=new j(tt,0,0),this.len=0,this},b.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new j(tt,0,0),this.len=0),this},b.prototype.ldelim=function(){var ot=this.head,at=this.tail,ct=this.len;return this.reset().uint32(ct),ct&&(this.tail.next=ot.next,this.tail=at,this.len+=ct),this},b.prototype.finish=function(){for(var ot=this.head.next,at=this.constructor.alloc(this.len),ct=0;ot;)ot.fn(ot.val,at,ct),ct+=ot.len,ot=ot.next;return at},b._configure=function(ot){a=ot,b.create=h(),a._configure()}},3155:(o,e,s)=>{o.exports=d;var a=s(1173);(d.prototype=Object.create(a.prototype)).constructor=d;var c=s(9693);function d(){a.call(this)}function g($,j,tt){$.length<40?c.utf8.write($,j,tt):j.utf8Write?j.utf8Write($,tt):j.write($,tt)}d._configure=function(){d.alloc=c._Buffer_allocUnsafe,d.writeBytesBuffer=c.Buffer&&c.Buffer.prototype instanceof Uint8Array&&c.Buffer.prototype.set.name==="set"?function($,j,tt){j.set($,tt)}:function($,j,tt){if($.copy)$.copy(j,tt,0,$.length);else for(var et=0;et<$.length;)j[tt++]=$[et++]}},d.prototype.bytes=function($){c.isString($)&&($=c._Buffer_from($,"base64"));var j=$.length>>>0;return this.uint32(j),j&&this._push(d.writeBytesBuffer,j,$),this},d.prototype.string=function($){var j=c.Buffer.byteLength($);return this.uint32(j),j&&this._push(g,j,$),this},d._configure()},7714:(o,e,s)=>{e.R=void 0;const a=s(6919),c=s(7448);e.R=new class{async init(){}async createSessionHandler(d,g){const $=new a.Session(g);return await $.loadModel(d),new c.OnnxjsSessionHandler($)}}},4200:(o,e,s)=>{e.c8=e.rX=void 0;const a=s(1670),c=s(5381),d=s(2157),g=s(2306);e.rX=()=>{if((typeof a.env.wasm.initTimeout!="number"||a.env.wasm.initTimeout<0)&&(a.env.wasm.initTimeout=0),typeof a.env.wasm.simd!="boolean"&&(a.env.wasm.simd=!0),typeof a.env.wasm.proxy!="boolean"&&(a.env.wasm.proxy=!1),typeof a.env.wasm.numThreads!="number"||!Number.isInteger(a.env.wasm.numThreads)||a.env.wasm.numThreads<=0){const $=typeof navigator>"u"?(0,c.cpus)().length:navigator.hardwareConcurrency;a.env.wasm.numThreads=Math.min(4,Math.ceil(($||1)/2))}},e.c8=new class{async init(){(0,e.rX)(),await(0,d.initWasm)()}async createSessionHandler($,j){const tt=new g.OnnxruntimeWebAssemblySessionHandler;return await tt.loadModel($,j),Promise.resolve(tt)}}},6018:function(o,e,s){var a=this&&this.__createBinding||(Object.create?function(g,$,j,tt){tt===void 0&&(tt=j);var et=Object.getOwnPropertyDescriptor($,j);et&&!("get"in et?!$.__esModule:et.writable||et.configurable)||(et={enumerable:!0,get:function(){return $[j]}}),Object.defineProperty(g,tt,et)}:function(g,$,j,tt){tt===void 0&&(tt=j),g[tt]=$[j]}),c=this&&this.__exportStar||function(g,$){for(var j in g)j==="default"||Object.prototype.hasOwnProperty.call($,j)||a($,g,j)};Object.defineProperty(e,"__esModule",{value:!0}),c(s(1670),e);const d=s(1670);{const g=s(7714).R;(0,d.registerBackend)("webgl",g,-10)}{const g=s(4200).c8;(0,d.registerBackend)("cpu",g,10),(0,d.registerBackend)("wasm",g,10),(0,d.registerBackend)("xnnpack",g,9)}},246:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createAttributeWithCacheKey=void 0;class s{constructor(c){Object.assign(this,c)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(c=>`${this[c]}`).join(";")),this._cacheKey}}e.createAttributeWithCacheKey=a=>new s(a)},7778:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Attribute=void 0;const a=s(1446),c=s(9395),d=s(9162),g=s(2517);var $=c.onnxruntime.experimental.fbs;class j{constructor(et){if(this._attributes=new Map,et!=null){for(const b of et)b instanceof a.onnx.AttributeProto?this._attributes.set(b.name,[j.getValue(b),j.getType(b)]):b instanceof $.Attribute&&this._attributes.set(b.name(),[j.getValue(b),j.getType(b)]);if(this._attributes.size<et.length)throw new Error("duplicated attribute names")}}set(et,b,h){this._attributes.set(et,[h,b])}delete(et){this._attributes.delete(et)}getFloat(et,b){return this.get(et,"float",b)}getInt(et,b){return this.get(et,"int",b)}getString(et,b){return this.get(et,"string",b)}getTensor(et,b){return this.get(et,"tensor",b)}getFloats(et,b){return this.get(et,"floats",b)}getInts(et,b){return this.get(et,"ints",b)}getStrings(et,b){return this.get(et,"strings",b)}getTensors(et,b){return this.get(et,"tensors",b)}get(et,b,h){const _e=this._attributes.get(et);if(_e===void 0){if(h!==void 0)return h;throw new Error(`required attribute not found: ${et}`)}if(_e[1]!==b)throw new Error(`type mismatch: expected ${b} but got ${_e[1]}`);return _e[0]}static getType(et){const b=et instanceof a.onnx.AttributeProto?et.type:et.type();switch(b){case a.onnx.AttributeProto.AttributeType.FLOAT:return"float";case a.onnx.AttributeProto.AttributeType.INT:return"int";case a.onnx.AttributeProto.AttributeType.STRING:return"string";case a.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case a.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case a.onnx.AttributeProto.AttributeType.INTS:return"ints";case a.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case a.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${a.onnx.AttributeProto.AttributeType[b]}`)}}static getValue(et){const b=et instanceof a.onnx.AttributeProto?et.type:et.type();if(b===a.onnx.AttributeProto.AttributeType.GRAPH||b===a.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const h=this.getValueNoCheck(et);if(b===a.onnx.AttributeProto.AttributeType.INT&&g.LongUtil.isLong(h))return g.LongUtil.longToNumber(h);if(b===a.onnx.AttributeProto.AttributeType.INTS){const _e=h,nt=new Array(_e.length);for(let rt=0;rt<_e.length;rt++){const it=_e[rt];nt[rt]=g.LongUtil.longToNumber(it)}return nt}if(b===a.onnx.AttributeProto.AttributeType.TENSOR)return et instanceof a.onnx.AttributeProto?d.Tensor.fromProto(h):d.Tensor.fromOrtTensor(h);if(b===a.onnx.AttributeProto.AttributeType.TENSORS){if(et instanceof a.onnx.AttributeProto)return h.map(_e=>d.Tensor.fromProto(_e));if(et instanceof $.Attribute)return h.map(_e=>d.Tensor.fromOrtTensor(_e))}if(b===a.onnx.AttributeProto.AttributeType.STRING&&et instanceof a.onnx.AttributeProto){const _e=h;return(0,g.decodeUtf8String)(_e)}return b===a.onnx.AttributeProto.AttributeType.STRINGS&&et instanceof a.onnx.AttributeProto?h.map(g.decodeUtf8String):h}static getValueNoCheck(et){return et instanceof a.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(et):this.getValueNoCheckFromOrtFormat(et)}static getValueNoCheckFromOnnxFormat(et){switch(et.type){case a.onnx.AttributeProto.AttributeType.FLOAT:return et.f;case a.onnx.AttributeProto.AttributeType.INT:return et.i;case a.onnx.AttributeProto.AttributeType.STRING:return et.s;case a.onnx.AttributeProto.AttributeType.TENSOR:return et.t;case a.onnx.AttributeProto.AttributeType.GRAPH:return et.g;case a.onnx.AttributeProto.AttributeType.FLOATS:return et.floats;case a.onnx.AttributeProto.AttributeType.INTS:return et.ints;case a.onnx.AttributeProto.AttributeType.STRINGS:return et.strings;case a.onnx.AttributeProto.AttributeType.TENSORS:return et.tensors;case a.onnx.AttributeProto.AttributeType.GRAPHS:return et.graphs;default:throw new Error(`unsupported attribute type: ${a.onnx.AttributeProto.AttributeType[et.type]}`)}}static getValueNoCheckFromOrtFormat(et){switch(et.type()){case $.AttributeType.FLOAT:return et.f();case $.AttributeType.INT:return et.i();case $.AttributeType.STRING:return et.s();case $.AttributeType.TENSOR:return et.t();case $.AttributeType.GRAPH:return et.g();case $.AttributeType.FLOATS:return et.floatsArray();case $.AttributeType.INTS:{const b=[];for(let h=0;h<et.intsLength();h++)b.push(et.ints(h));return b}case $.AttributeType.STRINGS:{const b=[];for(let h=0;h<et.stringsLength();h++)b.push(et.strings(h));return b}case $.AttributeType.TENSORS:{const b=[];for(let h=0;h<et.tensorsLength();h++)b.push(et.tensors(h));return b}default:throw new Error(`unsupported attribute type: ${$.AttributeType[et.type()]}`)}}}e.Attribute=j},7091:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.resolveBackend=e.backend=void 0;const a=s(5038),c=new Map;async function d(g){const $=e.backend;if($[g]!==void 0&&function(j){const tt=j;return"initialize"in tt&&typeof tt.initialize=="function"&&"createSessionHandler"in tt&&typeof tt.createSessionHandler=="function"&&"dispose"in tt&&typeof tt.dispose=="function"}($[g])){const j=$[g];let tt=j.initialize();if(typeof tt=="object"&&"then"in tt&&(tt=await tt),tt)return c.set(g,j),j}}e.backend={webgl:new a.WebGLBackend},e.resolveBackend=async function g($){if(!$)return g(["webgl"]);{const j=typeof $=="string"?[$]:$;for(const tt of j){const et=c.get(tt);if(et)return et;const b=await d(tt);if(b)return b}}throw new Error("no available backend to use")}},5038:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLBackend=void 0;const a=s(1670),c=s(6231),d=s(6416),g=s(7305);e.WebGLBackend=class{get contextId(){return a.env.webgl.contextId}set contextId($){a.env.webgl.contextId=$}get matmulMaxBatchSize(){return a.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize($){a.env.webgl.matmulMaxBatchSize=$}get textureCacheMode(){return a.env.webgl.textureCacheMode}set textureCacheMode($){a.env.webgl.textureCacheMode=$}get pack(){return a.env.webgl.pack}set pack($){a.env.webgl.pack=$}get async(){return a.env.webgl.async}set async($){a.env.webgl.async=$}initialize(){try{return this.glContext=(0,g.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),c.Logger.setWithEnv(a.env),c.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch($){return c.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${$}`),!1}}createSessionHandler($){return new d.WebGLSessionHandler(this,$)}dispose(){this.glContext.dispose()}}},5107:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CoordsGlslLib=void 0;const a=s(2517),c=s(8520),d=s(5060),g=s(7859),$=s(9390);class j extends c.GlslLib{constructor(et){super(et)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new c.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new c.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const et=this.context.outputTextureLayout;return et.isPacked?this.getPackedOutputSamplingSnippet(et):this.getUnpackedOutputSamplingSnippet(et)}getPackedOutputSamplingSnippet(et){const b=et.unpackedShape,h=[et.width,et.height],_e={},nt="getOutputCoords";switch(b.length){case 0:_e[nt]=this.getOutputScalarCoords();break;case 1:_e[nt]=this.getOutputPacked1DCoords(b,h);break;case 2:_e[nt]=this.getOutputPacked2DCoords(b,h);break;case 3:_e[nt]=this.getOutputPacked3DCoords(b,h);break;default:_e[nt]=this.getOutputPackedNDCoords(b,h)}const rt=`
      void setOutput(vec4 val) {
        ${(0,d.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return _e.floatTextureSetRGBA=new c.GlslLibRoutine(rt),_e}getUnpackedOutputSamplingSnippet(et){const b=et.unpackedShape,h=[et.width,et.height],_e={},nt="getOutputCoords";switch(b.length){case 0:_e[nt]=this.getOutputScalarCoords();break;case 1:_e[nt]=this.getOutputUnpacked1DCoords(b,h);break;case 2:_e[nt]=this.getOutputUnpacked2DCoords(b,h);break;case 3:_e[nt]=this.getOutputUnpacked3DCoords(b,h);break;case 4:_e[nt]=this.getOutputUnpacked4DCoords(b,h);break;case 5:_e[nt]=this.getOutputUnpacked5DCoords(b,h);break;case 6:_e[nt]=this.getOutputUnpacked6DCoords(b,h);break;default:throw new Error(`Unsupported output dimensionality: ${b.length}`)}const rt=`
        void setOutput(float val) {
          ${(0,d.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return _e.floatTextureSetR=new c.GlslLibRoutine(rt),_e}getOutputScalarCoords(){return new c.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(et,b){const h=b;let _e="";return h[0]===1?(_e=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${h[1]}.0);
          }
        `,new c.GlslLibRoutine(_e)):h[1]===1?(_e=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${h[0]}.0);
          }
        `,new c.GlslLibRoutine(_e)):(_e=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${h[0]}, ${h[1]}));
          return 2 * (resTexRC.y * ${h[0]} + resTexRC.x);
        }
      `,new c.GlslLibRoutine(_e))}getOutputPacked2DCoords(et,b){let h="";if(a.ArrayUtil.arraysEqual(et,b))return h=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${b[0]}, ${b[1]}));
        }
      `,new c.GlslLibRoutine(h);const _e=b,nt=Math.ceil(et[1]/2);return h=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${_e[0]}, ${_e[1]}));

          int index = resTexRC.y * ${_e[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${nt}) * 2;
          int c = 2 * (index / ${nt});

          return ivec2(r, c);
        }
      `,new c.GlslLibRoutine(h)}getOutputPacked3DCoords(et,b){const h=[b[0],b[1]],_e=Math.ceil(et[2]/2),nt=_e*Math.ceil(et[1]/2),rt=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${h[0]}, ${h[1]}));
          int index = resTexRC.y * ${h[0]} + resTexRC.x;

          int b = index / ${nt};
          index -= b * ${nt};

          // reverse r and c order for packed texture
          int r = imod(index, ${_e}) * 2;
          int c = 2 * (index / ${_e});

          return ivec3(b, r, c);
        }
      `;return new c.GlslLibRoutine(rt)}getOutputPackedNDCoords(et,b){const h=[b[0],b[1]],_e=Math.ceil(et[et.length-1]/2),nt=_e*Math.ceil(et[et.length-2]/2);let rt=nt,it="",st="b, r, c";for(let at=2;at<et.length-1;at++)rt*=et[et.length-at-1],it=`
      int b${at} = index / ${rt};
      index -= b${at} * ${rt};
    `+it,st=`b${at}, `+st;const ot=`
      ivec${et.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${h[0]}, ${h[1]}));
        int index = resTexRC.y * ${h[0]} + resTexRC.x;

        ${it}

        int b = index / ${nt};
        index -= b * ${nt};

        // reverse r and c order for packed texture
        int r = imod(index, ${_e}) * 2;
        int c = 2 * (index / ${_e});

        return ivec${et.length}(${st});
      }
    `;return new c.GlslLibRoutine(ot)}getOutputUnpacked1DCoords(et,b){const h=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${b[0]}, ${b[1]}));
          return resTexRC.y * ${b[0]} + resTexRC.x;
        }
      `;return new c.GlslLibRoutine(h)}getOutputUnpacked2DCoords(et,b){const h=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${b[0]}, ${b[1]}));
          int index = resTexRC.y * ${b[0]} + resTexRC.x;
          int r = index / ${et[1]};
          int c = index - r * ${et[1]};
          return ivec2(r, c);
        }
      `;return new c.GlslLibRoutine(h)}getOutputUnpacked3DCoords(et,b){let h="";const _e=et.length;let nt=null;_e<2&&(nt=[]),nt=new Array(_e-1),nt[_e-2]=et[_e-1];for(let st=_e-3;st>=0;--st)nt[st]=nt[st+1]*et[st+1];const rt=["r","c","d"],it=nt.map((st,ot)=>`int ${rt[ot]} = index / ${st}; ${ot===nt.length-1?`int ${rt[ot+1]} = index - ${rt[ot]} * ${st}`:`index -= ${rt[ot]} * ${st}`};`).join("");return h=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${b[0]}, ${b[1]}));
          int index = resTexRC.y * ${b[0]} + resTexRC.x;
          ${it}
          return ivec3(r, c, d);
        }
      `,new c.GlslLibRoutine(h)}getOutputUnpacked4DCoords(et,b){let h="";const _e=et.length;let nt=null;_e<2&&(nt=[]),nt=new Array(_e-1),nt[_e-2]=et[_e-1];for(let st=_e-3;st>=0;--st)nt[st]=nt[st+1]*et[st+1];const rt=["r","c","d","d2"],it=nt.map((st,ot)=>`int ${rt[ot]} = index / ${st}; ${ot===nt.length-1?`int ${rt[ot+1]} = index - ${rt[ot]} * ${st}`:`index -= ${rt[ot]} * ${st}`};`).join("");return h=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${b[0]}, ${b[1]}));
          int index = resTexRC.y * ${b[0]} + resTexRC.x;
          ${it}
          return ivec4(r, c, d, d2);
        }
      `,new c.GlslLibRoutine(h)}getOutputUnpacked5DCoords(et,b){let h="";const _e=et.length;let nt=null;_e<2&&(nt=[]),nt=new Array(_e-1),nt[_e-2]=et[_e-1];for(let st=_e-3;st>=0;--st)nt[st]=nt[st+1]*et[st+1];const rt=["r","c","d","d2","d3"],it=nt.map((st,ot)=>`int ${rt[ot]} = index / ${st}; ${ot===nt.length-1?`int ${rt[ot+1]} = index - ${rt[ot]} * ${st}`:`index -= ${rt[ot]} * ${st}`};`).join("");return h=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${b[0]}, ${b[1]}));
          int index = resTexRC.y * ${b[0]} + resTexRC.x;
          ${it}
          return ivec5(r, c, d, d2, d3);
        }
      `,new c.GlslLibRoutine(h)}getOutputUnpacked6DCoords(et,b){let h="";const _e=et.length;let nt=null;_e<2&&(nt=[]),nt=new Array(_e-1),nt[_e-2]=et[_e-1];for(let st=_e-3;st>=0;--st)nt[st]=nt[st+1]*et[st+1];const rt=["r","c","d","d2","d3","d4"],it=nt.map((st,ot)=>`int ${rt[ot]} = index / ${st}; ${ot===nt.length-1?`int ${rt[ot+1]} = index - ${rt[ot]} * ${st}`:`index -= ${rt[ot]} * ${st}`};`).join("");return h=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${b[0]}, ${b[1]}));
         int index = resTexRC.y * ${b[0]} + resTexRC.x;
         ${it}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new c.GlslLibRoutine(h)}getCommonUtilFuncs(){const et={};let b="uvFromFlat";et[b]=new c.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),b="packedUVfrom1D",et[b]=new c.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),b="packedUVfrom2D",et[b]=new c.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),b="packedUVfrom3D",et[b]=new c.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),b="sampleTexture";const h=(0,d.getGlsl)(this.context.glContext.version);return et[b]=new c.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${h.texture2D}(textureSampler, uv).r;
        }`),et}getInputsSamplingSnippets(){const et={},b=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((h,_e)=>{const nt=this.context.inputTextureLayouts[_e],rt=(0,$.generateShaderFuncNameFromInputSamplerName)(h);nt.isPacked?et[rt]=this.getPackedSamplerFromInput(rt,h,nt):et[rt]=this.getUnpackedSamplerFromInput(rt,h,nt);const it=(0,$.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(h);nt.unpackedShape.length<=b.unpackedShape.length&&(nt.isPacked?et[it]=this.getPackedSamplerAtOutputCoords(it,nt,b,h):et[it]=this.getUnpackedSamplerAtOutputCoords(it,nt,b,h))}),et}getPackedSamplerAtOutputCoords(et,b,h,_e){const nt=b.unpackedShape,rt=h.unpackedShape,it=_e,st=(0,$.generateShaderFuncNameFromInputSamplerName)(it),ot=nt.length,at=rt.length,ct=a.BroadcastUtil.getBroadcastDims(nt,rt),ut=(0,$.getCoordsDataType)(at),dt=at-ot;let ht;const pt=(0,$.getGlChannels)();ht=ot===0?"":at<2&&ct.length>=1?"coords = 0;":ct.map(gt=>`coords.${pt[gt+dt]} = 0;`).join(`
`);let ft="";ft=at<2&&ot>0?"coords":nt.map((gt,At)=>`coords.${pt[At+dt]}`).join(", ");let bt="return outputValue;";const Ct=a.ShapeUtil.size(nt)===1,yt=a.ShapeUtil.size(rt)===1;if(ot!==1||Ct||yt){if(Ct&&!yt)bt=at===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(ct.length){const gt=ot-2,At=ot-1;ct.indexOf(gt)>-1&&ct.indexOf(At)>-1?bt="return vec4(outputValue.x);":ct.indexOf(gt)>-1?bt="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":ct.indexOf(At)>-1&&(bt="return vec4(outputValue.xx, outputValue.zz);")}}else bt=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const Et=`
      vec4 ${et}() {
        ${ut} coords = getOutputCoords();
        
        int lastDim = coords.${pt[at-1]};
        coords.${pt[at-1]} = coords.${pt[at-2]};
        coords.${pt[at-2]} = lastDim;
      
        ${ht}
        vec4 outputValue = ${st}(${ft});
        ${bt}
      }
    `;return new c.GlslLibRoutine(Et,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(et,b,h,_e){const nt=[h.width,h.height],rt=[b.width,b.height],it=b.unpackedShape.length,st=h.unpackedShape.length,ot=b.unpackedShape,at=h.unpackedShape,ct=(0,$.generateShaderFuncNameFromInputSamplerName)(_e);if(it===st&&a.ArrayUtil.arraysEqual(rt,nt)){const yt=`
          float ${et}() {
            return sampleTexture(${_e}, TexCoords);
          }
        `;return new c.GlslLibRoutine(yt,["coordinates.sampleTexture"])}const ut=(0,$.getCoordsDataType)(st),dt=a.BroadcastUtil.getBroadcastDims(ot,at),ht=st-it;let pt;const ft=(0,$.getGlChannels)();pt=it===0?"":st<2&&dt.length>=1?"coords = 0;":dt.map(yt=>`coords.${ft[yt+ht]} = 0;`).join(`
`);let bt="";bt=st<2&&it>0?"coords":b.unpackedShape.map((yt,Et)=>`coords.${ft[Et+ht]}`).join(", ");const Ct=`
        float ${et}() {
          ${ut} coords = getOutputCoords();
          ${pt}
          return ${ct}(${bt});
        }
      `;return new c.GlslLibRoutine(Ct,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(et,b,h){switch(h.unpackedShape.length){case 0:return this.getPackedSamplerScalar(et,b);case 1:return this.getPackedSampler1D(et,b,h);case 2:return this.getPackedSampler2D(et,b,h);case 3:return this.getPackedSampler3D(et,b,h);default:return this.getPackedSamplerND(et,b,h)}}getUnpackedSamplerFromInput(et,b,h){const _e=h.unpackedShape;switch(_e.length){case 0:return this.getUnpackedSamplerScalar(et,b,h);case 1:return this.getUnpackedSampler1D(et,b,h);case 2:return this.getUnpackedSampler2D(et,b,h);case 3:return this.getUnpackedSampler3D(et,b,h);case 4:return this.getUnpackedSampler4D(et,b,h);case 5:return this.getUnpackedSampler5D(et,b,h);case 6:return this.getUnpackedSampler6D(et,b,h);default:throw new Error(`Unsupported dimension ${_e.length}-D`)}}getPackedSamplerScalar(et,b){const h=`
          vec4 ${et}() {
            return ${(0,d.getGlsl)(this.context.glContext.version).texture2D}(${b}, halfCR);
          }
        `;return new c.GlslLibRoutine(h)}getPackedSampler1D(et,b,h){const _e=[h.width,h.height],nt=[_e[1],_e[0]],rt=(0,d.getGlsl)(this.context.glContext.version),it=`vec4 ${et}(int index) {
      vec2 uv = packedUVfrom1D(
      ${nt[0]}, ${nt[1]}, index);
      return ${rt.texture2D}(${b}, uv);
    }`;return new c.GlslLibRoutine(it,["coordinates.packedUVfrom1D"])}getPackedSampler2D(et,b,h){const _e=h.unpackedShape,nt=[h.width,h.height],rt=(0,d.getGlsl)(this.context.glContext.version),it=nt[0],st=nt[1];if(nt!=null&&a.ArrayUtil.arraysEqual(_e,nt)){const ut=`vec4 ${et}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${st}.0, ${it}.0);
        return ${rt.texture2D}(${b}, uv);
      }`;return new c.GlslLibRoutine(ut)}const ot=nt,at=Math.ceil(_e[1]/2),ct=`vec4 ${et}(int row, int col) {
      vec2 uv = packedUVfrom2D(${ot[1]}, ${ot[0]}, ${at}, row, col);
      return ${rt.texture2D}(${b}, uv);
    }`;return new c.GlslLibRoutine(ct,["coordinates.packedUVfrom2D"])}getPackedSampler3D(et,b,h){const _e=h.unpackedShape,nt=[h.width,h.height],rt=[nt[0],nt[1]],it=(0,d.getGlsl)(this.context.glContext.version);if(_e[0]===1){const ut=_e.slice(1),dt=[1,2],ht=(0,$.squeezeInputShape)(_e,ut),pt=["b","row","col"],ft=JSON.parse(JSON.stringify(h));ft.unpackedShape=ht;const bt=this.getPackedSamplerFromInput(et,b,ft),Ct=`${bt.routineBody}
      vec4 ${et}(int b, int row, int col) {
        return ${et}(${(0,$.getSqueezedParams)(pt,dt)});
      } `;return new c.GlslLibRoutine(Ct,bt.dependencies)}const st=rt[0],ot=rt[1],at=Math.ceil(_e[2]/2),ct=`vec4 ${et}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${ot}, ${st}, ${at*Math.ceil(_e[1]/2)}, ${at}, b, row, col);
      return ${it.texture2D}(${b}, uv);}`;return new c.GlslLibRoutine(ct,["coordinates.packedUVfrom3D"])}getPackedSamplerND(et,b,h){const _e=h.unpackedShape,nt=_e.length,rt=[h.width,h.height],it=(0,d.getGlsl)(this.context.glContext.version),st=[rt[0],rt[1]],ot=st[1],at=st[0],ct=Math.ceil(_e[nt-1]/2);let ut=ct*Math.ceil(_e[nt-2]/2),dt="int b, int row, int col",ht=`b * ${ut} + (row / 2) * ${ct} + (col / 2)`;for(let ft=2;ft<nt-1;ft++)dt=`int b${ft}, `+dt,ut*=_e[nt-ft-1],ht=`b${ft} * ${ut} + `+ht;const pt=`vec4 ${et}(${dt}) {
      int index = ${ht};
      int texR = index / ${at};
      int texC = index - texR * ${at};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${at}, ${ot});
      return ${it.texture2D}(${b}, uv);
    }`;return new c.GlslLibRoutine(pt)}getUnpackedSamplerScalar(et,b,h){const[_e,nt]=[h.width,h.height];if(_e===1&&nt===1){const it=`
          float ${et}() {
            return sampleTexture(${b}, halfCR);
          }
        `;return new c.GlslLibRoutine(it,["coordinates.sampleTexture"])}const rt=`
        float ${et}() {
          int offset_${b} = coordsToOffset(TexCoords, ${_e}, ${nt});
          vec2 uv = uvFromFlat(${_e}, ${nt}, offset_${b});
          return sampleTexture(${b}, uv);
        }
      `;return new c.GlslLibRoutine(rt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(et,b,h){const _e=h.width,nt=h.height;if(nt===1&&_e===1){const it=`
        float ${et}(int index) {
          return sampleTexture(${b}, halfCR);
        }
      `;return new c.GlslLibRoutine(it,["coordinates.sampleTexture"])}if(nt===1){const it=`
          float ${et}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${_e}.0, 0.5);
            return sampleTexture(${b}, uv);
          }
        `;return new c.GlslLibRoutine(it,["coordinates.sampleTexture"])}if(_e===1){const it=`
          float ${et}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${nt}.0);
            return sampleTexture(${b}, uv);
          }
        `;return new c.GlslLibRoutine(it,["coordinates.sampleTexture"])}const rt=`
        float ${et}(int index) {
          vec2 uv = uvFromFlat(${_e}, ${nt}, index);
          return sampleTexture(${b}, uv);
        }
      `;return new c.GlslLibRoutine(rt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(et,b,h){const _e=h.unpackedShape,nt=[h.height,h.width];if(nt!=null&&a.ArrayUtil.arraysEqual(_e,nt)){const ut=`
          float ${et}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${nt[1]}.0, ${nt[0]}.0);
            return sampleTexture(${b}, uv);
          }
        `;return new c.GlslLibRoutine(ut,["coordinates.sampleTexture"])}const{newShape:rt,keptDims:it}=(0,g.squeezeShape)(_e),st=rt;if(st.length<_e.length){const ut=(0,$.squeezeInputShape)(_e,st),dt=JSON.parse(JSON.stringify(h));dt.unpackedShape=ut;const ht=["col","row"],pt=`
          ${this.getUnpackedSamplerFromInput(et,b,dt).routineBody}
          float ${et}(int row, int col) {
            return ${et}(${(0,$.getSqueezedParams)(ht,it)});
          }
        `;return new c.GlslLibRoutine(pt,["coordinates.sampleTexture"])}const ot=nt[1],at=nt[0];if(at===1){const ut=`
          float ${et}(int row, int col) {
            int offset_${b} = coordsToOffset(TexCoords, ${ot}, ${at});
            float index = dot(vec3(row, col, offset_${b}), vec3(${_e[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${ot}.0);
            return sampleTexture(${b}, uv);
          }
        `;return new c.GlslLibRoutine(ut,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(ot===1){const ut=`
          float ${et}(int row, int col) {
            int offset_${b} = coordsToOffset(TexCoords, ${ot}, ${at});
            float index = dot(vec3(row, col, offset_${b}), vec3(${_e[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${at}.0, 0.5);
            return sampleTexture(${b}, uv);
          }
        `;return new c.GlslLibRoutine(ut,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const ct=`
        float ${et}(int row, int col) {
          int index = col * ${_e[1]} + row;
          vec2 uv = uvFromFlat(${ot}, ${at}, index);
          return sampleTexture(${b}, uv);
        }
      `;return new c.GlslLibRoutine(ct,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(et,b,h){const _e=h.unpackedShape,nt=_e[1]*_e[2],rt=_e[2],{newShape:it,keptDims:st}=(0,g.squeezeShape)(_e),ot=it;if(ot.length<_e.length){const ct=(0,$.squeezeInputShape)(_e,ot),ut=["batch","col","row"],dt=JSON.parse(JSON.stringify(h));dt.unpackedShape=ct;const ht=this.getUnpackedSamplerFromInput(et,b,dt),pt=st.reverse(),ft=`
          ${ht.routineBody}
          float ${et}(int batch, int row, int col) {
            return ${et}(${(0,$.getSqueezedParams)(ut,pt)});
          }
        `;return new c.GlslLibRoutine(ft,ht.dependencies)}const at=`
          float ${et}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${nt} + col * ${rt} + row;
            vec2 uv = uvFromFlat(${h.width}, ${h.height}, index);
            return sampleTexture(${b}, uv);
          }
      `;return new c.GlslLibRoutine(at,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(et,b,h){const _e=h.unpackedShape,nt=_e[3],rt=_e[2]*nt,it=`
        float ${et}(int row, int col, int depth, int depth2) {
          int index = row * ${_e[1]*rt} + col * ${rt} +
              depth2 * ${nt} + depth;
          vec2 uv = uvFromFlat(${h.width}, ${h.height}, index);
          return sampleTexture(${b}, uv);
        }
      `;return new c.GlslLibRoutine(it,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(et,b,h){const _e=h.unpackedShape,nt=_e[4],rt=_e[3]*nt,it=_e[2]*rt,st=_e[1]*it,{newShape:ot,keptDims:at}=(0,g.squeezeShape)(_e);if(ot.length<_e.length){const ut=(0,$.squeezeInputShape)(_e,ot),dt=["row","col","depth","depth2","depth3"],ht=JSON.parse(JSON.stringify(h));ht.unpackedShape=ut;const pt=`
          ${this.getUnpackedSamplerFromInput(et,b,ht).routineBody}
          float ${et}(int row, int col, int depth, int depth2, int depth3) {
            return ${et}(${(0,$.getSqueezedParams)(dt,at)});
          }
        `;return new c.GlslLibRoutine(pt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const ct=`
        float ${et}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${st} + col * ${it} + depth * ${rt} +
          depth3 * ${nt} + depth2;
          vec2 uv = uvFromFlat(${h.width}, ${h.height}, index);
          return sampleTexture(${b}, uv);
        }
      `;return new c.GlslLibRoutine(ct,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(et,b,h){const _e=h.unpackedShape,nt=_e[5],rt=_e[4]*nt,it=_e[3]*rt,st=_e[2]*it,ot=_e[1]*st,{newShape:at,keptDims:ct}=(0,g.squeezeShape)(_e);if(at.length<_e.length){const dt=(0,$.squeezeInputShape)(_e,at),ht=["row","col","depth","depth2","depth3","depth4"],pt=JSON.parse(JSON.stringify(h));pt.unpackedShape=dt;const ft=`
            ${this.getUnpackedSamplerFromInput(et,b,pt).routineBody}
            float ${et}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${et}(${(0,$.getSqueezedParams)(ht,ct)});
            }
          `;return new c.GlslLibRoutine(ft,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const ut=`
          float ${et}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${ot} + col * ${st} + depth * ${it} +
            depth2 * ${rt} + depth3 * ${nt} + depth4;
            vec2 uv = uvFromFlat(${h.width}, ${h.height}, index);
            return sampleTexture(${b}, uv);
          }
        `;return new c.GlslLibRoutine(ut,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const et=this.context.outputTextureLayout,b=et.shape.length,h=et.strides,_e=et.width,nt=et.height,rt=[];for(let st=0;st<b-1;++st)rt.push(`
        c[${st}] = offset / ${h[st]};`),rt.push(`
        offset -= c[${st}] * ${h[st]};`);rt.push(`
        c[${b-1}] = offset;`);const it=`
      void toVec(vec2 texCoords, out int c[${b}]) {
        int offset = coordsToOffset(texCoords, ${_e}, ${nt});
        ${rt.join("")}
      }
      void toVec(int offset, out int c[${b}]) {
        ${rt.join("")}
      }
    `;return{toVec:new c.GlslLibRoutine(it,["coordinates.coordsToOffset"])}}valueFrom(){const et={};return this.context.programInfo.inputNames.forEach((b,h)=>{const _e=this.context.inputTextureLayouts[h],nt=(_e.unpackedShape.length>0?_e.unpackedShape:_e.shape).length;let rt=`_${b}`;et[rt]=new c.GlslLibRoutine(this.getValueFromSingle(b,nt,_e.width,_e.height,!1),[`shapeUtils.indicesToOffset${rt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),rt+="_T",et[rt]=new c.GlslLibRoutine(this.getValueFromSingle(b,nt,_e.width,_e.height,!0),[`shapeUtils.indicesToOffset${rt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),et}getValueFromSingle(et,b,h,_e,nt){let rt=`_${et}`;return nt&&(rt+="_T"),`
        float ${rt}(int m[${b}]) {
          int offset = indicesToOffset${rt}(m);
          vec2 coords = offsetToCoords(offset, ${h}, ${_e});
          float value = getColorAsFloat(${(0,d.getGlsl)(this.context.glContext.version).texture2D}(${et}, coords));
          return value;
        }
        `}getPackedValueFrom(et,b,h,_e,nt){let rt=`_${et}_Pack`;return nt&&(rt+="_T"),`
        vec4 ${rt}(int m[${b}]) {
          int offset = indicesToOffset_${et}(m);
          vec2 coords = offsetToCoords(offset, ${h}, ${_e});
          return ${(0,d.getGlsl)(this.context.glContext.version).texture2D}(${et}, coords);
        }
        `}}e.CoordsGlslLib=j},8520:(o,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.TopologicalSortGlslRoutines=e.GlslLibRoutineNode=e.GlslLibRoutine=e.GlslLib=e.GlslContext=e.FunctionType=void 0,(s=e.FunctionType||(e.FunctionType={}))[s.ValueBased=0]="ValueBased",s[s.Positional=1]="Positional",e.GlslContext=class{constructor(a,c,d,g){this.glContext=a,this.programInfo=c,this.inputTextureLayouts=d,this.outputTextureLayout=g}},e.GlslLib=class{constructor(a){this.context=a}},e.GlslLibRoutine=class{constructor(a,c){this.routineBody=a,this.dependencies=c}},e.GlslLibRoutineNode=class{constructor(a,c,d){this.name=a,this.dependencies=d||[],c&&(this.routineBody=c)}addDependency(a){a&&this.dependencies.push(a)}},e.TopologicalSortGlslRoutines=class{static returnOrderedNodes(a){if(!a||a.length===0)return[];if(a.length===1)return a;const c=new Set,d=new Set,g=new Array;return this.createOrderedNodes(a,c,d,g),g}static createOrderedNodes(a,c,d,g){for(let $=0;$<a.length;++$)this.dfsTraverse(a[$],c,d,g)}static dfsTraverse(a,c,d,g){if(!a||d.has(a.name))return;if(c.has(a.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");c.add(a.name);const $=a.dependencies;if($&&$.length>0)for(let j=0;j<$.length;++j)this.dfsTraverse($[j],c,d,g);g.push(a),d.add(a.name),c.delete(a.name)}}},7341:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EncodingGlslLib=void 0;const a=s(8520);class c extends a.GlslLib{constructor(g){super(g)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new a.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new a.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const g=c.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new a.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${g}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const g=c.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new a.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${g}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const g=new ArrayBuffer(4),$=new Uint32Array(g),j=new Uint8Array(g);if($[0]=3735928559,j[0]===239)return!0;if(j[0]===222)return!1;throw new Error("unknown endianness")}}e.EncodingGlslLib=c},9894:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FragColorGlslLib=void 0;const a=s(8520),c=s(5060);class d extends a.GlslLib{constructor($){super($)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const $=(0,c.getGlsl)(this.context.glContext.version);return{setFragColor:new a.GlslLibRoutine(`
        void setFragColor(float value) {
            ${$.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new a.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}e.FragColorGlslLib=d},2848:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.replaceInlines=void 0;const s=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;e.replaceInlines=function(a){const c={};let d;for(;(d=s.exec(a))!==null;){const g=d[3].split(",").map($=>{const j=$.trim().split(" ");return j&&j.length===2?{type:j[0],name:j[1]}:null}).filter($=>$!==null);c[d[2]]={params:g,body:d[4]}}for(const g in c){const $="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",g),j=new RegExp($,"gm");for(;(d=j.exec(a))!==null;){const tt=d[1],et=d[2],b=d[3].split(","),h=tt?`${tt} ${et};`:"";let _e=c[g].body,nt="";c[g].params.forEach((it,st)=>{it&&(nt+=`${it.type} ${it.name} = ${b[st]};
`)}),_e=`${nt}
 ${_e}`,_e=_e.replace("return",`${et} = `);const rt=`
      ${h}
      {
        ${_e}
      }
      `;a=a.replace(d[0],rt)}}return a.replace(s,"")}},8879:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlslPreprocessor=void 0;const a=s(8520),c=s(2848),d=s(5483),g=s(5060);e.GlslPreprocessor=class{constructor($,j,tt,et){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new a.GlslContext($,j,tt,et),Object.keys(d.glslRegistry).forEach(h=>{const _e=new d.glslRegistry[h](this.context);this.libs[h]=_e});const b=this.glslLibRoutineDependencyGraph;for(const h in this.libs){const _e=this.libs[h].getFunctions();for(const nt in _e){const rt=h+"."+nt;let it;b[rt]?(it=b[rt],it.routineBody=_e[nt].routineBody):(it=new a.GlslLibRoutineNode(rt,_e[nt].routineBody),b[rt]=it);const st=_e[nt].dependencies;if(st)for(let ot=0;ot<st.length;++ot)if(b[st[ot]])it.addDependency(b[st[ot]]);else{const at=new a.GlslLibRoutineNode(st[ot]);b[st[ot]]=at,it.addDependency(at)}}}}preprocess(){const $=this.context.programInfo;let j=$.shaderSource;return this.context.programInfo.hasMain||(j=`${j}
      ${(0,g.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),j=(0,c.replaceInlines)(j),`${(0,g.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms($.inputNames,$.variables)}
    ${this.getImports(j)}
    ${j}`}getImports($){const j=this.selectGlslLibRoutinesToBeIncluded($);if(j.length===0)return"";let tt="";for(let et=0;et<j.length;++et){if(!j[et].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${j[et].name}`);tt+=j[et].routineBody+`
`}return tt}selectGlslLibRoutinesToBeIncluded($){const j=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(tt=>{const et=tt.split(".")[1];$.indexOf(et)!==-1&&j.push(this.glslLibRoutineDependencyGraph[tt])}),a.TopologicalSortGlslRoutines.returnOrderedNodes(j)}getUniforms($,j){const tt=[];if($)for(const et of $)tt.push(`uniform sampler2D ${et};`);if(j)for(const et of j)tt.push(`uniform ${et.type} ${et.name}${et.arrayLength?`[${et.arrayLength}]`:""};`);return tt.join(`
`)}}},5483:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.glslRegistry=void 0;const a=s(5107),c=s(7341),d=s(9894),g=s(2655),$=s(3891);e.glslRegistry={encoding:c.EncodingGlslLib,fragcolor:d.FragColorGlslLib,vec:$.VecGlslLib,shapeUtils:g.ShapeUtilsGlslLib,coordinates:a.CoordsGlslLib}},2655:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeUtilsGlslLib=void 0;const a=s(8520);class c extends a.GlslLib{constructor(g){super(g)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const g=this.context.outputTextureLayout.shape.length,$={};return this.context.programInfo.inputNames.forEach((j,tt)=>{const et=this.context.inputTextureLayouts[tt].unpackedShape;if(et.length<=g){const b=et.length,h=g-b,_e=`bcastIndices_${j}`;let nt="";for(let it=0;it<b;++it)nt+=`
          realIndices[${it}] = int( mod(float(bcastedIndices[${h+it}]), ${et[it]}.0) );
          `;const rt=`
        void ${_e} (int bcastedIndices[${g}], out int realIndices[${b}]) {
          ${nt}
        }
        `;$[_e]=new a.GlslLibRoutine(rt)}}),$}bcastMatmulIndex(){const g=this.context.outputTextureLayout.shape.length,$={};return this.context.programInfo.inputNames.forEach((j,tt)=>{const et=this.context.inputTextureLayouts[tt].shape;if(!(et.length<2||et.length>g)){const b=et.length,h=g-b,_e=`bcastMatmulIndices_${j}`;let nt="";for(let it=0;it<b-2;++it)nt+=`
          realIndices[${it}] = int( mod(float(bcastedIndices[${h+it}]), ${et[it]}.0) );
          `;const rt=`
        void ${_e}(int bcastedIndices[${g}], out int realIndices[${b}]) {
          ${nt}
          realIndices[${b-1}] = bcastedIndices[${g-1}];
          realIndices[${b-2}] = bcastedIndices[${g-2}];
        }
        `;$[_e]=new a.GlslLibRoutine(rt)}}),$}indicesToOffset(){const g={};return this.context.programInfo.inputNames.forEach(($,j)=>{const tt=this.context.inputTextureLayouts[j].shape,et=this.context.inputTextureLayouts[j].strides,b=tt.length;let h=`indicesToOffset_${$}`;g[h]=new a.GlslLibRoutine(c.indexToOffsetSingle(h,b,et)),h=`indicesToOffset_${$}_T`,g[h]=new a.GlslLibRoutine(c.indexToOffsetSingle(h,b,et.slice().reverse()))}),g}static indexToOffsetSingle(g,$,j){let tt="";for(let et=$-1;et>=0;--et)tt+=`
        offset += indices[${et}] * ${j[et]};
        `;return`
      int ${g}(int indices[${$}]) {
        int offset = 0;
        ${tt}
        return offset;
      }
      `}offsetToIndices(){const g={};return this.context.programInfo.inputNames.forEach(($,j)=>{const tt=this.context.inputTextureLayouts[j].shape,et=this.context.inputTextureLayouts[j].strides,b=tt.length;let h=`offsetToIndices_${$}`;g[h]=new a.GlslLibRoutine(c.offsetToIndicesSingle(h,b,et)),h=`offsetToIndices_${$}_T`,g[h]=new a.GlslLibRoutine(c.offsetToIndicesSingle(h,b,et.slice().reverse()))}),g}static offsetToIndicesSingle(g,$,j){const tt=[];for(let et=0;et<$-1;++et)tt.push(`
      indices[${et}] = offset / ${j[et]};`),tt.push(`
        offset -= indices[${et}] * ${j[et]};`);return tt.push(`
      indices[${$-1}] = offset;`),`
      void ${g}(int offset, out int indices[${$}]) {
        ${tt.join("")}
      }
      `}incrementIndices(){const g={};return this.context.programInfo.inputNames.forEach(($,j)=>{const tt=this.context.inputTextureLayouts[j].shape,et=tt.length,b=`incrementIndices_${$}`;let h="";for(let nt=0;nt<et;++nt)h+=`
        shape[${nt}] = ${tt[nt]};`;const _e=`
        void ${b}(int axis, out int indices[${et}]) {
          int shape[${et}];
          ${h};
          for(int i = ${et} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;g[b]=new a.GlslLibRoutine(_e)}),g}}e.ShapeUtilsGlslLib=c},5060:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultFragShaderMain=e.getFragShaderPreamble=e.getVertexShaderSource=e.getGlsl=void 0;const s={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},a={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function c(d){return d===1?s:a}e.getGlsl=c,e.getVertexShaderSource=function(d){const g=c(d);return`${g.version}
      precision highp float;
      ${g.attribute} vec3 position;
      ${g.attribute} vec2 textureCoord;

      ${g.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},e.getFragShaderPreamble=function(d){const g=c(d);return`${g.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${g.varyingFrag} vec2 TexCoords;
    ${g.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},e.getDefaultFragShaderMain=function(d,g){return`
  void main() {
    int indices[${g}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${c(d).output} = result;
  }
  `}},3891:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VecGlslLib=void 0;const a=s(8520);class c extends a.GlslLib{constructor(g){super(g)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const g=this.context.outputTextureLayout.shape.length,$={add:"+=",sub:"-=",mul:"*=",div:"/="},j={};for(const tt in $){const et=`${tt}Vec`;let b="";for(let _e=0;_e<g;++_e)b+=`
          dest[${_e}] ${$[tt]} src[${_e}];
          `;const h=`
        void ${et}(int src[${g}], out int dest[${g}]) {
          ${b}
        }
        `;j[et]=new a.GlslLibRoutine(h)}return j}copyVec(){const g=this.context.outputTextureLayout.shape.length;let $="";for(let tt=0;tt<g;++tt)$+=`
        dest[${tt}] = src[${tt}];
        `;const j=`
      void copyVec(int src[${g}], out int dest[${g}]) {
        ${$}
      }
      `;return{copyVec:new a.GlslLibRoutine(j)}}setVecItem(){const g=this.context.outputTextureLayout.shape.length;let $=`
        if(index < 0)
            index =${g} + index;
        if (index == 0)
            m[0] = value;
        `;for(let tt=1;tt<g-1;++tt)$+=`
        else if (index == ${tt})
            m[${tt}] = value;
            `;$+=`
        else
            m[${g-1}] = value;
        `;const j=`
      void setVecItem(out int m[${g}], int index, int value) {
        ${$}
      }
        `;return{setVecItem:new a.GlslLibRoutine(j)}}getVecItem(){const g=this.context.outputTextureLayout.shape.length;let $=`
        if(index < 0)
            index = ${g} + index;
        if (index == 0)
            return m[0];
      `;for(let tt=1;tt<g-1;++tt)$+=`
        else if (index == ${tt})
            return m[${tt}];
      `;$+=`
        else
            return m[${g-1}];
        `;const j=`
      int getVecItem(int m[${g}], int index) {
        ${$}
      }
    `;return{getVecItem:new a.GlslLibRoutine(j)}}}e.VecGlslLib=c},8316:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLInferenceHandler=void 0;const a=s(6231),c=s(9162),d=s(2517),g=s(2403),$=s(7019),j=s(8710),tt=s(5611),et=s(4057),b=s(2039);e.WebGLInferenceHandler=class{constructor(h){this.session=h,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(h,_e){return(0,et.calculateTextureWidthAndHeight)(this.session.layoutStrategy,h,_e)}executeProgram(h,_e){if(_e.length<h.inputNames.length)throw new Error(`Input size mustn't be less than ${h.inputNames.length}.`);if(h.inputNames.length!==h.inputTypes.length)throw new Error("input names size does not match input types");const nt=[];for(let ct=0;ct<h.inputNames.length;++ct)nt[ct]=this.getOrCreateTextureData(_e[ct],h.inputTypes[ct]);const rt=((ct,ut)=>{const dt=ut.map(pt=>`${pt.unpackedShape.join(",")};${pt.width}x${pt.height}`).join("_");let ht=ct.name;return ct.cacheHint&&(ht+="["+ct.cacheHint+"]"),ht+=":"+dt,ht})(h,nt);let it=this.session.programManager.getArtifact(rt);const st=it?it.programInfo:typeof h.get=="function"?h.get():h,ot=(0,et.createTextureLayoutFromTextureType)(this.session.layoutStrategy,st.output.dims,st.output.textureType),at=this.createTextureData(ot,st.output.type);return it||(it=this.session.programManager.build(st,nt,at),this.session.programManager.setArtifact(rt,it)),this.runProgram(it,nt,at),at}run(h,_e){return this.executeProgram(h,_e).tensor}runProgram(h,_e,nt){for(let rt=0;rt<_e.length;++rt)if(!!_e[rt].isPacked!=(h.programInfo.inputTypes[rt]===b.TextureType.packed))throw new Error(`input[${rt}] property packed inconsistent`);if(!!nt.isPacked!=(h.programInfo.output.textureType===b.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(h,_e,nt)}getOrCreateTextureData(h,_e){let nt=this.getTextureData(h.dataId,_e===b.TextureType.packed);if(!nt&&(nt=this.getTextureData(h.dataId,_e!==b.TextureType.packed),nt))return _e===b.TextureType.packed?this.pack(nt):this.unpack(nt);if(!nt){const rt=(0,et.createTextureLayoutFromTextureType)(this.session.layoutStrategy,h.dims,_e);if(_e===b.TextureType.packedLastDimension){const ot=h.dims;if(ot.length===4){const at=[ot[0],Math.ceil(ot[1]*ot[2]*ot[3]/4)],ct=(0,et.createTextureLayoutFromTextureType)(this.session.layoutStrategy,at,_e);let ut=h.numberData;if(ot[1]*ot[2]*ot[3]%4!=0){const dt=ot[0],ht=ot[1]*ot[2]*ot[3],pt=Math.ceil(ht*1/4)*4;ut=new Float32Array(dt*pt);for(let ft=0;ft<dt;++ft){const bt=ft*ht,Ct=ft*pt+ft%1*ht;ut.set(h.numberData.subarray(bt,bt+ht),Ct)}}return this.createTextureData(ct,h.type,ut,h,1)}}if(_e===b.TextureType.packed){const it=(0,et.createTextureLayoutFromShape)(this.session.layoutStrategy,h.dims,1,[],{reverseWH:!0}),st=this.createTextureData(it,h.type,h.numberData,h,1);nt=this.pack(st)}else nt=this.createTextureData(rt,h.type,h.numberData,h,1)}return nt}createTextureDataFromLayoutBindTensor(h,_e,nt,rt){return this.createTextureData(h,_e,nt,rt,1)}createTextureData(h,_e,nt,rt,it){a.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(h)}]`);const st=this.session.textureManager.createTextureFromLayout(_e,h,nt,it);return this.createTextureDataFromTexture(h,_e,st,rt)}reshapeUnpacked(h,_e){const nt=this.getOrCreateTextureData(h,b.TextureType.unpacked),rt={channels:nt.channels,height:nt.height,width:nt.width,shape:_e.length!==0?_e:[1],strides:d.ShapeUtil.computeStrides(_e),unpackedShape:_e};return this.createTextureDataFromTexture(rt,h.type,nt.texture).tensor}reshapePacked(h,_e){const nt=this.getOrCreateTextureData(h,b.TextureType.packed);if((0,$.isReshapeCheap)(h.dims,_e)){const at={channels:nt.channels,height:nt.height,width:nt.width,shape:_e.length!==0?_e:[1],strides:d.ShapeUtil.computeStrides(_e),unpackedShape:_e,isPacked:!0};return this.createTextureDataFromTexture(at,h.type,nt.texture).tensor}const rt=(0,$.processDims3D)(h.dims),it=(0,$.processDims3D)(_e),st=this.reshapePacked(h,rt),ot=this.run((0,$.createPackedReshape3DProgramInfoLoader)(this,st,it),[st]);return this.reshapePacked(ot,_e)}cast(h,_e){const nt=this.getOrCreateTextureData(h,b.TextureType.unpacked);return this.createTextureDataFromTexture(nt,_e,nt.texture).tensor}createTextureDataFromTexture(h,_e,nt,rt,it){const st=Object.assign(Object.assign({},h),{tensor:rt||new c.Tensor(h.unpackedShape,_e,ot=>this.readTexture(st),async ot=>this.readTextureAsync(st),void 0,it),texture:nt});return this.setTextureData(st.tensor.dataId,st,h.isPacked),st}getTextureData(h,_e=!1){return this.session.isInitializer(h)?this.session.getTextureData(h,_e):_e?this.packedTextureDataCache.get(h):this.unpackedTextureDataCache.get(h)}setTextureData(h,_e,nt=!1){this.session.isInitializer(h)?this.session.setTextureData(h,_e,nt):(nt?this.packedTextureDataCache:this.unpackedTextureDataCache).set(h,_e)}isTextureLayoutCached(h,_e=!1){return!!this.getTextureData(h.dataId,_e)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(h=>this.session.textureManager.releaseTexture(h)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(h=>this.session.textureManager.releaseTexture(h)),this.unpackedTextureDataCache=new Map}readTexture(h){return h.isPacked?this.readTexture(this.unpack(h)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(h,h.tensor.type,h.channels):this.session.textureManager.readUint8TextureAsFloat((0,j.encodeAsUint8)(this,h))}async readTextureAsync(h){return h.isPacked?this.readTextureAsync(this.unpack(h)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(h,h.tensor.type,h.channels):this.session.textureManager.readUint8TextureAsFloat((0,j.encodeAsUint8)(this,h))}pack(h){return this.executeProgram((0,g.createPackProgramInfoLoader)(this,h.tensor),[h.tensor])}unpack(h){return this.executeProgram((0,tt.createUnpackProgramInfoLoader)(this,h.tensor),[h.tensor])}}},1640:function(o,e,s){var a=this&&this.__createBinding||(Object.create?function(wt,kt,Dt,Ft){Ft===void 0&&(Ft=Dt);var Ot=Object.getOwnPropertyDescriptor(kt,Dt);Ot&&!("get"in Ot?!kt.__esModule:Ot.writable||Ot.configurable)||(Ot={enumerable:!0,get:function(){return kt[Dt]}}),Object.defineProperty(wt,Ft,Ot)}:function(wt,kt,Dt,Ft){Ft===void 0&&(Ft=Dt),wt[Ft]=kt[Dt]}),c=this&&this.__setModuleDefault||(Object.create?function(wt,kt){Object.defineProperty(wt,"default",{enumerable:!0,value:kt})}:function(wt,kt){wt.default=kt}),d=this&&this.__importStar||function(wt){if(wt&&wt.__esModule)return wt;var kt={};if(wt!=null)for(var Dt in wt)Dt!=="default"&&Object.prototype.hasOwnProperty.call(wt,Dt)&&a(kt,wt,Dt);return c(kt,wt),kt};Object.defineProperty(e,"__esModule",{value:!0}),e.WEBGL_OP_RESOLVE_RULES=void 0;const g=s(2898),$=d(s(7839)),j=s(4196),tt=s(2069),et=s(8138),b=s(9663),h=s(5193),_e=s(7992),nt=s(1253),rt=s(4776),it=s(6572),st=s(3346),ot=s(5623),at=s(2870),ct=s(2143),ut=s(4939),dt=s(718),ht=s(2268),pt=s(8117),ft=s(2278),bt=s(5524),Ct=s(5975),yt=s(3933),Et=s(6558),gt=s(5723),At=s(3738),mt=d(s(4909)),_t=s(8428),St=s(9793);e.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",mt.abs],["Acos","","7+",mt.acos],["Add","","7+",$.add],["And","","7+",$.and],["Asin","","7+",mt.asin],["Atan","","7+",mt.atan],["AveragePool","","7+",ct.averagePool,ct.parseAveragePoolAttributes],["BatchNormalization","","7+",g.batchNormalization,g.parseBatchNormalizationAttributes],["Cast","","6+",j.cast,j.parseCastAttributes],["Ceil","","6+",mt.ceil],["Clip","","6-10",mt.clip,mt.parseClipAttributes],["Clip","","11+",mt.clipV11],["Concat","","4+",tt.concat,tt.parseConcatAttributes],["Conv","","1+",et.conv,et.parseConvAttributes],["ConvTranspose","","1+",b.convTranspose,b.parseConvTransposeAttributes],["Cos","","7+",mt.cos],["Div","","7+",$.div],["Dropout","","7+",mt.identity],["DepthToSpace","","1+",h.depthToSpace,h.parseDepthToSpaceAttributes],["Equal","","7+",$.equal],["Elu","","6+",mt.elu,mt.parseEluAttributes],["Exp","","6+",mt.exp],["Flatten","","1+",_e.flatten,_e.parseFlattenAttributes],["Floor","","6+",mt.floor],["FusedConv","com.microsoft","1+",et.conv,et.parseConvAttributes],["Gather","","1+",nt.gather,nt.parseGatherAttributes],["Gemm","","7-10",rt.gemm,rt.parseGemmAttributesV7],["Gemm","","11+",rt.gemm,rt.parseGemmAttributesV11],["GlobalAveragePool","","1+",ct.globalAveragePool,ct.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",ct.globalMaxPool],["Greater","","7+",$.greater],["Identity","","1+",mt.identity],["ImageScaler","","1+",it.imageScaler,it.parseImageScalerAttributes],["InstanceNormalization","","6+",st.instanceNormalization,st.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",mt.leakyRelu,mt.parseLeakyReluAttributes],["Less","","7+",$.less],["Log","","6+",mt.log],["MatMul","","1+",ot.matMul,ot.parseMatMulAttributes],["MaxPool","","1+",ct.maxPool,ct.parseMaxPoolAttributes],["Mul","","7+",$.mul],["Neg","","6+",mt.neg],["Not","","1+",mt.not],["Or","","7+",$.or],["Pad","","2-10",at.padV2,at.parsePadAttributesV2],["Pad","","11+",at.padV11,at.parsePadAttributesV11],["Pow","","7+",$.pow],["PRelu","","7+",$.pRelu],["ReduceLogSum","","1+",ut.reduceLogSum,ut.parseReduceAttributes],["ReduceMax","","1+",ut.reduceMax,ut.parseReduceAttributes],["ReduceMean","","1+",ut.reduceMean,ut.parseReduceAttributes],["ReduceMin","","1+",ut.reduceMin,ut.parseReduceAttributes],["ReduceProd","","1+",ut.reduceProd,ut.parseReduceAttributes],["ReduceSum","","1-12",ut.reduceSum,ut.parseReduceAttributes],["ReduceSumSquare","","1+",ut.reduceLogSumSquare,ut.parseReduceAttributes],["Relu","","6+",mt.relu],["Reshape","","5+",dt.reshape],["Resize","","10",ht.resize,ht.parseResizeAttributesV10],["Resize","","11+",ht.resize,ht.parseResizeAttributesV11],["Shape","","1+",pt.shape],["Sigmoid","","6+",mt.sigmoid],["Sin","","7+",mt.sin],["Slice","","10+",ft.sliceV10],["Slice","","1-9",ft.slice,ft.parseSliceAttributes],["Softmax","","1-12",bt.softmax,bt.parseSoftmaxAttributes],["Softmax","","13+",bt.softmaxV13,bt.parseSoftmaxAttributesV13],["Split","","2-12",Ct.split,Ct.parseSplitAttributes],["Sqrt","","6+",mt.sqrt],["Squeeze","","1-12",yt.squeeze,yt.parseSqueezeAttributes],["Squeeze","","13+",yt.squeezeV13],["Sub","","7+",$.sub],["Sum","","6+",Et.sum],["Tan","","7+",mt.tan],["Tanh","","6+",mt.tanh],["Tile","","6+",gt.tile],["Transpose","","1+",At.transpose,At.parseTransposeAttributes],["Upsample","","7-8",St.upsample,St.parseUpsampleAttributesV7],["Upsample","","9",St.upsample,St.parseUpsampleAttributesV9],["Unsqueeze","","1-12",_t.unsqueeze,_t.parseUnsqueezeAttributes],["Unsqueeze","","13+",_t.unsqueezeV13],["Xor","","7+",$.xor]]},2898:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseBatchNormalizationAttributes=e.batchNormalization=void 0;const a=s(246),c=s(5060),d=s(2039),g={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]};e.batchNormalization=(tt,et,b)=>(j(et),[tt.run(Object.assign(Object.assign({},g),{cacheHint:b.cacheKey,get:()=>$(tt,et,b)}),et)]),e.parseBatchNormalizationAttributes=tt=>{const et=tt.attributes.getFloat("epsilon",1e-5),b=tt.attributes.getFloat("momentum",.9),h=tt.attributes.getInt("spatial",1);return(0,a.createAttributeWithCacheKey)({epsilon:et,momentum:b,spatial:h})};const $=(tt,et,b)=>{const h=(0,c.getGlsl)(tt.session.backend.glContext.version),_e=et[0].dims.length,[nt,rt]=tt.calculateTextureWidthAndHeight(et[1].dims,d.TextureType.unpacked),it=`
  float process(int[${_e}] indices) {
    vec2 position = offsetToCoords(indices[1], ${nt}, ${rt});
    float scale = getColorAsFloat(${h.texture2D}(Scale, position));
    float mean = getColorAsFloat(${h.texture2D}(Mean, position));
    float variance = getColorAsFloat(${h.texture2D}(Variance, position));
    float b = getColorAsFloat(${h.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${b.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},g),{output:{dims:et[0].dims,type:et[0].type,textureType:d.TextureType.unpacked},shaderSource:it})},j=tt=>{if(!tt||tt.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const et=tt[0],b=tt[1],h=tt[2],_e=tt[3],nt=tt[4];if(et.dims.length<3||b.dims.length!==1||h.dims.length!==1||_e.dims.length!==1||nt.dims.length!==1)throw new Error("invalid input shape.");if(b.dims[0]!==et.dims[1]||h.dims[0]!==et.dims[1]||_e.dims[0]!==et.dims[1]||nt.dims[0]!==et.dims[1])throw new Error("invalid input shape.");if(et.type!=="float32"&&et.type!=="float64"||b.type!=="float32"&&b.type!=="float64"||h.type!=="float32"&&h.type!=="float64"||_e.type!=="float32"&&_e.type!=="float64"||nt.type!=="float32"&&nt.type!=="float64")throw new Error("invalid input tensor types.")}},7839:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.xor=e.sub=e.pRelu=e.pow=e.or=e.mul=e.less=e.greater=e.equal=e.div=e.and=e.add=e.glslPRelu=e.glslPow=e.glslXor=e.glslOr=e.glslAnd=e.glslLess=e.glslGreater=e.glslEqual=e.glslSub=e.glslMul=e.glslDiv=e.glslAdd=void 0;const a=s(2517),c=s(8520),d=s(5060),g=s(2039);function $(){const ut="add_";return{body:`
  float ${ut}(float a, float b) {
    return a + b;
  }
  vec4 ${ut}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:ut,type:c.FunctionType.ValueBased}}function j(){const ut="div_";return{body:`
  float ${ut}(float a, float b) {
    return a / b;
  }
  vec4 ${ut}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:ut,type:c.FunctionType.ValueBased}}function tt(){const ut="mul_";return{body:`
  float ${ut}(float a, float b) {
    return a * b;
  }
  vec4 ${ut}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:ut,type:c.FunctionType.ValueBased}}function et(){const ut="sub_";return{body:`
  float ${ut}(float a, float b) {
    return a - b;
  }
  vec4 ${ut}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:ut,type:c.FunctionType.ValueBased}}function b(){const ut="equal_";return{body:`
  float ${ut}(float a, float b) {
    return float(a == b);
  }
  vec4 ${ut}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:ut,type:c.FunctionType.ValueBased}}function h(){const ut="greater_";return{body:`
  float ${ut}(float a, float b) {
    return float(a > b);
  }
  vec4 ${ut}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:ut,type:c.FunctionType.ValueBased}}function _e(){const ut="less_";return{body:`
  float ${ut}(float a, float b) {
    return float(a < b);
  }
  vec4 ${ut}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:ut,type:c.FunctionType.ValueBased}}function nt(){const ut="and_";return{body:`
  float ${ut}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${ut}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:ut,type:c.FunctionType.ValueBased}}function rt(){const ut="or_";return{body:`
  float ${ut}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${ut}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:ut,type:c.FunctionType.ValueBased}}function it(){const ut="xor_";return{body:`
  float ${ut}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${ut}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:ut,type:c.FunctionType.ValueBased}}function st(){return function(ut){const dt=`${ut}_`;return{body:`
  float ${dt}(float a, float b) {
    return ${ut}(a, b);
  }
  vec4 ${dt}(vec4 v1, vec4 v2) {
    return ${ut}(v1, v2);
  }
  `,name:dt,type:c.FunctionType.ValueBased}}("pow")}function ot(){const ut="prelu_";return{body:`
  float ${ut}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${ut}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:ut,type:c.FunctionType.ValueBased}}e.glslAdd=$,e.glslDiv=j,e.glslMul=tt,e.glslSub=et,e.glslEqual=b,e.glslGreater=h,e.glslLess=_e,e.glslAnd=nt,e.glslOr=rt,e.glslXor=it,e.glslPow=st,e.glslPRelu=ot;const at=(ut,dt,ht,pt=dt[0].type,ft)=>{const bt=ut.session.pack?g.TextureType.packed:g.TextureType.unpacked;return{name:ht.name,inputNames:["A","B"],inputTypes:[bt,bt],cacheHint:ft,get:()=>ct(ut,dt,ht,pt)}},ct=(ut,dt,ht,pt=dt[0].type)=>{const ft=ut.session.pack?g.TextureType.packed:g.TextureType.unpacked,bt=!a.ShapeUtil.areEqual(dt[0].dims,dt[1].dims);let Ct=dt[0].dims;const yt=ut.session.pack;if(bt){const At=a.BroadcastUtil.calcShape(dt[0].dims,dt[1].dims,!1);if(!At)throw new Error("Can't perform binary op on the given tensors");Ct=At;const mt=Ct.length,_t=dt[0].dims.length!==0?dt[0].dims.length:1,St=dt[1].dims.length!==0?dt[1].dims.length:1,wt=dt[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",kt=dt[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",Dt=(0,d.getGlsl)(ut.session.backend.glContext.version),Ft=yt?`
      ${ht.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${ht.name}(a, b);
        ${Dt.output} = result;
      }`:`
      ${ht.body}
      float process(int indices[${mt}]) {
        int aindices[${_t}];
        int bindices[${St}];
        ${wt}
        ${kt}
        return ${ht.name}(_A(aindices), _B(bindices));
      }`;return{name:ht.name,inputNames:["A","B"],inputTypes:[ft,ft],output:{dims:Ct,type:pt,textureType:ft},shaderSource:Ft,hasMain:yt}}const Et=(0,d.getGlsl)(ut.session.backend.glContext.version),gt=`
    ${ht.body}
    void main() {
      vec4 v1 = ${Et.texture2D}(A, TexCoords);
      vec4 v2 = ${Et.texture2D}(B, TexCoords);
      vec4 result = ${ht.name}(v1, v2);
      ${Et.output} = result;
    }
    `;return{name:ht.name,inputNames:["A","B"],inputTypes:[ft,ft],output:{dims:dt[0].dims,type:pt,textureType:ft},shaderSource:gt,hasMain:!0}};e.add=(ut,dt)=>[ut.run(at(ut,dt,$()),dt)],e.and=(ut,dt)=>[ut.run(at(ut,dt,nt(),"bool"),dt)],e.div=(ut,dt)=>[ut.run(at(ut,dt,j()),dt)],e.equal=(ut,dt)=>[ut.run(at(ut,dt,b(),"bool"),dt)],e.greater=(ut,dt)=>[ut.run(at(ut,dt,h(),"bool"),dt)],e.less=(ut,dt)=>[ut.run(at(ut,dt,_e(),"bool"),dt)],e.mul=(ut,dt)=>[ut.run(at(ut,dt,tt()),dt)],e.or=(ut,dt)=>[ut.run(at(ut,dt,rt(),"bool"),dt)],e.pow=(ut,dt)=>[ut.run(at(ut,dt,st()),dt)],e.pRelu=(ut,dt)=>[ut.run(at(ut,dt,ot()),dt)],e.sub=(ut,dt)=>[ut.run(at(ut,dt,et()),dt)],e.xor=(ut,dt)=>[ut.run(at(ut,dt,it(),"bool"),dt)]},4196:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseCastAttributes=e.cast=void 0;const a=s(2517);e.cast=(d,g,$)=>(c(g),[d.cast(g[0],$)]),e.parseCastAttributes=d=>a.ProtoUtil.tensorDataTypeFromProto(d.attributes.getInt("to"));const c=d=>{if(!d||d.length!==1)throw new Error("Cast requires 1 input.");if(d[0].type==="string")throw new Error("Invalid input type.")}},1163:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedConcatProgramInfoLoader=void 0;const a=s(5060),c=s(2039),d=s(9390),g=s(2827);e.createPackedConcatProgramInfoLoader=(j,tt,et)=>{const b=(h=tt.length,_e=et.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:h},(nt,rt)=>`X${rt}`),inputTypes:Array(h).fill(c.TextureType.packed),cacheHint:_e});var h,_e;return Object.assign(Object.assign({},b),{get:()=>((nt,rt,it,st)=>{const ot=it[0].dims.slice();if(st>=ot.length||st<-1*ot.length)throw new Error("axis specified for concat doesn't match input dimensionality");st<0&&(st=ot.length+st);const at=ot.slice(0);for(let wt=1;wt<it.length;wt++){const kt=it[wt].dims.slice();for(let Dt=0;Dt<ot.length;Dt++)if(Dt===st)at[st]+=kt[Dt];else if(ot[Dt]!==kt[Dt])throw new Error("non concat dimensions must match")}const ct=at.length,ut=(0,g.getChannels)("coords",ct),dt=(0,d.getCoordsDataType)(ct),ht=(0,g.unpackFromChannel)(),pt=it.map(wt=>wt.dims),ft=(0,d.getGlChannels)(ct),bt=new Array(pt.length-1);bt[0]=pt[0][st];for(let wt=1;wt<bt.length;wt++)bt[wt]=bt[wt-1]+pt[wt][st];const Ct=ft[st],yt=ft.slice(-2),Et=ft.join();let gt=`if (${Ct} < ${bt[0]}) {
        return getChannel(
            getX0(${Et}), vec2(${yt.join()}));
        }`;for(let wt=1;wt<bt.length;wt++){const kt=bt[wt-1];gt+=`
            if (${Ct} < ${bt[wt]}  && ${Ct} >= ${bt[wt-1]}) {
              return getChannel(
                getX${wt}(${$(ft,Ct,kt)}),
                vec2(${$(yt,Ct,kt)}));
            }`}const At=bt.length,mt=bt[bt.length-1];gt+=`
            return getChannel(
              getX${At}(${$(ft,Ct,mt)}),
              vec2(${$(yt,Ct,mt)}));`;const _t=(0,a.getGlsl)(nt.session.backend.glContext.version),St=`
          ${ht}
          float getValue(${ft.map(wt=>"int "+wt)}) {
            ${gt}
          }

          void main() {
            ${dt} coords = getOutputCoords();
            int lastDim = coords.${ft[ct-1]};
            coords.${ft[ct-1]} = coords.${ft[ct-2]};
            coords.${ft[ct-2]} = lastDim;

            vec4 result = vec4(getValue(${ut}), 0., 0., 0.);

            ${ut[ct-1]} = ${ut[ct-1]} + 1;
            if (${ut[ct-1]} < ${at[ct-1]}) {
              result.g = getValue(${ut});
            }

            ${ut[ct-2]} = ${ut[ct-2]} + 1;
            if (${ut[ct-2]} < ${at[ct-2]}) {
              result.a = getValue(${ut});
            }

            ${ut[ct-1]} = ${ut[ct-1]} - 1;
            if (${ut[ct-2]} < ${at[ct-2]} &&
                ${ut[ct-1]} < ${at[ct-1]}) {
              result.b = getValue(${ut});
            }
            ${_t.output} = result;
          }
        `;return Object.assign(Object.assign({},rt),{output:{dims:at,type:it[0].type,textureType:c.TextureType.packed},shaderSource:St,hasMain:!0})})(j,b,tt,et.axis)})};const $=(j,tt,et)=>{const b=j.indexOf(tt);return j.map((h,_e)=>_e===b?`${h} - ${et}`:h).join()}},2069:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseConcatAttributes=e.concat=void 0;const a=s(246),c=s(2039),d=s(1163);e.concat=(h,_e,nt)=>(b(_e),h.session.pack&&_e[0].dims.length>1?[h.run((0,d.createPackedConcatProgramInfoLoader)(h,_e,nt),_e)]:[h.run(g(h,_e,nt),_e)]);const g=(h,_e,nt)=>{const rt=(it=_e.length,st=nt.cacheKey,{name:"Concat",inputNames:Array.from({length:it},(ot,at)=>`X${at}`),inputTypes:Array(it).fill(c.TextureType.unpacked),cacheHint:st});var it,st;return Object.assign(Object.assign({},rt),{get:()=>((ot,at,ct,ut)=>{const dt=ct[0].dims.slice();if(ut>=dt.length||ut<-1*dt.length)throw new Error("axis specified for concat doesn't match input dimensionality");ut<0&&(ut=dt.length+ut);const ht=dt.slice(0);for(let Et=1;Et<ct.length;Et++){const gt=ct[Et].dims.slice();for(let At=0;At<dt.length;At++)if(At===ut)ht[ut]+=gt[At];else if(dt[At]!==gt[At])throw new Error("non concat dimensions must match")}const pt=ht.length,ft=new Array(ct.length);let bt=0;for(let Et=0;Et<ft.length;++Et)bt+=ct[Et].dims[ut],ft[Et]=bt;let Ct="";Ct=ct.length<5?$(ft):j(ft);const yt=`
        ${tt(ct.length,pt)}
        ${et(ft)}
        ${Ct}
        float process(int indices[${pt}]) {
          int textureIndex = getTextureWhereDataResides (indices[${ut}]);

          if(textureIndex != 0) {
            indices[${ut}] = indices[${ut}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},at),{output:{dims:ht,type:ct[0].type,textureType:c.TextureType.unpacked},shaderSource:yt})})(0,rt,_e,nt.axis)})},$=h=>`int getTextureWhereDataResides(int index) {
      ${h.map((_e,nt)=>`if(index<${_e}) {return ${nt};}
`).join("")}
    }`,j=h=>$(h),tt=(h,_e)=>{const nt=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${_e}]) {`];for(let rt=0;rt<h;++rt)rt===0?nt.push(`	if (textureIndex == ${rt}) { return _X${rt}(indices); }`):rt===h-1?nt.push(`	else { return _X${rt}(indices); }`):nt.push(`	else if (textureIndex == ${rt}) { return _X${rt}(indices); }`);return nt.push("	}"),nt.join(`
`)},et=h=>{const _e=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let nt=0;nt<h.length;++nt)nt===0?_e.push(`	if (index == ${nt}) { return ${h[nt]}; }`):nt===h.length-1?_e.push(`	else { return ${h[nt]}; }`):_e.push(`	else if (index == ${nt}) { return ${h[nt]}; }`);return _e.push("	}"),_e.join(`
`)};e.parseConcatAttributes=h=>(0,a.createAttributeWithCacheKey)({axis:h.attributes.getInt("axis")});const b=h=>{if(!h||h.length<1)throw new Error("too few inputs");const _e=h[0].type,nt=h[0].dims.length;if(_e==="string")throw new Error("string tensor is not supported yet");for(const rt of h){if(rt.type!==_e)throw new Error("input tensors should be one type");if(rt.dims.length!==nt)throw new Error("input tensors should have the same shape")}}},4770:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createUnpackedGroupedConvProgramInfoLoader=void 0;const a=s(6231),c=s(5060),d=s(2039),g=s(8138),$=s(2823);e.createUnpackedGroupedConvProgramInfoLoader=(j,tt,et)=>{const b=(h=tt.length>2,_e=et.cacheKey,{name:"GroupedConv",inputNames:h?["X","W","Bias"]:["X","W"],inputTypes:h?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],cacheHint:_e});var h,_e;return Object.assign(Object.assign({},b),{get:()=>((nt,rt,it,st)=>{const ot=rt.length>2?"value += getBias(output_channel);":"",at=rt[0].dims.slice(),ct=rt[1].dims.slice(),ut=ct[0]/st.group;a.Logger.verbose("GroupedConv",`autpPad:${st.autoPad}, dilations:${st.dilations}, group:${st.group}, kernelShape:${st.kernelShape}, pads:${st.pads}, strides:${st.strides}`);const dt=(0,g.calculateOutputShape)(at,ct,st.dilations,st.pads,st.strides),ht=(0,c.getGlsl)(nt.session.backend.glContext.version),{activationFunction:pt,applyActivation:ft}=(0,$.getActivationSnippet)(st),bt=`
  const ivec2 strides = ivec2(${st.strides[0]}, ${st.strides[1]});
  const ivec2 pads = ivec2(${st.pads[0]}, ${st.pads[1]});
  ${pt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${ut};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${ct[1]}; wInChannel++) {
      int input_channel = group_id * ${ct[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${ct[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${st.dilations[0]};

        if (xHeight < 0 || xHeight >= ${at[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${ct[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${st.dilations[1]};
          if (xWidth < 0 || xWidth >= ${at[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${ot}
    ${ft}
    ${ht.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},it),{output:{dims:dt,type:rt[0].type,textureType:d.TextureType.unpacked},shaderSource:bt,hasMain:!0})})(j,tt,b,et)})}},1386:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.conv2DPacked=e.conv2DPackedPointwise=void 0;const a=s(8138),c=s(8555),d=s(708);e.conv2DPackedPointwise=(g,$,j)=>{const tt=$[0].dims,et=$[1].dims,b=(0,a.calculateOutputShape)(tt,et,j.dilations,j.pads,j.strides),h=g.reshapePacked($[0],[tt[1],tt[2]*tt[3]]),_e=g.reshapePacked($[1],[et[0],et[1]]),nt=$.length>2?[_e,h,$[2]]:[_e,h],rt=g.run((0,d.createPackedMatmulProgramInfoLoader)(g,nt,j),nt);return g.reshapePacked(rt,b)},e.conv2DPacked=(g,$,j)=>{const tt=$[0].dims,et=$[1].dims,b=(0,a.calculateOutputShape)(tt,et,j.dilations,j.pads,j.strides),h=g.run((0,c.createPackedIm2ColProgramInfoLoader)(g,$[0],$[1],b,j),[$[0]]),_e=g.reshapePacked($[1],[et[0],et[1]*et[2]*et[3]]),nt=$.length===3?[_e,h,$[2]]:[_e,h],rt=g.run((0,d.createPackedMatmulProgramInfoLoader)(g,nt,j),nt);return g.reshapePacked(rt,b)}},9663:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseConvTransposeAttributes=e.convTranspose=void 0;const a=s(246),c=s(5060),d=s(2039),g=s(2823),$=(_e,nt,rt,it,st,ot)=>(_e-1)*nt+rt+(it-1)*st+1-ot,j=(_e,nt,rt,it,st)=>{const ot=Math.floor(_e/2);nt==="SAME_UPPER"?(rt[it]=ot,rt[st]=_e-ot):nt==="SAME_LOWER"&&(rt[it]=_e-ot,rt[st]=ot)};e.convTranspose=(_e,nt,rt)=>(h(nt,rt),tt(_e,nt,rt));const tt=(_e,nt,rt)=>{const it=b(rt,nt);return[et(_e,nt,it)]},et=(_e,nt,rt)=>_e.run(((it,st,ot)=>{const at=(ct=st.length>2,ut=ot.cacheKey,{name:"ConvTranspose",inputNames:ct?["X","W","B"]:["X","W"],inputTypes:ct?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],cacheHint:ut});var ct,ut;return Object.assign(Object.assign({},at),{get:()=>((dt,ht,pt,ft)=>{const bt=ht.length>2?"getB(output_channel)":"0.0",Ct=ht[0].dims,yt=ht[1].dims,Et=yt[1],gt=yt[0]/ft.group,At=[ht[0].dims[0],ht[1].dims[1]*ft.group,...ft.outputShape],mt=(0,c.getGlsl)(dt.session.backend.glContext.version),{activationFunction:_t,applyActivation:St}=(0,g.getActivationSnippet)(ft),wt=`
  const ivec2 strides = ivec2(${ft.strides[0]}, ${ft.strides[1]});
  const ivec2 pads = ivec2(${ft.pads[0]}, ${ft.pads[1]});
  ${_t}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${Et};
    int wOutChannel = output_channel - group_id * ${Et};

    float value = ${bt};
    for (int inChannelOffset = 0; inChannelOffset < ${gt}; inChannelOffset++) {
      int input_channel = group_id * ${gt} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${yt[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${yt[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${ft.dilations[0]}, wHOff * ${ft.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${Ct[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${Ct[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${St}
    ${mt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},pt),{output:{dims:At,type:ht[0].type,textureType:d.TextureType.unpacked},shaderSource:wt,hasMain:!0})})(it,st,at,ot)})})(_e,nt,rt),nt),b=(_e,nt)=>{const rt=_e.kernelShape.slice();if(_e.kernelShape.length===0)for(let at=2;at<nt[1].dims.length;++at)rt.push(nt[1].dims[at]);const it=_e.pads.slice(),st=_e.outputShape.slice();((at,ct,ut,dt,ht,pt,ft,bt)=>{const Ct=at.length-2,yt=bt.length===0;for(let Et=0;Et<Ct;++Et){const gt=yt?at[Et+2]*pt[Et]:bt[Et],At=$(at[Et+2],pt[Et],ht[Et],ct[Et],ut[Et],gt);j(At,dt,ht,Et,Et+Ct),yt&&bt.push(pt[Et]*(at[Et+2]-1)+ft[Et]+(ct[Et]-1)*ut[Et]+1-ht[Et]-ht[Et+Ct])}})(nt[0].dims,rt,_e.dilations,_e.autoPad,it,_e.strides,_e.outputPadding,st);const ot=Object.assign({},_e);return Object.assign(ot,{kernelShape:rt,pads:it,outputShape:st,cacheKey:_e.cacheKey}),ot};e.parseConvTransposeAttributes=_e=>{const nt=_e.attributes,rt=(0,g.parseInternalActivationAttributes)(nt),it=nt.getString("auto_pad","NOTSET"),st=nt.getInts("dilations",[1,1]),ot=nt.getInt("group",1),at=nt.getInts("kernel_shape",[]),ct=nt.getInts("output_padding",[0,0]),ut=nt.getInts("output_shape",[]),dt=nt.getInts("pads",[0,0,0,0]),ht=nt.getInts("strides",[1,1]);return(0,a.createAttributeWithCacheKey)(Object.assign({autoPad:it,dilations:st,group:ot,kernelShape:at,outputPadding:ct,outputShape:ut,pads:dt,strides:ht},rt))};const h=(_e,nt)=>{if(!_e||_e.length!==2&&_e.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(_e[0].dims.length!==4||_e[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(_e[0].dims[1]!==_e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const rt=_e[1].dims[1]*nt.group;if(_e.length===3&&(_e[2].dims.length!==1||_e[2].dims[0]!==rt))throw new Error("invalid bias");const it=_e[0].dims.length-2;if(nt.dilations.length!==it)throw new Error(`dilations should be ${it}D`);if(nt.strides.length!==it)throw new Error(`strides should be ${it}D`);if(nt.pads.length!==2*it)throw new Error(`pads should be ${2*it}D`);if(nt.outputPadding.length!==it)throw new Error(`output_padding should be ${it}D`);if(nt.kernelShape.length!==0&&nt.kernelShape.length!==_e[1].dims.length-2)throw new Error("invalid kernel shape");if(nt.outputShape.length!==0&&nt.outputShape.length!==_e[0].dims.length-2)throw new Error("invalid output shape");if(_e[0].type!=="float32"||_e[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(_e.length===3&&_e[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseConvAttributes=e.conv=e.calculateOutputShape=void 0;const a=s(246),c=s(2517),d=s(4770),g=s(1386),$=s(9828),j=s(2823),tt=s(3248),et=s(5623);e.calculateOutputShape=(it,st,ot,at,ct)=>{const ut=it[0],dt=it.slice(2),ht=dt.length,pt=st[0],ft=st.slice(2).map((Ct,yt)=>Ct+(Ct-1)*(ot[yt]-1)),bt=dt.map((Ct,yt)=>Ct+at[yt]+at[yt+ht]).map((Ct,yt)=>Math.floor((Ct-ft[yt]+ct[yt])/ct[yt]));return[ut,pt].concat(...bt)},e.conv=(it,st,ot)=>(rt(st,ot),b(it,st,ot));const b=(it,st,ot)=>{const at=nt(ot,st),ct=it.session.pack,ut=at.kernelShape[0]===1&&at.kernelShape[1]===1;return at.group>1?[it.run((0,d.createUnpackedGroupedConvProgramInfoLoader)(it,st,at),st)]:ut&&ct?[h(it,st,at)]:ct&&st[0].dims.length===4&&st[0].dims[0]===1&&!ut?[(0,g.conv2DPacked)(it,st,at)]:[_e(it,st,at)]},h=(it,st,ot)=>{const at=st[0].dims,ct=st[1].dims,ut=(0,e.calculateOutputShape)(at,ct,ot.dilations,ot.pads,ot.strides),dt=it.reshapeUnpacked(st[0],[at[1],at[2]*at[3]]),ht=it.reshapeUnpacked(st[1],[ct[0],ct[1]]),pt=st.length>2?[ht,dt,st[2]]:[ht,dt],ft=it.run((0,et.createMatmulProgramInfoLoader)(pt,ot),pt);return it.reshapeUnpacked(ft,ut)},_e=(it,st,ot)=>{const at=st[0].dims,ct=st[1].dims,ut=(0,e.calculateOutputShape)(at,ct,ot.dilations,ot.pads,ot.strides),dt=it.run((0,tt.createIm2ColProgramInfoLoader)(it,st[0],st[1],ut,ot),[st[0]]),ht=st.length===3?[dt,st[1],st[2]]:[dt,st[1]];return it.run((0,$.createDotProductProgramInfoLoader)(it,st,ut,ot),ht)},nt=(it,st)=>{const ot=it.kernelShape.slice();if(it.kernelShape.length===0)for(let ut=2;ut<st[1].dims.length;++ut)ot.push(st[1].dims[ut]);const at=it.pads.slice();c.PoolConvUtil.adjustPadsBasedOnAutoPad(st[0].dims,it.strides,it.dilations,ot,at,it.autoPad);const ct=Object.assign({},it);return Object.assign(ct,{kernelShape:ot,pads:at,cacheKey:it.cacheKey}),ct};e.parseConvAttributes=it=>{const st=it.attributes,ot=(0,j.parseInternalActivationAttributes)(st),at=st.getString("auto_pad","NOTSET"),ct=st.getInts("dilations",[1,1]),ut=st.getInt("group",1),dt=st.getInts("kernel_shape",[]),ht=st.getInts("pads",[0,0,0,0]),pt=st.getInts("strides",[1,1]);return(0,a.createAttributeWithCacheKey)(Object.assign({autoPad:at,dilations:ct,group:ut,kernelShape:dt,pads:ht,strides:pt},ot))};const rt=(it,st)=>{if(!it||it.length!==2&&it.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(it[0].dims.length!==4||it[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(it[0].dims[1]!==it[1].dims[1]*st.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(it.length===3&&(it[2].dims.length!==1||it[1].dims[0]!==it[2].dims[0]))throw new Error("invalid bias");const ot=it[0].dims.length-2;if(st.dilations.length!==ot)throw new Error(`dilations should be ${ot}D`);if(st.strides.length!==ot)throw new Error(`strides should be ${ot}D`);if(st.pads.length!==2*ot)throw new Error(`pads should be ${2*ot}D`);if(st.kernelShape.length!==0&&st.kernelShape.length!==it[1].dims.length-2)throw new Error("invalid kernel shape");if(it[0].type!=="float32"||it[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(it.length===3&&it[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},5193:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseDepthToSpaceAttributes=e.depthToSpace=void 0;const a=s(3738);e.depthToSpace=(d,g,$)=>{c(g);const j=$.blocksize,tt=j*j,et=$.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],b=$.mode==="DCR"?[g[0].dims[0],j,j,g[0].dims[1]/tt,g[0].dims[2],g[0].dims[3]]:[g[0].dims[0],g[0].dims[1]/tt,j,j,g[0].dims[2],g[0].dims[3]],h=d.reshapeUnpacked(g[0],b),_e={perm:et,cacheKey:`${et}`},[nt]=(0,a.transpose)(d,[h],_e),rt=[g[0].dims[0],g[0].dims[1]/tt,g[0].dims[2]*j,g[0].dims[3]*j];return[d.reshapeUnpacked(nt,rt)]},e.parseDepthToSpaceAttributes=d=>{const g=d.attributes.getInt("blocksize");if(g<1)throw new Error(`blocksize must be >= 1, but got : ${g} for DepthToSpace`);const $=d.attributes.getString("mode","DCR");if($!=="DCR"&&$!=="CRD")throw new Error(`unrecognized mode: ${$} for DepthToSpace`);return{mode:$,blocksize:g}};const c=d=>{if(d.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${d.length}`);if(d[0].type==="string"||d[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createDotProductProgramInfoLoader=void 0;const a=s(2517),c=s(5060),d=s(2039),g=s(2823),$=s(3248);e.createDotProductProgramInfoLoader=(j,tt,et,b)=>{const h=((_e,nt)=>({name:"ConvDotProduct",inputNames:_e?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:_e?[d.TextureType.unpacked,d.TextureType.packedLastDimension,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.packedLastDimension],cacheKey:nt.activationCacheKey}))(tt.length>2,b);return Object.assign(Object.assign({},h),{get:()=>((_e,nt,rt,it,st)=>{const ot=rt[0].dims,at=rt[1].dims,ct=[at[0],Math.ceil(ot[1]*at[2]*at[3]/4)],ut=(0,$.calculateIm2ColDims)(ot,at,it),[dt,ht]=_e.calculateTextureWidthAndHeight(ct,d.TextureType.packedLastDimension),pt=a.ShapeUtil.computeStrides(ut),[ft,bt]=_e.calculateTextureWidthAndHeight(ut,d.TextureType.packedLastDimension),Ct=it.length,yt=rt.length<3?"0.0":"_B(b)",Et=Math.ceil(ot[1]*at[2]*at[3]/4),{activationFunction:gt,applyActivation:At}=(0,g.getActivationSnippet)(st),mt=(0,c.getGlsl)(_e.session.backend.glContext.version),_t=`
${gt}
float process(int indices[${Ct}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${pt[0]} + im2col[1] * ${pt[1]} + im2col[2] * ${pt[2]};
  int kernelOffset = indices[1] * ${ct[1]};
  float value = ${yt};
  for (int i = 0; i < ${Et}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${ft}, ${bt});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${dt}, ${ht});
    value += dot(${mt.texture2D}(Im2Col, im2colCoords), ${mt.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${At}
  return value;
}`;return Object.assign(Object.assign({},nt),{output:{dims:it,type:rt[0].type,textureType:d.TextureType.unpacked},shaderSource:_t})})(j,h,tt,et,b)})}},7992:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseFlattenAttributes=e.flatten=void 0;const a=s(2517);e.flatten=(d,g,$)=>{c(g,$);const j=a.ShapeUtil.flattenShape(g[0].dims,$);return[d.reshapeUnpacked(g[0],j)]},e.parseFlattenAttributes=d=>d.attributes.getInt("axis",1);const c=(d,g)=>{if(!d||d.length!==1)throw new Error("Flatten requires 1 input.");const $=d[0].dims.length;if($===0)throw new Error("scalar tensor is not supported.");if(g<-$||g>$)throw new Error("Invalid axis");if(d[0].type==="string")throw new Error("string tensor is not supported.")}},2823:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseInternalActivationAttributes=e.getActivationSnippet=void 0;const a=s(2517),c=s(4909);e.getActivationSnippet=function(d){let g;switch(d.activation){case"Relu":g=(0,c.glslRelu)();break;case"Sigmoid":g=(0,c.glslSigmoid)();break;case"Clip":g=(0,c.glslClip)(d.clipMin,d.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const $=g.name;return{activationFunction:g.body,applyActivation:`value = ${$}_(value);`}},e.parseInternalActivationAttributes=d=>{const g=d.getString("activation","");if(g==="Clip"){const[$,j]=d.getFloats("activation_params",[a.MIN_CLIP,a.MAX_CLIP]);return{activation:g,clipMax:j,clipMin:$,activationCacheKey:`${g}:${$},${j}`}}return{activation:g,activationCacheKey:g}}},1253:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseGatherAttributes=e.gather=void 0;const a=s(246),c=s(782),d=s(2517),g=s(2039);e.gather=(et,b,h)=>(tt(b,h.axis),[et.run(j(et,b,h),b)]),e.parseGatherAttributes=et=>(0,a.createAttributeWithCacheKey)({axis:et.attributes.getInt("axis",0)});const $={name:"Gather",inputNames:["A","B"],inputTypes:[g.TextureType.unpacked,g.TextureType.unpacked]},j=(et,b,h)=>{const _e=Object.assign(Object.assign({},$),{cacheHint:h.cacheKey});return Object.assign(Object.assign({},_e),{get:()=>((nt,rt,it,st)=>{const ot=it[0].dims.slice(),at=it[1].dims.slice(),ct=new Array(ot.length+at.length-1);st=d.ShapeUtil.normalizeAxis(st,ot.length);const ut=[];for(let ht=0;ht<ct.length;ht++)ht<st?(ct[ht]=ot[ht],ut.push(`inputIdx[${ht}] = outputIdx[${ht}];`)):ht<st+at.length?(ct[ht]=at[ht-st],ut.push(`indexDataIdx[${ht-st}] = outputIdx[${ht}];`)):(ct[ht]=ot[ht-at.length+1],ut.push(`inputIdx[${ht-at.length+1}] = outputIdx[${ht}];`));const dt=`
      float process(int outputIdx[${ct.length||1}]) {
        int inputIdx[${ot.length}];
        int indexDataIdx[${at.length||1}];
        indexDataIdx[0] = 0;
        ${ut.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${st}] = idx < 0 ? idx + ${ot[st]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},rt),{output:{dims:ct,type:it[0].type,textureType:g.TextureType.unpacked},shaderSource:dt})})(0,_e,b,h.axis)})},tt=(et,b)=>{if(!et||et.length!==2)throw new Error("Gather requires 2 inputs.");const h=et[0].dims.length;if(h<1)throw new Error("Invalid input shape.");if(b<-h||b>h-1)throw new Error("Invalid axis.");if(c.NUMBER_TYPES.indexOf(et[0].type)===-1)throw new Error("Invaid input type.");if(et[1].type!=="int32"&&et[1].type!=="int16")throw new Error("Invaid input type.")}},4776:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseGemmAttributesV11=e.parseGemmAttributesV7=e.gemm=void 0;const a=s(246),c=s(2517),d=s(2039);e.gemm=(et,b,h)=>(tt(b,h),[et.run($(b,h),b)]);const g=(et,b)=>{const h=et.attributes.getInt("transA",0)!==0,_e=et.attributes.getInt("transB",0)!==0,nt=et.attributes.getFloat("alpha",1),rt=et.attributes.getFloat("beta",1);return(0,a.createAttributeWithCacheKey)({transA:h,transB:_e,alpha:nt,beta:rt,isOptionalC:b})};e.parseGemmAttributesV7=et=>g(et,!1),e.parseGemmAttributesV11=et=>g(et,!0);const $=(et,b)=>{const h={name:"Gemm",inputNames:et.length===3?["A","B","C"]:["A","B"],inputTypes:et.length===3?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],key:b.cacheKey};return Object.assign(Object.assign({},h),{get:()=>j(h,et,b)})},j=(et,b,h)=>{const _e=b[0].dims.slice(),nt=b[1].dims.slice(),[rt,it]=c.GemmUtil.getShapeOfGemmResult(_e,h.transA,nt,h.transB,b.length===3?b[2].dims:void 0),st=[rt,it];if(!st)throw new Error("Can't use gemm on the given tensors");let ot=_e[_e.length-1],at="";h.transA&&(ot=_e[0]),h.transA&&h.transB?at="value += _A_T(a) * _B_T(b);":h.transA&&!h.transB?at="value += _A_T(a) * _B(b);":!h.transA&&h.transB?at="value += _A(a) * _B_T(b);":h.transA||h.transB||(at="value += _A(a) * _B(b);");const ct=st.length,ut=`
      float process(int indices[${ct}]) {
          int a[${ct}];
          int b[${ct}];
          ${b.length===3?`int c[${b[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${b.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${ot}; ++k) {
              a[${ct-1}] = k;
              b[${ct-2}] = k;
              ${at}
          }

          value = value * alpha;
          ${b.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},et),{output:{dims:st,type:b[0].type,textureType:d.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:h.alpha},{name:"beta",type:"float",data:h.beta}],shaderSource:ut})},tt=(et,b)=>{if(!et)throw new Error("Input is missing");if(b.isOptionalC&&(et.length<2||et.length>3))throw new Error("Invaid input shape.");if(!b.isOptionalC&&et.length!==3)throw new Error("Gemm requires 3 inputs");if(et.length===3&&et[2].dims.length!==1&&et[2].dims.length!==2)throw new Error("Invalid input shape of C");if(et[0].type!=="float32"&&et[0].type!=="float64"||et[1].type!=="float32"&&et[1].type!=="float64"||et.length===3&&et[2].type!=="float32"&&et[2].type!=="float64")throw new Error("Invalid input type.");if(et[0].type!==et[1].type||et.length===3&&et[0].type!==et[2].type)throw new Error("Input types are mismatched")}},8555:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedIm2ColProgramInfoLoader=void 0;const a=s(5060),c=s(2039),d=s(2827);e.createPackedIm2ColProgramInfoLoader=(g,$,j,tt,et)=>{const b=(h=et.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[c.TextureType.packed],cacheHint:h});var h;return Object.assign(Object.assign({},b),{get:()=>((_e,nt,rt,it,st,ot)=>{const at=rt.dims,ct=it.dims,ut=st.length,dt=[ct[1]*ct[2]*ct[3],st[2]*st[3]],ht=ct[2]*ct[3],pt=(0,d.unpackFromChannel)(),ft=(0,a.getGlsl)(_e.session.backend.glContext.version);let bt="";for(let yt=0;yt<=1;yt++)for(let Et=0;Et<=1;Et++)bt+=`
            blockIndex = rc.x + ${Et};
            pos = rc.y + ${yt};

            if(blockIndex < ${dt[1]} && pos < ${dt[0]}) {
              offsetY = int(blockIndex / (${st[ut-1]})) * ${ot.strides[0]} -
                ${ot.pads[0]};
              d0 = offsetY + ${ot.dilations[0]} * (imod(pos, ${ht}) / ${ct[2]});

              if(d0 < ${at[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${st[ut-1]}) * ${ot.strides[1]} -
                  ${ot.pads[1]};
                d1 = offsetX + ${ot.dilations[1]} * imod(imod(pos, ${ht}), ${ct[2]});

                if(d1 < ${at[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${ht}.);
                    innerDims = vec2(d0, d1);
                    result[${2*yt+Et}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const Ct=`
      ${pt}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${bt}
          ${ft.output} = result;
      }
            `;return Object.assign(Object.assign({},nt),{output:{dims:dt,type:rt.type,textureType:c.TextureType.packed},shaderSource:Ct,hasMain:!0})})(g,b,$,j,tt,et)})}},3248:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.calculateIm2ColDims=e.createIm2ColProgramInfoLoader=void 0;const a=s(2039);e.createIm2ColProgramInfoLoader=(c,d,g,$,j)=>{const tt=(et=j.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:et});var et;return Object.assign(Object.assign({},tt),{get:()=>((b,h,_e,nt,rt,it)=>{const st=_e.dims,ot=nt.dims,at=rt.length,ct=(0,e.calculateIm2ColDims)(st,ot,rt,4),ut=`
        const int XC = ${st[1]};
        const int XH = ${st[2]};
        const int XW = ${st[3]};
        const int KH = ${it.kernelShape[0]};
        const int KW = ${it.kernelShape[1]};
        const int dilationH = ${it.dilations[0]};
        const int dilationW = ${it.dilations[1]};
        const int strideH = ${it.strides[0]};
        const int strideW = ${it.strides[1]};
        const int padH = ${it.pads[0]};
        const int padW = ${it.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${at}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${st.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},h),{output:{dims:ct,type:_e.type,textureType:a.TextureType.packedLastDimension},shaderSource:ut})})(0,tt,d,g,$,j)})},e.calculateIm2ColDims=(c,d,g,$=4)=>[g[0],g[2],g[3],Math.ceil(c[1]*d[2]*d[3]/$)]},6572:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseImageScalerAttributes=e.imageScaler=void 0;const a=s(246),c=s(2039);e.imageScaler=(tt,et,b)=>(j(et),[tt.run(g(tt,et,b),et)]),e.parseImageScalerAttributes=tt=>{const et=tt.attributes.getFloat("scale"),b=tt.attributes.getFloats("bias");return(0,a.createAttributeWithCacheKey)({scale:et,bias:b})};const d={name:"ImageScaler",inputNames:["X"],inputTypes:[c.TextureType.unpacked]},g=(tt,et,b)=>{const h=Object.assign(Object.assign({},d),{cacheHint:b.cacheKey});return Object.assign(Object.assign({},h),{get:()=>((_e,nt,rt,it)=>{const st=rt[0].dims.slice(),ot=st.length,at=`
      ${$(it.bias.length)}
      float process(int indices[${ot}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},nt),{output:{dims:st,type:rt[0].type,textureType:c.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:it.bias.length,data:it.bias},{name:"scale",type:"float",data:it.scale}],shaderSource:at})})(0,h,et,b)})},$=tt=>{const et=[`float getBias(float bias[${tt}], int channel) {`];for(let b=0;b<tt;++b)b===0?et.push(`	if (channel == ${b}) { return bias[${b}]; }`):b===tt-1?et.push(`	else { return bias[${b}]; }`):et.push(`	else if (channel == ${b}) { return bias[${b}]; }`);return et.push("	}"),et.join(`
`)},j=tt=>{if(!tt||tt.length!==1)throw new Error("ImageScaler requires 1 input.");if(tt[0].dims.length!==4)throw new Error("Invalid input shape.");if(tt[0].type!=="float32"&&tt[0].type!=="float64")throw new Error("Invalid input type.")}},3346:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseInstanceNormalizationAttributes=e.instanceNormalization=void 0;const a=s(5060),c=s(2039);e.instanceNormalization=(et,b,h)=>{tt(b);const _e=et.run(g(b[0]),b);return[et.run(j(et,b[0],h,_e.dims),[b[0],_e,b[1],b[2]])]},e.parseInstanceNormalizationAttributes=et=>et.attributes.getFloat("epsilon",1e-5);const d={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[c.TextureType.unpacked]},g=et=>Object.assign(Object.assign({},d),{get:()=>((b,h)=>{const _e=h.dims.slice(),nt=_e[1],rt=_e[2]*_e[3],it=[_e[0],nt],st=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${_e[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${_e[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${rt});
        temp = 0.0;
        for(int a2=0; a2<${_e[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${_e[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${rt});

        return v;
      }`;return Object.assign(Object.assign({},b),{output:{dims:it,type:h.type,textureType:c.TextureType.packedLastDimension},shaderSource:st})})(d,et)}),$={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[c.TextureType.unpacked,c.TextureType.packedLastDimension,c.TextureType.unpacked,c.TextureType.unpacked]},j=(et,b,h,_e)=>{const nt=Object.assign(Object.assign({},$),{cacheHint:`${h}`});return Object.assign(Object.assign({},nt),{get:()=>((rt,it,st,ot,at)=>{const ct=(0,a.getGlsl)(rt.session.backend.glContext.version),[ut,dt]=rt.calculateTextureWidthAndHeight(at,c.TextureType.packedLastDimension),[ht,pt]=[ut/4,dt],ft=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${ht}, ${pt});
        return ${ct.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},it),{output:{dims:st.dims,type:st.type,textureType:c.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:ot}],shaderSource:ft})})(et,nt,b,h,_e)})},tt=et=>{if(!et||et.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const b=et[0],h=et[1],_e=et[2];if(b.dims.length<3||h.dims.length!==1||_e.dims.length!==1)throw new Error("Invalid input shape.");if(h.dims[0]!==b.dims[1]||_e.dims[0]!==b.dims[1])throw new Error("Input shapes are mismatched.");if(b.type!=="float32"&&b.type!=="float64"||h.type!=="float32"&&h.type!=="float64"||_e.type!=="float32"&&_e.type!=="float64")throw new Error("Invalid input type.");if(et[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},708:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedMatmulProgramInfoLoader=void 0;const a=s(2517),c=s(5060),d=s(2039),g=s(9390),$=s(2823),j=s(5623);e.createPackedMatmulProgramInfoLoader=(tt,et,b)=>{const h=(_e=et.length>2,nt=b.activationCacheKey,{name:"MatMul (packed)",inputNames:_e?["A","B","Bias"]:["A","B"],inputTypes:_e?[d.TextureType.packed,d.TextureType.packed,d.TextureType.packed]:[d.TextureType.packed,d.TextureType.packed],cacheHint:nt});var _e,nt;return Object.assign(Object.assign({},h),{get:()=>((rt,it,st,ot)=>{const at=st.length>2,ct=at?"value += getBiasForMatmul();":"",ut=st[0].dims,dt=st[1].dims,ht=a.BroadcastUtil.calcShape(ut,dt,!0),pt=!a.ShapeUtil.areEqual(st[0].dims,st[1].dims);if(!ht)throw new Error("Can't use matmul on the given tensors");const ft=ut[ut.length-1],bt=Math.ceil(ft/2),Ct=ut.length,yt=dt.length,Et=(0,c.getGlsl)(rt.session.backend.glContext.version),gt=(0,g.getCoordsDataType)(ht.length),At=ht.length,mt=(0,g.getGlChannels)(),{activationFunction:_t,applyActivation:St}=(0,$.getActivationSnippet)(ot),wt=at?`${(0,j.getBiasForMatmul)(gt,mt,st[2].dims,ht,!0)}`:"",kt=pt?`${function(Bt,Vt,Zt,Jt){let fn=[],yn=[];const _n=Zt[0].dims,Tn=Zt[1].dims,Yt=_n.length,an=Tn.length,vt=Jt.length,Qt=vt-Yt,Kt=vt-an;fn=_n.map((Ht,$t)=>`coords.${Vt[$t+Qt]}`),fn[Yt-1]="i*2",fn.join(", "),yn=Tn.map((Ht,$t)=>`coords.${Vt[$t+Kt]}`),yn[an-2]="i*2",yn.join(", ");const Lt=a.BroadcastUtil.getBroadcastDims(_n,Jt),Rt=a.BroadcastUtil.getBroadcastDims(Tn,Jt),Gt=Lt.map(Ht=>`coords.${Vt[Ht+Qt]} = 0;`).join(`
`),dn=Rt.map(Ht=>`coords.${Vt[Ht+Kt]} = 0;`).join(`
`),hn=`int lastDim = coords.${Vt[vt-1]};
  coords.${Vt[vt-1]} = coords.${Vt[vt-2]};
  coords.${Vt[vt-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${Bt} coords = getOutputCoords();
  ${hn}
  ${Gt}
  vec4 outputValue = getA(${fn});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${Bt} coords = getOutputCoords();
  ${hn}
  ${dn}
  vec4 outputValue = getB(${yn});
  return outputValue;
}`}(gt,mt,st,ht)}`:"",Dt=pt?"getAAtOutCoordsMatmul(i)":`getA(${function(Bt,Vt){let Zt="";for(let Jt=0;Jt<Vt-2;Jt++)Zt+=`rc.${Bt[Jt]}, `;return Zt+=`rc.${Bt[Vt-2]}, i*2`,Zt}(mt,Ct)})`,Ft=pt?"getBAtOutCoordsMatmul(i)":`getB(${function(Bt,Vt){let Zt="";for(let Jt=0;Jt<Vt-2;Jt++)Zt+=`rc.${Bt[Jt]}, `;return Zt+=`i*2, rc.${Bt[Vt-1]}`,Zt}(mt,yt)})`,Ot=`
            ${kt}
            ${wt}
            ${_t}
            void main() {
              ${pt?"":`${gt} rc =
          getOutputCoords(); int lastDim = rc.${mt[At-1]}; rc.${mt[At-1]} =
          rc.${mt[At-2]}; rc.${mt[At-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${bt}; i++) {
                vec4 a = ${Dt};
                vec4 b = ${Ft};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${ct}
              ${St}
              ${Et.output} = value;
            }`;return Object.assign(Object.assign({},it),{output:{dims:ht,type:st[0].type,textureType:d.TextureType.packed},shaderSource:Ot,hasMain:!0})})(tt,h,et,b)})}},5623:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getBiasForMatmul=e.createMatmulProgramInfoLoader=e.parseMatMulAttributes=e.matMul=void 0;const a=s(2517),c=s(2039),d=s(9390),g=s(2823),$=s(708);function j(b,h){const _e=(nt=b.length>2,rt=h.activationCacheKey,{name:"MatMul",inputNames:nt?["A","B","Bias"]:["A","B"],inputTypes:nt?[c.TextureType.unpacked,c.TextureType.unpacked,c.TextureType.unpacked]:[c.TextureType.unpacked,c.TextureType.unpacked],cacheHint:rt});var nt,rt;return Object.assign(Object.assign({},_e),{get:()=>function(it,st,ot){const at=st[0].dims,ct=st[1].dims,ut=a.BroadcastUtil.calcShape(at,ct,!0);if(!ut)throw new Error("Can't use matmul on the given tensors");const dt=(0,d.getCoordsDataType)(ut.length),ht=(0,d.getGlChannels)(),{activationFunction:pt,applyActivation:ft}=(0,g.getActivationSnippet)(ot),bt=st.length>2,Ct=bt?"value += getBiasForMatmul();":"",yt=bt?`${et(dt,ht,st[2].dims,ut,!1)}`:"",Et=ut.length,gt=at.length,At=ct.length,mt=`
    ${pt}
    ${yt}
    float process(int indices[${Et}]) {
        int a[${gt}];
        int b[${At}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${at[at.length-1]}; ++k) {
            a[${gt-1}] = k;
            b[${At-2}] = k;
            value += _A(a) * _B(b);
        }
        ${Ct}
        ${ft}
        return value;
    }`;return Object.assign(Object.assign({},it),{output:{dims:ut,type:st[0].type,textureType:c.TextureType.unpacked},shaderSource:mt})}(_e,b,h)})}e.matMul=(b,h,_e)=>(tt(h),b.session.pack?[b.run((0,$.createPackedMatmulProgramInfoLoader)(b,h,_e),h)]:[b.run(j(h,_e),h)]),e.parseMatMulAttributes=b=>(0,g.parseInternalActivationAttributes)(b.attributes),e.createMatmulProgramInfoLoader=j;const tt=b=>{if(!b||b.length!==2)throw new Error("MatMul requires 2 inputs.");if(b[0].dims[b[0].dims.length-1]!==b[1].dims[b[1].dims.length-2])throw new Error("shared dimension does not match.");if(b[0].type!=="float32"&&b[0].type!=="float64"||b[1].type!=="float32"&&b[1].type!=="float64")throw new Error("inputs should be float type");if(b[0].type!==b[1].type)throw new Error("inputs types should match")};function et(b,h,_e,nt,rt){let it="";const st=_e.length,ot=nt.length,at=ot-st;it=ot<2&&st>0?"coords":_e.map((dt,ht)=>`coords.${h[ht+at]}`).join(", ");const ct=a.BroadcastUtil.getBroadcastDims(_e,nt).map(dt=>`coords.${h[dt+at]} = 0;`).join(`
`);let ut="vec4(outputValue.xx, outputValue.yy)";return a.ShapeUtil.size(_e)===1&&(ut="vec4(outputValue.x)"),rt?`
vec4 getBiasForMatmul() {
  ${b} coords = getOutputCoords();
  ${ct}
  vec4 outputValue = getBias(${it});
  return ${ut};
}`:`
float getBiasForMatmul() {
  ${b} coords = getOutputCoords();
  ${ct}
  return getBias(coords.x);
}`}e.getBiasForMatmul=et},2403:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackProgramInfoLoader=void 0;const a=s(5060),c=s(2039),d=s(9390),g=s(2827),$={name:"pack",inputNames:["A"],inputTypes:[c.TextureType.unpackedReversed]};e.createPackProgramInfoLoader=(j,tt)=>Object.assign(Object.assign({},$),{get:()=>((et,b)=>{const h=(0,a.getGlsl)(et.session.backend.glContext.version),_e=b.dims,nt=_e.length,rt=b.dims.length,it=(0,d.getCoordsDataType)(rt),st=(0,g.getChannels)("rc",rt),ot=(at=rt,ct=st,ut=_e[_e.length-2],dt=_e[_e.length-1],at===0||at===1?"":`
    int r = ${ct[at-2]};
    int c = ${ct[at-1]};
    int rp1 = ${ct[at-2]} + 1;
    int cp1 = ${ct[at-1]} + 1;
    bool rEdge = rp1 >= ${dt};
    bool cEdge = cp1 >= ${ut};
    `);var at,ct,ut,dt;let ht;ht=nt===0?[1,1]:nt===1?[_e[0],1]:[_e[rt-1],_e[rt-2]];const pt=function(Ct,yt,Et){if(Ct===0)return"false";if(Ct===1)return`rc > ${yt[0]}`;let gt="";for(let At=Ct-2;At<Ct;At++)gt+=`${Et[At]} >= ${yt[At-Ct+2]}`,At<Ct-1&&(gt+="||");return gt}(rt,ht,st),ft=function(Ct,yt){const Et=Ct.length;if(Et===0)return"getA(), 0, 0, 0";if(Et===1)return`getA(rc),
            rc + 1 >= ${Ct[0]} ? 0. : getA(rc + 1),
            0, 0`;let gt="";if(Et>2)for(let At=0;At<Et-2;++At)gt+=`${yt[At]},`;return`getA(${gt}r, c),
          rEdge ? 0. : getA(${gt}rp1, c),
          cEdge ? 0. : getA(${gt}r, cp1),
          rEdge || cEdge ? 0. : getA(${gt}rp1, cp1)`}(_e,st),bt=`
        void main() {
          ${it} rc = getOutputCoords();

          if(${pt}) {
            ${h.output} = vec4(0);
          } else {
            ${ot}

            ${h.output} = vec4(${ft});
          }
        }
      `;return Object.assign(Object.assign({},$),{hasMain:!0,output:{dims:b.dims,type:b.type,textureType:c.TextureType.packed},shaderSource:bt})})(j,tt)})},2827:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.unpackFromChannel=e.getChannels=e.getVecChannels=void 0;const a=s(9390);function c(d,g){return(0,a.getGlChannels)(g).map($=>`${d}.${$}`)}e.getVecChannels=c,e.getChannels=function(d,g){return g===1?[d]:c(d,g)},e.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},2870:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parsePadAttributesV11=e.padV11=e.parsePadAttributesV2=e.padV2=void 0;const a=s(246),c=s(2517),d=s(5060),g=s(2039),$={name:"Pad",inputNames:["A"],inputTypes:[g.TextureType.unpacked]};e.padV2=(it,st,ot)=>(et(st),[it.run(Object.assign(Object.assign({},$),{cacheHint:ot.cacheKey,get:()=>tt(it,st[0],ot)}),st)]),e.parsePadAttributesV2=it=>{const st=it.attributes.getString("mode","constant"),ot=it.attributes.getFloat("value",0),at=it.attributes.getInts("pads");return(0,a.createAttributeWithCacheKey)({mode:st,value:ot,pads:at})},e.padV11=(it,st,ot)=>{b(st);const at=j(it,st,ot);return(0,e.padV2)(it,[st[0]],at)},e.parsePadAttributesV11=it=>it.attributes.getString("mode","constant");const j=(it,st,ot)=>{if(!it.session.isInitializer(st[1].dataId)||st.length>=3&&!it.session.isInitializer(st[2].dataId))throw new Error("dynamic pad attributes are not allowed");const at=Array.from(st[1].integerData),ct=st.length>=3?st[2].floatData[0]:0;return(0,a.createAttributeWithCacheKey)({mode:ot,pads:at,value:ct})},tt=(it,st,ot)=>{const at=c.ShapeUtil.padShape(st.dims.slice(),ot.pads),ct=at.length,ut=`
      ${h(it,st,ot)}
      float process(int[${ct}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[g.TextureType.unpacked],output:{dims:at,type:st.type,textureType:g.TextureType.unpacked},shaderSource:ut}},et=it=>{if(!it||it.length!==1)throw new Error("Pad requires 1 input");if(it[0].type!=="float32"&&it[0].type!=="float64")throw new Error("Invalid input type.")},b=it=>{if(!it||it.length!==2&&it.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(it[1].type!=="int32")throw new Error("Invalid input type.");if(it.length>=3&&it[2].type==="string")throw new Error("Invalid input type.")},h=(it,st,ot)=>{const at=(0,d.getGlsl)(it.session.backend.glContext.version),[ct,ut]=it.calculateTextureWidthAndHeight(st.dims,g.TextureType.unpacked),dt=c.ShapeUtil.computeStrides(st.dims);switch(ot.mode){case"constant":return _e(at,st.dims,dt,ct,ut,ot.pads,ot.value);case"reflect":return nt(at,st.dims,dt,ct,ut,ot.pads);case"edge":return rt(at,st.dims,dt,ct,ut,ot.pads);default:throw new Error("Invalid mode")}},_e=(it,st,ot,at,ct,ut,dt)=>{const ht=st.length;let pt="";for(let ft=ht-1;ft>=0;--ft)pt+=`
        k = m[${ft}] - ${ut[ft]};
        if (k < 0)  return constant;
        if (k >= ${st[ft]}) return constant;
        offset += k * ${ot[ft]};
        `;return`
      float padA(int m[${ht}]) {
        const float constant = float(${dt});
        int offset = 0;
        int k = 0;
        ${pt}
        vec2 coords = offsetToCoords(offset, ${at}, ${ct});
        float value = getColorAsFloat(${it.texture2D}(A, coords));
        return value;
      }
      `},nt=(it,st,ot,at,ct,ut)=>{const dt=st.length;let ht="";for(let pt=dt-1;pt>=0;--pt)ht+=`
        k = m[${pt}] - ${ut[pt]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(st[pt]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${st[pt]}) { k = _2n_1 - k; }
        }
        offset += k * ${ot[pt]};
        `;return`
      float padA(int m[${dt}]) {
        int offset = 0;
        int k = 0;
        ${ht}
        vec2 coords = offsetToCoords(offset, ${at}, ${ct});
        float value = getColorAsFloat(${it.texture2D}(A, coords));
        return value;
      }
      `},rt=(it,st,ot,at,ct,ut)=>{const dt=st.length;let ht="";for(let pt=dt-1;pt>=0;--pt)ht+=`
        k = m[${pt}] - ${ut[pt]};
        if (k < 0)  k = 0;
        if (k >= ${st[pt]}) k = ${st[pt]-1};
        offset += k * ${ot[pt]};
      `;return`
      float padA(int m[${dt}]) {
        int offset = 0;
        int k = 0;
        ${ht}
        vec2 coords = offsetToCoords(offset, ${at}, ${ct});
        float value = getColorAsFloat(${it.texture2D}(A, coords));
        return value;
      }
      `}},2143:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.globalMaxPool=e.parseMaxPoolAttributes=e.maxPool=e.parseGlobalAveragePoolAttributes=e.globalAveragePool=e.parseAveragePoolAttributes=e.averagePool=void 0;const a=s(246),c=s(2517),d=s(2039);e.averagePool=(rt,it,st)=>{b(it);const ot={name:"AveragePool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:st.cacheKey};return[rt.run(Object.assign(Object.assign({},ot),{get:()=>g(it,ot,!1,st)}),it)]},e.parseAveragePoolAttributes=rt=>{const it=rt.attributes.getString("auto_pad","NOTSET"),st=rt.attributes.getInt("ceil_mode",0),ot=rt.attributes.getInt("count_include_pad",0)!==0,at=rt.attributes.getInts("kernel_shape"),ct=rt.attributes.getInts("strides",[]),ut=rt.attributes.getInts("pads",[]);if(st!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,a.createAttributeWithCacheKey)({autoPad:it,ceilMode:st,countIncludePad:ot,kernelShape:at,strides:ct,pads:ut})};const g=(rt,it,st,ot)=>{const[at,ct]=j(rt,ot,st),ut=c.ShapeUtil.size(at.kernelShape);let dt="";at.countIncludePad?dt+=`value /= float(${ut});`:dt+=`value /= float(${ut} - pad);`;const ht=`
        ${h(rt[0].dims,at,"value += _X(x);",dt,"0.0")}
      `;return Object.assign(Object.assign({},it),{output:{dims:ct,type:rt[0].type,textureType:d.TextureType.unpacked},shaderSource:ht})};e.globalAveragePool=(rt,it,st)=>{b(it);const ot={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:`${st.countIncludePad}`};return[rt.run(Object.assign(Object.assign({},ot),{get:()=>g(it,ot,!0,st)}),it)]},e.parseGlobalAveragePoolAttributes=rt=>{const it=rt.attributes.getInt("count_include_pad",0)!==0;return(0,a.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:it,kernelShape:[],strides:[],pads:[]})},e.maxPool=(rt,it,st)=>{b(it);const ot={name:"MaxPool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:st.cacheKey};return[rt.run(Object.assign(Object.assign({},ot),{get:()=>$(it,ot,!1,st)}),it)]},e.parseMaxPoolAttributes=rt=>{const it=rt.attributes.getString("auto_pad","NOTSET"),st=rt.attributes.getInt("ceil_mode",0),ot=rt.attributes.getInts("kernel_shape"),at=rt.attributes.getInts("strides",[]),ct=rt.attributes.getInts("pads",[]),ut=rt.attributes.getInt("storage_order",0),dt=rt.attributes.getInts("dilations",[]);if(ut!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(st!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,a.createAttributeWithCacheKey)({autoPad:it,ceilMode:st,countIncludePad:!1,kernelShape:ot,strides:at,pads:ct,storageOrder:ut,dilations:dt})};const $=(rt,it,st,ot)=>{const[at,ct]=j(rt,ot,st),ut=`
      ${h(rt[0].dims,at,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},it),{output:{dims:ct,type:rt[0].type,textureType:d.TextureType.unpacked},shaderSource:ut})},j=(rt,it,st)=>{const ot=rt[0].dims.slice(),at=Object.hasOwnProperty.call(it,"dilations"),ct=it.kernelShape.slice(),ut=it.strides.slice(),dt=at?it.dilations.slice():[],ht=it.pads.slice();c.PoolConvUtil.adjustPoolAttributes(st,ot,ct,ut,dt,ht);const pt=c.PoolConvUtil.computePoolOutputShape(st,ot,ut,dt,ct,ht,it.autoPad),ft=Object.assign({},it);return at?Object.assign(ft,{kernelShape:ct,strides:ut,pads:ht,dilations:dt,cacheKey:it.cacheKey}):Object.assign(ft,{kernelShape:ct,strides:ut,pads:ht,cacheKey:it.cacheKey}),[ft,pt]},tt={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},et={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[d.TextureType.unpacked]};e.globalMaxPool=(rt,it)=>(b(it),[rt.run(Object.assign(Object.assign({},et),{get:()=>$(it,et,!0,tt)}),it)]);const b=rt=>{if(!rt||rt.length!==1)throw new Error("Pool ops requires 1 input.");if(rt[0].type!=="float32"&&rt[0].type!=="float64")throw new Error("Invalid input type.")},h=(rt,it,st,ot,at)=>{const ct=rt.length;if(it.kernelShape.length<=2){const ut=it.kernelShape[it.kernelShape.length-1],dt=it.strides[it.strides.length-1],ht=it.pads[it.pads.length/2-1],pt=it.pads[it.pads.length-1],ft=rt[ct-1];let bt="",Ct="",yt="";if(bt=ht+pt!==0?`
          for (int i = 0; i < ${ut}; i++) {
            x[${ct} - 1] = indices[${ct} - 1] * ${dt} - ${ht} + i;
            if (x[${ct} - 1] < 0 || x[${ct} - 1] >= ${ft}) {
              pad++;
              continue;
            }
            ${st}
          }`:`
          for (int i = 0; i < ${ut}; i++) {
            x[${ct} - 1] = indices[${ct} - 1] * ${dt} - ${ht} + i;
            ${st}
          }`,it.kernelShape.length===2){const Et=it.kernelShape[it.kernelShape.length-2],gt=it.strides[it.strides.length-2],At=it.pads[it.pads.length/2-2],mt=it.pads[it.pads.length-2],_t=rt[ct-2];Ct=At+mt!==0?`
            for (int j = 0; j < ${Et}; j++) {
              x[${ct} - 2] = indices[${ct} - 2] * ${gt} - ${At} + j;
              if (x[${ct} - 2] < 0 || x[${ct} - 2] >= ${_t}) {
                pad+= ${ut};
                continue;
              }
          `:`
            for (int j = 0; j < ${Et}; j++) {
              x[${ct} - 2] = indices[${ct} - 2] * ${gt} - ${At} + j;
            `,yt=`
          }
        `}return`
        float process(int indices[${ct}]) {
          int x[${ct}];
          copyVec(indices, x);

          float value = ${at};
          int pad = 0;
          ${Ct}
          ${bt}
          ${yt}
          ${ot}
          return value;
        }
      `}{const ut=c.ShapeUtil.size(it.kernelShape),dt=c.ShapeUtil.computeStrides(it.kernelShape),ht=dt.length,pt=it.pads.length,ft=nt(ht),bt=_e(rt,"inputDims"),Ct=_e(it.pads,"pads"),yt=_e(dt,"kernelStrides"),Et=_e(it.strides,"strides");let gt="";return gt=it.pads.reduce((At,mt)=>At+mt)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${st}
          }`:`
          }
          ${st}
        `,`
        ${ft}
        float process(int indices[${ct}]) {
          int x[${ct}];
          copyVec(indices, x);
          int offset[${ht}];
          int pads[${pt}];
          int inputDims[${ct}];
          int kernelStrides[${ht}];
          int strides[${ht}];
          ${Ct}
          ${bt}
          ${Et}
          ${yt}

          float value = ${at};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${ut}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${ct} - ${ht}; j < ${ct}; j++) {
              x[j] = indices[j] * strides[j - ${ct} + ${ht}]
                + offset[j - ${ct} + ${ht}] - pads[j - 2];
              ${gt}
          }
          ${ot}

          return value;
        }
      `}},_e=(rt,it)=>{let st="";for(let ot=0;ot<rt.length;ot++)st+=`
      ${it}[${ot}] = ${rt[ot]};
    `;return st},nt=rt=>`
  void offsetToIndices(int offset, int[${rt}] strides, out int[${rt}] indices) {
    if (${rt} == 0) {
      return;
    }
    for (int i = 0; i < ${rt} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${rt} - 1] = offset;
  }`},4939:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reduceLogSumSquare=e.reduceLogSum=e.reduceProd=e.reduceMin=e.reduceMax=e.reduceMean=e.reduceSum=e.parseReduceAttributes=void 0;const a=s(246),c=s(782),d=s(2517),g=s(2039),$=(et,b,h,_e,nt)=>{tt(b);const rt={name:_e,inputNames:["A"],inputTypes:[g.TextureType.unpacked]};return[et.run(Object.assign(Object.assign({},rt),{cacheHint:h.cacheKey,get:()=>j(et,b,h,_e,nt,rt)}),b)]};e.parseReduceAttributes=et=>{const b=et.attributes.getInts("axes",[]),h=et.attributes.getInt("keepdims",1)===1;return(0,a.createAttributeWithCacheKey)({axes:b,keepDims:h})};const j=(et,b,h,_e,nt,rt)=>{const it=[],st=b[0].dims.length||1,ot=[],at=d.ShapeUtil.normalizeAxes(h.axes,b[0].dims.length),ct=nt(b,at);let ut=ct[1];for(let ht=0;ht<b[0].dims.length;ht++)at.indexOf(ht)>=0||at.length===0?(h.keepDims&&it.push(1),ut=`
          for(int j${ht} = 0; j${ht} < ${b[0].dims[ht]}; j${ht}++) {
            inputIdx[${ht}] = j${ht};
            ${ut}
          }`):(ot.push(`inputIdx[${ht}] = outputIdx[${it.length}];`),it.push(b[0].dims[ht]));const dt=`
      float process(int outputIdx[${it.length||1}]) {
        float value;                 // final result
        int inputIdx[${st}];      // addressing input data
        ${ot.join(`
`)}
        ${ct[0]}       // init ops for reduce max/min
        ${ut}
        ${ct[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},rt),{output:{dims:it,type:b[0].type,textureType:g.TextureType.unpacked},shaderSource:dt})},tt=et=>{if(!et||et.length!==1)throw new Error("Reduce op requires 1 input.");if(c.NUMBER_TYPES.indexOf(et[0].type)===-1)throw new Error("Invalid input type.")};e.reduceSum=(et,b,h)=>$(et,b,h,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),e.reduceMean=(et,b,h)=>$(et,b,h,"ReduceMean",(_e,nt)=>{let rt=1;for(let it=0;it<_e[0].dims.length;it++)(nt.indexOf(it)>=0||nt.length===0)&&(rt*=_e[0].dims[it]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${rt}.;`]}),e.reduceMax=(et,b,h)=>$(et,b,h,"ReduceMax",(_e,nt)=>{const rt=[];for(let it=0;it<_e[0].dims.length;it++)(nt.indexOf(it)>=0||nt.length===0)&&rt.push(`inputIdx[${it}] = 0;`);return[`${rt.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),e.reduceMin=(et,b,h)=>$(et,b,h,"ReduceMin",(_e,nt)=>{const rt=[];for(let it=0;it<_e[0].dims.length;it++)(nt.indexOf(it)>=0||nt.length===0)&&rt.push(`inputIdx[${it}] = 0;`);return[`${rt.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),e.reduceProd=(et,b,h)=>$(et,b,h,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),e.reduceLogSum=(et,b,h)=>$(et,b,h,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),e.reduceLogSumSquare=(et,b,h)=>$(et,b,h,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isReshapeCheap=e.processDims3D=e.createPackedReshape3DProgramInfoLoader=void 0;const a=s(2517),c=s(5060),d=s(2039),g=s(2827);e.createPackedReshape3DProgramInfoLoader=($,j,tt)=>{const et=(b=>({name:"Reshape (packed)",inputTypes:[d.TextureType.packed],inputNames:["A"],cacheHint:`${b}`}))(tt);return Object.assign(Object.assign({},et),{get:()=>((b,h,_e,nt)=>{const rt=h.dims,it=nt;let st="";for(let ct=0;ct<4;ct++){let ut="";switch(ct){case 0:ut="outputCoords = rc;";break;case 1:ut="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:ut="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:ut="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}st+=`
        ${ut}
        ${ct>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${ct}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${ct>0?"}":""}
      `}const ot=(0,c.getGlsl)(b.session.backend.glContext.version),at=`
      ${function(ct){const ut=a.ShapeUtil.computeStrides(ct),dt=["b","r","c"],ht="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${ut.map((pt,ft)=>`int ${dt[ft]} = ${ht} / ${pt}; ${ft===ut.length-1?`int ${dt[ft+1]} = ${ht} - ${dt[ft]} * ${pt}`:`index -= ${dt[ft]} * ${pt}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(rt)}
      ${function(ct){const ut=a.ShapeUtil.computeStrides(ct);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${ut[0]} + coords.z * ${ut[1]} + coords.y;
  }
`}(it)}
      ${(0,g.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${it[2]};
        int cols = ${it[1]};

        ${st}
        ${ot.output} = result;
      }
    `;return Object.assign(Object.assign({},_e),{output:{dims:it,type:h.type,textureType:d.TextureType.packed},shaderSource:at,hasMain:!0})})($,j,et,tt)})},e.processDims3D=function($){if($.length===0)return[1,1,1];let j=1;for(let tt=0;tt<$.length-2;++tt)j*=$[tt];return[j,$.length>1?$[$.length-2]:1,$[$.length-1]]},e.isReshapeCheap=function($,j){let tt=!1;return tt=$.length===0||j.length===0||($.length<2||j.length<2?$[$.length-1]===j[j.length-1]:$[$.length-1]===j[j.length-1]&&$[$.length-2]===j[j.length-2]),tt}},718:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reshape=void 0;const a=s(2517);e.reshape=(c,d)=>{const g=a.ShapeUtil.calculateReshapedDims(d[0].dims,d[1].integerData);return c.session.pack?[c.reshapePacked(d[0],g)]:[c.reshapeUnpacked(d[0],g)]}},2268:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseResizeAttributesV11=e.parseResizeAttributesV10=e.resize=void 0;const a=s(5060),c=s(2039),d=s(9390),g=s(2827),$=s(9793),j={name:"Resize",inputNames:["A"],inputTypes:[c.TextureType.packed]};e.resize=(_e,nt,rt)=>((0,$.validateInputs)(nt,rt),[_e.run(Object.assign(Object.assign({},j),{cacheHint:rt.cacheKey,get:()=>tt(_e,nt,rt)}),nt)]),e.parseResizeAttributesV10=_e=>(0,$.parseUpsampleAttributes)(_e,10),e.parseResizeAttributesV11=_e=>(0,$.parseUpsampleAttributes)(_e,11);const tt=(_e,nt,rt)=>{const it=(0,a.getGlsl)(_e.session.backend.glContext.version),[st,ot]=et(nt,rt);if(st.every(gt=>gt===1)&&rt.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},j),{output:{dims:ot,type:nt[0].type,textureType:c.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${it.texture2D}(X, TexCoords);
                    ${it.output} = v;
                }`});const at=ot.length;if(at<2)throw new Error(`output dimension should be at least 2, but got ${at}`);const ct=ot[at-2],ut=ot[at-1],dt=nt[0].dims;if(at!==dt.length)throw new Error(`output dimension should match input ${dt.length}, but got ${at}`);const ht=dt[at-2],pt=dt[at-1],ft=st[at-2],bt=st[at-1];let Ct="";if(rt.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${rt.mode}'`);switch(rt.coordinateTransformMode){case"asymmetric":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${ut}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${ct}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${ut}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${ct}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${ut}.0 - 1.0, ${ct}.0 - 1.0, ${ut}.0 - 1.0,
                            ${ct}.0 - 1.0);
                        vec4 original = vec4(${pt}.0 - 1.0, ${ht}.0 - 1.0, ${pt}.0 - 1.0,
                            ${ht}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${rt.coordinateTransformMode}'`)}const yt=(0,d.getCoordsDataType)(at),Et=`
            const vec2 inputWH = vec2(${ht}.0, ${pt}.0);
            const vec4 scaleWHWH = vec4(float(${ft}), float(${bt}), float(${ft}), float(${bt}));
            ${(0,g.unpackFromChannel)()}
            ${Ct}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${yt} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${ct-1};
                bool hasNextCol = rc.z < ${ut-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${it.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},j),{output:{dims:ot,type:nt[0].type,textureType:c.TextureType.packed},hasMain:!0,shaderSource:Et})},et=(_e,nt)=>{const rt=_e[0].dims;let it,st=nt.scales;if(st.length===0){const at=_e[nt.scalesInputIdx];if(at&&at.size!==0){if(_e[nt.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");st=b(at,nt.mode,nt.isResize)}else{const ct=_e[nt.sizesInputIdx];if(!ct||ct.size===0)throw new Error("Either scales or sizes MUST be provided as input.");it=Array.from(ct.integerData),st=h(it,rt,nt.mode,nt.isResize)}}else if(_e[nt.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const ot=it||rt.map((at,ct)=>Math.floor(at*st[ct]));return[st,ot]},b=(_e,nt,rt)=>{const it=Array.from(_e.floatData);return(0,$.scalesValidation)(it,nt,rt),it},h=(_e,nt,rt,it)=>{const st=nt.length,ot=new Array(st);for(let at=0,ct=st;at<ct;at++)if(nt[at]===0){if(_e[at]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");ot[at]=1}else ot[at]=_e[at]/nt[at];return(0,$.scalesValidation)(ot,rt,it),ot}},8117:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shape=void 0;const a=s(9162);e.shape=(d,g)=>(c(g),[new a.Tensor([g[0].dims.length],"int32",void 0,void 0,new Int32Array(g[0].dims))]);const c=d=>{if(!d||d.length!==1)throw new Error("Shape requires 1 input.")}},2278:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sliceV10=e.parseSliceAttributes=e.slice=void 0;const a=s(246),c=s(782),d=s(2517),g=s(2039),$={name:"Slice",inputNames:["A"],inputTypes:[g.TextureType.unpacked]};e.slice=(h,_e,nt)=>(tt(_e),[h.run(Object.assign(Object.assign({},$),{cacheHint:nt.cacheKey,get:()=>j(h,_e[0],nt)}),_e)]),e.parseSliceAttributes=h=>{const _e=h.attributes.getInts("starts"),nt=h.attributes.getInts("ends"),rt=h.attributes.getInts("axes",[]);return(0,a.createAttributeWithCacheKey)({starts:_e,ends:nt,axes:rt})};const j=(h,_e,nt)=>{const rt=nt.axes.length===0?_e.dims.slice(0).map((dt,ht)=>ht):nt.axes,it=d.ShapeUtil.normalizeAxes(rt,_e.dims.length),st=nt.starts.map((dt,ht)=>dt>_e.dims[it[ht]]-1?_e.dims[it[ht]]:d.ShapeUtil.normalizeAxis(dt,_e.dims[it[ht]])),ot=nt.ends.map((dt,ht)=>dt>_e.dims[it[ht]]-1?_e.dims[it[ht]]:d.ShapeUtil.normalizeAxis(dt,_e.dims[it[ht]])),at=_e.dims.slice(),ct=[];for(let dt=0;dt<it.length;dt++)at[it[dt]]=ot[dt]-st[dt],st[dt]>0&&ct.push(`outputIdx[${it[dt]}] += ${st[dt]};`);const ut=`
      float process(int outputIdx[${at.length}]) {
        ${ct.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},$),{output:{dims:at,type:_e.type,textureType:g.TextureType.unpacked},shaderSource:ut})},tt=h=>{if(!h||h.length!==1)throw new Error("Slice requires 1 input.");if(c.NUMBER_TYPES.indexOf(h[0].type)===-1)throw new Error("Invalid input type.")};e.sliceV10=(h,_e)=>{b(_e);const nt=et(h,_e);return[h.run(Object.assign(Object.assign({},$),{cacheHint:nt.cacheKey,get:()=>j(h,_e[0],nt)}),[_e[0]])]};const et=(h,_e)=>{if(!h.session.isInitializer(_e[1].dataId)||!h.session.isInitializer(_e[2].dataId)||_e.length>=4&&!h.session.isInitializer(_e[3].dataId)||_e.length>=5&&!h.session.isInitializer(_e[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(_e.length>=5&&_e[4].integerData.some(st=>st!==1))throw new Error("currently non-1 steps is not supported for Slice");const nt=Array.from(_e[1].integerData),rt=Array.from(_e[2].integerData),it=_e.length>=4?Array.from(_e[3].integerData):[];return{starts:nt,ends:rt,axes:it,cacheKey:`${it};${nt};${rt}`}},b=h=>{if(!h||h.length<3||h.length>5)throw new Error("Invalid input number.");if(h[1].type!=="int32"||h[1].dims.length!==1)throw new Error("Invalid input type.");if(h[2].type!=="int32"||h[2].dims.length!==1)throw new Error("Invalid input type.");if(h.length>=4&&(h[3].type!=="int32"||h[3].dims.length!==1))throw new Error("Invalid input type.");if(h.length>=5&&(h[4].type!=="int32"||h[4].dims.length!==1))throw new Error("Invalid input type.")}},5524:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.softmaxV13=e.parseSoftmaxAttributesV13=e.parseSoftmaxAttributes=e.softmax=void 0;const a=s(246),c=s(2517),d=s(5060),g=s(2039),$=s(3738),j={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[g.TextureType.unpacked]},tt={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[g.TextureType.unpacked,g.TextureType.unpacked]},et={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[g.TextureType.unpacked,g.TextureType.unpacked,g.TextureType.unpacked]};e.softmax=(it,st,ot)=>{rt(st);const at=st[0].dims.slice(),ct=c.ShapeUtil.normalizeAxis(ot.axis,at.length),ut=c.ShapeUtil.sizeToDimension(at,ct),dt=c.ShapeUtil.sizeFromDimension(at,ct);return b(it,st,ot,ut,dt)},e.parseSoftmaxAttributes=it=>(0,a.createAttributeWithCacheKey)({axis:it.attributes.getInt("axis",1)}),e.parseSoftmaxAttributesV13=it=>(0,a.createAttributeWithCacheKey)({axis:it.attributes.getInt("axis",-1)}),e.softmaxV13=(it,st,ot)=>{rt(st);const at=st[0].dims.slice(),ct=c.ShapeUtil.normalizeAxis(ot.axis,at.length),ut=at.length,dt=ct!==ut-1,ht=[];let pt,ft=[],bt=[];dt&&(ft=Array.from({length:ut}).map((gt,At)=>At),ft[ct]=ut-1,ft[ut-1]=ct,ft.map(gt=>ht.push(at[gt])),pt=(0,a.createAttributeWithCacheKey)({perm:ft}),bt=(0,$.transpose)(it,st,pt));const Ct=dt?c.ShapeUtil.sizeToDimension(ht,ut-1):c.ShapeUtil.sizeToDimension(at,ut-1),yt=dt?c.ShapeUtil.sizeFromDimension(ht,ut-1):c.ShapeUtil.sizeFromDimension(at,ut-1),Et=b(it,dt?bt:st,ot,Ct,yt);return dt?(0,$.transpose)(it,Et,pt):Et};const b=(it,st,ot,at,ct)=>{const ut=h(it,st[0],at,ct,[at]),dt=it.run(Object.assign(Object.assign({},j),{cacheHint:ot.cacheKey,get:()=>ut}),st),ht=_e(it,st[0],at,ct,ut.output.dims,[at]),pt=it.run(Object.assign(Object.assign({},tt),{cacheHint:ot.cacheKey,get:()=>ht}),[st[0],dt]),ft=nt(it,st[0],at,ct,ut.output.dims,ht.output.dims);return[it.run(Object.assign(Object.assign({},et),{cacheHint:ot.cacheKey,get:()=>ft}),[st[0],dt,pt])]},h=(it,st,ot,at,ct)=>{const[ut,dt]=it.calculateTextureWidthAndHeight(st.dims,g.TextureType.unpacked),ht=ct.length;if(ot<1||at<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ct.length!==1)throw new Error("Dimensionality of the output should be 1");if(ct[0]!==ot)throw new Error("Shape of the output should be equal to logical row count");const pt=(0,d.getGlsl)(it.session.backend.glContext.version),ft=`
      float process(int[${ht}] indices) {
        int logical_row_start_offset = indices[0] * ${at};

        float max = getColorAsFloat(${pt.texture2D}(A, offsetToCoords(logical_row_start_offset, ${ut},
        ${dt} )));
        for(int i=1; i<${at}; ++i)
        {
          float current = getColorAsFloat(${pt.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${ut}, ${dt})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},j),{output:{dims:ct,type:st.type,textureType:g.TextureType.unpacked},shaderSource:ft})},_e=(it,st,ot,at,ct,ut)=>{const[dt,ht]=it.calculateTextureWidthAndHeight(st.dims,g.TextureType.unpacked),pt=ut.length;if(ot<1||at<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ut.length!==1)throw new Error("Dimensionality of the output should be 1");if(ut[0]!==ot)throw new Error("Shape of the output should be equal to logical row count");if(ct.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(ct[0]!==ot)throw new Error("Shape of the intermediate results should be equal to logical row count");const ft=`
      float process(int[${pt}] indices) {
        int logical_row_start_offset = indices[0] * ${at};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${at}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,d.getGlsl)(it.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${dt}, ${ht}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},tt),{output:{dims:ut,type:st.type,textureType:g.TextureType.unpacked},shaderSource:ft})},nt=(it,st,ot,at,ct,ut)=>{const[dt,ht]=it.calculateTextureWidthAndHeight(st.dims,g.TextureType.unpacked),pt=st.dims.length;if(ot<1||at<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ct.length!==1||ut.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(ct[0]!==ot||ut[0]!==ot)throw new Error("Shape of the intermediate results should be equal to logical row count");const ft=`
      float process(int[${pt}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${dt}, ${ht});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${at};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},et),{output:{dims:st.dims,type:st.type,textureType:g.TextureType.unpacked},shaderSource:ft})},rt=it=>{if(!it||it.length!==1)throw new Error("Softmax requires 1 input.");if(it[0].type!=="float32"&&it[0].type!=="float64")throw new Error("Invalid input type")}},5975:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseSplitAttributes=e.split=void 0;const a=s(246),c=s(2517),d=s(2039),g={name:"Split",inputNames:["A"],inputTypes:[d.TextureType.unpacked]};e.split=(et,b,h)=>{tt(b);const _e=c.ShapeUtil.normalizeAxis(h.axis,b[0].dims.length),nt=$(et,b,_e,h),rt=[];for(let it=0;it<nt;++it)rt.push(et.run(Object.assign(Object.assign({},g),{cacheHint:`${h.cacheKey};${it}`,get:()=>j(et,b[0],h,_e,it)}),b));return rt},e.parseSplitAttributes=et=>{const b=et.attributes.getInt("axis",0),h=et.attributes.getInts("split",[]),_e=et.outputs.length;return(0,a.createAttributeWithCacheKey)({axis:b,split:h,numOutputs:_e})};const $=(et,b,h,_e)=>{const[,nt]=c.SplitUtil.splitShape(b[0].dims,h,_e.split,_e.numOutputs);return nt.length},j=(et,b,h,_e,nt)=>{const[rt,it]=c.SplitUtil.splitShape(b.dims,_e,h.split,h.numOutputs),st=it[nt],ot=rt[nt],at=`
      float process(int indices[${ot.length}]) {
        indices[${_e}] += ${st};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},g),{cacheHint:`${h.cacheKey}:${nt}`,output:{dims:ot,type:b.type,textureType:d.TextureType.unpacked},shaderSource:at})},tt=et=>{if(!et||et.length!==1)throw new Error("Split requires one input.");if(et[0].type!=="int8"&&et[0].type!=="uint8"&&et[0].type!=="int16"&&et[0].type!=="uint16"&&et[0].type!=="int32"&&et[0].type!=="uint32"&&et[0].type!=="float32"&&et[0].type!=="float64"&&et[0].type!=="bool")throw new Error("Invalid input type.")}},3933:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseSqueezeAttributes=e.squeezeV13=e.squeeze=void 0;const a=s(2517);e.squeeze=(g,$,j)=>{c($);const tt=a.ShapeUtil.squeezeShape($[0].dims,j);return[g.reshapeUnpacked($[0],tt)]},e.squeezeV13=(g,$)=>(d($),(0,e.squeeze)(g,[$[0]],Array.from($[1].integerData))),e.parseSqueezeAttributes=g=>g.attributes.getInts("axes");const c=g=>{if(!g||g.length!==1)throw new Error("Squeeze requires 1 input.");if(g[0].type==="string")throw new Error("invalid input tensor types.")},d=g=>{if(!g||g.length!==2)throw new Error("Squeeze requires 2 inputs.");if(g[1].type!=="int32")throw new Error("Invalid input type.")}},6558:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sum=void 0;const a=s(5060),c=s(2039);e.sum=($,j)=>{g(j);const tt={name:"Sum",inputNames:j.map((et,b)=>`X${b}`),inputTypes:new Array(j.length).fill(c.TextureType.unpacked)};return[$.run(Object.assign(Object.assign({},tt),{get:()=>d($,j,tt)}),j)]};const d=($,j,tt)=>{const et=(0,a.getGlsl)($.session.backend.glContext.version),b=j[0].dims.slice(),h=`
      void main() {
        vec4 result = ${j.map((_e,nt)=>`${et.texture2D}(X${nt},TexCoords)`).join(" + ")};
        ${et.output} = result;
      }
    `;return Object.assign(Object.assign({},tt),{output:{dims:b,type:j[0].type,textureType:c.TextureType.unpacked},hasMain:!0,shaderSource:h})},g=$=>{if(!$||$.length===0)throw new Error("Sum requires inputs.");const j=$[0].dims.length;for(let tt=1;tt<$.length;tt++){if(j!==$[tt].dims.length)throw new Error("Input shapes are mismatched.");for(let et=0;et<j;et++)if($[0].dims[et]!==$[tt].dims[et])throw new Error("Input shapes are not matched.")}if($[0].type!=="float32"&&$[0].type!=="float64")throw new Error("Invalid input type.");for(let tt=1;tt<$.length;tt++)if($[0].type!==$[tt].type)throw new Error("Input types are not matched.")}},5723:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tile=void 0;const a=s(782),c=s(2039);e.tile=($,j)=>{g(j);const tt={name:"Tile",inputNames:["A"],inputTypes:[c.TextureType.unpacked]};return[$.run(Object.assign(Object.assign({},tt),{get:()=>d($,j,tt)}),j)]};const d=($,j,tt)=>{const et=j[0].dims.slice(),b=new Array(et.length),h=[];for(let rt=0;rt<et.length;rt++)b[rt]=et[rt]*j[1].numberData[rt],h.push(`inputIdx[${rt}] = int(mod(float(outputIdx[${rt}]), ${et[rt]}.));`);const _e=b.length,nt=`
      float process(int outputIdx[${_e}]) {
        int inputIdx[${_e}];
        ${h.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},tt),{output:{dims:b,type:j[0].type,textureType:c.TextureType.unpacked},shaderSource:nt})},g=$=>{if(!$||$.length!==2)throw new Error("Tile requires 2 input.");if($[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if($[1].dims[0]!==$[0].dims.length)throw new Error("Invalid input shape.");if(a.NUMBER_TYPES.indexOf($[0].type)===-1)throw new Error("Invalid input type.");if($[1].type!=="int32"&&$[1].type!=="int16")throw new Error("Invalid repeat type.")}},3738:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseTransposeAttributes=e.transpose=void 0;const a=s(246),c=s(2517),d=s(2039),g={name:"Transpose",inputNames:["A"],inputTypes:[d.TextureType.unpacked]};e.transpose=(h,_e,nt)=>(b(_e),[h.run(Object.assign(Object.assign({},g),{cacheHint:nt.cacheKey,get:()=>$(h,_e[0],nt.perm)}),_e)]),e.parseTransposeAttributes=h=>(0,a.createAttributeWithCacheKey)({perm:h.attributes.getInts("perm",[])});const $=(h,_e,nt)=>{const rt=_e.dims;nt=j(rt,nt);const it=tt(rt,nt),st=rt.length,ot=`
      ${et("perm",nt,st)}
      float process(int indices[${st}]) {
        int a[${st}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},g),{output:{dims:it,type:_e.type,textureType:d.TextureType.unpacked},shaderSource:ot})},j=(h,_e)=>(_e&&_e.length!==h.length&&(_e=[...h.keys()].reverse()),_e),tt=(h,_e)=>(_e=j(h,_e),c.ShapeUtil.sortBasedOnPerm(h,_e)),et=(h,_e,nt)=>{const rt=[];rt.push(`void ${h}(out int a[${nt}], int src[${nt}]) {`);for(let it=0;it<nt;++it)rt.push(`	a[${_e[it]}]=src[${it}];`);return rt.push("	}"),rt.join(`
`)},b=h=>{if(!h||h.length!==1)throw new Error("Transpose requires 1 input.");if(h[0].type!=="float32"&&h[0].type!=="float64")throw new Error("input should be float tensor")}},8710:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.encodeAsUint8=void 0;const a=s(5060),c=s(2039);e.encodeAsUint8=(d,g)=>{const $=g.shape,j=(0,a.getGlsl)(d.session.backend.glContext.version),tt=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${j.texture2D}(X,TexCoords).r;
      ${j.output} = encodeAsUint8(value);
    }`,et={name:"Uint8Encode",inputTypes:[c.TextureType.unpacked],inputNames:["X"],output:{dims:$,type:g.tensor.type,textureType:c.TextureType.downloadUint8AsFloat},shaderSource:tt,hasMain:!0};return d.executeProgram(et,[g.tensor])}},4909:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tanh=e.tan=e.sqrt=e.sin=e.sigmoid=e.relu=e.not=e.neg=e.log=e.parseLeakyReluAttributes=e.leakyRelu=e.identity=e.floor=e.exp=e.parseEluAttributes=e.elu=e.cos=e.ceil=e.clipV11=e.parseClipAttributes=e.clip=e.atan=e.asin=e.acos=e.abs=e.glslTanh=e.glslTan=e.glslSqrt=e.glslSigmoid=e.glslRelu=e.glslSin=e.glslNot=e.glslNeg=e.glslLog=e.glslLeakyRelu=e.glslIdentity=e.glslClip=e.glslFloor=e.glslExp=e.glslElu=e.glslCos=e.glslCeil=e.glslAtan=e.glslAsin=e.glslAcos=e.glslAbs=void 0;const a=s(246),c=s(2517),d=s(8520),g=s(5060),$=s(2039);function j(){return Et("abs")}function tt(){return Et("acos")}function et(){return Et("asin")}function b(){return Et("atan")}function h(){return Et("ceil")}function _e(){return Et("cos")}function nt(mt){const _t="elu";return{body:`
  const float alpha = float(${mt});

  float ${_t}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${_t}_(vec4 v) {
    return vec4(${_t}_(v.x), ${_t}_(v.y), ${_t}_(v.z), ${_t}_(v.w));
  }
  `,name:_t,type:d.FunctionType.ValueBased}}function rt(){return Et("exp")}function it(){return Et("floor")}function st(mt,_t){const St="clip";return{body:`
  const float min = float(${mt});
  const float max = float(${_t});

  float ${St}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${St}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:St,type:d.FunctionType.ValueBased}}function ot(){const mt="indentity";return{body:`
  float ${mt}_(float a) {
    return a;
  }
  vec4 ${mt}_(vec4 v) {
    return v;
  }
  `,name:mt,type:d.FunctionType.ValueBased}}function at(mt){const _t="leakyRelu";return{body:`
  const float alpha = float(${mt});

  float ${_t}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${_t}_(vec4 v) {
    return vec4(${_t}_(v.x), ${_t}_(v.y), ${_t}_(v.z), ${_t}_(v.w));
  }
  `,name:_t,type:d.FunctionType.ValueBased}}function ct(){return Et("log")}function ut(){const mt="neg";return{body:`
  float ${mt}_(float a) {
    return -a;
  }
  vec4 ${mt}_(vec4 v) {
    return -v;
  }
  `,name:mt,type:d.FunctionType.ValueBased}}function dt(){const mt="not";return{body:`
  float ${mt}_(float a) {
    return float( ! bool(a) );
  }
  bool ${mt}_(bool a) {
    return !a;
  }
  vec4 ${mt}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${mt}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:mt,type:d.FunctionType.ValueBased}}function ht(){return Et("sin")}function pt(){const mt="relu";return{body:`
  float ${mt}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${mt}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:mt,type:d.FunctionType.ValueBased}}function ft(){const mt="sigmoid";return{body:`
  float ${mt}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${mt}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:mt,type:d.FunctionType.ValueBased}}function bt(){return Et("sqrt")}function Ct(){return Et("tan")}function yt(){const mt="tanh";return{body:`
  float ${mt}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${mt}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:mt,type:d.FunctionType.ValueBased}}function Et(mt){return{body:`
  float ${mt}_(float a) {
    return ${mt}(a);
  }
  vec4 ${mt}_(vec4 v) {
    return ${mt}(v);
  }
  `,name:mt,type:d.FunctionType.ValueBased}}e.glslAbs=j,e.glslAcos=tt,e.glslAsin=et,e.glslAtan=b,e.glslCeil=h,e.glslCos=_e,e.glslElu=nt,e.glslExp=rt,e.glslFloor=it,e.glslClip=st,e.glslIdentity=ot,e.glslLeakyRelu=at,e.glslLog=ct,e.glslNeg=ut,e.glslNot=dt,e.glslSin=ht,e.glslRelu=pt,e.glslSigmoid=ft,e.glslSqrt=bt,e.glslTan=Ct,e.glslTanh=yt;const gt=(mt,_t,St,wt)=>{const kt=mt.session.pack?$.TextureType.packed:$.TextureType.unpacked,Dt={name:St.name,inputTypes:[kt],inputNames:["A"],cacheHint:wt};return Object.assign(Object.assign({},Dt),{get:()=>((Ft,Ot,Bt,Vt)=>{const Zt=Ft.session.pack?$.TextureType.packed:$.TextureType.unpacked,Jt=(0,g.getGlsl)(Ft.session.backend.glContext.version);return Object.assign(Object.assign({},Ot),{output:{dims:Bt.dims,type:Bt.type,textureType:Zt},shaderSource:`
     ${Vt.body}
     void main() {
       vec4 v = ${Jt.texture2D}(A, TexCoords);
       v = ${Vt.name}_(v);
       ${Jt.output} = v;
     }
     `,hasMain:!0})})(mt,Dt,_t,St)})};e.abs=(mt,_t)=>[mt.run(gt(mt,_t[0],j()),_t)],e.acos=(mt,_t)=>[mt.run(gt(mt,_t[0],tt()),_t)],e.asin=(mt,_t)=>[mt.run(gt(mt,_t[0],et()),_t)],e.atan=(mt,_t)=>[mt.run(gt(mt,_t[0],b()),_t)],e.clip=(mt,_t,St)=>[mt.run(gt(mt,_t[0],st(St.min,St.max),St.cacheKey),_t)],e.parseClipAttributes=mt=>(0,a.createAttributeWithCacheKey)({min:mt.attributes.getFloat("min",c.MIN_CLIP),max:mt.attributes.getFloat("max",c.MAX_CLIP)}),e.clipV11=(mt,_t)=>{const St=At(mt,_t);return(0,e.clip)(mt,[_t[0]],St)};const At=(mt,_t)=>{if(_t.length>=3&&(!mt.session.isInitializer(_t[1].dataId)||!mt.session.isInitializer(_t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const St=_t.length>=3?_t[1].numberData[0]:c.MIN_CLIP,wt=_t.length>=3?_t[2].numberData[0]:c.MAX_CLIP;return(0,a.createAttributeWithCacheKey)({min:St,max:wt})};e.ceil=(mt,_t)=>[mt.run(gt(mt,_t[0],h()),_t)],e.cos=(mt,_t)=>[mt.run(gt(mt,_t[0],_e()),_t)],e.elu=(mt,_t,St)=>[mt.run(gt(mt,_t[0],nt(St.alpha),St.cacheKey),_t)],e.parseEluAttributes=mt=>(0,a.createAttributeWithCacheKey)({alpha:mt.attributes.getFloat("alpha",1)}),e.exp=(mt,_t)=>[mt.run(gt(mt,_t[0],rt()),_t)],e.floor=(mt,_t)=>[mt.run(gt(mt,_t[0],it()),_t)],e.identity=(mt,_t)=>[mt.run(gt(mt,_t[0],ot()),_t)],e.leakyRelu=(mt,_t,St)=>[mt.run(gt(mt,_t[0],at(St.alpha),St.cacheKey),_t)],e.parseLeakyReluAttributes=mt=>(0,a.createAttributeWithCacheKey)({alpha:mt.attributes.getFloat("alpha",.01)}),e.log=(mt,_t)=>[mt.run(gt(mt,_t[0],ct()),_t)],e.neg=(mt,_t)=>[mt.run(gt(mt,_t[0],ut()),_t)],e.not=(mt,_t)=>[mt.run(gt(mt,_t[0],dt()),_t)],e.relu=(mt,_t)=>[mt.run(gt(mt,_t[0],pt()),_t)],e.sigmoid=(mt,_t)=>[mt.run(gt(mt,_t[0],ft()),_t)],e.sin=(mt,_t)=>[mt.run(gt(mt,_t[0],ht()),_t)],e.sqrt=(mt,_t)=>[mt.run(gt(mt,_t[0],bt()),_t)],e.tan=(mt,_t)=>[mt.run(gt(mt,_t[0],Ct()),_t)],e.tanh=(mt,_t)=>[mt.run(gt(mt,_t[0],yt()),_t)]},5611:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createUnpackProgramInfoLoader=e.createUnpackProgramInfo=void 0;const a=s(5060),c=s(2039),d=s(9390),g=s(2827),$={name:"unpack",inputNames:["A"],inputTypes:[c.TextureType.packed]};e.createUnpackProgramInfo=(j,tt)=>{const et=tt.dims.length,b=(0,g.getChannels)("rc",et),h=b.slice(-2),_e=(0,d.getCoordsDataType)(et),nt=(0,g.unpackFromChannel)(),rt=tt.dims.length===0?"":function(ot,at){if(ot===1)return"rc";let ct="";for(let ut=0;ut<ot;ut++)ct+=at[ut],ut<ot-1&&(ct+=",");return ct}(et,b),it=et<=1?"rc":`vec2(${h.join(",")})`,st=`
    ${nt}
    void main() {
      ${_e} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${rt});

       ${(0,a.getGlsl)(j.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${it}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},$),{hasMain:!0,output:{dims:tt.dims,type:tt.type,textureType:c.TextureType.unpacked},shaderSource:st})},e.createUnpackProgramInfoLoader=(j,tt)=>Object.assign(Object.assign({},$),{get:()=>(0,e.createUnpackProgramInfo)(j,tt)})},8428:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseUnsqueezeAttributes=e.unsqueezeV13=e.unsqueeze=void 0;const a=s(2517);e.unsqueeze=(g,$,j)=>{c($);const tt=a.ShapeUtil.unsqueezeShape($[0].dims,j);return[g.reshapeUnpacked($[0],tt)]},e.unsqueezeV13=(g,$)=>(d($),(0,e.unsqueeze)(g,[$[0]],Array.from($[1].integerData))),e.parseUnsqueezeAttributes=g=>g.attributes.getInts("axes");const c=g=>{if(!g||g.length!==1)throw new Error("Unsqueeze requires 1 input.");if(g[0].type==="string")throw new Error("invalid input tensor types.")},d=g=>{if(!g||g.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(g[1].type!=="int32")throw new Error("Invalid input type.")}},9793:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scalesValidation=e.validateInputs=e.parseUpsampleAttributes=e.parseUpsampleAttributesV9=e.parseUpsampleAttributesV7=e.upsample=void 0;const a=s(246),c=s(5060),d=s(2039),g={name:"Upsample",inputNames:["X"],inputTypes:[d.TextureType.unpacked]};e.upsample=(j,tt,et)=>((0,e.validateInputs)(tt,et),[j.run(Object.assign(Object.assign({},g),{cacheHint:et.cacheKey,get:()=>$(j,tt,et)}),tt)]),e.parseUpsampleAttributesV7=j=>(0,e.parseUpsampleAttributes)(j,7),e.parseUpsampleAttributesV9=j=>(0,e.parseUpsampleAttributes)(j,9),e.parseUpsampleAttributes=(j,tt)=>{const et=tt>=10,b=j.attributes.getString("mode","nearest");if(b!=="nearest"&&b!=="linear"&&(tt<11||b!=="cubic"))throw new Error(`unrecognized mode: ${b}`);let h=[];tt<9&&(h=j.attributes.getFloats("scales"),(0,e.scalesValidation)(h,b,et));const _e=j.attributes.getFloat("extrapolation_value",0),nt=tt>10?j.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(nt)===-1)throw new Error(`coordinate_transform_mode '${nt}' is not supported`);const rt=nt==="tf_crop_and_resize",it=rt,st=b==="nearest"&&tt>=11?j.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(st)===-1)throw new Error(`nearest_mode '${st}' is not supported`);const ot=j.attributes.getFloat("cubic_coeff_a",-.75),at=j.attributes.getInt("exclude_outside",0)!==0;if(at&&b!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const ct=tt<11||b==="nearest"&&nt==="asymmetric"&&st==="floor";let ut=0,dt=0,ht=0;return tt>10?j.inputs.length>2?(ut=1,dt=2,ht=3):(dt=1,ht=2):tt===9&&(dt=1),(0,a.createAttributeWithCacheKey)({opset:tt,isResize:et,mode:b,scales:h,extrapolationValue:_e,coordinateTransformMode:nt,useExtrapolation:it,needRoiInput:rt,nearestMode:st,cubicCoefficientA:ot,excludeOutside:at,useNearest2xOptimization:ct,roiInputIdx:ut,scalesInputIdx:dt,sizesInputIdx:ht})};const $=(j,tt,et)=>{const b=(0,c.getGlsl)(j.session.backend.glContext.version),[h,_e]=j.calculateTextureWidthAndHeight(tt[0].dims,d.TextureType.unpacked),nt=tt[0].dims.map((ht,pt)=>Math.floor(ht*et.scales[pt])),[rt,it]=j.calculateTextureWidthAndHeight(nt,d.TextureType.unpacked),st=nt.length,ot=new Array(st),at=new Array(st);let ct=`
      int output_pitches[${st}];
      int input_pitches[${st}];
      `;for(let ht=st-1;ht>=0;ht--)ot[ht]=ht===st-1?1:ot[ht+1]*nt[ht+1],at[ht]=ht===st-1?1:at[ht+1]*tt[0].dims[ht+1],ct+=`
        output_pitches[${ht}] = ${ot[ht]};
        input_pitches[${ht}] = ${at[ht]};
        `;const ut=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${h}, ${_e});
        float value = getColorAsFloat(${b.texture2D}(X, coords));
        return value;
      }
      `,dt=et.mode==="nearest"?`
    ${ut}
    float process(int indices[${st}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${rt}, ${it});

      ${ct}

      int d, m;
      for (int dim = 0; dim < ${st}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:st===4?`
    ${ut}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${rt}, ${it});

      ${ct}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${tt[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${ut}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${rt}, ${it});

      ${ct}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${tt[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},g),{output:{dims:nt,type:tt[0].type,textureType:d.TextureType.unpacked},shaderSource:dt,variables:[{name:"scales",type:"int",arrayLength:et.scales.length,data:et.scales.map(ht=>Math.ceil(ht))}]})};e.validateInputs=(j,tt)=>{if(!j||tt.opset<9&&j.length!==1||tt.opset>=9&&tt.opset<11&&j.length!==2||tt.opset>=11&&j.length<2)throw new Error("invalid inputs.");if(tt.scales.length>0&&j[0].dims.length!==tt.scales.length)throw new Error("Invalid input shape.");if(j[0].type==="string")throw new Error("Invalid input tensor types.")},e.scalesValidation=(j,tt,et)=>{if(et){for(const b of j)if(b<=0)throw new Error("Scale value should be greater than 0.")}else for(const b of j)if(b<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(tt!=="linear"&&tt!=="cubic"||j.length===2||j.length===4&&j[0]===1&&j[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${et?"Resize":"Upsample"} opeartor.`)}},1958:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProgramManager=void 0;const a=s(1670),c=s(6231),d=s(8879),g=s(5060);e.ProgramManager=class{constructor($,j,tt){this.profiler=$,this.glContext=j,this.textureLayoutStrategy=tt,this.repo=new Map,this.attributesBound=!1}getArtifact($){return this.repo.get($)}setArtifact($,j){this.repo.set($,j)}run($,j,tt){var et;this.profiler.event("op",`ProgramManager.run ${(et=$.programInfo.name)!==null&&et!==void 0?et:"unknown kernel"}`,()=>{var b;const h=this.glContext.gl,_e=$.program;h.useProgram(_e);try{this.bindOutput(tt),this.attributesBound||this.bindAttributes($.attribLocations),this.bindUniforms($.uniformLocations,(b=$.programInfo.variables)!==null&&b!==void 0?b:[],j)}catch(nt){throw c.Logger.error("ProgramManager",$.programInfo.shaderSource),nt}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach($=>this.glContext.deleteProgram($.program))}build($,j,tt){return this.profiler.event("backend","ProgramManager.build",()=>{const et=new d.GlslPreprocessor(this.glContext,$,j,tt),b=et.preprocess(),h=this.compile(b);return{programInfo:$,program:h,uniformLocations:this.getUniformLocations(h,et.context.programInfo.inputNames,et.context.programInfo.variables),attribLocations:this.getAttribLocations(h)}})}compile($){if(!this.vertexShader){c.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const et=(0,g.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(et,this.glContext.gl.VERTEX_SHADER)}a.env.debug&&c.Logger.verbose("ProrgramManager",`FragShader:
${$}
`);const j=this.glContext.compileShader($,this.glContext.gl.FRAGMENT_SHADER),tt=this.glContext.createProgram(this.vertexShader,j);return this.glContext.deleteShader(j),tt}bindOutput($){const j=$.width,tt=$.height;c.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${j}/${tt}, shape=${$.shape}, type=${$.tensor.type}`),this.glContext.attachFramebuffer($.texture,j,tt)}bindAttributes($){const j=$.position,tt=$.textureCoord;this.glContext.setVertexAttributes(j,tt),this.attributesBound=!0}bindUniforms($,j,tt){var et;const b=this.glContext.gl;let h=0;for(const{name:_e,type:nt,location:rt,arrayLength:it}of $){const st=(et=j.find(ot=>ot.name===_e))===null||et===void 0?void 0:et.data;if(nt!=="sampler2D"&&!st)throw new Error(`variable '${_e}' does not have data defined in program info`);switch(nt){case"sampler2D":this.bindTexture(tt[h],rt,h),h++;break;case"float":it?b.uniform1fv(rt,st):b.uniform1f(rt,st);break;case"int":it?b.uniform1iv(rt,st):b.uniform1i(rt,st);break;default:throw new Error(`Uniform not implemented: ${nt}`)}}}bindTexture($,j,tt){this.glContext.bindTextureToUniform($.texture,tt,j)}getAttribLocations($){return{position:this.getAttribLocation($,"position"),textureCoord:this.getAttribLocation($,"textureCoord")}}getUniformLocations($,j,tt){const et=[];if(j)for(const b of j)et.push({name:b,type:"sampler2D",location:this.getUniformLocation($,b)});if(tt)for(const b of tt)et.push(Object.assign(Object.assign({},b),{location:this.getUniformLocation($,b.name)}));return et}getUniformLocation($,j){const tt=this.glContext.gl.getUniformLocation($,j);if(tt===null)throw new Error(`Uniform ${j} not found.`);return tt}getAttribLocation($,j){return this.glContext.gl.getAttribLocation($,j)}}},6416:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLSessionHandler=void 0;const a=s(6231),c=s(1047),d=s(8316),g=s(1640),$=s(1958),j=s(7859),tt=s(5702);e.WebGLSessionHandler=class{constructor(et,b){this.backend=et,this.context=b,this.layoutStrategy=new j.PreferLogicalStrategy(et.glContext.maxTextureSize),this.programManager=new $.ProgramManager(this.context.profiler,et.glContext,this.layoutStrategy),this.textureManager=new tt.TextureManager(et.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:et.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=et.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new d.WebGLInferenceHandler(this)}onGraphInitialized(et){const b=et.getValues().filter(h=>h.from===-1&&h.tensor).map(h=>h.tensor.dataId);this.initializers=new Set(b)}isInitializer(et){return!!this.initializers&&this.initializers.has(et)}addInitializer(et){this.initializers.add(et)}getTextureData(et,b){return b?this.packedTextureDataCache.get(et):this.unpackedTextureDataCache.get(et)}setTextureData(et,b,h=!1){a.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),h?this.packedTextureDataCache.set(et,b):this.unpackedTextureDataCache.set(et,b)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(et=>this.textureManager.releaseTexture(et,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(et=>this.textureManager.releaseTexture(et,!0)),this.unpackedTextureDataCache=new Map}resolve(et,b,h){const _e=(0,c.resolveOperator)(et,b,g.WEBGL_OP_RESOLVE_RULES);return{impl:_e.opImpl,context:_e.opInit?_e.opInit(et,h):et}}}},7769:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Uint8DataEncoder=e.RGBAFloatDataEncoder=e.RedFloat32DataEncoder=void 0;const a=s(6231);e.RedFloat32DataEncoder=class{constructor(c,d=1){if(d===1)this.internalFormat=c.R32F,this.format=c.RED,this.textureType=c.FLOAT,this.channelSize=d;else{if(d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=c.RGBA32F,this.format=c.RGBA,this.textureType=c.FLOAT,this.channelSize=d}}encode(c,d){let g,$;return c.constructor!==Float32Array&&(a.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),$=new Float32Array(c)),d*this.channelSize>c.length?(a.Logger.warning("Encoder","Source data too small. Allocating larger array"),$=c,g=this.allocate(d*this.channelSize),$.forEach((j,tt)=>g[tt]=j)):($=c,g=$),g}allocate(c){return new Float32Array(4*c)}decode(c,d){return this.channelSize===1?c.filter((g,$)=>$%4==0).subarray(0,d):c.subarray(0,d)}},e.RGBAFloatDataEncoder=class{constructor(c,d=1,g){if(d!==1&&d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=c.RGBA,this.format=c.RGBA,this.channelSize=d,this.textureType=g||c.FLOAT}encode(c,d){let g=c;return this.channelSize===1&&(a.Logger.verbose("Encoder","Exploding into a larger array"),g=this.allocate(d),c.forEach(($,j)=>g[4*j]=$)),g}allocate(c){return new Float32Array(4*c)}decode(c,d){return this.channelSize===1?c.filter((g,$)=>$%4==0).subarray(0,d):c.subarray(0,d)}},e.Uint8DataEncoder=class{constructor(c,d=1){if(this.channelSize=4,d===1)this.internalFormat=c.ALPHA,this.format=c.ALPHA,this.textureType=c.UNSIGNED_BYTE,this.channelSize=d;else{if(d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=c.RGBA,this.format=c.RGBA,this.textureType=c.UNSIGNED_BYTE,this.channelSize=d}}encode(c,d){return new Uint8Array(c.buffer,c.byteOffset,c.byteLength)}allocate(c){return new Uint8Array(c*this.channelSize)}decode(c,d){if(c instanceof Uint8Array)return c.subarray(0,d);throw new Error(`Invalid array type: ${c.constructor}`)}}},7859:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getBatchDim=e.sizeToSquarishShape=e.getRowsCols=e.sizeFromShape=e.isInt=e.parseAxisParam=e.squeezeShape=e.PreferLogicalStrategy=e.AlwaysKeepOriginalSizeStrategy=void 0;const a=s(6231),c=s(2517);function d(et,b){const h=[],_e=[],nt=b!=null&&Array.isArray(b)&&b.length===0,rt=b==null||nt?null:g(b,et).sort();let it=0;for(let st=0;st<et.length;++st){if(rt!=null){if(rt[it]===st&&et[st]!==1)throw new Error(`Can't squeeze axis ${st} since its dim '${et[st]}' is not 1`);(rt[it]==null||rt[it]>st)&&et[st]===1&&(h.push(et[st]),_e.push(st)),rt[it]<=st&&it++}et[st]!==1&&(h.push(et[st]),_e.push(st))}return{newShape:h,keptDims:_e}}function g(et,b){const h=b.length;return et=et==null?b.map((_e,nt)=>nt):[].concat(et),(0,c.assert)(et.every(_e=>_e>=-h&&_e<h),()=>`All values in axis param must be in range [-${h}, ${h}) but got axis ${et}`),(0,c.assert)(et.every($),()=>`All values in axis param must be integers but got axis ${et}`),et.map(_e=>_e<0?h+_e:_e)}function $(et){return et%1==0}function j(et){if(et.length===0)return 1;let b=et[0];for(let h=1;h<et.length;h++)b*=et[h];return b}function tt(et){const b=Math.ceil(Math.sqrt(et));return[b,Math.ceil(et/b)]}e.AlwaysKeepOriginalSizeStrategy=class{constructor(et){this.maxTextureSize=et}computeTextureWH(et,b){if(et.length===0)return[1,1];const h=this.maxTextureSize;if(b&&b.breakAxis!==void 0){const rt=b.breakAxis>=et.length?1:et.slice(b.breakAxis).reduce((st,ot)=>st*ot),it=b.breakAxis<=0?1:et.slice(0,b.breakAxis).reduce((st,ot)=>st*ot);if(!(rt>h||it>h))return[rt,it];a.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${et}, breakAxis:${b.breakAxis}`)}const _e=et.reduce((rt,it)=>rt*it);let nt=Math.floor(Math.sqrt(_e));for(;nt<h&&nt<_e&&_e%nt!=0;nt++);if(nt>=h||_e%nt!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${et}`);return[nt,_e/nt]}},e.PreferLogicalStrategy=class{constructor(et){this.maxTextureSize=et}computeTextureWH(et,b){const h=this.computeTexture(et,b);return b&&b.isPacked&&(h[0]/=2,h[1]/=2),b&&b.reverseWH?[h[1],h[0]]:h}computeTexture(et,b){const h=b&&b.isPacked;if(et.length===0)return h?[2,2]:[1,1];let _e=this.maxTextureSize;if(b&&b.breakAxis!==void 0){const it=b.breakAxis>=et.length?1:et.slice(b.breakAxis).reduce((ot,at)=>ot*at),st=b.breakAxis<=0?1:et.slice(0,b.breakAxis).reduce((ot,at)=>ot*at);if(!(it>_e||st>_e))return[it,st];a.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${et}, breakAxis:${b.breakAxis}`)}let nt=et.slice(0);h&&(_e*=2,nt=nt.map((it,st)=>st>=nt.length-2?nt[st]%2==0?nt[st]:nt[st]+1:nt[st]),nt.length===1&&(nt=[2,nt[0]])),nt.length!==2&&(nt=d(nt).newShape);const rt=j(nt);return nt.length<=1&&rt<=_e?[1,rt]:nt.length===2&&nt[0]<=_e&&nt[1]<=_e?nt:nt.length===3&&nt[0]*nt[1]<=_e&&nt[2]<=_e?[nt[0]*nt[1],nt[2]]:nt.length===3&&nt[0]<=_e&&nt[1]*nt[2]<=_e?[nt[0],nt[1]*nt[2]]:nt.length===4&&nt[0]*nt[1]*nt[2]<=_e&&nt[3]<=_e?[nt[0]*nt[1]*nt[2],nt[3]]:nt.length===4&&nt[0]<=_e&&nt[1]*nt[2]*nt[3]<=_e?[nt[0],nt[1]*nt[2]*nt[3]]:h?tt(rt/4).map(it=>2*it):tt(rt)}},e.squeezeShape=d,e.parseAxisParam=g,e.isInt=$,e.sizeFromShape=j,e.getRowsCols=function(et){if(et.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[et.length>1?et[et.length-2]:1,et[et.length-1]]},e.sizeToSquarishShape=tt,e.getBatchDim=function(et,b=2){return j(et.slice(0,et.length-b))}},4057:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createTextureLayoutFromShape=e.calculateTextureWidthAndHeight=e.createTextureLayoutFromTextureType=void 0;const a=s(2517),c=s(2039);e.createTextureLayoutFromTextureType=(d,g,$)=>{const j=$===c.TextureType.unpacked||$===c.TextureType.unpackedReversed?1:4,tt=$===c.TextureType.packed,et=$===c.TextureType.unpackedReversed||$===c.TextureType.packed,b=$===c.TextureType.packedLastDimension?g.length-1:void 0,h=$===c.TextureType.packedLastDimension?g.map((_e,nt)=>nt===g.length-1?4*_e:_e):void 0;return(0,e.createTextureLayoutFromShape)(d,g,j,h,{isPacked:tt,reverseWH:et,breakAxis:b})},e.calculateTextureWidthAndHeight=(d,g,$)=>{const j=(0,e.createTextureLayoutFromTextureType)(d,g,$);return[j.width,j.height]},e.createTextureLayoutFromShape=(d,g,$=1,j,tt)=>{const et=!(!tt||!tt.isPacked),[b,h]=d.computeTextureWH(et&&j||g,tt),_e=g.length;let nt=g.slice(0);if(_e===0&&(nt=[1]),$===1)j=g;else if(et){if($!==4)throw new Error("a packed texture must be 4-channel");j=g,_e>0&&(nt[_e-1]=Math.ceil(nt[_e-1]/2)),_e>1&&(nt[_e-2]=Math.ceil(nt[_e-2]/2))}else if(!j)throw new Error("Unpacked shape is needed when using channels > 1");return{width:b,height:h,channels:$,isPacked:et,shape:nt,strides:a.ShapeUtil.computeStrides(nt),unpackedShape:j,reversedWH:tt&&tt.reverseWH}}},5702:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextureManager=void 0;const a=s(6231);e.TextureManager=class{constructor(c,d,g,$){this.glContext=c,this.layoutStrategy=d,this.profiler=g,this.config=$,this.pendingRead=new Map,$.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(c,d,g,$){const j=this.toEncoderType(c),tt=this.glContext.getEncoder(j,d.channels||1,$);if(d.isPacked&&$===1)throw new Error("not implemented");const et=d.width,b=d.height;let h,_e;if(this.config.reuseTextures){h=`${et}x${b}_${tt.format}_${tt.internalFormat}_${tt.textureType}`,_e=this.inUseTextures.get(h),_e||(_e=[],this.inUseTextures.set(h,_e));const rt=this.idleTextures.get(h);if(rt&&rt.length>0){const it=rt.pop();return _e.push(it),$===1&&this.glContext.updateTexture(it,et,b,tt,this.toTextureData(c,g)),it}}a.Logger.verbose("TextureManager",`Creating new texture of size ${d.width}x${d.height}`);const nt=this.glContext.allocateTexture(et,b,tt,this.toTextureData(c,g));return this.config.reuseTextures&&(_e.push(nt),this.textureLookup.set(nt,h)),nt}readTexture(c,d,g){return g||(g=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const $=c.shape.reduce((tt,et)=>tt*et)*g,j=this.glContext.readTexture(c.texture,c.width,c.height,$,this.toEncoderType(d),g);return this.toTensorData(d,j)})}async readTextureAsync(c,d,g){const $=c.tensor.dataId;if(g||(g=1),this.pendingRead.has($)){const j=this.pendingRead.get($);return new Promise(tt=>j==null?void 0:j.push(tt))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set($,[]);const j=c.shape.reduce((h,_e)=>h*_e)*g;await this.glContext.createAndWaitForFence();const tt=this.glContext.readTexture(c.texture,c.width,c.height,j,this.toEncoderType(d),g),et=this.toTensorData(d,tt),b=this.pendingRead.get($);return this.pendingRead.delete($),b==null||b.forEach(h=>h(et)),et})}readUint8TextureAsFloat(c){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const d=c.shape.reduce(($,j)=>$*j),g=this.glContext.readTexture(c.texture,c.width,c.height,4*d,"byte",4);return new Float32Array(g.buffer,g.byteOffset,d)})}releaseTexture(c,d){let g;if(this.config.reuseTextures&&(g=this.textureLookup.get(c.texture),g)){d&&this.textureLookup.delete(g);const $=this.inUseTextures.get(g);if($){const j=$.indexOf(c.texture);if(j!==-1){$.splice(j,1);let tt=this.idleTextures.get(g);tt||(tt=[],this.idleTextures.set(g,tt)),tt.push(c.texture)}}}g&&!d||(a.Logger.verbose("TextureManager",`Deleting texture of size ${c.width}x${c.height}`),this.glContext.deleteTexture(c.texture))}toTensorData(c,d){switch(c){case"int16":return d instanceof Int16Array?d:Int16Array.from(d);case"int32":return d instanceof Int32Array?d:Int32Array.from(d);case"int8":return d instanceof Int8Array?d:Int8Array.from(d);case"uint16":return d instanceof Uint16Array?d:Uint16Array.from(d);case"uint32":return d instanceof Uint32Array?d:Uint32Array.from(d);case"uint8":case"bool":return d instanceof Uint8Array?d:Uint8Array.from(d);case"float32":return d instanceof Float32Array?d:Float32Array.from(d);case"float64":return d instanceof Float64Array?d:Float64Array.from(d);default:throw new Error(`TensorData type ${c} is not supported`)}}toTextureData(c,d){if(d)return d instanceof Float32Array?d:new Float32Array(d)}toEncoderType(c){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(o,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.TextureType=void 0,(s=e.TextureType||(e.TextureType={}))[s.unpacked=0]="unpacked",s[s.unpackedReversed=1]="unpackedReversed",s[s.packed=2]="packed",s[s.downloadUint8AsFloat=3]="downloadUint8AsFloat",s[s.packedLastDimension=4]="packedLastDimension"},9390:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getGlChannels=e.getCoordsDataType=e.getSqueezedParams=e.squeezeInputShape=e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=e.generateShaderFuncNameFromInputSamplerName=e.repeatedTry=e.getPackedShape=void 0;const a=s(2517);e.getPackedShape=function(c){const d=c.length;return c.slice(0,d-1).concat(c[d-1]/4)},e.repeatedTry=async function(c,d=$=>0,g){return new Promise(($,j)=>{let tt=0;const et=()=>{if(c())return void $();tt++;const b=d(tt);g!=null&&tt>=g?j():setTimeout(et,b)};et()})},e.generateShaderFuncNameFromInputSamplerName=function(c){return(0,a.assert)(c!==void 0&&c.length!==0,()=>"empty string found for sampler name"),"get"+c.charAt(0).toUpperCase()+c.slice(1)},e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(c){return(0,a.assert)(c!==void 0&&c.length!==0,()=>"empty string found for sampler name"),"get"+c.charAt(0).toUpperCase()+c.slice(1)+"AtOutCoords"},e.squeezeInputShape=function(c,d){let g=JSON.parse(JSON.stringify(c));return g=d,g},e.getSqueezedParams=function(c,d){return d.map(g=>c[g]).join(", ")},e.getCoordsDataType=function(c){if(c<=1)return"int";if(c===2)return"ivec2";if(c===3)return"ivec3";if(c===4)return"ivec4";if(c===5)return"ivec5";if(c===6)return"ivec6";throw Error(`GPU for rank ${c} is not yet supported`)},e.getGlChannels=function(c=6){return["x","y","z","w","u","v"].slice(0,c)}},7305:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createNewWebGLContext=e.createWebGLContext=void 0;const a=s(6231),c=s(1713),d={};function g($){const j=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const b=document.createElement("canvas");return b.width=1,b.height=1,b}();let tt;const et={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!$||$==="webgl2")&&(tt=j.getContext("webgl2",et),tt))try{return new c.WebGLContext(tt,2)}catch(b){a.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${b}`)}if((!$||$==="webgl")&&(tt=j.getContext("webgl",et)||j.getContext("experimental-webgl",et),tt))try{return new c.WebGLContext(tt,1)}catch(b){a.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${b}`)}throw new Error("WebGL is not supported")}e.createWebGLContext=function $(j){let tt;j&&j!=="webgl2"||!("webgl2"in d)?j&&j!=="webgl"||!("webgl"in d)||(tt=d.webgl):tt=d.webgl2,tt=tt||g(j),j=j||tt.version===1?"webgl":"webgl2";const et=tt.gl;return d[j]=tt,et.isContextLost()?(delete d[j],$(j)):(et.disable(et.DEPTH_TEST),et.disable(et.STENCIL_TEST),et.disable(et.BLEND),et.disable(et.DITHER),et.disable(et.POLYGON_OFFSET_FILL),et.disable(et.SAMPLE_COVERAGE),et.enable(et.SCISSOR_TEST),et.enable(et.CULL_FACE),et.cullFace(et.BACK),tt)},e.createNewWebGLContext=g},1713:function(o,e,s){var a=this&&this.__createBinding||(Object.create?function(et,b,h,_e){_e===void 0&&(_e=h);var nt=Object.getOwnPropertyDescriptor(b,h);nt&&!("get"in nt?!b.__esModule:nt.writable||nt.configurable)||(nt={enumerable:!0,get:function(){return b[h]}}),Object.defineProperty(et,_e,nt)}:function(et,b,h,_e){_e===void 0&&(_e=h),et[_e]=b[h]}),c=this&&this.__setModuleDefault||(Object.create?function(et,b){Object.defineProperty(et,"default",{enumerable:!0,value:b})}:function(et,b){et.default=b}),d=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var b={};if(et!=null)for(var h in et)h!=="default"&&Object.prototype.hasOwnProperty.call(et,h)&&a(b,et,h);return c(b,et),b};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLContext=e.linearSearchLastTrue=void 0;const g=s(1670),$=d(s(7769)),j=s(9390);function tt(et){let b=0;for(;b<et.length&&et[b]();++b);return b-1}e.linearSearchLastTrue=tt,e.WebGLContext=class{constructor(et,b){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=et,this.version=b,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(et,b,h,_e){const nt=this.gl,rt=nt.createTexture();nt.bindTexture(nt.TEXTURE_2D,rt),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.NEAREST),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.NEAREST),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE);const it=_e?h.encode(_e,et*b):null;return nt.texImage2D(nt.TEXTURE_2D,0,h.internalFormat,et,b,0,h.format,h.textureType,it),this.checkError(),rt}updateTexture(et,b,h,_e,nt){const rt=this.gl;rt.bindTexture(rt.TEXTURE_2D,et);const it=_e.encode(nt,b*h);rt.texSubImage2D(rt.TEXTURE_2D,0,0,0,b,h,_e.format,_e.textureType,it),this.checkError()}attachFramebuffer(et,b,h){const _e=this.gl;_e.bindTexture(_e.TEXTURE_2D,et),_e.bindFramebuffer(_e.FRAMEBUFFER,this.framebuffer),_e.framebufferTexture2D(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0,_e.TEXTURE_2D,et,0),this.checkError(),_e.viewport(0,0,b,h),_e.scissor(0,0,b,h)}readTexture(et,b,h,_e,nt,rt){const it=this.gl;rt||(rt=1),this.frameBufferBound||this.attachFramebuffer(et,b,h);const st=this.getEncoder(nt,rt),ot=st.allocate(b*h);return it.bindTexture(it.TEXTURE_2D,et),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,et,0),it.readPixels(0,0,b,h,it.RGBA,st.textureType,ot),this.checkError(),st.decode(ot,_e)}isFramebufferReady(){return!0}getActiveTexture(){const et=this.gl;return"TEXTURE"+(et.getParameter(this.gl.ACTIVE_TEXTURE)-et.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(et,b){const h=this.gl;h.vertexAttribPointer(et,3,h.FLOAT,!1,20,0),h.enableVertexAttribArray(et),b!==-1&&(h.vertexAttribPointer(b,2,h.FLOAT,!1,20,12),h.enableVertexAttribArray(b)),this.checkError()}createProgram(et,b){const h=this.gl,_e=h.createProgram();return h.attachShader(_e,et),h.attachShader(_e,b),h.linkProgram(_e),_e}compileShader(et,b){const h=this.gl,_e=h.createShader(b);if(!_e)throw new Error(`createShader() returned null with type ${b}`);if(h.shaderSource(_e,et),h.compileShader(_e),h.getShaderParameter(_e,h.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${h.getShaderInfoLog(_e)}
Shader source:
${et}`);return _e}deleteShader(et){this.gl.deleteShader(et)}bindTextureToUniform(et,b,h){const _e=this.gl;_e.activeTexture(_e.TEXTURE0+b),this.checkError(),_e.bindTexture(_e.TEXTURE_2D,et),this.checkError(),_e.uniform1i(h,b),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(g.env.debug){const et=this.gl,b=et.getError();let h="";switch(b){case et.NO_ERROR:return;case et.INVALID_ENUM:h="INVALID_ENUM";break;case et.INVALID_VALUE:h="INVALID_VALUE";break;case et.INVALID_OPERATION:h="INVALID_OPERATION";break;case et.INVALID_FRAMEBUFFER_OPERATION:h="INVALID_FRAMEBUFFER_OPERATION";break;case et.OUT_OF_MEMORY:h="OUT_OF_MEMORY";break;case et.CONTEXT_LOST_WEBGL:h="CONTEXT_LOST_WEBGL";break;default:h=`Unknown WebGL Error: ${b.toString(16)}`}throw new Error(h)}}deleteTexture(et){this.gl.deleteTexture(et)}deleteProgram(et){this.gl.deleteProgram(et)}getEncoder(et,b,h=0){if(this.version===2)return new $.RedFloat32DataEncoder(this.gl,b);switch(et){case"float":return h===1||this.isRenderFloat32Supported?new $.RGBAFloatDataEncoder(this.gl,b):new $.RGBAFloatDataEncoder(this.gl,b,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new $.Uint8DataEncoder(this.gl,b);default:throw new Error(`Invalid dataType: ${et}`)}}clearActiveTextures(){const et=this.gl;for(let b=0;b<this.maxTextureImageUnits;++b)et.activeTexture(et.TEXTURE0+b),et.bindTexture(et.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const et=this.gl;et.bindFramebuffer(et.FRAMEBUFFER,null),et.deleteFramebuffer(this.framebuffer),et.bindBuffer(et.ARRAY_BUFFER,null),et.deleteBuffer(this.vertexbuffer),et.bindBuffer(et.ELEMENT_ARRAY_BUFFER,null),et.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const et=this.gl,b=et.createBuffer();if(!b)throw new Error("createBuffer() returned null");const h=this.createDefaultGeometry();return et.bindBuffer(et.ARRAY_BUFFER,b),et.bufferData(et.ARRAY_BUFFER,h,et.STATIC_DRAW),this.checkError(),b}createFramebuffer(){const et=this.gl.createFramebuffer();if(!et)throw new Error("createFramebuffer returned null");return et}queryVitalParameters(){const et=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=et.getParameter(et.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=et.getParameter(et.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const et=this.gl,b=et.createTexture();et.bindTexture(et.TEXTURE_2D,b);const h=this.version===2?et.RGBA32F:et.RGBA;et.texImage2D(et.TEXTURE_2D,0,h,1,1,0,et.RGBA,et.FLOAT,null);const _e=et.createFramebuffer();et.bindFramebuffer(et.FRAMEBUFFER,_e),et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,b,0);const nt=et.checkFramebufferStatus(et.FRAMEBUFFER)===et.FRAMEBUFFER_COMPLETE;return et.bindTexture(et.TEXTURE_2D,null),et.bindFramebuffer(et.FRAMEBUFFER,null),et.deleteTexture(b),et.deleteFramebuffer(_e),nt}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const et=this.gl;let b,h,_e,nt,rt;try{b=et.createTexture(),h=et.createFramebuffer(),et.bindTexture(et.TEXTURE_2D,b);const it=this.version===2?et.RGBA32F:et.RGBA;return et.texImage2D(et.TEXTURE_2D,0,it,1,1,0,et.RGBA,et.FLOAT,null),et.bindFramebuffer(et.FRAMEBUFFER,h),et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,b,0),et.enable(et.BLEND),_e=et.createShader(et.VERTEX_SHADER),!!_e&&(et.shaderSource(_e,"void main(){}"),et.compileShader(_e),nt=et.createShader(et.FRAGMENT_SHADER),!!nt&&(et.shaderSource(nt,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),et.compileShader(nt),rt=et.createProgram(),!!rt&&(et.attachShader(rt,_e),et.attachShader(rt,nt),et.linkProgram(rt),et.useProgram(rt),et.drawArrays(et.POINTS,0,1),et.getError()===et.NO_ERROR)))}finally{et.disable(et.BLEND),rt&&et.deleteProgram(rt),_e&&et.deleteShader(_e),nt&&et.deleteShader(nt),h&&(et.bindFramebuffer(et.FRAMEBUFFER,null),et.deleteFramebuffer(h)),b&&(et.bindTexture(et.TEXTURE_2D,null),et.deleteTexture(b))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const et=this.gl,b=this.disjointTimerQueryWebgl2Extension,h=et.createQuery();return et.beginQuery(b.TIME_ELAPSED_EXT,h),h}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const et=this.gl,b=this.disjointTimerQueryWebgl2Extension;et.endQuery(b.TIME_ELAPSED_EXT)}}isTimerResultAvailable(et){let b=!1,h=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const _e=this.gl,nt=this.disjointTimerQueryWebgl2Extension;b=_e.getQueryParameter(et,_e.QUERY_RESULT_AVAILABLE),h=_e.getParameter(nt.GPU_DISJOINT_EXT)}return b&&!h}getTimerResult(et){let b=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const h=this.gl;b=h.getQueryParameter(et,h.QUERY_RESULT),h.deleteQuery(et)}return b/1e6}async waitForQueryAndGetTime(et){return await(0,j.repeatedTry)(()=>this.isTimerResultAvailable(et)),this.getTimerResult(et)}async createAndWaitForFence(){const et=this.createFence(this.gl);return this.pollFence(et)}createFence(et){let b;const h=et,_e=h.fenceSync(h.SYNC_GPU_COMMANDS_COMPLETE,0);return et.flush(),b=_e===null?()=>!0:()=>{const nt=h.clientWaitSync(_e,0,0);return nt===h.ALREADY_SIGNALED||nt===h.CONDITION_SATISFIED},{query:_e,isFencePassed:b}}async pollFence(et){return new Promise(b=>{this.addItemToPoll(()=>et.isFencePassed(),()=>b())})}pollItems(){const et=tt(this.itemsToPoll.map(b=>b.isDoneFn));for(let b=0;b<=et;++b){const{resolveFn:h}=this.itemsToPoll[b];h()}this.itemsToPoll=this.itemsToPoll.slice(et+1)}async addItemToPoll(et,b){this.itemsToPoll.push({isDoneFn:et,resolveFn:b}),this.itemsToPoll.length>1||await(0,j.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},1036:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExecutionPlan=void 0;const a=s(6231);class c{constructor(g,$){this.op=g,this.node=$}}e.ExecutionPlan=class{constructor(d,g,$){this.graph=d,this.profiler=$,this.initialize(g)}initialize(d){this.profiler.event("session","ExecutionPlan.initialize",()=>{const g=this.graph.getNodes();if(g.length!==d.length)throw new Error("The size of nodes and OPs do not match.");this._ops=d.map(($,j)=>new c($,g[j])),this.reset(),this._starter=[],this._ops.forEach(($,j)=>{let tt=!0;for(const et of $.node.inputs)if(!this._values[et]&&this.graph.getInputIndices().indexOf(et)===-1){tt=!1;break}tt&&this._starter.push(j)})})}reset(){this._values=this.graph.getValues().map(d=>d.tensor)}async execute(d,g){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const $=d.createInferenceHandler(),j=this.graph.getInputIndices();if(g.length!==j.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${g.length} expected: ${j.length}`);g.forEach((nt,rt)=>{const it=j[rt];this._values[it]=nt});const tt=this._starter.slice(0),et=this.graph.getValues(),b=this.graph.getNodes();let h=0;for(;h<tt.length;){const nt=tt[h++],rt=this._ops[nt],it=rt.node.inputs.map(ct=>this._values[ct]);if(it.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${rt.node}`);const st=it;a.Logger.verbose("ExecPlan",`Runing op:${rt.node.name} (${st.map((ct,ut)=>`'${rt.node.inputs[ut]}': ${ct.type}[${ct.dims.join(",")}]`).join(", ")})`);const ot=await this.profiler.event("node",rt.node.name,async()=>rt.op.impl($,st,rt.op.context));if(ot.length!==rt.node.outputs.length)throw new Error("the size of output does not match model definition.");ot.forEach((ct,ut)=>{const dt=rt.node.outputs[ut];if(this._values[dt])throw new Error(`output [${dt}] already has value: op:${rt.node.name}`);this._values[dt]=ct});const at=new Set;ot.forEach((ct,ut)=>{const dt=rt.node.outputs[ut];for(const ht of et[dt].to){const pt=b[ht];let ft=!0;for(const bt of pt.inputs)if(!this._values[bt]){ft=!1;break}ft&&at.add(ht)}}),tt.push(...at)}const _e=[];for(let nt=0;nt<this.graph.getOutputIndices().length;nt++){const rt=this.graph.getOutputIndices()[nt],it=this._values[rt];if(it===void 0)throw new Error(`required output [${rt}] does not have value`);rt===0?await it.getData():it.data,_e.push(it)}return a.Logger.verbose("ExecPlan","disposing of inferenceHandler"),$.dispose(),_e})}}},7070:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=void 0;const a=s(1446),c=s(7778),d=s(9395),g=s(9162),$=s(2517);var j=d.onnxruntime.experimental.fbs;e.Graph={from:(h,_e)=>new b(h,_e)};class tt{constructor(_e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,_e&&(this.type=$.ProtoUtil.tensorValueTypeFromProto(_e.type.tensorType))}get from(){return this._from}get to(){return this._to}}class et{constructor(_e,nt){_e instanceof a.onnx.NodeProto?(this.name=_e.name,this.opType=_e.opType,this.attributes=new c.Attribute(_e.attribute)):_e instanceof j.Node&&(this.name=nt??_e.name(),this.opType=_e.opType(),this.attributes=new c.Attribute($.ProtoUtil.tensorAttributesFromORTFormat(_e))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class b{constructor(_e,nt){if(!_e)throw new TypeError("graph is empty");this.buildGraph(_e),this.transformGraph(nt),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(_e){if(_e instanceof a.onnx.GraphProto)this.buildGraphFromOnnxFormat(_e);else{if(!(_e instanceof j.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(_e)}}buildGraphFromOnnxFormat(_e){const nt=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const rt=new Map;if(!_e.input)throw new Error("missing information in graph: input");const it=[];for(const st of _e.input){if(nt.has(st.name))throw new Error(`duplicated input name: ${st.name}`);const ot=this._allData.push(new tt(st))-1;nt.set(st.name,ot),it.push(st.name)}if(!_e.initializer)throw new Error("missing information in graph: initializer");for(const st of _e.initializer){let ot=nt.get(st.name);if(ot===void 0){const at=new tt;at.type={shape:{dims:$.ProtoUtil.tensorDimsFromProto(st.dims)},tensorType:$.ProtoUtil.tensorDataTypeFromProto(st.dataType)},ot=this._allData.push(at)-1,nt.set(st.name,ot)}this._allData[ot]._from=-1,this._allData[ot].tensor=g.Tensor.fromProto(st)}for(let st=0;st<this._allData.length;st++)this._allData[st].tensor||(this._allInputIndices.push(st),this._allInputNames.push(it[st]));if(!_e.output)throw new Error("missing information in graph: output");for(const st of _e.output){if(nt.has(st.name))throw new Error(`duplicated output name: ${st.name}`);const ot=this._allData.push(new tt(st))-1;nt.set(st.name,ot),this._allOutputIndices.push(ot),this._allOutputNames.push(st.name)}if(!_e.node)throw new Error("missing information in graph: node");for(const st of _e.node){if(!st.name)for(let at=0;;at++){const ct=`unnamed_${st.opType}_${at}`;if(!rt.has(ct)){st.name=ct;break}}if(rt.has(st.name))throw new Error(`duplicated node name: ${st.name}`);const ot=this._nodes.push(new et(st))-1;rt.set(st.name,ot)}for(let st=0;st<this._nodes.length;st++){const ot=this._nodes[st],at=_e.node[st];if(!at.output)throw new Error(`missing output for node: ${at.name}`);for(const ct of at.output){let ut=nt.get(ct);if(ut===void 0&&(ut=this._allData.push(new tt)-1,nt.set(ct,ut)),ot.outputs.push(ut),this._allData[ut]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${ut}`);if(this._allData[ut]._from=st,at.opType==="Constant"){if(!at.attribute||at.attribute.length!==1||!at.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!at.output||at.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");ot.outputs.pop(),ot.executeNode=!1,this._allData[ut]._from=-1,this._allData[ut].tensor=g.Tensor.fromProto(at.attribute[0].t)}}}for(let st=0;st<this._nodes.length;st++){const ot=this._nodes[st],at=_e.node[st];if(!at.input)throw new Error(`missing input for node: ${at.name}`);for(const ct of at.input){const ut=nt.get(ct);if(ut===void 0){if(ct===""&&at.input.length===3&&at.opType==="Resize")continue;throw new Error(`unrecognized input '${ct}' for node: ${at.name}`)}ot.inputs.push(ut),this._allData[ut]._to.push(st)}}return!0}buildGraphFromOrtFormat(_e){var nt,rt,it;const st=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const ot=new Map,at=[];for(let ct=0;ct<_e.inputsLength();ct++){const ut=_e.inputs(ct);if(st.has(ut))throw new Error(`duplicated input name: ${ut}`);for(let dt=0;dt<_e.nodeArgsLength();dt++)if(((nt=_e.nodeArgs(dt))===null||nt===void 0?void 0:nt.name())===ut){const ht=new tt;if(((it=(rt=_e.nodeArgs(dt))===null||rt===void 0?void 0:rt.type())===null||it===void 0?void 0:it.valueType())!==j.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const pt=_e.nodeArgs(dt).type().value(new j.TensorTypeAndShape),ft=$.ProtoUtil.tensorDataTypeFromProto(pt.elemType()),bt=pt.shape(),Ct=[];for(let Et=0;Et<bt.dimLength();Et++)Ct.push($.LongUtil.longToNumber(bt.dim(Et).value().dimValue()));ht.type={shape:{dims:Ct},tensorType:ft};const yt=this._allData.push(ht)-1;st.set(ut,yt),at.push(ut)}}for(let ct=0;ct<_e.initializersLength();ct++){const ut=_e.initializers(ct);let dt=st.get(ut.name());if(dt===void 0){const ht=new tt,pt=$.ProtoUtil.tensorDimsFromORTFormat(ut),ft=$.ProtoUtil.tensorDataTypeFromProto(ut.dataType());ht.type={shape:{dims:pt},tensorType:ft},dt=this._allData.push(ht)-1,st.set(ut.name(),dt)}this._allData[dt]._from=-1,this._allData[dt].tensor=g.Tensor.fromOrtTensor(ut)}for(let ct=0;ct<this._allData.length;ct++)this._allData[ct].tensor||(this._allInputIndices.push(ct),this._allInputNames.push(at[ct]));for(let ct=0;ct<_e.outputsLength();ct++){const ut=_e.outputs(ct);if(st.has(ut))throw new Error(`duplicated output name: ${ut}`);const dt=this._allData.push(new tt)-1;st.set(ut,dt),this._allOutputIndices.push(dt),this._allOutputNames.push(ut)}if(!_e.nodes)throw new Error("missing information in graph: node");for(let ct=0;ct<_e.nodesLength();ct++){const ut=_e.nodes(ct);let dt=ut.name();if(!dt)for(let pt=0;dt=`unnamed_${ut.opType()}_${pt}`,ot.has(dt);pt++);if(ot.has(dt))throw new Error(`duplicated node name: ${dt}`);const ht=this._nodes.push(new et(ut,dt))-1;ot.set(dt,ht)}for(let ct=0;ct<this._nodes.length;ct++){const ut=this._nodes[ct],dt=_e.nodes(ct);if(dt==null)throw new Error(`No node exists at index ${ct}`);if((dt==null?void 0:dt.outputsLength())===0)throw new Error(`missing output for node: ${dt.name}`);for(let ht=0;ht<(dt==null?void 0:dt.outputsLength());ht++){const pt=dt==null?void 0:dt.outputs(ht);let ft=st.get(pt);if(ft===void 0&&(ft=this._allData.push(new tt)-1,st.set(pt,ft)),ut.outputs.push(ft),this._allData[ft]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${ft}`);if(this._allData[ft]._from=ct,dt.opType()==="Constant"){if(dt.attributesLength()!==1||!dt.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(dt.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");ut.outputs.pop(),ut.executeNode=!1,this._allData[ft]._from=-1,this._allData[ft].tensor=g.Tensor.fromOrtTensor(dt.attributes(0).t())}}}for(let ct=0;ct<this._nodes.length;ct++){const ut=this._nodes[ct],dt=_e.nodes(ct);if(dt.inputsLength()===0)throw new Error(`missing input for node: ${dt.name}`);for(let ht=0;ht<dt.inputsLength();ht++){const pt=dt.inputs(ht),ft=st.get(pt);if(ft===void 0)throw new Error(`unrecognized input '${pt}' for node: ${dt.name()}`);ut.inputs.push(ft),this._allData[ft]._to.push(ct)}}}checkIsAcyclic(){const _e=new Set;this._allInputIndices.forEach(it=>{this._allData[it]._to.forEach(st=>{_e.add(st)})});const nt=Array.from(_e),rt=new Array(this._nodes.length).fill("white");for(;nt.length>0;){const it=nt.pop();rt[it]==="gray"?rt[it]="black":(nt.push(it),rt[it]="gray",this._nodes[it].outputs.forEach(st=>{const ot=this._allData[st];if(ot.tensor!==void 0)throw new Error("node outputs should not be initialized");if(ot._from!==it)throw new Error("from property of the Value object doesn't match index of Node being processed");ot._to.forEach(at=>{if(rt[at]==="gray")throw new Error("model graph is cyclic");rt[at]==="white"&&nt.push(at)})}))}}transformGraph(_e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),_e&&_e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let _e=0;for(let nt=0;nt<this._nodes.length;nt++)this._nodes[nt].executeNode?_e>0&&(this._nodes[nt].inputs.forEach(rt=>{const it=this._allData[rt]._to.indexOf(nt+_e);it!==-1&&(this._allData[rt]._to[it]=nt)}),this._nodes[nt].outputs.forEach(rt=>{this._allData[rt]._from&&this._allData[rt]._from===nt+_e&&(this._allData[rt]._from=nt)})):(_e++,this._nodes[nt].outputs.forEach(rt=>{this._allData[rt]._from=-2}),this._nodes.splice(nt,1),nt--);_e=0;for(let nt=0;nt<this._allData.length;nt++)if(this._allData[nt].from!==-2||this._allOutputIndices.indexOf(nt+_e)!==-1){if(_e>0){let rt=-1;this._allData[nt].from!==void 0&&this._allData[nt].from!==-1?(rt=this._nodes[this._allData[nt].from].outputs.indexOf(nt+_e),rt!==-1&&(this._nodes[this._allData[nt].from].outputs[rt]=nt)):(rt=this._allInputIndices.indexOf(nt+_e),rt!==-1&&(this._allInputIndices[rt]=nt)),this._allData[nt].to.forEach(it=>{rt=this._nodes[it].inputs.indexOf(nt+_e),rt!==-1&&(this._nodes[it].inputs[rt]=nt)}),this._allData[nt].to.length===0&&(rt=this._allOutputIndices.indexOf(nt+_e),rt!==-1&&(this._allOutputIndices[rt]=nt))}}else _e++,this._allData.splice(nt,1),nt--}deleteNode(_e){const nt=this._nodes[_e];if(nt.outputs.length>1){for(let ct=1;ct<nt.outputs.length;ct++)if(this._allData[nt.outputs[ct]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}nt.executeNode=!1;const rt=nt.inputs[0],it=nt.outputs[0],st=this._allData[it].to,ot=this._allData[rt].to.indexOf(_e);if(ot===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[rt].to.splice(ot,1),this._allData[it]._to=[];const at=this._allOutputIndices.indexOf(it);if(at!==-1&&(this._allOutputIndices[at]=rt),st&&st.length>0)for(const ct of st){const ut=this._nodes[ct].inputs.indexOf(it);if(ut===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[ct].inputs[ut]=rt,this._allData[rt].to.push(ct)}}removeAllDropoutNodes(){let _e=0;for(const nt of this._nodes){if(nt.opType==="Dropout"){if(nt.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(nt.outputs.length!==1&&nt.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(nt.outputs.length===2&&this._allData[nt.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(_e)}_e++}}removeAllIdentityNodes(){let _e=0;for(const nt of this._nodes)nt.opType==="Identity"&&this.deleteNode(_e),_e++}isActivation(_e){switch(_e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const _e of this._nodes)if(_e.opType==="Conv"){const nt=this._allData[_e.outputs[0]]._to;if(nt.length===1&&this.isActivation(this._nodes[nt[0]])){const rt=this._nodes[nt[0]];if(rt.opType==="Clip")if(rt.inputs.length===1)try{_e.attributes.set("activation_params","floats",[rt.attributes.getFloat("min"),rt.attributes.getFloat("max")])}catch{_e.attributes.set("activation_params","floats",[$.MIN_CLIP,$.MAX_CLIP])}else{if(!(rt.inputs.length>=3&&this._allData[rt.inputs[1]].tensor!==void 0&&this._allData[rt.inputs[2]].tensor!==void 0))continue;_e.attributes.set("activation_params","floats",[this._allData[rt.inputs[1]].tensor.floatData[0],this._allData[rt.inputs[2]].tensor.floatData[0]])}_e.attributes.set("activation","string",rt.opType),this.deleteNode(nt[0])}}}}},6231:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.now=e.Profiler=e.Logger=void 0;const s={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},a={none:new class{log(et,b,h){}},console:new class{log(et,b,h){console.log(`${this.color(et)} ${h?"\x1B[35m"+h+"\x1B[0m ":""}${b}`)}color(et){switch(et){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${et}`)}}}},c={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let d={"":c};function g(et,b,h,_e){if(b===void 0)return nt=et,{verbose:g.verbose.bind(null,nt),info:g.info.bind(null,nt),warning:g.warning.bind(null,nt),error:g.error.bind(null,nt),fatal:g.fatal.bind(null,nt)};if(h===void 0)$(et,b);else if(typeof h=="number"&&_e===void 0)$(et,b);else if(typeof h=="string"&&_e===void 0)$(et,h,0,b);else{if(typeof h!="string"||typeof _e!="number")throw new TypeError("input is valid");$(et,h,0,b)}var nt}function $(et,b,h,_e){const nt=d[_e||""]||d[""];s[et]<s[nt.minimalSeverity]||(nt.logDateTime&&(b=`${new Date().toISOString()}|${b}`),nt.logSourceLocation,a[nt.provider].log(et,b,_e))}(function(et){function b(_e){d={},h("",_e||{})}function h(_e,nt){if(_e==="*")b(nt);else{const rt=d[_e]||c;d[_e]={provider:nt.provider||rt.provider,minimalSeverity:nt.minimalSeverity||rt.minimalSeverity,logDateTime:nt.logDateTime===void 0?rt.logDateTime:nt.logDateTime,logSourceLocation:nt.logSourceLocation===void 0?rt.logSourceLocation:nt.logSourceLocation}}}et.verbose=function(_e,nt){et("verbose",_e,nt)},et.info=function(_e,nt){et("info",_e,nt)},et.warning=function(_e,nt){et("warning",_e,nt)},et.error=function(_e,nt){et("error",_e,nt)},et.fatal=function(_e,nt){et("fatal",_e,nt)},et.reset=b,et.set=h,et.setWithEnv=function(_e){const nt={};_e.logLevel&&(nt.minimalSeverity=_e.logLevel),h("",nt)}})(g||(g={})),e.Logger=g;class j{constructor(b,h,_e,nt,rt,it){this.category=b,this.name=h,this.startTime=_e,this.endCallback=nt,this.timer=rt,this.ctx=it}end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class tt{constructor(b,h,_e,nt){this.category=b,this.name=h,this.startTime=_e,this.endTime=nt}}e.Profiler=class{static create(et){return et===void 0?new this:new this(et.maxNumberEvents,et.flushBatchSize,et.flushIntervalInMilliseconds)}constructor(et,b,h){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=et===void 0?1e4:et,this._flushBatchSize=b===void 0?10:b,this._flushIntervalInMilliseconds=h===void 0?5e3:h}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,e.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(et,b,h,_e){const nt=this._started?this.begin(et,b,_e):void 0;let rt=!1;const it=h();if(it&&typeof it.then=="function")return rt=!0,new Promise((st,ot)=>{it.then(async at=>{nt&&await nt.end(),st(at)},async at=>{nt&&await nt.end(),ot(at)})});if(!rt&&nt){const st=nt.end();if(st&&typeof st.then=="function")return new Promise((ot,at)=>{st.then(()=>{ot(it)},ct=>{at(ct)})})}return it}begin(et,b,h){if(!this._started)throw new Error("profiler is not started yet");if(h===void 0){const _e=(0,e.now)();return this.flush(_e),new j(et,b,_e,nt=>this.endSync(nt))}{const _e=h.beginTimer();return new j(et,b,0,async nt=>this.end(nt),_e,h)}}async end(et){const b=await et.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new tt(et.category,et.name,et.startTime,b)),this.flush(b))}endSync(et){const b=(0,e.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new tt(et.category,et.name,et.startTime,b)),this.flush(b))}logOneEvent(et){e.Logger.verbose(`Profiler.${et.category}`,`${(et.endTime-et.startTime).toFixed(2)}ms on event '${et.name}' at ${et.endTime.toFixed(2)}`)}flush(et){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||et-this._flushTime>=this._flushIntervalInMilliseconds){for(const b=this._flushPointer;this._flushPointer<b+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,e.now)()}}get started(){return this._started}},e.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;const a=s(5686),c=s(1446),d=s(7070),g=s(9395),$=s(2517);var j=g.onnxruntime.experimental.fbs;e.Model=class{constructor(){}load(tt,et,b){if(!b)try{return void this.loadFromOnnxFormat(tt,et)}catch(h){if(b!==void 0)throw h}this.loadFromOrtFormat(tt,et)}loadFromOnnxFormat(tt,et){const b=c.onnx.ModelProto.decode(tt);if($.LongUtil.longToNumber(b.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=b.opsetImport.map(h=>({domain:h.domain,version:$.LongUtil.longToNumber(h.version)})),this._graph=d.Graph.from(b.graph,et)}loadFromOrtFormat(tt,et){const b=new a.flatbuffers.ByteBuffer(tt),h=j.InferenceSession.getRootAsInferenceSession(b).model();if($.LongUtil.longToNumber(h.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let _e=0;_e<h.opsetImportLength();_e++){const nt=h.opsetImport(_e);this._opsets.push({domain:nt==null?void 0:nt.domain(),version:$.LongUtil.longToNumber(nt.version())})}this._graph=d.Graph.from(h.graph(),et)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FLOAT_TYPES=e.INT_TYPES=e.NUMBER_TYPES=void 0,e.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],e.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],e.FLOAT_TYPES=["float32","float64"]},1047:(o,e)=>{function s(a,c){if(c.endsWith("+")){const d=Number.parseInt(c.substring(0,c.length-1),10);return!isNaN(d)&&d<=a}if(c.split("-").length===2){const d=c.split("-"),g=Number.parseInt(d[0],10),$=Number.parseInt(d[1],10);return!isNaN(g)&&!isNaN($)&&g<=a&&a<=$}return Number.parseInt(c,10)===a}Object.defineProperty(e,"__esModule",{value:!0}),e.resolveOperator=void 0,e.resolveOperator=function(a,c,d){for(const g of d){const $=g[0],j=g[1],tt=g[2],et=g[3],b=g[4];if(a.opType===$){for(const h of c)if((h.domain===j||h.domain==="ai.onnx"&&j==="")&&s(h.version,tt))return{opImpl:et,opInit:b}}}throw new TypeError(`cannot resolve operator '${a.opType}' with opsets: ${c.map(g=>`${g.domain||"ai.onnx"} v${g.version}`).join(", ")}`)}},9395:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.onnxruntime=void 0;const a=s(5686);var c,d;c=e.onnxruntime||(e.onnxruntime={}),function(g){(function($){$[$.UNDEFINED=0]="UNDEFINED",$[$.FLOAT=1]="FLOAT",$[$.INT=2]="INT",$[$.STRING=3]="STRING",$[$.TENSOR=4]="TENSOR",$[$.GRAPH=5]="GRAPH",$[$.FLOATS=6]="FLOATS",$[$.INTS=7]="INTS",$[$.STRINGS=8]="STRINGS",$[$.TENSORS=9]="TENSORS",$[$.GRAPHS=10]="GRAPHS",$[$.SPARSE_TENSOR=11]="SPARSE_TENSOR",$[$.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(g.AttributeType||(g.AttributeType={}))}((d=c.experimental||(c.experimental={})).fbs||(d.fbs={})),function(g){(function($){(function(j){(function(tt){tt[tt.UNKNOWN=0]="UNKNOWN",tt[tt.VALUE=1]="VALUE",tt[tt.PARAM=2]="PARAM"})(j.DimensionValueType||(j.DimensionValueType={}))})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){(function(tt){tt[tt.UNDEFINED=0]="UNDEFINED",tt[tt.FLOAT=1]="FLOAT",tt[tt.UINT8=2]="UINT8",tt[tt.INT8=3]="INT8",tt[tt.UINT16=4]="UINT16",tt[tt.INT16=5]="INT16",tt[tt.INT32=6]="INT32",tt[tt.INT64=7]="INT64",tt[tt.STRING=8]="STRING",tt[tt.BOOL=9]="BOOL",tt[tt.FLOAT16=10]="FLOAT16",tt[tt.DOUBLE=11]="DOUBLE",tt[tt.UINT32=12]="UINT32",tt[tt.UINT64=13]="UINT64",tt[tt.COMPLEX64=14]="COMPLEX64",tt[tt.COMPLEX128=15]="COMPLEX128",tt[tt.BFLOAT16=16]="BFLOAT16"})(j.TensorDataType||(j.TensorDataType={}))})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){(function(tt){tt[tt.Primitive=0]="Primitive",tt[tt.Fused=1]="Fused"})(j.NodeType||(j.NodeType={}))})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){(function(tt){tt[tt.NONE=0]="NONE",tt[tt.tensor_type=1]="tensor_type",tt[tt.sequence_type=2]="sequence_type",tt[tt.map_type=3]="map_type"})(j.TypeInfoValue||(j.TypeInfoValue={}))})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsShape(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsShape(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}dim(b,h){let _e=this.bb.__offset(this.bb_pos,4);return _e?(h||new g.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_e)+4*b),this.bb):null}dimLength(){let b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__vector_len(this.bb_pos+b):0}static startShape(b){b.startObject(1)}static addDim(b,h){b.addFieldOffset(0,h,0)}static createDimVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startDimVector(b,h){b.startVector(4,h,4)}static endShape(b){return b.endObject()}static createShape(b,h){return tt.startShape(b),tt.addDim(b,h),tt.endShape(b)}}j.Shape=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsDimension(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsDimension(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}value(b){let h=this.bb.__offset(this.bb_pos,4);return h?(b||new g.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}denotation(b){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.__string(this.bb_pos+h,b):null}static startDimension(b){b.startObject(2)}static addValue(b,h){b.addFieldOffset(0,h,0)}static addDenotation(b,h){b.addFieldOffset(1,h,0)}static endDimension(b){return b.endObject()}static createDimension(b,h,_e){return tt.startDimension(b),tt.addValue(b,h),tt.addDenotation(b,_e),tt.endDimension(b)}}j.Dimension=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsDimensionValue(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsDimensionValue(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}dimType(){let b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readInt8(this.bb_pos+b):g.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readInt64(this.bb_pos+b):this.bb.createLong(0,0)}dimParam(b){let h=this.bb.__offset(this.bb_pos,8);return h?this.bb.__string(this.bb_pos+h,b):null}static startDimensionValue(b){b.startObject(3)}static addDimType(b,h){b.addFieldInt8(0,h,g.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(b,h){b.addFieldInt64(1,h,b.createLong(0,0))}static addDimParam(b,h){b.addFieldOffset(2,h,0)}static endDimensionValue(b){return b.endObject()}static createDimensionValue(b,h,_e,nt){return tt.startDimensionValue(b),tt.addDimType(b,h),tt.addDimValue(b,_e),tt.addDimParam(b,nt),tt.endDimensionValue(b)}}j.DimensionValue=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsTensorTypeAndShape(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsTensorTypeAndShape(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}elemType(){let b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readInt32(this.bb_pos+b):g.experimental.fbs.TensorDataType.UNDEFINED}shape(b){let h=this.bb.__offset(this.bb_pos,6);return h?(b||new g.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}static startTensorTypeAndShape(b){b.startObject(2)}static addElemType(b,h){b.addFieldInt32(0,h,g.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(b,h){b.addFieldOffset(1,h,0)}static endTensorTypeAndShape(b){return b.endObject()}static createTensorTypeAndShape(b,h,_e){return tt.startTensorTypeAndShape(b),tt.addElemType(b,h),tt.addShape(b,_e),tt.endTensorTypeAndShape(b)}}j.TensorTypeAndShape=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsMapType(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsMapType(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}keyType(){let b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readInt32(this.bb_pos+b):g.experimental.fbs.TensorDataType.UNDEFINED}valueType(b){let h=this.bb.__offset(this.bb_pos,6);return h?(b||new g.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}static startMapType(b){b.startObject(2)}static addKeyType(b,h){b.addFieldInt32(0,h,g.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(b,h){b.addFieldOffset(1,h,0)}static endMapType(b){return b.endObject()}static createMapType(b,h,_e){return tt.startMapType(b),tt.addKeyType(b,h),tt.addValueType(b,_e),tt.endMapType(b)}}j.MapType=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsSequenceType(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsSequenceType(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}elemType(b){let h=this.bb.__offset(this.bb_pos,4);return h?(b||new g.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}static startSequenceType(b){b.startObject(1)}static addElemType(b,h){b.addFieldOffset(0,h,0)}static endSequenceType(b){return b.endObject()}static createSequenceType(b,h){return tt.startSequenceType(b),tt.addElemType(b,h),tt.endSequenceType(b)}}j.SequenceType=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){($.fbs||($.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(j,tt){return this.bb_pos=j,this.bb=tt,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(j,tt,et,b){return j.prep(4,12),j.writeInt32(b),j.writeInt32(et),j.writeInt32(tt),j.offset()}}})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsNodeEdge(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsNodeEdge(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}nodeIndex(){let b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readUint32(this.bb_pos+b):0}inputEdges(b,h){let _e=this.bb.__offset(this.bb_pos,6);return _e?(h||new g.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+_e)+12*b,this.bb):null}inputEdgesLength(){let b=this.bb.__offset(this.bb_pos,6);return b?this.bb.__vector_len(this.bb_pos+b):0}outputEdges(b,h){let _e=this.bb.__offset(this.bb_pos,8);return _e?(h||new g.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+_e)+12*b,this.bb):null}outputEdgesLength(){let b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__vector_len(this.bb_pos+b):0}static startNodeEdge(b){b.startObject(3)}static addNodeIndex(b,h){b.addFieldInt32(0,h,0)}static addInputEdges(b,h){b.addFieldOffset(1,h,0)}static startInputEdgesVector(b,h){b.startVector(12,h,4)}static addOutputEdges(b,h){b.addFieldOffset(2,h,0)}static startOutputEdgesVector(b,h){b.startVector(12,h,4)}static endNodeEdge(b){return b.endObject()}static createNodeEdge(b,h,_e,nt){return tt.startNodeEdge(b),tt.addNodeIndex(b,h),tt.addInputEdges(b,_e),tt.addOutputEdges(b,nt),tt.endNodeEdge(b)}}j.NodeEdge=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsNode(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsNode(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}name(b){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.__string(this.bb_pos+h,b):null}docString(b){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.__string(this.bb_pos+h,b):null}domain(b){let h=this.bb.__offset(this.bb_pos,8);return h?this.bb.__string(this.bb_pos+h,b):null}sinceVersion(){let b=this.bb.__offset(this.bb_pos,10);return b?this.bb.readInt32(this.bb_pos+b):0}index(){let b=this.bb.__offset(this.bb_pos,12);return b?this.bb.readUint32(this.bb_pos+b):0}opType(b){let h=this.bb.__offset(this.bb_pos,14);return h?this.bb.__string(this.bb_pos+h,b):null}type(){let b=this.bb.__offset(this.bb_pos,16);return b?this.bb.readInt32(this.bb_pos+b):g.experimental.fbs.NodeType.Primitive}executionProviderType(b){let h=this.bb.__offset(this.bb_pos,18);return h?this.bb.__string(this.bb_pos+h,b):null}inputs(b,h){let _e=this.bb.__offset(this.bb_pos,20);return _e?this.bb.__string(this.bb.__vector(this.bb_pos+_e)+4*b,h):null}inputsLength(){let b=this.bb.__offset(this.bb_pos,20);return b?this.bb.__vector_len(this.bb_pos+b):0}outputs(b,h){let _e=this.bb.__offset(this.bb_pos,22);return _e?this.bb.__string(this.bb.__vector(this.bb_pos+_e)+4*b,h):null}outputsLength(){let b=this.bb.__offset(this.bb_pos,22);return b?this.bb.__vector_len(this.bb_pos+b):0}attributes(b,h){let _e=this.bb.__offset(this.bb_pos,24);return _e?(h||new g.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_e)+4*b),this.bb):null}attributesLength(){let b=this.bb.__offset(this.bb_pos,24);return b?this.bb.__vector_len(this.bb_pos+b):0}inputArgCounts(b){let h=this.bb.__offset(this.bb_pos,26);return h?this.bb.readInt32(this.bb.__vector(this.bb_pos+h)+4*b):0}inputArgCountsLength(){let b=this.bb.__offset(this.bb_pos,26);return b?this.bb.__vector_len(this.bb_pos+b):0}inputArgCountsArray(){let b=this.bb.__offset(this.bb_pos,26);return b?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+b),this.bb.__vector_len(this.bb_pos+b)):null}implicitInputs(b,h){let _e=this.bb.__offset(this.bb_pos,28);return _e?this.bb.__string(this.bb.__vector(this.bb_pos+_e)+4*b,h):null}implicitInputsLength(){let b=this.bb.__offset(this.bb_pos,28);return b?this.bb.__vector_len(this.bb_pos+b):0}static startNode(b){b.startObject(13)}static addName(b,h){b.addFieldOffset(0,h,0)}static addDocString(b,h){b.addFieldOffset(1,h,0)}static addDomain(b,h){b.addFieldOffset(2,h,0)}static addSinceVersion(b,h){b.addFieldInt32(3,h,0)}static addIndex(b,h){b.addFieldInt32(4,h,0)}static addOpType(b,h){b.addFieldOffset(5,h,0)}static addType(b,h){b.addFieldInt32(6,h,g.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(b,h){b.addFieldOffset(7,h,0)}static addInputs(b,h){b.addFieldOffset(8,h,0)}static createInputsVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startInputsVector(b,h){b.startVector(4,h,4)}static addOutputs(b,h){b.addFieldOffset(9,h,0)}static createOutputsVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startOutputsVector(b,h){b.startVector(4,h,4)}static addAttributes(b,h){b.addFieldOffset(10,h,0)}static createAttributesVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startAttributesVector(b,h){b.startVector(4,h,4)}static addInputArgCounts(b,h){b.addFieldOffset(11,h,0)}static createInputArgCountsVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addInt32(h[_e]);return b.endVector()}static startInputArgCountsVector(b,h){b.startVector(4,h,4)}static addImplicitInputs(b,h){b.addFieldOffset(12,h,0)}static createImplicitInputsVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startImplicitInputsVector(b,h){b.startVector(4,h,4)}static endNode(b){return b.endObject()}static createNode(b,h,_e,nt,rt,it,st,ot,at,ct,ut,dt,ht,pt){return tt.startNode(b),tt.addName(b,h),tt.addDocString(b,_e),tt.addDomain(b,nt),tt.addSinceVersion(b,rt),tt.addIndex(b,it),tt.addOpType(b,st),tt.addType(b,ot),tt.addExecutionProviderType(b,at),tt.addInputs(b,ct),tt.addOutputs(b,ut),tt.addAttributes(b,dt),tt.addInputArgCounts(b,ht),tt.addImplicitInputs(b,pt),tt.endNode(b)}}j.Node=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsValueInfo(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsValueInfo(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}name(b){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.__string(this.bb_pos+h,b):null}docString(b){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.__string(this.bb_pos+h,b):null}type(b){let h=this.bb.__offset(this.bb_pos,8);return h?(b||new g.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}static startValueInfo(b){b.startObject(3)}static addName(b,h){b.addFieldOffset(0,h,0)}static addDocString(b,h){b.addFieldOffset(1,h,0)}static addType(b,h){b.addFieldOffset(2,h,0)}static endValueInfo(b){return b.endObject()}static createValueInfo(b,h,_e,nt){return tt.startValueInfo(b),tt.addName(b,h),tt.addDocString(b,_e),tt.addType(b,nt),tt.endValueInfo(b)}}j.ValueInfo=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsTypeInfo(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsTypeInfo(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}denotation(b){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.__string(this.bb_pos+h,b):null}valueType(){let b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb_pos+b):g.experimental.fbs.TypeInfoValue.NONE}value(b){let h=this.bb.__offset(this.bb_pos,8);return h?this.bb.__union(b,this.bb_pos+h):null}static startTypeInfo(b){b.startObject(3)}static addDenotation(b,h){b.addFieldOffset(0,h,0)}static addValueType(b,h){b.addFieldInt8(1,h,g.experimental.fbs.TypeInfoValue.NONE)}static addValue(b,h){b.addFieldOffset(2,h,0)}static endTypeInfo(b){return b.endObject()}static createTypeInfo(b,h,_e,nt){return tt.startTypeInfo(b),tt.addDenotation(b,h),tt.addValueType(b,_e),tt.addValue(b,nt),tt.endTypeInfo(b)}}j.TypeInfo=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsOperatorSetId(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsOperatorSetId(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}domain(b){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.__string(this.bb_pos+h,b):null}version(){let b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readInt64(this.bb_pos+b):this.bb.createLong(0,0)}static startOperatorSetId(b){b.startObject(2)}static addDomain(b,h){b.addFieldOffset(0,h,0)}static addVersion(b,h){b.addFieldInt64(1,h,b.createLong(0,0))}static endOperatorSetId(b){return b.endObject()}static createOperatorSetId(b,h,_e){return tt.startOperatorSetId(b),tt.addDomain(b,h),tt.addVersion(b,_e),tt.endOperatorSetId(b)}}j.OperatorSetId=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsTensor(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsTensor(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}name(b){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.__string(this.bb_pos+h,b):null}docString(b){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.__string(this.bb_pos+h,b):null}dims(b){let h=this.bb.__offset(this.bb_pos,8);return h?this.bb.readInt64(this.bb.__vector(this.bb_pos+h)+8*b):this.bb.createLong(0,0)}dimsLength(){let b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__vector_len(this.bb_pos+b):0}dataType(){let b=this.bb.__offset(this.bb_pos,10);return b?this.bb.readInt32(this.bb_pos+b):g.experimental.fbs.TensorDataType.UNDEFINED}rawData(b){let h=this.bb.__offset(this.bb_pos,12);return h?this.bb.readUint8(this.bb.__vector(this.bb_pos+h)+b):0}rawDataLength(){let b=this.bb.__offset(this.bb_pos,12);return b?this.bb.__vector_len(this.bb_pos+b):0}rawDataArray(){let b=this.bb.__offset(this.bb_pos,12);return b?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+b),this.bb.__vector_len(this.bb_pos+b)):null}stringData(b,h){let _e=this.bb.__offset(this.bb_pos,14);return _e?this.bb.__string(this.bb.__vector(this.bb_pos+_e)+4*b,h):null}stringDataLength(){let b=this.bb.__offset(this.bb_pos,14);return b?this.bb.__vector_len(this.bb_pos+b):0}static startTensor(b){b.startObject(6)}static addName(b,h){b.addFieldOffset(0,h,0)}static addDocString(b,h){b.addFieldOffset(1,h,0)}static addDims(b,h){b.addFieldOffset(2,h,0)}static createDimsVector(b,h){b.startVector(8,h.length,8);for(let _e=h.length-1;_e>=0;_e--)b.addInt64(h[_e]);return b.endVector()}static startDimsVector(b,h){b.startVector(8,h,8)}static addDataType(b,h){b.addFieldInt32(3,h,g.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(b,h){b.addFieldOffset(4,h,0)}static createRawDataVector(b,h){b.startVector(1,h.length,1);for(let _e=h.length-1;_e>=0;_e--)b.addInt8(h[_e]);return b.endVector()}static startRawDataVector(b,h){b.startVector(1,h,1)}static addStringData(b,h){b.addFieldOffset(5,h,0)}static createStringDataVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startStringDataVector(b,h){b.startVector(4,h,4)}static endTensor(b){return b.endObject()}static createTensor(b,h,_e,nt,rt,it,st){return tt.startTensor(b),tt.addName(b,h),tt.addDocString(b,_e),tt.addDims(b,nt),tt.addDataType(b,rt),tt.addRawData(b,it),tt.addStringData(b,st),tt.endTensor(b)}}j.Tensor=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsSparseTensor(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsSparseTensor(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}values(b){let h=this.bb.__offset(this.bb_pos,4);return h?(b||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}indices(b){let h=this.bb.__offset(this.bb_pos,6);return h?(b||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}dims(b){let h=this.bb.__offset(this.bb_pos,8);return h?this.bb.readInt64(this.bb.__vector(this.bb_pos+h)+8*b):this.bb.createLong(0,0)}dimsLength(){let b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__vector_len(this.bb_pos+b):0}static startSparseTensor(b){b.startObject(3)}static addValues(b,h){b.addFieldOffset(0,h,0)}static addIndices(b,h){b.addFieldOffset(1,h,0)}static addDims(b,h){b.addFieldOffset(2,h,0)}static createDimsVector(b,h){b.startVector(8,h.length,8);for(let _e=h.length-1;_e>=0;_e--)b.addInt64(h[_e]);return b.endVector()}static startDimsVector(b,h){b.startVector(8,h,8)}static endSparseTensor(b){return b.endObject()}static createSparseTensor(b,h,_e,nt){return tt.startSparseTensor(b),tt.addValues(b,h),tt.addIndices(b,_e),tt.addDims(b,nt),tt.endSparseTensor(b)}}j.SparseTensor=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsAttribute(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsAttribute(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}name(b){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.__string(this.bb_pos+h,b):null}docString(b){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.__string(this.bb_pos+h,b):null}type(){let b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readInt32(this.bb_pos+b):g.experimental.fbs.AttributeType.UNDEFINED}f(){let b=this.bb.__offset(this.bb_pos,10);return b?this.bb.readFloat32(this.bb_pos+b):0}i(){let b=this.bb.__offset(this.bb_pos,12);return b?this.bb.readInt64(this.bb_pos+b):this.bb.createLong(0,0)}s(b){let h=this.bb.__offset(this.bb_pos,14);return h?this.bb.__string(this.bb_pos+h,b):null}t(b){let h=this.bb.__offset(this.bb_pos,16);return h?(b||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}g(b){let h=this.bb.__offset(this.bb_pos,18);return h?(b||new g.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}floats(b){let h=this.bb.__offset(this.bb_pos,20);return h?this.bb.readFloat32(this.bb.__vector(this.bb_pos+h)+4*b):0}floatsLength(){let b=this.bb.__offset(this.bb_pos,20);return b?this.bb.__vector_len(this.bb_pos+b):0}floatsArray(){let b=this.bb.__offset(this.bb_pos,20);return b?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+b),this.bb.__vector_len(this.bb_pos+b)):null}ints(b){let h=this.bb.__offset(this.bb_pos,22);return h?this.bb.readInt64(this.bb.__vector(this.bb_pos+h)+8*b):this.bb.createLong(0,0)}intsLength(){let b=this.bb.__offset(this.bb_pos,22);return b?this.bb.__vector_len(this.bb_pos+b):0}strings(b,h){let _e=this.bb.__offset(this.bb_pos,24);return _e?this.bb.__string(this.bb.__vector(this.bb_pos+_e)+4*b,h):null}stringsLength(){let b=this.bb.__offset(this.bb_pos,24);return b?this.bb.__vector_len(this.bb_pos+b):0}tensors(b,h){let _e=this.bb.__offset(this.bb_pos,26);return _e?(h||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_e)+4*b),this.bb):null}tensorsLength(){let b=this.bb.__offset(this.bb_pos,26);return b?this.bb.__vector_len(this.bb_pos+b):0}graphs(b,h){let _e=this.bb.__offset(this.bb_pos,28);return _e?(h||new g.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_e)+4*b),this.bb):null}graphsLength(){let b=this.bb.__offset(this.bb_pos,28);return b?this.bb.__vector_len(this.bb_pos+b):0}static startAttribute(b){b.startObject(13)}static addName(b,h){b.addFieldOffset(0,h,0)}static addDocString(b,h){b.addFieldOffset(1,h,0)}static addType(b,h){b.addFieldInt32(2,h,g.experimental.fbs.AttributeType.UNDEFINED)}static addF(b,h){b.addFieldFloat32(3,h,0)}static addI(b,h){b.addFieldInt64(4,h,b.createLong(0,0))}static addS(b,h){b.addFieldOffset(5,h,0)}static addT(b,h){b.addFieldOffset(6,h,0)}static addG(b,h){b.addFieldOffset(7,h,0)}static addFloats(b,h){b.addFieldOffset(8,h,0)}static createFloatsVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addFloat32(h[_e]);return b.endVector()}static startFloatsVector(b,h){b.startVector(4,h,4)}static addInts(b,h){b.addFieldOffset(9,h,0)}static createIntsVector(b,h){b.startVector(8,h.length,8);for(let _e=h.length-1;_e>=0;_e--)b.addInt64(h[_e]);return b.endVector()}static startIntsVector(b,h){b.startVector(8,h,8)}static addStrings(b,h){b.addFieldOffset(10,h,0)}static createStringsVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startStringsVector(b,h){b.startVector(4,h,4)}static addTensors(b,h){b.addFieldOffset(11,h,0)}static createTensorsVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startTensorsVector(b,h){b.startVector(4,h,4)}static addGraphs(b,h){b.addFieldOffset(12,h,0)}static createGraphsVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startGraphsVector(b,h){b.startVector(4,h,4)}static endAttribute(b){return b.endObject()}static createAttribute(b,h,_e,nt,rt,it,st,ot,at,ct,ut,dt,ht,pt){return tt.startAttribute(b),tt.addName(b,h),tt.addDocString(b,_e),tt.addType(b,nt),tt.addF(b,rt),tt.addI(b,it),tt.addS(b,st),tt.addT(b,ot),tt.addG(b,at),tt.addFloats(b,ct),tt.addInts(b,ut),tt.addStrings(b,dt),tt.addTensors(b,ht),tt.addGraphs(b,pt),tt.endAttribute(b)}}j.Attribute=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsGraph(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsGraph(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}initializers(b,h){let _e=this.bb.__offset(this.bb_pos,4);return _e?(h||new g.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_e)+4*b),this.bb):null}initializersLength(){let b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__vector_len(this.bb_pos+b):0}nodeArgs(b,h){let _e=this.bb.__offset(this.bb_pos,6);return _e?(h||new g.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_e)+4*b),this.bb):null}nodeArgsLength(){let b=this.bb.__offset(this.bb_pos,6);return b?this.bb.__vector_len(this.bb_pos+b):0}nodes(b,h){let _e=this.bb.__offset(this.bb_pos,8);return _e?(h||new g.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_e)+4*b),this.bb):null}nodesLength(){let b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__vector_len(this.bb_pos+b):0}maxNodeIndex(){let b=this.bb.__offset(this.bb_pos,10);return b?this.bb.readUint32(this.bb_pos+b):0}nodeEdges(b,h){let _e=this.bb.__offset(this.bb_pos,12);return _e?(h||new g.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_e)+4*b),this.bb):null}nodeEdgesLength(){let b=this.bb.__offset(this.bb_pos,12);return b?this.bb.__vector_len(this.bb_pos+b):0}inputs(b,h){let _e=this.bb.__offset(this.bb_pos,14);return _e?this.bb.__string(this.bb.__vector(this.bb_pos+_e)+4*b,h):null}inputsLength(){let b=this.bb.__offset(this.bb_pos,14);return b?this.bb.__vector_len(this.bb_pos+b):0}outputs(b,h){let _e=this.bb.__offset(this.bb_pos,16);return _e?this.bb.__string(this.bb.__vector(this.bb_pos+_e)+4*b,h):null}outputsLength(){let b=this.bb.__offset(this.bb_pos,16);return b?this.bb.__vector_len(this.bb_pos+b):0}sparseInitializers(b,h){let _e=this.bb.__offset(this.bb_pos,18);return _e?(h||new g.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_e)+4*b),this.bb):null}sparseInitializersLength(){let b=this.bb.__offset(this.bb_pos,18);return b?this.bb.__vector_len(this.bb_pos+b):0}static startGraph(b){b.startObject(8)}static addInitializers(b,h){b.addFieldOffset(0,h,0)}static createInitializersVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startInitializersVector(b,h){b.startVector(4,h,4)}static addNodeArgs(b,h){b.addFieldOffset(1,h,0)}static createNodeArgsVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startNodeArgsVector(b,h){b.startVector(4,h,4)}static addNodes(b,h){b.addFieldOffset(2,h,0)}static createNodesVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startNodesVector(b,h){b.startVector(4,h,4)}static addMaxNodeIndex(b,h){b.addFieldInt32(3,h,0)}static addNodeEdges(b,h){b.addFieldOffset(4,h,0)}static createNodeEdgesVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startNodeEdgesVector(b,h){b.startVector(4,h,4)}static addInputs(b,h){b.addFieldOffset(5,h,0)}static createInputsVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startInputsVector(b,h){b.startVector(4,h,4)}static addOutputs(b,h){b.addFieldOffset(6,h,0)}static createOutputsVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startOutputsVector(b,h){b.startVector(4,h,4)}static addSparseInitializers(b,h){b.addFieldOffset(7,h,0)}static createSparseInitializersVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startSparseInitializersVector(b,h){b.startVector(4,h,4)}static endGraph(b){return b.endObject()}static createGraph(b,h,_e,nt,rt,it,st,ot,at){return tt.startGraph(b),tt.addInitializers(b,h),tt.addNodeArgs(b,_e),tt.addNodes(b,nt),tt.addMaxNodeIndex(b,rt),tt.addNodeEdges(b,it),tt.addInputs(b,st),tt.addOutputs(b,ot),tt.addSparseInitializers(b,at),tt.endGraph(b)}}j.Graph=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsModel(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsModel(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}irVersion(){let b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readInt64(this.bb_pos+b):this.bb.createLong(0,0)}opsetImport(b,h){let _e=this.bb.__offset(this.bb_pos,6);return _e?(h||new g.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_e)+4*b),this.bb):null}opsetImportLength(){let b=this.bb.__offset(this.bb_pos,6);return b?this.bb.__vector_len(this.bb_pos+b):0}producerName(b){let h=this.bb.__offset(this.bb_pos,8);return h?this.bb.__string(this.bb_pos+h,b):null}producerVersion(b){let h=this.bb.__offset(this.bb_pos,10);return h?this.bb.__string(this.bb_pos+h,b):null}domain(b){let h=this.bb.__offset(this.bb_pos,12);return h?this.bb.__string(this.bb_pos+h,b):null}modelVersion(){let b=this.bb.__offset(this.bb_pos,14);return b?this.bb.readInt64(this.bb_pos+b):this.bb.createLong(0,0)}docString(b){let h=this.bb.__offset(this.bb_pos,16);return h?this.bb.__string(this.bb_pos+h,b):null}graph(b){let h=this.bb.__offset(this.bb_pos,18);return h?(b||new g.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}graphDocString(b){let h=this.bb.__offset(this.bb_pos,20);return h?this.bb.__string(this.bb_pos+h,b):null}static startModel(b){b.startObject(9)}static addIrVersion(b,h){b.addFieldInt64(0,h,b.createLong(0,0))}static addOpsetImport(b,h){b.addFieldOffset(1,h,0)}static createOpsetImportVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startOpsetImportVector(b,h){b.startVector(4,h,4)}static addProducerName(b,h){b.addFieldOffset(2,h,0)}static addProducerVersion(b,h){b.addFieldOffset(3,h,0)}static addDomain(b,h){b.addFieldOffset(4,h,0)}static addModelVersion(b,h){b.addFieldInt64(5,h,b.createLong(0,0))}static addDocString(b,h){b.addFieldOffset(6,h,0)}static addGraph(b,h){b.addFieldOffset(7,h,0)}static addGraphDocString(b,h){b.addFieldOffset(8,h,0)}static endModel(b){return b.endObject()}static createModel(b,h,_e,nt,rt,it,st,ot,at,ct){return tt.startModel(b),tt.addIrVersion(b,h),tt.addOpsetImport(b,_e),tt.addProducerName(b,nt),tt.addProducerVersion(b,rt),tt.addDomain(b,it),tt.addModelVersion(b,st),tt.addDocString(b,ot),tt.addGraph(b,at),tt.addGraphDocString(b,ct),tt.endModel(b)}}j.Model=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsKernelCreateInfos(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsKernelCreateInfos(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}nodeIndices(b){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.readUint32(this.bb.__vector(this.bb_pos+h)+4*b):0}nodeIndicesLength(){let b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__vector_len(this.bb_pos+b):0}nodeIndicesArray(){let b=this.bb.__offset(this.bb_pos,4);return b?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+b),this.bb.__vector_len(this.bb_pos+b)):null}kernelDefHashes(b){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.readUint64(this.bb.__vector(this.bb_pos+h)+8*b):this.bb.createLong(0,0)}kernelDefHashesLength(){let b=this.bb.__offset(this.bb_pos,6);return b?this.bb.__vector_len(this.bb_pos+b):0}static startKernelCreateInfos(b){b.startObject(2)}static addNodeIndices(b,h){b.addFieldOffset(0,h,0)}static createNodeIndicesVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addInt32(h[_e]);return b.endVector()}static startNodeIndicesVector(b,h){b.startVector(4,h,4)}static addKernelDefHashes(b,h){b.addFieldOffset(1,h,0)}static createKernelDefHashesVector(b,h){b.startVector(8,h.length,8);for(let _e=h.length-1;_e>=0;_e--)b.addInt64(h[_e]);return b.endVector()}static startKernelDefHashesVector(b,h){b.startVector(8,h,8)}static endKernelCreateInfos(b){return b.endObject()}static createKernelCreateInfos(b,h,_e){return tt.startKernelCreateInfos(b),tt.addNodeIndices(b,h),tt.addKernelDefHashes(b,_e),tt.endKernelCreateInfos(b)}}j.KernelCreateInfos=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsSubGraphSessionState(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsSubGraphSessionState(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}graphId(b){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.__string(this.bb_pos+h,b):null}sessionState(b){let h=this.bb.__offset(this.bb_pos,6);return h?(b||new g.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}static startSubGraphSessionState(b){b.startObject(2)}static addGraphId(b,h){b.addFieldOffset(0,h,0)}static addSessionState(b,h){b.addFieldOffset(1,h,0)}static endSubGraphSessionState(b){let h=b.endObject();return b.requiredField(h,4),h}static createSubGraphSessionState(b,h,_e){return tt.startSubGraphSessionState(b),tt.addGraphId(b,h),tt.addSessionState(b,_e),tt.endSubGraphSessionState(b)}}j.SubGraphSessionState=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsSessionState(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsSessionState(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}kernels(b){let h=this.bb.__offset(this.bb_pos,4);return h?(b||new g.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}subGraphSessionStates(b,h){let _e=this.bb.__offset(this.bb_pos,6);return _e?(h||new g.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_e)+4*b),this.bb):null}subGraphSessionStatesLength(){let b=this.bb.__offset(this.bb_pos,6);return b?this.bb.__vector_len(this.bb_pos+b):0}static startSessionState(b){b.startObject(2)}static addKernels(b,h){b.addFieldOffset(0,h,0)}static addSubGraphSessionStates(b,h){b.addFieldOffset(1,h,0)}static createSubGraphSessionStatesVector(b,h){b.startVector(4,h.length,4);for(let _e=h.length-1;_e>=0;_e--)b.addOffset(h[_e]);return b.endVector()}static startSubGraphSessionStatesVector(b,h){b.startVector(4,h,4)}static endSessionState(b){return b.endObject()}static createSessionState(b,h,_e){return tt.startSessionState(b),tt.addKernels(b,h),tt.addSubGraphSessionStates(b,_e),tt.endSessionState(b)}}j.SessionState=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(g){(function($){(function(j){class tt{constructor(){this.bb=null,this.bb_pos=0}__init(b,h){return this.bb_pos=b,this.bb=h,this}static getRootAsInferenceSession(b,h){return(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static getSizePrefixedRootAsInferenceSession(b,h){return b.setPosition(b.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(h||new tt).__init(b.readInt32(b.position())+b.position(),b)}static bufferHasIdentifier(b){return b.__has_identifier("ORTM")}ortVersion(b){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.__string(this.bb_pos+h,b):null}model(b){let h=this.bb.__offset(this.bb_pos,6);return h?(b||new g.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}sessionState(b){let h=this.bb.__offset(this.bb_pos,8);return h?(b||new g.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+h),this.bb):null}static startInferenceSession(b){b.startObject(3)}static addOrtVersion(b,h){b.addFieldOffset(0,h,0)}static addModel(b,h){b.addFieldOffset(1,h,0)}static addSessionState(b,h){b.addFieldOffset(2,h,0)}static endInferenceSession(b){return b.endObject()}static finishInferenceSessionBuffer(b,h){b.finish(h,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(b,h){b.finish(h,"ORTM",!0)}static createInferenceSession(b,h,_e,nt){return tt.startInferenceSession(b),tt.addOrtVersion(b,h),tt.addModel(b,_e),tt.addSessionState(b,nt),tt.endInferenceSession(b)}}j.InferenceSession=tt})($.fbs||($.fbs={}))})(g.experimental||(g.experimental={}))}(e.onnxruntime||(e.onnxruntime={}))},7448:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OnnxjsSessionHandler=void 0;const a=s(1670),c=s(9162);e.OnnxjsSessionHandler=class{constructor(d){this.session=d,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(d,g,$){const j=new Map;for(const b in d)if(Object.hasOwnProperty.call(d,b)){const h=d[b];j.set(b,new c.Tensor(h.dims,h.type,void 0,void 0,h.data))}const tt=await this.session.run(j),et={};return tt.forEach((b,h)=>{et[h]=new a.Tensor(b.type,b.data,b.dims)}),et}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Session=void 0;const a=s(7067),c=s(1296),d=s(7091),g=s(1036),$=s(6231),j=s(2644);e.Session=class{constructor(tt={}){this._initialized=!1,this.backendHint=tt.backendHint,this.profiler=$.Profiler.create(tt.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(tt,et,b){await this.profiler.event("session","Session.loadModel",async()=>{const h=await(0,d.resolveBackend)(this.backendHint);if(this.sessionHandler=h.createSessionHandler(this.context),this._model=new j.Model,typeof tt=="string"){const _e=tt.endsWith(".ort");if(typeof fetch>"u"){const nt=await(0,c.promisify)(a.readFile)(tt);this.initialize(nt,_e)}else{const nt=await fetch(tt),rt=await nt.arrayBuffer();this.initialize(new Uint8Array(rt),_e)}}else if(ArrayBuffer.isView(tt))this.initialize(tt);else{const _e=new Uint8Array(tt,et||0,b||tt.byteLength);this.initialize(_e)}})}initialize(tt,et){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const b=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(tt,b,et),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new g.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(tt){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const et=this.normalizeAndValidateInputs(tt),b=await this._executionPlan.execute(this.sessionHandler,et);return this.createOutput(b)})}normalizeAndValidateInputs(tt){const et=this._model.graph.getInputNames();if(Array.isArray(tt)){if(tt.length!==et.length)throw new Error(`incorrect input array length: expected ${et.length} but got ${tt.length}`)}else{if(tt.size!==et.length)throw new Error(`incorrect input map size: expected ${et.length} but got ${tt.size}`);const b=new Array(tt.size);let h=0;for(let _e=0;_e<et.length;++_e){const nt=tt.get(et[_e]);if(!nt)throw new Error(`missing input tensor for: '${name}'`);b[h++]=nt}tt=b}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,tt,!1);else{const b=this._model.graph.getInputIndices(),h=this._model.graph.getValues(),_e=new Array(b.length);for(let nt=0;nt<b.length;++nt){const rt=h[b[nt]];_e[nt]=rt.type.shape.dims,this.context.graphInputTypes.push(rt.type.tensorType),this.context.graphInputDims.push(tt[nt].dims)}this.validateInputTensorDims(_e,tt,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,tt),tt}validateInputTensorTypes(tt,et){for(let b=0;b<et.length;b++){const h=tt[b],_e=et[b].type;if(h!==_e)throw new Error(`input tensor[${b}] check failed: expected type '${h}' but got ${_e}`)}}validateInputTensorDims(tt,et,b){for(let h=0;h<et.length;h++){const _e=tt[h],nt=et[h].dims;if(!this.compareTensorDims(_e,nt,b))throw new Error(`input tensor[${h}] check failed: expected shape '[${_e.join(",")}]' but got [${nt.join(",")}]`)}}compareTensorDims(tt,et,b){if(tt.length!==et.length)return!1;for(let h=0;h<tt.length;++h)if(tt[h]!==et[h]&&(!b||tt[h]!==0))return!1;return!0}createOutput(tt){const et=this._model.graph.getOutputNames();if(tt.length!==et.length)throw new Error("expected number of outputs do not match number of generated outputs");const b=new Map;for(let h=0;h<et.length;++h)b.set(et[h],tt[h]);return b}initializeOps(tt){const et=tt.getNodes();this._ops=new Array(et.length);for(let b=0;b<et.length;b++)this._ops[b]=this.sessionHandler.resolve(et[b],this._model.opsets,tt)}}},9162:function(o,e,s){var a=this&&this.__importDefault||function(rt){return rt&&rt.__esModule?rt:{default:rt}};Object.defineProperty(e,"__esModule",{value:!0}),e.Tensor=void 0;const c=s(3442),d=a(s(3720)),g=s(1446),$=s(9395),j=s(2517);var tt=$.onnxruntime.experimental.fbs;class et{get data(){if(this.cache===void 0){const it=this.dataProvider(this.dataId);if(it.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=it}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(it){return this.data[j.ShapeUtil.indicesToOffset(it,this.strides)]}set(it,st){this.data[j.ShapeUtil.indicesToOffset(it,this.strides)]=st}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=j.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(it,st,ot,at,ct,ut=c.Guid.create()){this.dims=it,this.type=st,this.dataProvider=ot,this.asyncDataProvider=at,this.cache=ct,this.dataId=ut,this.size=j.ShapeUtil.validateDimsAndCalcSize(it);const dt=this.size,ht=ot===void 0&&at===void 0&&ct===void 0;if(ct!==void 0&&ct.length!==dt)throw new RangeError("Input dims doesn't match data length.");if(st==="string"){if(!(ct===void 0||Array.isArray(ct)&&ct.every(pt=>typeof pt=="string")))throw new TypeError("cache should be a string array");ht&&(this.cache=new Array(dt))}else{if(ct!==void 0){const pt=h(st);if(!(ct instanceof pt))throw new TypeError(`cache should be type ${pt.name}`)}if(ht){const pt=new ArrayBuffer(dt*function(ft){switch(ft){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${ft}`)}}(st));this.cache=function(ft,bt){return new(h(bt))(ft)}(pt,st)}}}static fromProto(it){if(!it)throw new Error("cannot construct Value from an empty tensor");const st=j.ProtoUtil.tensorDataTypeFromProto(it.dataType),ot=j.ProtoUtil.tensorDimsFromProto(it.dims),at=new et(ot,st);if(st==="string")it.stringData.forEach((ct,ut)=>{at.data[ut]=(0,j.decodeUtf8String)(ct)});else if(it.rawData&&typeof it.rawData.byteLength=="number"&&it.rawData.byteLength>0){const ct=at.data,ut=new DataView(it.rawData.buffer,it.rawData.byteOffset,it.rawData.byteLength),dt=b(it.dataType),ht=it.rawData.byteLength/dt;if(it.rawData.byteLength%dt!=0)throw new Error("invalid buffer length");if(ct.length!==ht)throw new Error("buffer length mismatch");for(let pt=0;pt<ht;pt++){const ft=nt(ut,it.dataType,pt*dt);ct[pt]=ft}}else{let ct;switch(it.dataType){case g.onnx.TensorProto.DataType.FLOAT:ct=it.floatData;break;case g.onnx.TensorProto.DataType.INT32:case g.onnx.TensorProto.DataType.INT16:case g.onnx.TensorProto.DataType.UINT16:case g.onnx.TensorProto.DataType.INT8:case g.onnx.TensorProto.DataType.UINT8:case g.onnx.TensorProto.DataType.BOOL:ct=it.int32Data;break;case g.onnx.TensorProto.DataType.INT64:ct=it.int64Data;break;case g.onnx.TensorProto.DataType.DOUBLE:ct=it.doubleData;break;case g.onnx.TensorProto.DataType.UINT32:case g.onnx.TensorProto.DataType.UINT64:ct=it.uint64Data;break;default:throw new Error("unspecific error")}if(ct==null)throw new Error("failed to populate data from a tensorproto value");const ut=at.data;if(ut.length!==ct.length)throw new Error("array length mismatch");for(let dt=0;dt<ct.length;dt++){const ht=ct[dt];d.default.isLong(ht)?ut[dt]=_e(ht,it.dataType):ut[dt]=ht}}return at}static fromData(it,st,ot){return new et(st,ot,void 0,void 0,it)}static fromOrtTensor(it){if(!it)throw new Error("cannot construct Value from an empty tensor");const st=j.ProtoUtil.tensorDimsFromORTFormat(it),ot=j.ProtoUtil.tensorDataTypeFromProto(it.dataType()),at=new et(st,ot);if(ot==="string")for(let ct=0;ct<it.stringDataLength();ct++)at.data[ct]=it.stringData(ct);else if(it.rawDataArray()&&typeof it.rawDataLength()=="number"&&it.rawDataLength()>0){const ct=at.data,ut=new DataView(it.rawDataArray().buffer,it.rawDataArray().byteOffset,it.rawDataLength()),dt=b(it.dataType()),ht=it.rawDataLength()/dt;if(it.rawDataLength()%dt!=0)throw new Error("invalid buffer length");if(ct.length!==ht)throw new Error("buffer length mismatch");for(let pt=0;pt<ht;pt++){const ft=nt(ut,it.dataType(),pt*dt);ct[pt]=ft}}return at}}function b(rt){switch(rt){case g.onnx.TensorProto.DataType.UINT8:case g.onnx.TensorProto.DataType.INT8:case g.onnx.TensorProto.DataType.BOOL:return 1;case g.onnx.TensorProto.DataType.UINT16:case g.onnx.TensorProto.DataType.INT16:return 2;case g.onnx.TensorProto.DataType.FLOAT:case g.onnx.TensorProto.DataType.INT32:case g.onnx.TensorProto.DataType.UINT32:return 4;case g.onnx.TensorProto.DataType.INT64:case g.onnx.TensorProto.DataType.DOUBLE:case g.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${g.onnx.TensorProto.DataType[rt]}`)}}function h(rt){switch(rt){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function _e(rt,it){if(it===g.onnx.TensorProto.DataType.INT64||it===tt.TensorDataType.INT64){if(rt.greaterThanOrEqual(2147483648)||rt.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(it!==g.onnx.TensorProto.DataType.UINT32&&it!==tt.TensorDataType.UINT32&&it!==g.onnx.TensorProto.DataType.UINT64&&it!==tt.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${g.onnx.TensorProto.DataType[it]}`);if(rt.greaterThanOrEqual(4294967296)||rt.lessThan(0))throw new TypeError("uint64 is not supported")}return rt.toNumber()}function nt(rt,it,st){switch(it){case g.onnx.TensorProto.DataType.BOOL:case g.onnx.TensorProto.DataType.UINT8:return rt.getUint8(st);case g.onnx.TensorProto.DataType.INT8:return rt.getInt8(st);case g.onnx.TensorProto.DataType.UINT16:return rt.getUint16(st,!0);case g.onnx.TensorProto.DataType.INT16:return rt.getInt16(st,!0);case g.onnx.TensorProto.DataType.FLOAT:return rt.getFloat32(st,!0);case g.onnx.TensorProto.DataType.INT32:return rt.getInt32(st,!0);case g.onnx.TensorProto.DataType.UINT32:return rt.getUint32(st,!0);case g.onnx.TensorProto.DataType.INT64:return _e(d.default.fromBits(rt.getUint32(st,!0),rt.getUint32(st+4,!0),!1),it);case g.onnx.TensorProto.DataType.DOUBLE:return rt.getFloat64(st,!0);case g.onnx.TensorProto.DataType.UINT64:return _e(d.default.fromBits(rt.getUint32(st,!0),rt.getUint32(st+4,!0),!0),it);default:throw new Error(`cannot read from DataView for type ${g.onnx.TensorProto.DataType[it]}`)}}e.Tensor=et},2517:function(o,e,s){var a=this&&this.__importDefault||function(it){return it&&it.__esModule?it:{default:it}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUtf8String=e.MAX_CLIP=e.MIN_CLIP=e.PoolConvUtil=e.ReduceUtil=e.SplitUtil=e.MathUtil=e.ShapeUtil=e.LongUtil=e.ProtoUtil=e.GemmUtil=e.arrayCopyHelper=e.BroadcastUtil=e.MatMulUtil=e.ArrayUtil=e.assert=e.checkInputsShape=void 0;const c=s(5686),d=a(s(3720)),g=s(1446),$=s(9162);e.checkInputsShape=function(it,...st){if(!it||it.length!==st.length)return!1;for(let ot=0;ot<it.length;ot++)if(!it[ot].dims||it[ot].dims.length!==st[ot])return!1;return!0},e.assert=function(it,st){if(!it)throw new Error(typeof st=="string"?st:st())},e.ArrayUtil=class{static arraysEqual(it,st){if(it.length!==st.length)return!1;for(let ot=0;ot<it.length;ot++)if(it[ot]!==st[ot])return!1;return!0}};class j{static preprocessInputShapes(st,ot){return[st.length===1?[1,st[0]]:st,ot.length===1?[ot[0],1]:ot]}static postprocessOutputShape(st,ot,at){ot===1&&st.splice(st.length-2,1),at===1&&st.pop()}static calcMatMulShape(st,ot){return st[1]!==ot[0]?void 0:[st[0],ot[1]]}}e.MatMulUtil=j;class tt{static calcShape(st,ot,at=!1){const ct=st.length,ut=ot.length;if(ct===0)return ot;if(ut===0)return st;const dt=Math.max(st.length,ot.length),ht=new Array(dt);if(at){if(ct<2||ut<2)return;const pt=j.calcMatMulShape([st[ct-2],st[ct-1]],[ot[ut-2],ot[ut-1]]);if(pt===void 0)return;[ht[dt-2],ht[dt-1]]=pt}for(let pt=at?3:1;pt<=dt;pt++){const ft=ct-pt<0?1:st[ct-pt],bt=ut-pt<0?1:ot[ut-pt];if(ft!==bt&&ft>1&&bt>1)return;ht[dt-pt]=Math.max(ft,bt)}return ht}static index(st,ot){const at=new Array(ot.length);return tt.fillIndex(st,ot,at),at}static fillIndex(st,ot,at){const ct=st.length-ot.length;for(let ut=0;ut<ot.length;ut++)at[ut]=st[ct+ut]%ot[ut]}static calc(st,ot,at,ct,ut){const dt=tt.calcShape(st.dims,ot.dims);if(dt){if(ct&&!h.areEqual(dt,st.dims))return;const ht=h.size(dt),pt=ct?st:new $.Tensor(dt,ut||st.type);if(dt.length===0)pt.set([],at(st.get([]),ot.get([])));else{const ft=new Array(dt.length),bt=new Array(st.dims.length),Ct=new Array(ot.dims.length);let yt,Et=0,gt=0,At=!1,mt=!1;st.dims.length===0&&(Et=st.get([]),At=!0),ot.dims.length===0&&(gt=ot.get([]),mt=!0);for(let _t=0;_t<ht;_t++){yt=_t;for(let St=dt.length-1;St>=0;St--)ft[St]=yt%dt[St],yt=Math.floor(yt/dt[St]);At||(tt.fillIndex(ft,st.dims,bt),Et=st.get(bt)),mt||(tt.fillIndex(ft,ot.dims,Ct),gt=ot.get(Ct)),pt.set(ft,at(Et,gt))}}return pt}}static isValidBroadcast(st,ot){const at=st.length,ct=ot.length;if(at>ct)return!1;for(let ut=1;ut<=at;ut++)if(st[at-ut]!==1&&st[at-ut]!==ot[ct-ut])return!1;return!0}static getBroadcastDims(st,ot){const at=st.length,ct=[];for(let ut=0;ut<at;ut++){const dt=at-1-ut,ht=st[dt]||1;(ot[ot.length-1-ut]||1)>1&&ht===1&&ct.unshift(dt)}return ct}}e.BroadcastUtil=tt,e.arrayCopyHelper=function(it,st,ot,at,ct){if(at<0||at>=st.length)throw new Error("sourceIndex out of bounds");if(ot<0||ot>=it.length)throw new Error("targetIndex out of bounds");if(at+ct>st.length)throw new Error("source indices to be copied are outside bounds");if(ot+ct>it.length)throw new Error("target array is too small to hold result");for(let ut=0;ut<ct;ut++)it[ot+ut]=st[at+ut]},e.GemmUtil=class{static getShapeOfGemmResult(it,st,ot,at,ct){if(it.length!==2||ot.length!==2)throw new Error("shape need to be of size 2");let ut,dt,ht;st?(ut=it[1],dt=it[0]):(ut=it[0],dt=it[1]);let pt=-1;if(at?(ht=ot[0],pt=1):(ht=ot[1],pt=0),ot[pt]!==dt)throw new Error("dimension mismatch");if(ut<=0||ht<=0||dt<=0)throw new Error("invalid shape specified");if(ct&&!tt.isValidBroadcast(ct,[ut,ht]))throw new Error("gemm: invalid bias shape for broadcast");return[ut,ht,dt]}};class et{static tensorDataTypeFromProto(st){switch(st){case g.onnx.TensorProto.DataType.INT8:return"int8";case g.onnx.TensorProto.DataType.UINT8:return"uint8";case g.onnx.TensorProto.DataType.BOOL:return"bool";case g.onnx.TensorProto.DataType.INT16:return"int16";case g.onnx.TensorProto.DataType.UINT16:return"uint16";case g.onnx.TensorProto.DataType.INT32:return"int32";case g.onnx.TensorProto.DataType.UINT32:return"uint32";case g.onnx.TensorProto.DataType.FLOAT:return"float32";case g.onnx.TensorProto.DataType.DOUBLE:return"float64";case g.onnx.TensorProto.DataType.STRING:return"string";case g.onnx.TensorProto.DataType.INT64:return"int32";case g.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${g.onnx.TensorProto.DataType[st]}`)}}static tensorDataTypeStringToEnum(st){switch(st){case"int8":return g.onnx.TensorProto.DataType.INT8;case"uint8":return g.onnx.TensorProto.DataType.UINT8;case"bool":return g.onnx.TensorProto.DataType.BOOL;case"int16":return g.onnx.TensorProto.DataType.INT16;case"uint16":return g.onnx.TensorProto.DataType.UINT16;case"int32":return g.onnx.TensorProto.DataType.INT32;case"uint32":return g.onnx.TensorProto.DataType.UINT32;case"float32":return g.onnx.TensorProto.DataType.FLOAT;case"float64":return g.onnx.TensorProto.DataType.DOUBLE;case"string":return g.onnx.TensorProto.DataType.STRING;case"int64":return g.onnx.TensorProto.DataType.INT64;case"uint64":return g.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${st}`)}}static tensorDimsFromProto(st){return st.map(ot=>d.default.isLong(ot)?ot.toNumber():ot)}static tensorValueTypeFromProto(st){return{tensorType:et.tensorDataTypeFromProto(st.elemType),shape:{dims:et.tensorDimsFromProto(st.shape.dim.map(ot=>ot.dimValue))}}}static tensorDimsFromORTFormat(st){const ot=[];for(let at=0;at<st.dimsLength();at++)ot.push(b.longToNumber(st.dims(at)));return ot}static tensorAttributesFromORTFormat(st){const ot=[];for(let at=0;at<st.attributesLength();at++)ot.push(st.attributes(at));return ot}}e.ProtoUtil=et;class b{static longToNumber(st,ot){return d.default.isLong(st)?st.toNumber():st instanceof c.flatbuffers.Long?d.default.fromValue({low:st.low,high:st.high,unsigned:ot!=null&&ot}).toNumber():st}static isLong(st){return d.default.isLong(st)||st instanceof c.flatbuffers.Long}}e.LongUtil=b;class h{static size(st){return h.getSizeFromDimensionRange(st,0,st.length)}static sizeFromDimension(st,ot){if(ot<0||ot>st.length)throw new Error(`invalid dimension of ${ot} for sizeFromDimension as Tensor has ${st.length} dimensions.`);return h.getSizeFromDimensionRange(st,ot,st.length)}static sizeToDimension(st,ot){if(ot<0||ot>st.length)throw new Error(`invalid dimension of ${ot} for sizeToDimension as Tensor has ${st.length} dimensions.`);return h.getSizeFromDimensionRange(st,0,ot)}static getSizeFromDimensionRange(st,ot,at){let ct=1;for(let ut=ot;ut<at;ut++){if(st[ut]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");ct*=st[ut]}return ct}static computeStrides(st){const ot=st.length;if(ot===0)return[];if(ot===1)return[1];const at=new Array(ot);at[ot-1]=1,at[ot-2]=st[ot-1];for(let ct=ot-3;ct>=0;--ct)at[ct]=at[ct+1]*st[ct+1];return at}static transpose(st){return st.slice().reverse()}static indicesToOffset(st,ot,at){at===void 0&&(at=st.length);let ct=0;for(let ut=0;ut<at;++ut)ct+=ot[ut]*st[ut];return ct}static offsetToIndices(st,ot){const at=ot.length;if(at===0)return[];if(at===1)return[st*ot[0]];const ct=new Array(ot.length);for(let ut=0;ut<ct.length-1;++ut)ct[ut]=Math.floor(st/ot[ut]),st-=ct[ut]*ot[ut];return ct[ct.length-1]=st,ct}static normalizeAxis(st,ot){if(st<-ot&&st>=ot)throw new Error("unsupported axis for this operation.");return st<0?st+ot:st}static normalizeAxes(st,ot){return st.map(at=>this.normalizeAxis(at,ot))}static incrementIndex(st,ot,at){if(ot.length===0||st.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(at===void 0)at=ot.length;else if(at<=0||at>ot.length)throw new Error("Incorrect axis to increment on");for(let ct=at-1;ct>=0&&(st[ct]++,!(st[ct]<ot[ct]));--ct)st[ct]=0}static calculateReshapedDims(st,ot){if(ot.length===0){if(st.length===0||h.size(st)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const at=ot.length,ct=new Array(at);let ut=-1,dt=1;for(let pt=0;pt<at;pt++){if(ot[pt]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(ot[pt]===-1){if(ut!==-1)throw new Error("at most one dimension in shape hints can be -1");ut=pt}else{if(ot[pt]===0){if(pt>=st.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");ct[pt]=st[pt]}else ct[pt]=ot[pt];dt*=ct[pt]}}const ht=h.size(st);if(ut!==-1){if(ht%dt!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${st}] Output shape: [${ot}]`);ct[ut]=ht/dt}else if(dt!==ht)throw new Error("reshapedDims and originalDims don't have matching sizes");return ct}static sortBasedOnPerm(st,ot){return ot?ot.map(at=>st[at]):st.slice().reverse()}static padShape(st,ot){const at=st.length;return st.map((ct,ut)=>ct+ot[ut]+ot[ut+at])}static areEqual(st,ot){return st.length===ot.length&&st.every((at,ct)=>at===ot[ct])}static validateDimsAndCalcSize(st){if(st.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let ot=1;for(const at of st){if(!Number.isInteger(at))throw new TypeError(`Invalid shape: ${at} is not an integer`);if(at<0||at>2147483647)throw new TypeError(`Invalid shape: length ${at} is not allowed`);ot*=at}return ot}static flattenShape(st,ot){ot<0&&(ot+=st.length);const at=st.reduce((ut,dt)=>ut*dt,1),ct=st.slice(ot).reduce((ut,dt)=>ut*dt,1);return[at/ct,ct]}static squeezeShape(st,ot){const at=new Array;ot=h.normalizeAxes(ot,st.length);for(let ct=0;ct<st.length;ct++){const ut=ot.indexOf(ct)>=0;if(ut&&st[ct]!==1)throw new Error("squeeze an axis of size different than 1");(ot.length===0&&st[ct]>1||ot.length>0&&!ut)&&at.push(st[ct])}return at}static unsqueezeShape(st,ot){const at=new Array(st.length+ot.length);at.fill(0);for(let ut=0;ut<ot.length;ut++){const dt=h.normalizeAxis(ot[ut],at.length);if(dt>=at.length)throw new Error("'axes' has an out of range axis");if(at[dt]!==0)throw new Error("'axes' has a duplicate axis");at[dt]=1}let ct=0;for(let ut=0;ut<at.length;ut++)at[ut]===0&&(at[ut]=st[ct++]);if(ct!==st.length)throw new Error("the unsqueezed dimension could not be established");return at}}e.ShapeUtil=h,e.MathUtil=class{static sqr(it,st,ot,at,ct){if(at<0||at>=st.length)throw new Error("sourceIndex out of bounds");if(ot<0||ot>=it.length)throw new Error("targetIndex out of bounds");if(at+ct>st.length)throw new Error("source indices to be copied are outside bounds");if(ot+ct>it.length)throw new Error("target array is too small to hold result");for(let ut=0;ut<ct;ut++)it[ot+ut]+=Math.pow(st[at+ut],2)}static axpy(it,st,ot,at,ct,ut){if(at<0||at>=st.length)throw new Error("sourceIndex out of bounds");if(ot<0||ot>=it.length)throw new Error("targetIndex out of bounds");if(at+ct>st.length)throw new Error("source indices to be copied are outside bounds");if(ot+ct>it.length)throw new Error("target array is too small to hold result");for(let dt=0;dt<ct;dt++)it[ot+dt]+=ut*st[at+dt]}static powx(it,st,ot,at,ct,ut){if(at<0||at>=st.length)throw new Error("sourceIndex out of bounds");if(ot<0||ot>=it.length)throw new Error("targetIndex out of bounds");if(at+ct>st.length)throw new Error("source indices to be copied are outside bounds");if(ot+ct>it.length)throw new Error("target array is too small to hold result");for(let dt=0;dt<ct;dt++)it[ot+dt]=Math.pow(st[at+dt],ut)}static mul(it,st,ot,at,ct){if(at<0||at>=st.length)throw new Error("sourceIndex out of bounds");if(ot<0||ot>=it.length)throw new Error("targetIndex out of bounds");if(at+ct>st.length)throw new Error("source indices to be copied are outside bounds");if(ot+ct>it.length)throw new Error("target array is too small to hold result");for(let ut=0;ut<ct;ut++)it[ot+ut]=st[at+ut]*it[ot+ut]}};class _e{static splitShape(st,ot,at,ct){if(at.length===0){if(!ct)throw new Error("need to know number of outputs when the 'split' attribute is not specified");_e.determineSplit(st[ot],ct,at)}const ut=[],dt=[0];for(let ht=0;ht<at.length;++ht){ht!==0&&dt.push(dt[ht-1]+at[ht-1]);const pt=st.slice();pt[ot]=at[ht],ut.push(pt)}return[ut,dt]}static determineSplit(st,ot,at){if(st%ot!=0)throw new Error("cannot split tensor to equal sized parts");for(let ct=0;ct<ot;++ct)at.push(st/ot)}}e.SplitUtil=_e;class nt{static calcReduce(st,ot,at,ct,ut){const dt=st.dims.slice(0);ot.length===0&&dt.forEach((Et,gt)=>ot.push(gt));const ht=nt.calcReduceShape(dt,ot,!0),pt=h.size(ht),ft=new $.Tensor(ht,st.type),bt=h.computeStrides(ht),Ct=h.computeStrides(dt),yt=new Array(dt.length);for(let Et=0;Et<pt;Et++){const gt=h.offsetToIndices(Et,bt);tt.fillIndex(gt,dt,yt),ft.set(gt,nt.calcReduceByAxis(st.numberData,ot,dt,0,h.indicesToOffset(yt,Ct),ct,ut))}return at?ft:new $.Tensor(nt.calcReduceShape(dt,ot,at),ft.type,void 0,void 0,ft.data,ft.dataId)}static calcReduceByAxis(st,ot,at,ct,ut,dt,ht){let pt=0;if(ct>=ot.length)return dt(st[ut]);const ft=ot[ct],bt=ft>=at.length?1:h.size(at.slice(ft+1));for(let Ct=0;Ct<at[ft];Ct++)pt=Ct===0?nt.calcReduceByAxis(st,ot,at,ct+1,ut,dt,ht):ht(pt,nt.calcReduceByAxis(st,ot,at,ct+1,ut,dt,ht)),ut+=bt;return pt}static calcReduceShape(st,ot,at){const ct=st.slice();for(let ut=0;ut<ot.length;ut++)ct[ot[ut]]=at?1:0;return ct.filter(ut=>ut!==0)}}e.ReduceUtil=nt;class rt{static adjustPoolAttributes(st,ot,at,ct,ut,dt){if(!st&&at.length!==ot.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(st)for(let ht=0;ht<ot.length-2;ht++)ht>=at.length?at.push(ot[ht+2]):at[ht]=ot[ht+2];for(let ht=0;ht<at.length;ht++)if(ht<ct.length){if(ct[ht]<0)throw new Error("strides should be greater than or equal to 1")}else ct.push(1);for(let ht=0;ht<at.length;ht++)if(ht<ut.length){if(ut[ht]<0)throw new Error("dilations should be greater than or equal to 1")}else ut.push(1);for(let ht=0;ht<2*at.length;ht++)if(ht<dt.length){if(dt[ht]<0)throw new Error("pad should be greater than or equal to 1")}else dt.push(0);for(let ht=0;ht<at.length;ht++){if(at[ht]<=0)throw new Error("kernel shapes need to be greater than 0");if(dt[ht]>=at[ht]||dt[ht+at.length]>=at[ht])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(st,ot,at,ct,ut,dt){if(dt){if(ut.length!==2*(st.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(ot.length!==st.length-2)throw new Error("length of strides should be the length of data dimensions");if(ct.length!==st.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let ht=0;ht<st.length-2;ht++)rt.adjustPadAndReturnShape(st[ht+2],ot[ht],at[ht],ct[ht],ut,ht,ht+st.length-2,dt)}}static computePoolOutputShape(st,ot,at,ct,ut,dt,ht){if(ot.length<=0)throw new Error("input shape must be of size greater than 0");const pt=[ot[0],ot[1]];return rt.computeShapeHelper(st,ot,pt,at,ct,ut,dt,ht),pt}static computeConvOutputShape(st,ot,at,ct,ut,dt,ht){if(st.length<=0||ot.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const pt=[st[0],ot[0]];return rt.computeShapeHelper(!1,st,pt,at,ct,ut,dt,ht),pt}static computeShapeHelper(st,ot,at,ct,ut,dt,ht,pt){if(st)for(let ft=0;ft<ot.length-2;ft++)at.push(1);else for(let ft=0;ft<ot.length-2;ft++)at.push(rt.adjustPadAndReturnShape(ot[ft+2],ct[ft],ut[ft],dt[ft],ht,ft,ft+ot.length-2,pt))}static adjustPadAndReturnShape(st,ot,at,ct,ut,dt,ht,pt){const ft=at*(ct-1)+1;if(!pt||pt==="NOTSET")return Math.floor((st+ut[dt]+ut[ht]-ft)/ot+1);switch(pt){case"VALID":return ut[dt]=0,ut[ht]=0,Math.floor((st-ft)/ot+1);case"SAME_LOWER":case"SAME_UPPER":if(at!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const bt=((st+ot-1)/ot-1)*ot+ct-st;return ut[dt]=Math.floor(pt==="SAME_LOWER"?(bt+1)/2:bt/2),ut[ht]=bt-ut[dt],Math.floor((st+bt-ct)/ot+1)}default:throw new Error("Unsupported AutoPad type")}}}e.PoolConvUtil=rt,e.MIN_CLIP=-34028234663852886e22,e.MAX_CLIP=34028234663852886e22,e.decodeUtf8String=function(it){return new TextDecoder().decode(it)}},7967:(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(s,a,c,d)=>{if(typeof s=="object"&&s!==null){if(c.has(s))throw new Error("Circular reference in options");c.add(s)}Object.entries(s).forEach(([g,$])=>{const j=a?a+g:g;if(typeof $=="object")(0,e.iterateExtraOptions)($,j+".",c,d);else if(typeof $=="string"||typeof $=="number")d(j,$.toString());else{if(typeof $!="boolean")throw new Error("Can't handle extra config type: "+typeof $);d(j,$?"1":"0")}})}},2157:function(o,e,s){var a,c=this&&this.__createBinding||(Object.create?function(bt,Ct,yt,Et){Et===void 0&&(Et=yt);var gt=Object.getOwnPropertyDescriptor(Ct,yt);gt&&!("get"in gt?!Ct.__esModule:gt.writable||gt.configurable)||(gt={enumerable:!0,get:function(){return Ct[yt]}}),Object.defineProperty(bt,Et,gt)}:function(bt,Ct,yt,Et){Et===void 0&&(Et=yt),bt[Et]=Ct[yt]}),d=this&&this.__setModuleDefault||(Object.create?function(bt,Ct){Object.defineProperty(bt,"default",{enumerable:!0,value:Ct})}:function(bt,Ct){bt.default=Ct}),g=this&&this.__importStar||function(bt){if(bt&&bt.__esModule)return bt;var Ct={};if(bt!=null)for(var yt in bt)yt!=="default"&&Object.prototype.hasOwnProperty.call(bt,yt)&&c(Ct,bt,yt);return d(Ct,bt),Ct};Object.defineProperty(e,"__esModule",{value:!0}),e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=e.initWasm=void 0;const $=s(1670),j=g(s(349)),tt=s(6361),et=()=>!!$.env.wasm.proxy&&typeof document<"u";let b,h,_e,nt=!1,rt=!1,it=!1;const st=[],ot=[],at=[],ct=[],ut=[],dt=[],ht=()=>{if(nt||!rt||it||!b)throw new Error("worker not ready")},pt=bt=>{switch(bt.data.type){case"init-wasm":nt=!1,bt.data.err?(it=!0,h[1](bt.data.err)):(rt=!0,h[0]());break;case"init-ort":bt.data.err?_e[1](bt.data.err):_e[0]();break;case"create_allocate":bt.data.err?st.shift()[1](bt.data.err):st.shift()[0](bt.data.out);break;case"create_finalize":bt.data.err?ot.shift()[1](bt.data.err):ot.shift()[0](bt.data.out);break;case"create":bt.data.err?at.shift()[1](bt.data.err):at.shift()[0](bt.data.out);break;case"release":bt.data.err?ct.shift()[1](bt.data.err):ct.shift()[0]();break;case"run":bt.data.err?ut.shift()[1](bt.data.err):ut.shift()[0](bt.data.out);break;case"end-profiling":bt.data.err?dt.shift()[1](bt.data.err):dt.shift()[0]()}},ft=typeof document<"u"?(a=document==null?void 0:document.currentScript)===null||a===void 0?void 0:a.src:void 0;e.initWasm=async()=>{if(et()){if(rt)return;if(nt)throw new Error("multiple calls to 'initWasm()' detected.");if(it)throw new Error("previous call to 'initWasm()' failed.");return nt=!0,$.env.wasm.wasmPaths===void 0&&ft&&ft.indexOf("blob:")!==0&&($.env.wasm.wasmPaths=ft.substr(0,+ft.lastIndexOf("/")+1)),new Promise((bt,Ct)=>{b==null||b.terminate(),b=s(9710).Z(),b.onmessage=pt,h=[bt,Ct];const yt={type:"init-wasm",in:$.env.wasm};b.postMessage(yt)})}return(0,tt.initializeWebAssembly)($.env.wasm)},e.initOrt=async(bt,Ct)=>{if(et())return ht(),new Promise((yt,Et)=>{_e=[yt,Et];const gt={type:"init-ort",in:{numThreads:bt,loggingLevel:Ct}};b.postMessage(gt)});j.initOrt(bt,Ct)},e.createSessionAllocate=async bt=>et()?(ht(),new Promise((Ct,yt)=>{st.push([Ct,yt]);const Et={type:"create_allocate",in:{model:bt}};b.postMessage(Et,[bt.buffer])})):j.createSessionAllocate(bt),e.createSessionFinalize=async(bt,Ct)=>et()?(ht(),new Promise((yt,Et)=>{ot.push([yt,Et]);const gt={type:"create_finalize",in:{modeldata:bt,options:Ct}};b.postMessage(gt)})):j.createSessionFinalize(bt,Ct),e.createSession=async(bt,Ct)=>et()?(ht(),new Promise((yt,Et)=>{at.push([yt,Et]);const gt={type:"create",in:{model:bt,options:Ct}};b.postMessage(gt,[bt.buffer])})):j.createSession(bt,Ct),e.releaseSession=async bt=>{if(et())return ht(),new Promise((Ct,yt)=>{ct.push([Ct,yt]);const Et={type:"release",in:bt};b.postMessage(Et)});j.releaseSession(bt)},e.run=async(bt,Ct,yt,Et,gt)=>et()?(ht(),new Promise((At,mt)=>{ut.push([At,mt]);const _t={type:"run",in:{sessionId:bt,inputIndices:Ct,inputs:yt,outputIndices:Et,options:gt}};b.postMessage(_t,j.extractTransferableBuffers(yt))})):j.run(bt,Ct,yt,Et,gt),e.endProfiling=async bt=>{if(et())return ht(),new Promise((Ct,yt)=>{dt.push([Ct,yt]);const Et={type:"end-profiling",in:bt};b.postMessage(Et)});j.endProfiling(bt)}},586:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const a=s(7967),c=s(4983),d=s(6361);e.setRunOptions=g=>{const $=(0,d.getInstance)();let j=0;const tt=[],et=g||{};try{if((g==null?void 0:g.logSeverityLevel)===void 0)et.logSeverityLevel=2;else if(typeof g.logSeverityLevel!="number"||!Number.isInteger(g.logSeverityLevel)||g.logSeverityLevel<0||g.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${g.logSeverityLevel}`);if((g==null?void 0:g.logVerbosityLevel)===void 0)et.logVerbosityLevel=0;else if(typeof g.logVerbosityLevel!="number"||!Number.isInteger(g.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${g.logVerbosityLevel}`);(g==null?void 0:g.terminate)===void 0&&(et.terminate=!1);let b=0;if((g==null?void 0:g.tag)!==void 0&&(b=(0,c.allocWasmString)(g.tag,tt)),j=$._OrtCreateRunOptions(et.logSeverityLevel,et.logVerbosityLevel,!!et.terminate,b),j===0)throw new Error("Can't create run options");return(g==null?void 0:g.extra)!==void 0&&(0,a.iterateExtraOptions)(g.extra,"",new WeakSet,(h,_e)=>{const nt=(0,c.allocWasmString)(h,tt),rt=(0,c.allocWasmString)(_e,tt);if($._OrtAddRunConfigEntry(j,nt,rt)!==0)throw new Error(`Can't set a run config entry: ${h} - ${_e}`)}),[j,tt]}catch(b){throw j!==0&&$._OrtReleaseRunOptions(j),tt.forEach($._free),b}}},2306:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OnnxruntimeWebAssemblySessionHandler=void 0;const a=s(2806),c=s(1670),d=s(2850),g=s(2157);let $;e.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(j){const tt=await fetch(j),et=await tt.arrayBuffer();return(0,g.createSessionAllocate)(new Uint8Array(et))}async loadModel(j,tt){if($||(await(0,g.initOrt)(c.env.wasm.numThreads,(et=>{switch(et){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${et}`)}})(c.env.logLevel)),$=!0),typeof j=="string")if(typeof fetch>"u"){const et=await(0,d.promisify)(a.readFile)(j);[this.sessionId,this.inputNames,this.outputNames]=await(0,g.createSession)(et,tt)}else{const et=await this.createSessionAllocate(j);[this.sessionId,this.inputNames,this.outputNames]=await(0,g.createSessionFinalize)(et,tt)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,g.createSession)(j,tt)}async dispose(){return(0,g.releaseSession)(this.sessionId)}async run(j,tt,et){const b=[],h=[];Object.entries(j).forEach(it=>{const st=it[0],ot=it[1],at=this.inputNames.indexOf(st);if(at===-1)throw new Error(`invalid input '${st}'`);b.push(ot),h.push(at)});const _e=[];Object.entries(tt).forEach(it=>{const st=it[0],ot=this.outputNames.indexOf(st);if(ot===-1)throw new Error(`invalid output '${st}'`);_e.push(ot)});const nt=await(0,g.run)(this.sessionId,h,b.map(it=>[it.type,it.dims,it.data]),_e,et),rt={};for(let it=0;it<nt.length;it++)rt[this.outputNames[_e[it]]]=new c.Tensor(nt[it][0],nt[it][2],nt[it][1]);return rt}startProfiling(){}endProfiling(){(0,g.endProfiling)(this.sessionId)}}},4919:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const a=s(7967),c=s(4983),d=s(6361);e.setSessionOptions=g=>{const $=(0,d.getInstance)();let j=0;const tt=[],et=g||{};(b=>{b.extra||(b.extra={}),b.extra.session||(b.extra.session={});const h=b.extra.session;h.use_ort_model_bytes_directly||(h.use_ort_model_bytes_directly="1")})(et);try{(g==null?void 0:g.graphOptimizationLevel)===void 0&&(et.graphOptimizationLevel="all");const b=(nt=>{switch(nt){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${nt}`)}})(et.graphOptimizationLevel);(g==null?void 0:g.enableCpuMemArena)===void 0&&(et.enableCpuMemArena=!0),(g==null?void 0:g.enableMemPattern)===void 0&&(et.enableMemPattern=!0),(g==null?void 0:g.executionMode)===void 0&&(et.executionMode="sequential");const h=(nt=>{switch(nt){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${nt}`)}})(et.executionMode);let _e=0;if((g==null?void 0:g.logId)!==void 0&&(_e=(0,c.allocWasmString)(g.logId,tt)),(g==null?void 0:g.logSeverityLevel)===void 0)et.logSeverityLevel=2;else if(typeof g.logSeverityLevel!="number"||!Number.isInteger(g.logSeverityLevel)||g.logSeverityLevel<0||g.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${g.logSeverityLevel}`);if((g==null?void 0:g.logVerbosityLevel)===void 0)et.logVerbosityLevel=0;else if(typeof g.logVerbosityLevel!="number"||!Number.isInteger(g.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${g.logVerbosityLevel}`);if((g==null?void 0:g.enableProfiling)===void 0&&(et.enableProfiling=!1),j=$._OrtCreateSessionOptions(b,!!et.enableCpuMemArena,!!et.enableMemPattern,h,!!et.enableProfiling,0,_e,et.logSeverityLevel,et.logVerbosityLevel),j===0)throw new Error("Can't create session options");return g!=null&&g.executionProviders&&((nt,rt,it)=>{for(const st of rt){let ot=typeof st=="string"?st:st.name;switch(ot){case"xnnpack":ot="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${ot}`)}const at=(0,c.allocWasmString)(ot,it);if((0,d.getInstance)()._OrtAppendExecutionProvider(nt,at)!==0)throw new Error(`Can't append execution provider: ${ot}`)}})(j,g.executionProviders,tt),(g==null?void 0:g.extra)!==void 0&&(0,a.iterateExtraOptions)(g.extra,"",new WeakSet,(nt,rt)=>{const it=(0,c.allocWasmString)(nt,tt),st=(0,c.allocWasmString)(rt,tt);if($._OrtAddSessionConfigEntry(j,it,st)!==0)throw new Error(`Can't set a session config entry: ${nt} - ${rt}`)}),[j,tt]}catch(b){throw j!==0&&$._OrtReleaseSessionOptions(j),tt.forEach($._free),b}}},4983:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const a=s(6361);e.allocWasmString=(c,d)=>{const g=(0,a.getInstance)(),$=g.lengthBytesUTF8(c)+1,j=g._malloc($);return g.stringToUTF8(c,j,$),d.push(j),j}},349:(o,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const a=s(586),c=s(4919),d=s(4983),g=s(6361);e.initOrt=(b,h)=>{const _e=(0,g.getInstance)()._OrtInit(b,h);if(_e!==0)throw new Error(`Can't initialize onnxruntime. error code = ${_e}`)};const $=new Map;e.createSessionAllocate=b=>{const h=(0,g.getInstance)(),_e=h._malloc(b.byteLength);return h.HEAPU8.set(b,_e),[_e,b.byteLength]},e.createSessionFinalize=(b,h)=>{const _e=(0,g.getInstance)();let nt=0,rt=0,it=[];try{if([rt,it]=(0,c.setSessionOptions)(h),nt=_e._OrtCreateSession(b[0],b[1],rt),nt===0)throw new Error("Can't create a session")}finally{_e._free(b[0]),_e._OrtReleaseSessionOptions(rt),it.forEach(_e._free)}const st=_e._OrtGetInputCount(nt),ot=_e._OrtGetOutputCount(nt),at=[],ct=[],ut=[],dt=[];for(let ht=0;ht<st;ht++){const pt=_e._OrtGetInputName(nt,ht);if(pt===0)throw new Error("Can't get an input name");ct.push(pt),at.push(_e.UTF8ToString(pt))}for(let ht=0;ht<ot;ht++){const pt=_e._OrtGetOutputName(nt,ht);if(pt===0)throw new Error("Can't get an output name");dt.push(pt),ut.push(_e.UTF8ToString(pt))}return $.set(nt,[nt,ct,dt]),[nt,at,ut]},e.createSession=(b,h)=>{const _e=(0,e.createSessionAllocate)(b);return(0,e.createSessionFinalize)(_e,h)},e.releaseSession=b=>{const h=(0,g.getInstance)(),_e=$.get(b);if(!_e)throw new Error("invalid session id");const nt=_e[0],rt=_e[1],it=_e[2];rt.forEach(h._OrtFree),it.forEach(h._OrtFree),h._OrtReleaseSession(nt),$.delete(b)};const j=b=>{switch(b){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${b}`)}},tt=b=>{switch(b){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${b}`)}},et=b=>{switch(b){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${b}`)}};e.run=(b,h,_e,nt,rt)=>{const it=(0,g.getInstance)(),st=$.get(b);if(!st)throw new Error("invalid session id");const ot=st[0],at=st[1],ct=st[2],ut=h.length,dt=nt.length;let ht=0,pt=[];const ft=[],bt=[];try{[ht,pt]=(0,a.setRunOptions)(rt);for(let mt=0;mt<ut;mt++){const _t=_e[mt][0],St=_e[mt][1],wt=_e[mt][2];let kt,Dt;if(Array.isArray(wt)){Dt=4*wt.length,kt=it._malloc(Dt),bt.push(kt);let Bt=kt/4;for(let Vt=0;Vt<wt.length;Vt++){if(typeof wt[Vt]!="string")throw new TypeError(`tensor data at index ${Vt} is not a string`);it.HEAPU32[Bt++]=(0,d.allocWasmString)(wt[Vt],bt)}}else Dt=wt.byteLength,kt=it._malloc(Dt),bt.push(kt),it.HEAPU8.set(new Uint8Array(wt.buffer,wt.byteOffset,Dt),kt);const Ft=it.stackSave(),Ot=it.stackAlloc(4*St.length);try{let Bt=Ot/4;St.forEach(Zt=>it.HEAP32[Bt++]=Zt);const Vt=it._OrtCreateTensor(j(_t),kt,Dt,Ot,St.length);if(Vt===0)throw new Error("Can't create a tensor");ft.push(Vt)}finally{it.stackRestore(Ft)}}const Ct=it.stackSave(),yt=it.stackAlloc(4*ut),Et=it.stackAlloc(4*ut),gt=it.stackAlloc(4*dt),At=it.stackAlloc(4*dt);try{let mt=yt/4,_t=Et/4,St=gt/4,wt=At/4;for(let Ft=0;Ft<ut;Ft++)it.HEAPU32[mt++]=ft[Ft],it.HEAPU32[_t++]=at[h[Ft]];for(let Ft=0;Ft<dt;Ft++)it.HEAPU32[St++]=0,it.HEAPU32[wt++]=ct[nt[Ft]];let kt=it._OrtRun(ot,Et,yt,ut,At,dt,gt,ht);const Dt=[];if(kt===0)for(let Ft=0;Ft<dt;Ft++){const Ot=it.HEAPU32[gt/4+Ft],Bt=it.stackSave(),Vt=it.stackAlloc(16);let Zt,Jt=0;try{if(kt=it._OrtGetTensorData(Ot,Vt,Vt+4,Vt+8,Vt+12),kt!==0)throw new Error(`Can't access output tensor data. error code = ${kt}`);let fn=Vt/4;const yn=it.HEAPU32[fn++];Jt=it.HEAPU32[fn++];const _n=it.HEAPU32[fn++],Tn=it.HEAPU32[fn++],Yt=[];for(let vt=0;vt<Tn;vt++)Yt.push(it.HEAPU32[_n/4+vt]);it._OrtFree(_n);const an=Yt.length===0?1:Yt.reduce((vt,Qt)=>vt*Qt);if(Zt=tt(yn),Zt==="string"){const vt=[];let Qt=Jt/4;for(let Kt=0;Kt<an;Kt++){const Lt=it.HEAPU32[Qt++],Rt=Kt===an-1?void 0:it.HEAPU32[Qt]-Lt;vt.push(it.UTF8ToString(Lt,Rt))}Dt.push([Zt,Yt,vt])}else{const vt=new(et(Zt))(an);new Uint8Array(vt.buffer,vt.byteOffset,vt.byteLength).set(it.HEAPU8.subarray(Jt,Jt+vt.byteLength)),Dt.push([Zt,Yt,vt])}}finally{it.stackRestore(Bt),Zt==="string"&&Jt&&it._free(Jt),it._OrtReleaseTensor(Ot)}}if(kt===0)return Dt;throw new Error(`failed to call OrtRun(). error code = ${kt}.`)}finally{it.stackRestore(Ct)}}finally{ft.forEach(it._OrtReleaseTensor),bt.forEach(it._free),it._OrtReleaseRunOptions(ht),pt.forEach(it._free)}},e.endProfiling=b=>{const h=(0,g.getInstance)(),_e=$.get(b);if(!_e)throw new Error("invalid session id");const nt=_e[0],rt=h._OrtEndProfiling(nt);if(rt===0)throw new Error("Can't get an profile file name");h._OrtFree(rt)},e.extractTransferableBuffers=b=>{const h=[];for(const _e of b){const nt=_e[2];!Array.isArray(nt)&&nt.buffer&&h.push(nt.buffer)}return h}},6361:function(o,e,s){var a=this&&this.__createBinding||(Object.create?function(rt,it,st,ot){ot===void 0&&(ot=st);var at=Object.getOwnPropertyDescriptor(it,st);at&&!("get"in at?!it.__esModule:at.writable||at.configurable)||(at={enumerable:!0,get:function(){return it[st]}}),Object.defineProperty(rt,ot,at)}:function(rt,it,st,ot){ot===void 0&&(ot=st),rt[ot]=it[st]}),c=this&&this.__setModuleDefault||(Object.create?function(rt,it){Object.defineProperty(rt,"default",{enumerable:!0,value:it})}:function(rt,it){rt.default=it}),d=this&&this.__importStar||function(rt){if(rt&&rt.__esModule)return rt;var it={};if(rt!=null)for(var st in rt)st!=="default"&&Object.prototype.hasOwnProperty.call(rt,st)&&a(it,rt,st);return c(it,rt),it},g=this&&this.__importDefault||function(rt){return rt&&rt.__esModule?rt:{default:rt}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const $=d(s(6449)),j=g(s(932)),tt=s(3474);let et,b=!1,h=!1,_e=!1;const nt=(rt,it)=>it?rt?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":rt?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async rt=>{if(b)return Promise.resolve();if(h)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(_e)throw new Error("previous call to 'initializeWebAssembly()' failed.");h=!0;const it=rt.initTimeout,st=rt.numThreads,ot=rt.simd,at=st>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),ct=ot&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),ut=typeof rt.wasmPaths=="string"?rt.wasmPaths:void 0,dt=nt(!1,at),ht=nt(ct,at),pt=typeof rt.wasmPaths=="object"?rt.wasmPaths[ht]:void 0;let ft=!1;const bt=[];if(it>0&&bt.push(new Promise(Ct=>{setTimeout(()=>{ft=!0,Ct()},it)})),bt.push(new Promise((Ct,yt)=>{const Et=at?tt:j.default,gt={locateFile:(At,mt)=>at&&At.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([s(4154)],{type:"text/javascript"})):At===dt?pt??(ut??mt)+ht:mt+At};if(at)if(typeof Blob>"u")gt.mainScriptUrlOrBlob=$.join("/","ort-wasm-threaded.js");else{const At=`var ortWasmThreaded=(function(){var _scriptDir;return ${Et.toString()}})();`;gt.mainScriptUrlOrBlob=new Blob([At],{type:"text/javascript"})}Et(gt).then(At=>{h=!1,b=!0,et=At,Ct()},At=>{h=!1,_e=!0,yt(At)})})),await Promise.race(bt),ft)throw new Error(`WebAssembly backend initializing failed due to timeout: ${it}ms`)},e.getInstance=()=>{if(b&&et)return et;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var rt;!b||h||_e||(h=!0,(rt=et.PThread)===null||rt===void 0||rt.terminateAllThreads(),et=void 0,h=!1,b=!1,_e=!0)}},9710:(o,e,s)=>{s.d(e,{Z:()=>d});var a=s(477),c=s.n(a);function d(){return c()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:o=>{o.exports=function(e,s,a,c){var d=self||window;try{try{var g;try{g=new d.Blob([e])}catch{(g=new(d.BlobBuilder||d.WebKitBlobBuilder||d.MozBlobBuilder||d.MSBlobBuilder)).append(e),g=g.getBlob()}var $=d.URL||d.webkitURL,j=$.createObjectURL(g),tt=new d[s](j,a);return $.revokeObjectURL(j),tt}catch{return new d[s]("data:application/javascript,".concat(encodeURIComponent(e)),a)}}catch{if(!c)throw Error("Inline worker is not supported");return new d[s](c,a)}}},4154:o=>{o.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},1670:o=>{o.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(o,e,s)=>{s.r(e),s.d(e,{flatbuffers:()=>a});var a={};a.Offset,a.Table,a.SIZEOF_SHORT=2,a.SIZEOF_INT=4,a.FILE_IDENTIFIER_LENGTH=4,a.SIZE_PREFIX_LENGTH=4,a.Encoding={UTF8_BYTES:1,UTF16_STRING:2},a.int32=new Int32Array(2),a.float32=new Float32Array(a.int32.buffer),a.float64=new Float64Array(a.int32.buffer),a.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,a.Long=function(c,d){this.low=0|c,this.high=0|d},a.Long.create=function(c,d){return c==0&&d==0?a.Long.ZERO:new a.Long(c,d)},a.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},a.Long.prototype.equals=function(c){return this.low==c.low&&this.high==c.high},a.Long.ZERO=new a.Long(0,0),a.Builder=function(c){if(c)d=c;else var d=1024;this.bb=a.ByteBuffer.allocate(d),this.space=d,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},a.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},a.Builder.prototype.forceDefaults=function(c){this.force_defaults=c},a.Builder.prototype.dataBuffer=function(){return this.bb},a.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},a.Builder.prototype.prep=function(c,d){c>this.minalign&&(this.minalign=c);for(var g=1+~(this.bb.capacity()-this.space+d)&c-1;this.space<g+c+d;){var $=this.bb.capacity();this.bb=a.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-$}this.pad(g)},a.Builder.prototype.pad=function(c){for(var d=0;d<c;d++)this.bb.writeInt8(--this.space,0)},a.Builder.prototype.writeInt8=function(c){this.bb.writeInt8(this.space-=1,c)},a.Builder.prototype.writeInt16=function(c){this.bb.writeInt16(this.space-=2,c)},a.Builder.prototype.writeInt32=function(c){this.bb.writeInt32(this.space-=4,c)},a.Builder.prototype.writeInt64=function(c){this.bb.writeInt64(this.space-=8,c)},a.Builder.prototype.writeFloat32=function(c){this.bb.writeFloat32(this.space-=4,c)},a.Builder.prototype.writeFloat64=function(c){this.bb.writeFloat64(this.space-=8,c)},a.Builder.prototype.addInt8=function(c){this.prep(1,0),this.writeInt8(c)},a.Builder.prototype.addInt16=function(c){this.prep(2,0),this.writeInt16(c)},a.Builder.prototype.addInt32=function(c){this.prep(4,0),this.writeInt32(c)},a.Builder.prototype.addInt64=function(c){this.prep(8,0),this.writeInt64(c)},a.Builder.prototype.addFloat32=function(c){this.prep(4,0),this.writeFloat32(c)},a.Builder.prototype.addFloat64=function(c){this.prep(8,0),this.writeFloat64(c)},a.Builder.prototype.addFieldInt8=function(c,d,g){(this.force_defaults||d!=g)&&(this.addInt8(d),this.slot(c))},a.Builder.prototype.addFieldInt16=function(c,d,g){(this.force_defaults||d!=g)&&(this.addInt16(d),this.slot(c))},a.Builder.prototype.addFieldInt32=function(c,d,g){(this.force_defaults||d!=g)&&(this.addInt32(d),this.slot(c))},a.Builder.prototype.addFieldInt64=function(c,d,g){!this.force_defaults&&d.equals(g)||(this.addInt64(d),this.slot(c))},a.Builder.prototype.addFieldFloat32=function(c,d,g){(this.force_defaults||d!=g)&&(this.addFloat32(d),this.slot(c))},a.Builder.prototype.addFieldFloat64=function(c,d,g){(this.force_defaults||d!=g)&&(this.addFloat64(d),this.slot(c))},a.Builder.prototype.addFieldOffset=function(c,d,g){(this.force_defaults||d!=g)&&(this.addOffset(d),this.slot(c))},a.Builder.prototype.addFieldStruct=function(c,d,g){d!=g&&(this.nested(d),this.slot(c))},a.Builder.prototype.nested=function(c){if(c!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},a.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},a.Builder.prototype.slot=function(c){this.vtable[c]=this.offset()},a.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},a.Builder.growByteBuffer=function(c){var d=c.capacity();if(3221225472&d)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var g=d<<1,$=a.ByteBuffer.allocate(g);return $.setPosition(g-d),$.bytes().set(c.bytes(),g-d),$},a.Builder.prototype.addOffset=function(c){this.prep(a.SIZEOF_INT,0),this.writeInt32(this.offset()-c+a.SIZEOF_INT)},a.Builder.prototype.startObject=function(c){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=c;for(var d=0;d<c;d++)this.vtable[d]=0;this.isNested=!0,this.object_start=this.offset()},a.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var c=this.offset(),d=this.vtable_in_use-1;d>=0&&this.vtable[d]==0;d--);for(var g=d+1;d>=0;d--)this.addInt16(this.vtable[d]!=0?c-this.vtable[d]:0);this.addInt16(c-this.object_start);var $=(g+2)*a.SIZEOF_SHORT;this.addInt16($);var j=0,tt=this.space;e:for(d=0;d<this.vtables.length;d++){var et=this.bb.capacity()-this.vtables[d];if($==this.bb.readInt16(et)){for(var b=a.SIZEOF_SHORT;b<$;b+=a.SIZEOF_SHORT)if(this.bb.readInt16(tt+b)!=this.bb.readInt16(et+b))continue e;j=this.vtables[d];break}}return j?(this.space=this.bb.capacity()-c,this.bb.writeInt32(this.space,j-c)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-c,this.offset()-c)),this.isNested=!1,c},a.Builder.prototype.finish=function(c,d,g){var $=g?a.SIZE_PREFIX_LENGTH:0;if(d){var j=d;if(this.prep(this.minalign,a.SIZEOF_INT+a.FILE_IDENTIFIER_LENGTH+$),j.length!=a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+a.FILE_IDENTIFIER_LENGTH);for(var tt=a.FILE_IDENTIFIER_LENGTH-1;tt>=0;tt--)this.writeInt8(j.charCodeAt(tt))}this.prep(this.minalign,a.SIZEOF_INT+$),this.addOffset(c),$&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},a.Builder.prototype.finishSizePrefixed=function(c,d){this.finish(c,d,!0)},a.Builder.prototype.requiredField=function(c,d){var g=this.bb.capacity()-c,$=g-this.bb.readInt32(g);if(this.bb.readInt16($+d)==0)throw new Error("FlatBuffers: field "+d+" must be set")},a.Builder.prototype.startVector=function(c,d,g){this.notNested(),this.vector_num_elems=d,this.prep(a.SIZEOF_INT,c*d),this.prep(g,c*d)},a.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},a.Builder.prototype.createString=function(c){if(c instanceof Uint8Array)var d=c;else{d=[];for(var g=0;g<c.length;){var $,j=c.charCodeAt(g++);($=j<55296||j>=56320?j:(j<<10)+c.charCodeAt(g++)+-56613888)<128?d.push($):($<2048?d.push($>>6&31|192):($<65536?d.push($>>12&15|224):d.push($>>18&7|240,$>>12&63|128),d.push($>>6&63|128)),d.push(63&$|128))}}this.addInt8(0),this.startVector(1,d.length,1),this.bb.setPosition(this.space-=d.length),g=0;for(var tt=this.space,et=this.bb.bytes();g<d.length;g++)et[tt++]=d[g];return this.endVector()},a.Builder.prototype.createLong=function(c,d){return a.Long.create(c,d)},a.ByteBuffer=function(c){this.bytes_=c,this.position_=0},a.ByteBuffer.allocate=function(c){return new a.ByteBuffer(new Uint8Array(c))},a.ByteBuffer.prototype.clear=function(){this.position_=0},a.ByteBuffer.prototype.bytes=function(){return this.bytes_},a.ByteBuffer.prototype.position=function(){return this.position_},a.ByteBuffer.prototype.setPosition=function(c){this.position_=c},a.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},a.ByteBuffer.prototype.readInt8=function(c){return this.readUint8(c)<<24>>24},a.ByteBuffer.prototype.readUint8=function(c){return this.bytes_[c]},a.ByteBuffer.prototype.readInt16=function(c){return this.readUint16(c)<<16>>16},a.ByteBuffer.prototype.readUint16=function(c){return this.bytes_[c]|this.bytes_[c+1]<<8},a.ByteBuffer.prototype.readInt32=function(c){return this.bytes_[c]|this.bytes_[c+1]<<8|this.bytes_[c+2]<<16|this.bytes_[c+3]<<24},a.ByteBuffer.prototype.readUint32=function(c){return this.readInt32(c)>>>0},a.ByteBuffer.prototype.readInt64=function(c){return new a.Long(this.readInt32(c),this.readInt32(c+4))},a.ByteBuffer.prototype.readUint64=function(c){return new a.Long(this.readUint32(c),this.readUint32(c+4))},a.ByteBuffer.prototype.readFloat32=function(c){return a.int32[0]=this.readInt32(c),a.float32[0]},a.ByteBuffer.prototype.readFloat64=function(c){return a.int32[a.isLittleEndian?0:1]=this.readInt32(c),a.int32[a.isLittleEndian?1:0]=this.readInt32(c+4),a.float64[0]},a.ByteBuffer.prototype.writeInt8=function(c,d){this.bytes_[c]=d},a.ByteBuffer.prototype.writeUint8=function(c,d){this.bytes_[c]=d},a.ByteBuffer.prototype.writeInt16=function(c,d){this.bytes_[c]=d,this.bytes_[c+1]=d>>8},a.ByteBuffer.prototype.writeUint16=function(c,d){this.bytes_[c]=d,this.bytes_[c+1]=d>>8},a.ByteBuffer.prototype.writeInt32=function(c,d){this.bytes_[c]=d,this.bytes_[c+1]=d>>8,this.bytes_[c+2]=d>>16,this.bytes_[c+3]=d>>24},a.ByteBuffer.prototype.writeUint32=function(c,d){this.bytes_[c]=d,this.bytes_[c+1]=d>>8,this.bytes_[c+2]=d>>16,this.bytes_[c+3]=d>>24},a.ByteBuffer.prototype.writeInt64=function(c,d){this.writeInt32(c,d.low),this.writeInt32(c+4,d.high)},a.ByteBuffer.prototype.writeUint64=function(c,d){this.writeUint32(c,d.low),this.writeUint32(c+4,d.high)},a.ByteBuffer.prototype.writeFloat32=function(c,d){a.float32[0]=d,this.writeInt32(c,a.int32[0])},a.ByteBuffer.prototype.writeFloat64=function(c,d){a.float64[0]=d,this.writeInt32(c,a.int32[a.isLittleEndian?0:1]),this.writeInt32(c+4,a.int32[a.isLittleEndian?1:0])},a.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+a.SIZEOF_INT+a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var c="",d=0;d<a.FILE_IDENTIFIER_LENGTH;d++)c+=String.fromCharCode(this.readInt8(this.position_+a.SIZEOF_INT+d));return c},a.ByteBuffer.prototype.__offset=function(c,d){var g=c-this.readInt32(c);return d<this.readInt16(g)?this.readInt16(g+d):0},a.ByteBuffer.prototype.__union=function(c,d){return c.bb_pos=d+this.readInt32(d),c.bb=this,c},a.ByteBuffer.prototype.__string=function(c,d){c+=this.readInt32(c);var g=this.readInt32(c),$="",j=0;if(c+=a.SIZEOF_INT,d===a.Encoding.UTF8_BYTES)return this.bytes_.subarray(c,c+g);for(;j<g;){var tt,et=this.readUint8(c+j++);if(et<192)tt=et;else{var b=this.readUint8(c+j++);if(et<224)tt=(31&et)<<6|63&b;else{var h=this.readUint8(c+j++);tt=et<240?(15&et)<<12|(63&b)<<6|63&h:(7&et)<<18|(63&b)<<12|(63&h)<<6|63&this.readUint8(c+j++)}}tt<65536?$+=String.fromCharCode(tt):(tt-=65536,$+=String.fromCharCode(55296+(tt>>10),56320+(1023&tt)))}return $},a.ByteBuffer.prototype.__indirect=function(c){return c+this.readInt32(c)},a.ByteBuffer.prototype.__vector=function(c){return c+this.readInt32(c)+a.SIZEOF_INT},a.ByteBuffer.prototype.__vector_len=function(c){return this.readInt32(c+this.readInt32(c))},a.ByteBuffer.prototype.__has_identifier=function(c){if(c.length!=a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+a.FILE_IDENTIFIER_LENGTH);for(var d=0;d<a.FILE_IDENTIFIER_LENGTH;d++)if(c.charCodeAt(d)!=this.readInt8(this.position_+a.SIZEOF_INT+d))return!1;return!0},a.ByteBuffer.prototype.createLong=function(c,d){return a.Long.create(c,d)}}},__webpack_module_cache__={};function __webpack_require__(o){var e=__webpack_module_cache__[o];if(e!==void 0)return e.exports;var s=__webpack_module_cache__[o]={exports:{}};return __webpack_modules__[o].call(s.exports,s,s.exports,__webpack_require__),s.exports}__webpack_require__.n=o=>{var e=o&&o.__esModule?()=>o.default:()=>o;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(o,e)=>{for(var s in e)__webpack_require__.o(e,s)&&!__webpack_require__.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:e[s]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e),__webpack_require__.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})())})(ortWeb_min$1);var ortWeb_minExports=ortWeb_min$1.exports;const ortWeb_min=getDefaultExportFromCjs(ortWeb_minExports),ONNX_WEB=_mergeNamespaces({__proto__:null,default:ortWeb_min},[ortWeb_minExports]);let ONNX;const executionProviders=["wasm"];var U1;typeof process<"u"&&((U1=process==null?void 0:process.release)==null?void 0:U1.name)==="node"?(ONNX=sharp??ONNX_NODE,executionProviders.unshift("cpu")):(ONNX=ortWeb_min??ONNX_WEB,typeof navigator<"u"&&/iP(hone|od|ad).+16_4.+AppleWebKit/.test(navigator.userAgent)&&(ONNX.env.wasm.simd=!1));const{env:onnx_env}=ONNX,VERSION="2.17.2",WEB_CACHE_AVAILABLE=typeof self<"u"&&"caches"in self,FS_AVAILABLE=!isEmpty(sharp),PATH_AVAILABLE=!isEmpty(sharp),RUNNING_LOCALLY=FS_AVAILABLE&&PATH_AVAILABLE,__dirname=RUNNING_LOCALLY?sharp.dirname(sharp.dirname(sharp.fileURLToPath(import.meta.url))):"./",DEFAULT_CACHE_DIR=RUNNING_LOCALLY?sharp.join(__dirname,"/.cache/"):null,DEFAULT_LOCAL_MODEL_PATH="/models/",localModelPath=RUNNING_LOCALLY?sharp.join(__dirname,DEFAULT_LOCAL_MODEL_PATH):DEFAULT_LOCAL_MODEL_PATH;onnx_env!=null&&onnx_env.wasm&&(onnx_env.wasm.wasmPaths=RUNNING_LOCALLY?sharp.join(__dirname,"/dist/"):`https://cdn.jsdelivr.net/npm/@xenova/transformers@${VERSION}/dist/`);const env$1={version:VERSION,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",localModelPath,useFS:FS_AVAILABLE,useBrowserCache:WEB_CACHE_AVAILABLE,useFSCache:FS_AVAILABLE,cacheDir:DEFAULT_CACHE_DIR};function isEmpty(o){return Object.keys(o).length===0}var define_process_env_default={};class FileResponse{constructor(e){nn(this,"_CONTENT_TYPE_MAP",{txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"});if(this.filePath=e,this.headers=new Headers,this.exists=sharp.existsSync(e),this.exists){this.status=200,this.statusText="OK";let s=sharp.statSync(e);this.headers.set("content-length",s.size.toString()),this.updateContentType();let a=this;this.body=new ReadableStream({start(c){a.arrayBuffer().then(d=>{c.enqueue(new Uint8Array(d)),c.close()})}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){const e=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",this._CONTENT_TYPE_MAP[e]??"application/octet-stream")}clone(){let e=new FileResponse(this.filePath);return e.exists=this.exists,e.status=this.status,e.statusText=this.statusText,e.headers=new Headers(this.headers),e}async arrayBuffer(){return(await sharp.promises.readFile(this.filePath)).buffer}async blob(){const e=await sharp.promises.readFile(this.filePath);return new Blob([e],{type:this.headers.get("content-type")})}async text(){return await sharp.promises.readFile(this.filePath,"utf8")}async json(){return JSON.parse(await this.text())}}function isValidUrl(o,e=null,s=null){let a;try{a=new URL(o)}catch{return!1}return!(e&&!e.includes(a.protocol)||s&&!s.includes(a.hostname))}async function getFile(o){var e;if(env$1.useFS&&!isValidUrl(o,["http:","https:","blob:"]))return new FileResponse(o);if(typeof process<"u"&&((e=process==null?void 0:process.release)==null?void 0:e.name)==="node"){const s=!!(define_process_env_default!=null&&define_process_env_default.TESTING_REMOTELY),a=env$1.version,c=new Headers;if(c.set("User-Agent",`transformers.js/${a}; is_ci/${s};`),isValidUrl(o,["http:","https:"],["huggingface.co","hf.co"])){const g=(define_process_env_default==null?void 0:define_process_env_default.HF_TOKEN)??(define_process_env_default==null?void 0:define_process_env_default.HF_ACCESS_TOKEN);g&&c.set("Authorization",`Bearer ${g}`)}return fetch(o,{headers:c})}else return fetch(o)}const ERROR_MAPPING={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};function handleError(o,e,s){if(!s)return null;const a=ERROR_MAPPING[o]??`Error (${o}) occurred while trying to load file`;throw Error(`${a}: "${e}".`)}class FileCache{constructor(e){this.path=e}async match(e){let s=sharp.join(this.path,e),a=new FileResponse(s);if(a.exists)return a}async put(e,s){const a=Buffer.from(await s.arrayBuffer());let c=sharp.join(this.path,e);try{await sharp.promises.mkdir(sharp.dirname(c),{recursive:!0}),await sharp.promises.writeFile(c,a)}catch(d){console.warn("An error occurred while writing the file to cache:",d)}}}async function tryCache(o,...e){for(let s of e)try{let a=await o.match(s);if(a)return a}catch{continue}}async function getModelFile(o,e,s=!0,a={}){dispatchCallback(a.progress_callback,{status:"initiate",name:o,file:e});let c;if(!c&&env$1.useBrowserCache){if(typeof caches>"u")throw Error("Browser cache is not available in this environment.");try{c=await caches.open("transformers-cache")}catch(st){console.warn("An error occurred while opening the browser cache:",st)}}!c&&env$1.useFSCache&&(c=new FileCache(a.cache_dir??env$1.cacheDir));const d=a.revision??"main";let g=pathJoin(o,e),$=pathJoin(env$1.localModelPath,g),j=pathJoin(env$1.remoteHost,env$1.remotePathTemplate.replaceAll("{model}",o).replaceAll("{revision}",encodeURIComponent(d)),e),tt=d==="main"?g:pathJoin(o,d,e),et,b=c instanceof FileCache?tt:j,h=!1,_e;c&&(_e=await tryCache(c,$,b));const nt=_e!==void 0;if(_e===void 0){if(isValidUrl(g,["http:","https:"])){if(a.local_files_only)throw new Error(`\`local_files_only=true\`, but attempted to load a remote file from: ${g}.`)}else try{_e=await getFile($),et=$}catch(ot){console.warn(`Unable to load from local path "${$}": "${ot}"`)}if(_e===void 0||_e.status===404){if(a.local_files_only){if(s)throw Error(`\`local_files_only=true\` or \`env.allowRemoteModels=false\` and file was not found locally at "${$}".`);return null}if(_e=await getFile(j),_e.status!==200)return handleError(_e.status,j,s);et=b}h=c&&typeof Response<"u"&&_e instanceof Response&&_e.status===200}dispatchCallback(a.progress_callback,{status:"download",name:o,file:e});const rt={status:"progress",name:o,file:e};let it;return a.progress_callback?nt&&typeof navigator<"u"&&/firefox/i.test(navigator.userAgent)?(it=new Uint8Array(await _e.arrayBuffer()),dispatchCallback(a.progress_callback,{...rt,progress:100,loaded:it.length,total:it.length})):it=await readResponse(_e,st=>{dispatchCallback(a.progress_callback,{...rt,...st})}):it=new Uint8Array(await _e.arrayBuffer()),h&&et&&await c.match(et)===void 0&&await c.put(et,new Response(it,{headers:_e.headers})).catch(st=>{console.warn(`Unable to add response to browser cache: ${st}.`)}),dispatchCallback(a.progress_callback,{status:"done",name:o,file:e}),it}async function getModelJSON(o,e,s=!0,a={}){let c=await getModelFile(o,e,s,a);if(c===null)return{};let g=new TextDecoder("utf-8").decode(c);return JSON.parse(g)}async function readResponse(o,e){const s=o.headers.get("Content-Length");s===null&&console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let a=parseInt(s??"0"),c=new Uint8Array(a),d=0;const g=o.body.getReader();async function $(){const{done:j,value:tt}=await g.read();if(j)return;let et=d+tt.length;if(et>a){a=et;let h=new Uint8Array(a);h.set(c),c=h}c.set(tt,d),d=et;const b=d/a*100;return e({progress:b,loaded:d,total:a}),$()}return await $(),c}function pathJoin(...o){return o=o.map((e,s)=>(s&&(e=e.replace(new RegExp("^/"),"")),s!==o.length-1&&(e=e.replace(new RegExp("/$"),"")),e)),o.join("/")}function interpolate_data(o,[e,s,a],[c,d],g="bilinear",$=!1){const j=d/a,tt=c/s,et=new o.constructor(c*d*e),b=s*a,h=c*d;for(let _e=0;_e<c;++_e)for(let nt=0;nt<d;++nt){const rt=_e*d+nt,it=(nt+.5)/j-.5,st=(_e+.5)/tt-.5;let ot=Math.floor(it),at=Math.floor(st);const ct=Math.min(ot+1,a-1),ut=Math.min(at+1,s-1);ot=Math.max(ot,0),at=Math.max(at,0);const dt=it-ot,ht=st-at,pt=(1-dt)*(1-ht),ft=dt*(1-ht),bt=(1-dt)*ht,Ct=dt*ht,yt=at*a,Et=ut*a,gt=yt+ot,At=yt+ct,mt=Et+ot,_t=Et+ct;for(let St=0;St<e;++St){const wt=St*b;et[St*h+rt]=pt*o[wt+gt]+ft*o[wt+At]+bt*o[wt+mt]+Ct*o[wt+_t]}}return et}function permute_data(o,e,s){const a=new Array(s.length),c=new Array(s.length);for(let $=s.length-1,j=1;$>=0;--$)c[$]=j,a[$]=e[s[$]],j*=a[$];const d=s.map(($,j)=>c[s.indexOf(j)]),g=new o.constructor(o.length);for(let $=0;$<o.length;++$){let j=0;for(let tt=e.length-1,et=$;tt>=0;--tt)j+=et%e[tt]*d[tt],et=Math.floor(et/e[tt]);g[j]=o[$]}return[g,a]}function softmax(o){const e=max(o)[0],s=o.map(d=>Math.exp(d-e)),a=s.reduce((d,g)=>d+g,0);return s.map(d=>d/a)}function log_softmax(o){return softmax(o).map(a=>Math.log(a))}function getTopItems(o,e=0){return o=Array.from(o).map((s,a)=>[a,s]).sort((s,a)=>a[1]-s[1]),e!==null&&e>0&&(o=o.slice(0,e)),o}function min(o){if(o.length===0)throw Error("Array must not be empty");let e=o[0],s=0;for(let a=1;a<o.length;++a)o[a]<e&&(e=o[a],s=a);return[e,s]}function max(o){if(o.length===0)throw Error("Array must not be empty");let e=o[0],s=0;for(let a=1;a<o.length;++a)o[a]>e&&(e=o[a],s=a);return[Number(e),s]}function isPowerOfTwo(o){return o>0&&(o&o-1)===0}class P2FFT{constructor(e){if(this.size=e|0,this.size<=1||!isPowerOfTwo(this.size))throw new Error("FFT size must be a power of two larger than 1");this._csize=e<<1,this.table=new Float64Array(this.size*2);for(let a=0;a<this.table.length;a+=2){const c=Math.PI*a/this.size;this.table[a]=Math.cos(c),this.table[a+1]=-Math.sin(c)}let s=0;for(let a=1;this.size>a;a<<=1)++s;this._width=s%2===0?s-1:s,this._bitrev=new Int32Array(1<<this._width);for(let a=0;a<this._bitrev.length;++a){this._bitrev[a]=0;for(let c=0;c<this._width;c+=2){const d=this._width-c-2;this._bitrev[a]|=(a>>>c&3)<<d}}}createComplexArray(){return new Float64Array(this._csize)}fromComplexArray(e,s){const a=s||new Array(e.length>>>1);for(let c=0;c<e.length;c+=2)a[c>>>1]=e[c];return a}toComplexArray(e,s){const a=s||this.createComplexArray();for(let c=0;c<a.length;c+=2)a[c]=e[c>>>1],a[c+1]=0;return a}transform(e,s){if(e===s)throw new Error("Input and output buffers must be different");this._transform4(e,s,1)}realTransform(e,s){if(e===s)throw new Error("Input and output buffers must be different");this._realTransform4(e,s,1)}inverseTransform(e,s){if(e===s)throw new Error("Input and output buffers must be different");this._transform4(e,s,-1);for(let a=0;a<e.length;++a)e[a]/=this.size}_transform4(e,s,a){const c=this._csize;let g=1<<this._width,$=c/g<<1,j,tt;const et=this._bitrev;if($===4)for(j=0,tt=0;j<c;j+=$,++tt){const h=et[tt];this._singleTransform2(s,e,j,h,g)}else for(j=0,tt=0;j<c;j+=$,++tt){const h=et[tt];this._singleTransform4(s,e,j,h,g,a)}const b=this.table;for(g>>=2;g>=2;g>>=2){$=c/g<<1;const h=$>>>2;for(j=0;j<c;j+=$){const _e=j+h-1;for(let nt=j,rt=0;nt<_e;nt+=2,rt+=g){const it=nt,st=it+h,ot=st+h,at=ot+h,ct=e[it],ut=e[it+1],dt=e[st],ht=e[st+1],pt=e[ot],ft=e[ot+1],bt=e[at],Ct=e[at+1],yt=b[rt],Et=a*b[rt+1],gt=dt*yt-ht*Et,At=dt*Et+ht*yt,mt=b[2*rt],_t=a*b[2*rt+1],St=pt*mt-ft*_t,wt=pt*_t+ft*mt,kt=b[3*rt],Dt=a*b[3*rt+1],Ft=bt*kt-Ct*Dt,Ot=bt*Dt+Ct*kt,Bt=ct+St,Vt=ut+wt,Zt=ct-St,Jt=ut-wt,fn=gt+Ft,yn=At+Ot,_n=a*(gt-Ft),Tn=a*(At-Ot);e[it]=Bt+fn,e[it+1]=Vt+yn,e[st]=Zt+Tn,e[st+1]=Jt-_n,e[ot]=Bt-fn,e[ot+1]=Vt-yn,e[at]=Zt-Tn,e[at+1]=Jt+_n}}}}_singleTransform2(e,s,a,c,d){const g=e[c],$=e[c+1],j=e[c+d],tt=e[c+d+1];s[a]=g+j,s[a+1]=$+tt,s[a+2]=g-j,s[a+3]=$-tt}_singleTransform4(e,s,a,c,d,g){const $=d*2,j=d*3,tt=e[c],et=e[c+1],b=e[c+d],h=e[c+d+1],_e=e[c+$],nt=e[c+$+1],rt=e[c+j],it=e[c+j+1],st=tt+_e,ot=et+nt,at=tt-_e,ct=et-nt,ut=b+rt,dt=h+it,ht=g*(b-rt),pt=g*(h-it);s[a]=st+ut,s[a+1]=ot+dt,s[a+2]=at+pt,s[a+3]=ct-ht,s[a+4]=st-ut,s[a+5]=ot-dt,s[a+6]=at-pt,s[a+7]=ct+ht}_realTransform4(e,s,a){const c=this._csize;let g=1<<this._width,$=c/g<<1,j,tt;const et=this._bitrev;if($===4)for(j=0,tt=0;j<c;j+=$,++tt){const _e=et[tt];this._singleRealTransform2(s,e,j,_e>>>1,g>>>1)}else for(j=0,tt=0;j<c;j+=$,++tt){const _e=et[tt];this._singleRealTransform4(s,e,j,_e>>>1,g>>>1,a)}const b=this.table;for(g>>=2;g>=2;g>>=2){$=c/g<<1;const _e=$>>>1,nt=_e>>>1,rt=nt>>>1;for(j=0;j<c;j+=$)for(let it=0,st=0;it<=rt;it+=2,st+=g){const ot=j+it,at=ot+nt,ct=at+nt,ut=ct+nt,dt=e[ot],ht=e[ot+1],pt=e[at],ft=e[at+1],bt=e[ct],Ct=e[ct+1],yt=e[ut],Et=e[ut+1],gt=dt,At=ht,mt=b[st],_t=a*b[st+1],St=pt*mt-ft*_t,wt=pt*_t+ft*mt,kt=b[2*st],Dt=a*b[2*st+1],Ft=bt*kt-Ct*Dt,Ot=bt*Dt+Ct*kt,Bt=b[3*st],Vt=a*b[3*st+1],Zt=yt*Bt-Et*Vt,Jt=yt*Vt+Et*Bt,fn=gt+Ft,yn=At+Ot,_n=gt-Ft,Tn=At-Ot,Yt=St+Zt,an=wt+Jt,vt=a*(St-Zt),Qt=a*(wt-Jt);if(e[ot]=fn+Yt,e[ot+1]=yn+an,e[at]=_n+Qt,e[at+1]=Tn-vt,it===0){e[ct]=fn-Yt,e[ct+1]=yn-an;continue}if(it===rt)continue;const Kt=j+nt-it,Lt=j+_e-it;e[Kt]=_n-a*Qt,e[Kt+1]=-Tn-a*vt,e[Lt]=fn-a*Yt,e[Lt+1]=-yn+a*an}}const h=c>>>1;for(let _e=2;_e<h;_e+=2)e[c-_e]=e[_e],e[c-_e+1]=-e[_e+1]}_singleRealTransform2(e,s,a,c,d){const g=e[c],$=e[c+d];s[a]=g+$,s[a+1]=0,s[a+2]=g-$,s[a+3]=0}_singleRealTransform4(e,s,a,c,d,g){const $=d*2,j=d*3,tt=e[c],et=e[c+d],b=e[c+$],h=e[c+j],_e=tt+b,nt=tt-b,rt=et+h,it=g*(et-h);s[a]=_e+rt,s[a+1]=0,s[a+2]=nt,s[a+3]=-it,s[a+4]=_e-rt,s[a+5]=0,s[a+6]=nt,s[a+7]=it}}class NP2FFT{constructor(e){const s=2*(e-1),a=2*(2*e-1),c=2**Math.ceil(Math.log2(a));this.bufferSize=c,this._a=s;const d=new Float64Array(a),g=new Float64Array(c);this._chirpBuffer=new Float64Array(c),this._buffer1=new Float64Array(c),this._buffer2=new Float64Array(c),this._outBuffer1=new Float64Array(c),this._outBuffer2=new Float64Array(c);const $=-2*Math.PI/e,j=Math.cos($),tt=Math.sin($);for(let et=0;et<a>>1;++et){const b=(et+1-e)**2/2,h=Math.sqrt(j**2+tt**2)**b,_e=b*Math.atan2(tt,j),nt=2*et;d[nt]=h*Math.cos(_e),d[nt+1]=h*Math.sin(_e),g[nt]=d[nt],g[nt+1]=-d[nt+1]}this._slicedChirpBuffer=d.subarray(s,a),this._f=new P2FFT(c>>1),this._f.transform(this._chirpBuffer,g)}_transform(e,s,a){const c=this._buffer1,d=this._buffer2,g=this._outBuffer1,$=this._outBuffer2,j=this._chirpBuffer,tt=this._slicedChirpBuffer,et=this._a;if(a)for(let b=0;b<tt.length;b+=2){const h=b+1,_e=b>>1,nt=s[_e];c[b]=nt*tt[b],c[h]=nt*tt[h]}else for(let b=0;b<tt.length;b+=2){const h=b+1;c[b]=s[b]*tt[b]-s[h]*tt[h],c[h]=s[b]*tt[h]+s[h]*tt[b]}this._f.transform(g,c);for(let b=0;b<j.length;b+=2){const h=b+1;d[b]=g[b]*j[b]-g[h]*j[h],d[h]=g[b]*j[h]+g[h]*j[b]}this._f.inverseTransform($,d);for(let b=0;b<$.length;b+=2){const h=$[b+et],_e=$[b+et+1],nt=tt[b],rt=tt[b+1];e[b]=h*nt-_e*rt,e[b+1]=h*rt+_e*nt}}transform(e,s){this._transform(e,s,!1)}realTransform(e,s){this._transform(e,s,!0)}}class FFT{constructor(e){this.fft_length=e,this.isPowerOfTwo=isPowerOfTwo(e),this.isPowerOfTwo?(this.fft=new P2FFT(e),this.outputBufferSize=2*e):(this.fft=new NP2FFT(e),this.outputBufferSize=this.fft.bufferSize)}realTransform(e,s){this.fft.realTransform(e,s)}transform(e,s){this.fft.transform(e,s)}}function medianFilter(o,e){if(e%2===0||e<=0)throw new Error("Window size must be a positive odd number");const s=new o.constructor(o.length),a=new o.constructor(e),c=Math.floor(e/2);for(let d=0;d<o.length;++d){let g=0;for(let $=-c;$<=c;++$){let j=d+$;j<0?j=Math.abs(j):j>=o.length&&(j=2*(o.length-1)-j),a[g++]=o[j]}a.sort(),s[d]=a[c]}return s}function round(o,e){const s=Math.pow(10,e);return Math.round(o*s)/s}function bankers_round(o){const e=Math.round(o);return Math.abs(o)%1===.5?e%2===0?e:e-1:e}const DataTypeMap=Object.freeze({float32:Float32Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array}),ONNXTensor$1=ONNX.Tensor;class Tensor{constructor(...e){nn(this,"dims");nn(this,"type");nn(this,"data");nn(this,"size");return e[0]instanceof ONNXTensor$1?Object.assign(this,e[0]):Object.assign(this,new ONNXTensor$1(e[0],e[1],e[2])),new Proxy(this,{get:(s,a)=>{if(typeof a=="string"){let c=Number(a);if(Number.isInteger(c))return s._getitem(c)}return s[a]},set:(s,a,c)=>s[a]=c})}*[Symbol.iterator](){const[e,...s]=this.dims;if(s.length>0){const a=s.reduce((c,d)=>c*d);for(let c=0;c<e;++c)yield this._subarray(c,a,s)}else yield*this.data}_getitem(e){const[s,...a]=this.dims;if(e=safeIndex(e,s),a.length>0){const c=a.reduce((d,g)=>d*g);return this._subarray(e,c,a)}else return new Tensor(this.type,[this.data[e]],a)}indexOf(e){for(let s=0;s<this.data.length;++s)if(this.data[s]==e)return s;return-1}_subarray(e,s,a){const c=e*s,d=(e+1)*s,g="subarray"in this.data?this.data.subarray(c,d):this.data.slice(c,d);return new Tensor(this.type,g,a)}item(){if(this.data.length!==1)throw new Error(`a Tensor with ${this.data.length} elements cannot be converted to Scalar`);return this.data[0]}tolist(){return reshape(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){for(let e=0;e<this.data.length;++e)this.data[e]=1/(1+Math.exp(-this.data[e]));return this}mul(e){return this.clone().mul_(e)}mul_(e){for(let s=0;s<this.data.length;++s)this.data[s]*=e;return this}add(e){return this.clone().add_(e)}add_(e){for(let s=0;s<this.data.length;++s)this.data[s]+=e;return this}clone(){return new Tensor(this.type,this.data.slice(),this.dims.slice())}slice(...e){let s=[],a=[];for(let j=0;j<this.dims.length;++j){let tt=e[j];if(tt==null)a.push([0,this.dims[j]]),s.push(this.dims[j]);else if(typeof tt=="number")tt=safeIndex(tt,this.dims[j],j),a.push([tt,tt+1]);else if(Array.isArray(tt)&&tt.length===2){if(tt[0]>tt[1])throw new Error(`Invalid slice: ${tt}`);let et=[Math.max(tt[0],0),Math.min(tt[1],this.dims[j])];a.push(et),s.push(et[1]-et[0])}else throw new Error(`Invalid slice: ${tt}`)}let c=a.map(([j,tt])=>tt-j),d=c.reduce((j,tt)=>j*tt),g=new this.data.constructor(d);const $=this.stride();for(let j=0;j<d;++j){let tt=0;for(let et=c.length-1,b=j;et>=0;--et){const h=c[et];tt+=(b%h+a[et][0])*$[et],b=Math.floor(b/h)}g[j]=this.data[tt]}return new Tensor(this.type,g,s)}permute(...e){return permute(this,e)}transpose(...e){return this.permute(...e)}sum(e=null,s=!1){return this.norm(1,e,s)}norm(e="fro",s=null,a=!1){if(e==="fro")e=2;else if(typeof e=="string")throw Error(`Unsupported norm: ${e}`);if(s===null){let g=this.data.reduce(($,j)=>$+j**e,0)**(1/e);return new Tensor(this.type,[g],[])}s=safeIndex(s,this.dims.length);const c=this.dims.slice();c[s]=1;const d=new this.data.constructor(this.data.length/this.dims[s]);for(let g=0;g<this.data.length;++g){let $=0;for(let j=this.dims.length-1,tt=g,et=1;j>=0;--j){const b=this.dims[j];if(j!==s){const h=tt%b;$+=h*et,et*=c[j]}tt=Math.floor(tt/b)}d[$]+=this.data[g]**e}if(e!==1)for(let g=0;g<d.length;++g)d[g]=d[g]**(1/e);return a||c.splice(s,1),new Tensor(this.type,d,c)}normalize_(e=2,s=1){s=safeIndex(s,this.dims.length);const a=this.norm(e,s,!0);for(let c=0;c<this.data.length;++c){let d=0;for(let g=this.dims.length-1,$=c,j=1;g>=0;--g){const tt=this.dims[g];if(g!==s){const et=$%tt;d+=et*j,j*=this.dims[g]}$=Math.floor($/tt)}this.data[c]/=a.data[d]}return this}normalize(e=2,s=1){return this.clone().normalize_(e,s)}stride(){return dimsToStride(this.dims)}squeeze(e=null){return new Tensor(this.type,this.data,calc_squeeze_dims(this.dims,e))}squeeze_(e=null){return this.dims=calc_squeeze_dims(this.dims,e),this}unsqueeze(e=null){return new Tensor(this.type,this.data,calc_unsqueeze_dims(this.dims,e))}unsqueeze_(e=null){return this.dims=calc_unsqueeze_dims(this.dims,e),this}flatten_(e=0,s=-1){s=(s+this.dims.length)%this.dims.length;let a=this.dims.slice(0,e),c=this.dims.slice(e,s+1),d=this.dims.slice(s+1);return this.dims=[...a,c.reduce((g,$)=>g*$,1),...d],this}flatten(e=0,s=-1){return this.clone().flatten_(e,s)}view(...e){let s=-1;for(let a=0;a<e.length;++a)if(e[a]===-1){if(s!==-1)throw new Error("Only one dimension can be inferred");s=a}if(s!==-1){const a=e.reduce((c,d,g)=>g!==s?c*d:c,1);e[s]=this.data.length/a}return new Tensor(this.type,this.data,e)}neg_(){for(let e=0;e<this.data.length;++e)this.data[e]=-this.data[e];return this}neg(){return this.clone().neg_()}clamp_(e,s){for(let a=0;a<this.data.length;++a)this.data[a]=Math.min(Math.max(this.data[a],e),s);return this}clamp(e,s){return this.clone().clamp_(e,s)}round_(){for(let e=0;e<this.data.length;++e)this.data[e]=Math.round(this.data[e]);return this}round(){return this.clone().round_()}to(e){if(this.type===e)return this;if(!DataTypeMap.hasOwnProperty(e))throw new Error(`Unsupported type: ${e}`);return new Tensor(e,DataTypeMap[e].from(this.data),this.dims)}}function reshape(o,e){const s=o.length,a=e.reduce((d,g)=>d*g);if(s!==a)throw Error(`cannot reshape array of size ${s} into shape (${e})`);let c=o;for(let d=e.length-1;d>=0;d--)c=c.reduce((g,$)=>{let j=g[g.length-1];return j.length<e[d]?j.push($):g.push([$]),g},[[]]);return c[0]}function permute(o,e){const[s,a]=permute_data(o.data,o.dims,e);return new Tensor(o.type,s,a)}function interpolate(o,[e,s],a="bilinear",c=!1){const d=o.dims.at(-3)??1,g=o.dims.at(-2),$=o.dims.at(-1);let j=interpolate_data(o.data,[d,g,$],[e,s],a,c);return new Tensor(o.type,j,[d,e,s])}function mean_pooling(o,e){let s=[o.dims[0],o.dims[2]],a=new o.data.constructor(s[0]*s[1]),[c,d,g]=o.dims,$=0;for(let j=0;j<c;++j){let tt=j*g*d;for(let et=0;et<g;++et){let b=0,h=0,_e=j*d,nt=tt+et;for(let it=0;it<d;++it){let st=Number(e.data[_e+it]);h+=st,b+=o.data[nt+it*g]*st}let rt=b/h;a[$++]=rt}}return new Tensor(o.type,a,s)}function calc_squeeze_dims(o,e){return o=o.slice(),e===null?o=o.filter(s=>s!==1):typeof e=="number"?o[e]===1&&o.splice(e,1):Array.isArray(e)&&(o=o.filter((s,a)=>s!==1||!e.includes(a))),o}function calc_unsqueeze_dims(o,e){return e=safeIndex(e,o.length+1),o=o.slice(),o.splice(e,0,1),o}function safeIndex(o,e,s=null){if(o<-e||o>=e)throw new Error(`IndexError: index ${o} is out of bounds for dimension${s===null?"":" "+s} with size ${e}`);return o<0&&(o=(o%e+e)%e),o}function cat(o,e=0){e=safeIndex(e,o[0].dims.length);const s=o[0].dims.slice();s[e]=o.reduce((g,$)=>g+$.dims[e],0);const a=s.reduce((g,$)=>g*$,1),c=new o[0].data.constructor(a),d=o[0].type;if(e===0){let g=0;for(let $ of o)c.set($.data,g),g+=$.data.length}else{let g=0;for(let $=0;$<o.length;++$){let j=o[$];for(let tt=0;tt<j.data.length;++tt){let et=0;for(let b=j.dims.length-1,h=tt,_e=1;b>=0;--b){const nt=j.dims[b];let rt=h%nt;b===e&&(rt+=g),et+=rt*_e,_e*=s[b],h=Math.floor(h/nt)}c[et]=j.data[tt]}g+=j.dims[e]}}return new Tensor(d,c,s)}function stack(o,e=0){return cat(o.map(s=>s.unsqueeze(e)),e)}function std_mean(o,e=null,s=1,a=!1){if(e===null){const tt=o.data.reduce((_e,nt)=>_e+nt,0)/o.data.length,et=Math.sqrt(o.data.reduce((_e,nt)=>_e+(nt-tt)**2,0)/(o.data.length-s)),b=new Tensor(o.type,[tt],[]);return[new Tensor(o.type,[et],[]),b]}e=safeIndex(e,o.dims.length);const c=mean(o,e,a),d=o.dims.slice();d[e]=1;const g=new o.data.constructor(o.data.length/o.dims[e]);for(let j=0;j<o.data.length;++j){let tt=0;for(let et=o.dims.length-1,b=j,h=1;et>=0;--et){const _e=o.dims[et];if(et!==e){const nt=b%_e;tt+=nt*h,h*=d[et]}b=Math.floor(b/_e)}g[tt]+=(o.data[j]-c.data[tt])**2}for(let j=0;j<g.length;++j)g[j]=Math.sqrt(g[j]/(o.dims[e]-s));return a||d.splice(e,1),[new Tensor(o.type,g,d),c]}function mean(o,e=null,s=!1){if(e===null){let d=o.data.reduce((g,$)=>g+$,0);return new Tensor(o.type,[d/o.data.length],[])}e=safeIndex(e,o.dims.length);const a=o.dims.slice();a[e]=1;const c=new o.data.constructor(o.data.length/o.dims[e]);for(let d=0;d<o.data.length;++d){let g=0;for(let $=o.dims.length-1,j=d,tt=1;$>=0;--$){const et=o.dims[$];if($!==e){const b=j%et;g+=b*tt,tt*=a[$]}j=Math.floor(j/et)}c[g]+=o.data[d]}if(o.dims[e]!==1)for(let d=0;d<c.length;++d)c[d]=c[d]/o.dims[e];return s||a.splice(e,1),new Tensor(o.type,c,a)}function dynamicTimeWarping(o){const[e,s]=o.dims,a=[e+1,s+1],c=new Tensor("float32",new Float32Array(a[0]*a[1]).fill(1/0),a),d=new Tensor("float32",new Float32Array(a[0]*a[1]).fill(-1),a);c[0].data[0]=0;for(let et=1;et<s+1;++et)for(let b=1;b<e+1;++b){const h=c[b-1][et-1].item(),_e=c[b-1][et].item(),nt=c[b][et-1].item();let rt,it;h<_e&&h<nt?(rt=h,it=0):_e<h&&_e<nt?(rt=_e,it=1):(rt=nt,it=2),c[b].data[et]=o[b-1][et-1].item()+rt,d[b].data[et]=it}let g=e,$=s;d.data.fill(2,0,a[1]);for(let et=0;et<a[0];++et)d[et].data[0]=1;let j=[],tt=[];for(;g>0||$>0;)switch(j.push(g-1),tt.push($-1),d[g][$].item()){case 0:--g,--$;break;case 1:--g;break;case 2:--$;break;default:throw new Error(`Internal error in dynamic time warping. Unexpected trace[${g}, ${$}]. Please file a bug report.`)}return j.reverse(),tt.reverse(),[j,tt]}function dimsToStride(o){const e=new Array(o.length);for(let s=o.length-1,a=1;s>=0;--s)e[s]=a,a*=o[s];return e}function ones(o){const e=o.reduce((s,a)=>s*a,1);return new Tensor("int64",new BigInt64Array(e).fill(1n),o)}function ones_like(o){return ones(o.dims)}function quantize_embeddings(o,e){if(o.dims.length!==2)throw new Error("The tensor must have 2 dimensions");if(o.dims.at(-1)%8!==0)throw new Error("The last dimension of the tensor must be a multiple of 8");if(!["binary","ubinary"].includes(e))throw new Error("The precision must be either 'binary' or 'ubinary'");const s=e==="binary",a=s?"int8":"uint8",c=s?Int8Array:Uint8Array,d=o.data,g=new c(d.length/8);for(let $=0;$<d.length;++$){const j=d[$]>0?1:0,tt=Math.floor($/8),et=$%8;g[tt]|=j<<7-et,s&&et===0&&(g[tt]-=128)}return new Tensor(a,g,[o.dims[0],o.dims[1]/8])}class PriorityQueue{constructor(e=(s,a)=>s>a){this._heap=[],this._comparator=e}get size(){return this._heap.length}isEmpty(){return this.size===0}peek(){return this._heap[0]}push(...e){return this.extend(e)}extend(e){for(const s of e)this._heap.push(s),this._siftUp();return this.size}pop(){const e=this.peek(),s=this.size-1;return s>0&&this._swap(0,s),this._heap.pop(),this._siftDown(),e}replace(e){const s=this.peek();return this._heap[0]=e,this._siftDown(),s}_parent(e){return(e+1>>>1)-1}_left(e){return(e<<1)+1}_right(e){return e+1<<1}_greater(e,s){return this._comparator(this._heap[e],this._heap[s])}_swap(e,s){const a=this._heap[e];this._heap[e]=this._heap[s],this._heap[s]=a}_siftUp(){let e=this.size-1;for(;e>0&&this._greater(e,this._parent(e));)this._swap(e,this._parent(e)),e=this._parent(e)}_siftDown(){let e=0;for(;this._left(e)<this.size&&this._greater(this._left(e),e)||this._right(e)<this.size&&this._greater(this._right(e),e);){const s=this._right(e)<this.size&&this._greater(this._right(e),this._left(e))?this._right(e):this._left(e);this._swap(e,s),e=s}}}class CharTrie{constructor(){this.root=CharTrieNode.default()}extend(e){for(let s of e)this.push(s)}push(e){let s=this.root;for(let a of e){let c=s.children.get(a);c===void 0&&(c=CharTrieNode.default(),s.children.set(a,c)),s=c}s.isLeaf=!0}*commonPrefixSearch(e){let s=this.root,a="";for(let c=0;c<e.length&&s!==void 0;++c){const d=e[c];a+=d,s=s.children.get(d),s!==void 0&&s.isLeaf&&(yield a)}}}class CharTrieNode{constructor(e,s){this.isLeaf=e,this.children=s}static default(){return new CharTrieNode(!1,new Map)}}class TokenLattice{constructor(e,s,a){this.sentence=e,this.len=e.length,this.bosTokenId=s,this.eosTokenId=a,this.nodes=[],this.beginNodes=Array.from({length:this.len+1},()=>[]),this.endNodes=Array.from({length:this.len+1},()=>[]);const c=new TokenLatticeNode(this.bosTokenId,0,0,0,0),d=new TokenLatticeNode(this.eosTokenId,1,this.len,0,0);this.nodes.push(c.clone()),this.nodes.push(d.clone()),this.beginNodes[this.len].push(d),this.endNodes[0].push(c)}insert(e,s,a,c){const d=this.nodes.length,g=new TokenLatticeNode(c,d,e,s,a);this.beginNodes[e].push(g),this.endNodes[e+s].push(g),this.nodes.push(g)}viterbi(){const e=this.len;let s=0;for(;s<=e;){if(this.beginNodes[s].length==0)return[];for(let $ of this.beginNodes[s]){$.prev=null;let j=0,tt=null;for(let et of this.endNodes[s]){const b=et.backtraceScore+$.score;(tt===null||b>j)&&(tt=et.clone(),j=b)}if(tt!==null)$.prev=tt,$.backtraceScore=j;else return[]}++s}const a=[],d=this.beginNodes[e][0].prev;if(d===null)return[];let g=d.clone();for(;g.prev!==null;)a.push(g.clone()),g=g.clone().prev.clone();return a.reverse(),a}piece(e){return this.sentence.slice(e.pos,e.pos+e.length)}tokens(){return this.viterbi().map(s=>this.piece(s))}tokenIds(){return this.viterbi().map(s=>s.tokenId)}}class TokenLatticeNode{constructor(e,s,a,c,d){this.tokenId=e,this.nodeId=s,this.pos=a,this.length=c,this.score=d,this.prev=null,this.backtraceScore=0}clone(){const e=new TokenLatticeNode(this.tokenId,this.nodeId,this.pos,this.length,this.score);return e.prev=this.prev,e.backtraceScore=this.backtraceScore,e}}var TOKEN_TYPES=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator"}),KEYWORDS=Object.freeze({set:TOKEN_TYPES.Set,for:TOKEN_TYPES.For,in:TOKEN_TYPES.In,is:TOKEN_TYPES.Is,if:TOKEN_TYPES.If,else:TOKEN_TYPES.Else,endif:TOKEN_TYPES.EndIf,elif:TOKEN_TYPES.ElseIf,endfor:TOKEN_TYPES.EndFor,and:TOKEN_TYPES.And,or:TOKEN_TYPES.Or,not:TOKEN_TYPES.Not,"not in":TOKEN_TYPES.NotIn,true:TOKEN_TYPES.BooleanLiteral,false:TOKEN_TYPES.BooleanLiteral}),Token=class{constructor(o,e){this.value=o,this.type=e}};function isWord(o){return/\w/.test(o)}function isInteger(o){return/[0-9]/.test(o)}var ORDERED_MAPPING_TABLE=[["{%",TOKEN_TYPES.OpenStatement],["%}",TOKEN_TYPES.CloseStatement],["{{",TOKEN_TYPES.OpenExpression],["}}",TOKEN_TYPES.CloseExpression],["(",TOKEN_TYPES.OpenParen],[")",TOKEN_TYPES.CloseParen],["{",TOKEN_TYPES.OpenCurlyBracket],["}",TOKEN_TYPES.CloseCurlyBracket],["[",TOKEN_TYPES.OpenSquareBracket],["]",TOKEN_TYPES.CloseSquareBracket],[",",TOKEN_TYPES.Comma],[".",TOKEN_TYPES.Dot],[":",TOKEN_TYPES.Colon],["|",TOKEN_TYPES.Pipe],["<=",TOKEN_TYPES.ComparisonBinaryOperator],[">=",TOKEN_TYPES.ComparisonBinaryOperator],["==",TOKEN_TYPES.ComparisonBinaryOperator],["!=",TOKEN_TYPES.ComparisonBinaryOperator],["<",TOKEN_TYPES.ComparisonBinaryOperator],[">",TOKEN_TYPES.ComparisonBinaryOperator],["+",TOKEN_TYPES.AdditiveBinaryOperator],["-",TOKEN_TYPES.AdditiveBinaryOperator],["*",TOKEN_TYPES.MultiplicativeBinaryOperator],["/",TOKEN_TYPES.MultiplicativeBinaryOperator],["%",TOKEN_TYPES.MultiplicativeBinaryOperator],["=",TOKEN_TYPES.Equals]],ESCAPE_CHARACTERS=new Map([["n",`
`],["t","	"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);function preprocess(o,e={}){return o.endsWith(`
`)&&(o=o.slice(0,-1)),o=o.replace(/{#.*?#}/gs,"{##}"),e.lstrip_blocks&&(o=o.replace(/^[ \t]*({[#%])/gm,"$1")),e.trim_blocks&&(o=o.replace(/([#%]})\n/g,"$1")),o.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}function tokenize(o,e={}){var g,$,j;const s=[],a=preprocess(o,e);let c=0;const d=tt=>{let et="";for(;tt(a[c]);){if(a[c]==="\\"){if(++c,c>=a.length)throw new SyntaxError("Unexpected end of input");const b=a[c++],h=ESCAPE_CHARACTERS.get(b);if(h===void 0)throw new SyntaxError(`Unexpected escaped character: ${b}`);et+=h;continue}if(et+=a[c++],c>=a.length)throw new SyntaxError("Unexpected end of input")}return et};e:for(;c<a.length;){const tt=(g=s.at(-1))==null?void 0:g.type;if(tt===void 0||tt===TOKEN_TYPES.CloseStatement||tt===TOKEN_TYPES.CloseExpression){let b="";for(;c<a.length&&!(a[c]==="{"&&(a[c+1]==="%"||a[c+1]==="{"));)b+=a[c++];if(b.length>0){s.push(new Token(b,TOKEN_TYPES.Text));continue}}d(b=>/\s/.test(b));const et=a[c];if(et==="-"||et==="+"){const b=($=s.at(-1))==null?void 0:$.type;if(b===TOKEN_TYPES.Text||b===void 0)throw new SyntaxError(`Unexpected character: ${et}`);switch(b){case TOKEN_TYPES.Identifier:case TOKEN_TYPES.NumericLiteral:case TOKEN_TYPES.BooleanLiteral:case TOKEN_TYPES.StringLiteral:case TOKEN_TYPES.CloseParen:case TOKEN_TYPES.CloseSquareBracket:break;default:{++c;const h=d(isInteger);s.push(new Token(`${et}${h}`,h.length>0?TOKEN_TYPES.NumericLiteral:TOKEN_TYPES.UnaryOperator));continue}}}for(const[b,h]of ORDERED_MAPPING_TABLE)if(a.slice(c,c+b.length)===b){s.push(new Token(b,h)),c+=b.length;continue e}if(et==="'"||et==='"'){++c;const b=d(h=>h!==et);s.push(new Token(b,TOKEN_TYPES.StringLiteral)),++c;continue}if(isInteger(et)){const b=d(isInteger);s.push(new Token(b,TOKEN_TYPES.NumericLiteral));continue}if(isWord(et)){const b=d(isWord),h=Object.hasOwn(KEYWORDS,b)?KEYWORDS[b]:TOKEN_TYPES.Identifier;h===TOKEN_TYPES.In&&((j=s.at(-1))==null?void 0:j.type)===TOKEN_TYPES.Not?(s.pop(),s.push(new Token("not in",TOKEN_TYPES.NotIn))):s.push(new Token(b,h));continue}throw new SyntaxError(`Unexpected character: ${et}`)}return s}var Statement=class{constructor(){nn(this,"type","Statement")}},Program=class extends Statement{constructor(e){super();nn(this,"type","Program");this.body=e}},If=class extends Statement{constructor(e,s,a){super();nn(this,"type","If");this.test=e,this.body=s,this.alternate=a}},For=class extends Statement{constructor(e,s,a){super();nn(this,"type","For");this.loopvar=e,this.iterable=s,this.body=a}},SetStatement=class extends Statement{constructor(e,s){super();nn(this,"type","Set");this.assignee=e,this.value=s}},Expression=class extends Statement{constructor(){super(...arguments);nn(this,"type","Expression")}},MemberExpression=class extends Expression{constructor(e,s,a){super();nn(this,"type","MemberExpression");this.object=e,this.property=s,this.computed=a}},CallExpression=class extends Expression{constructor(e,s){super();nn(this,"type","CallExpression");this.callee=e,this.args=s}},Identifier=class extends Expression{constructor(e){super();nn(this,"type","Identifier");this.value=e}},Literal=class extends Expression{constructor(e){super();nn(this,"type","Literal");this.value=e}},NumericLiteral=class extends Literal{constructor(){super(...arguments);nn(this,"type","NumericLiteral")}},StringLiteral=class extends Literal{constructor(){super(...arguments);nn(this,"type","StringLiteral")}},BooleanLiteral=class extends Literal{constructor(){super(...arguments);nn(this,"type","BooleanLiteral")}},ArrayLiteral=class extends Literal{constructor(){super(...arguments);nn(this,"type","ArrayLiteral")}},TupleLiteral=class extends Literal{constructor(){super(...arguments);nn(this,"type","TupleLiteral")}},ObjectLiteral=class extends Literal{constructor(){super(...arguments);nn(this,"type","ObjectLiteral")}},BinaryExpression=class extends Expression{constructor(e,s,a){super();nn(this,"type","BinaryExpression");this.operator=e,this.left=s,this.right=a}},FilterExpression=class extends Expression{constructor(e,s){super();nn(this,"type","FilterExpression");this.operand=e,this.filter=s}},TestExpression=class extends Expression{constructor(e,s,a){super();nn(this,"type","TestExpression");this.operand=e,this.negate=s,this.test=a}},UnaryExpression=class extends Expression{constructor(e,s){super();nn(this,"type","UnaryExpression");this.operator=e,this.argument=s}},SliceExpression=class extends Expression{constructor(e=void 0,s=void 0,a=void 0){super();nn(this,"type","SliceExpression");this.start=e,this.stop=s,this.step=a}},KeywordArgumentExpression=class extends Expression{constructor(e,s){super();nn(this,"type","KeywordArgumentExpression");this.key=e,this.value=s}};function parse(o){const e=new Program([]);let s=0;function a(At,mt){const _t=o[s++];if(!_t||_t.type!==At)throw new Error(`Parser Error: ${mt}. ${_t.type} !== ${At}.`);return _t}function c(){switch(o[s].type){case TOKEN_TYPES.Text:return $();case TOKEN_TYPES.OpenStatement:return j();case TOKEN_TYPES.OpenExpression:return tt();default:throw new SyntaxError(`Unexpected token type: ${o[s].type}`)}}function d(...At){return s+At.length<=o.length&&At.some((mt,_t)=>mt!==o[s+_t].type)}function g(...At){return s+At.length<=o.length&&At.every((mt,_t)=>mt===o[s+_t].type)}function $(){return new StringLiteral(a(TOKEN_TYPES.Text,"Expected text token").value)}function j(){a(TOKEN_TYPES.OpenStatement,"Expected opening statement token");let At;switch(o[s].type){case TOKEN_TYPES.Set:++s,At=et(),a(TOKEN_TYPES.CloseStatement,"Expected closing statement token");break;case TOKEN_TYPES.If:++s,At=b(),a(TOKEN_TYPES.OpenStatement,"Expected {% token"),a(TOKEN_TYPES.EndIf,"Expected endif token"),a(TOKEN_TYPES.CloseStatement,"Expected %} token");break;case TOKEN_TYPES.For:++s,At=_e(),a(TOKEN_TYPES.OpenStatement,"Expected {% token"),a(TOKEN_TYPES.EndFor,"Expected endfor token"),a(TOKEN_TYPES.CloseStatement,"Expected %} token");break;default:throw new SyntaxError(`Unknown statement type: ${o[s].type}`)}return At}function tt(){a(TOKEN_TYPES.OpenExpression,"Expected opening expression token");const At=nt();return a(TOKEN_TYPES.CloseExpression,"Expected closing expression token"),At}function et(){const At=nt();if(g(TOKEN_TYPES.Equals)){++s;const mt=et();return new SetStatement(At,mt)}return At}function b(){var St,wt,kt,Dt,Ft,Ot,Bt,Vt;const At=nt();a(TOKEN_TYPES.CloseStatement,"Expected closing statement token");const mt=[],_t=[];for(;!(((St=o[s])==null?void 0:St.type)===TOKEN_TYPES.OpenStatement&&(((wt=o[s+1])==null?void 0:wt.type)===TOKEN_TYPES.ElseIf||((kt=o[s+1])==null?void 0:kt.type)===TOKEN_TYPES.Else||((Dt=o[s+1])==null?void 0:Dt.type)===TOKEN_TYPES.EndIf));)mt.push(c());if(((Ft=o[s])==null?void 0:Ft.type)===TOKEN_TYPES.OpenStatement&&((Ot=o[s+1])==null?void 0:Ot.type)!==TOKEN_TYPES.EndIf)if(++s,g(TOKEN_TYPES.ElseIf))a(TOKEN_TYPES.ElseIf,"Expected elseif token"),_t.push(b());else for(a(TOKEN_TYPES.Else,"Expected else token"),a(TOKEN_TYPES.CloseStatement,"Expected closing statement token");!(((Bt=o[s])==null?void 0:Bt.type)===TOKEN_TYPES.OpenStatement&&((Vt=o[s+1])==null?void 0:Vt.type)===TOKEN_TYPES.EndIf);)_t.push(c());return new If(At,mt,_t)}function h(At=!1){const mt=At?gt:nt,_t=[mt()],St=g(TOKEN_TYPES.Comma);for(;St&&(++s,_t.push(mt()),!!g(TOKEN_TYPES.Comma)););return St?new TupleLiteral(_t):_t[0]}function _e(){const At=h(!0);if(!(At instanceof Identifier||At instanceof TupleLiteral))throw new SyntaxError(`Expected identifier/tuple for the loop variable, got ${At.type} instead`);a(TOKEN_TYPES.In,"Expected `in` keyword following loop variable");const mt=nt();a(TOKEN_TYPES.CloseStatement,"Expected closing statement token");const _t=[];for(;d(TOKEN_TYPES.OpenStatement,TOKEN_TYPES.EndFor);)_t.push(c());return new For(At,mt,_t)}function nt(){return rt()}function rt(){const At=it();if(g(TOKEN_TYPES.If)){++s;const mt=it();a(TOKEN_TYPES.Else,"Expected else token");const _t=it();return new If(mt,[At],[_t])}return At}function it(){let At=st();for(;g(TOKEN_TYPES.Or);){const mt=o[s];++s;const _t=st();At=new BinaryExpression(mt,At,_t)}return At}function st(){let At=ot();for(;g(TOKEN_TYPES.And);){const mt=o[s];++s;const _t=ot();At=new BinaryExpression(mt,At,_t)}return At}function ot(){let At;for(;g(TOKEN_TYPES.Not);){const mt=o[s];++s;const _t=ot();At=new UnaryExpression(mt,_t)}return At??at()}function at(){let At=ct();for(;g(TOKEN_TYPES.ComparisonBinaryOperator)||g(TOKEN_TYPES.In)||g(TOKEN_TYPES.NotIn);){const mt=o[s];++s;const _t=ct();At=new BinaryExpression(mt,At,_t)}return At}function ct(){let At=Ct();for(;g(TOKEN_TYPES.AdditiveBinaryOperator);){const mt=o[s];++s;const _t=Ct();At=new BinaryExpression(mt,At,_t)}return At}function ut(){const At=bt();return g(TOKEN_TYPES.OpenParen)?dt(At):At}function dt(At){let mt=new CallExpression(At,ht());return g(TOKEN_TYPES.OpenParen)&&(mt=dt(mt)),mt}function ht(){a(TOKEN_TYPES.OpenParen,"Expected opening parenthesis for arguments list");const At=pt();return a(TOKEN_TYPES.CloseParen,"Expected closing parenthesis for arguments list"),At}function pt(){const At=[];for(;!g(TOKEN_TYPES.CloseParen);){let mt=nt();if(g(TOKEN_TYPES.Equals)){if(++s,!(mt instanceof Identifier))throw new SyntaxError("Expected identifier for keyword argument");const _t=nt();mt=new KeywordArgumentExpression(mt,_t)}At.push(mt),g(TOKEN_TYPES.Comma)&&++s}return At}function ft(){const At=[];let mt=!1;for(;!g(TOKEN_TYPES.CloseSquareBracket);)g(TOKEN_TYPES.Colon)?(At.push(void 0),++s,mt=!0):(At.push(nt()),g(TOKEN_TYPES.Colon)&&(++s,mt=!0));if(At.length===0)throw new SyntaxError("Expected at least one argument for member/slice expression");if(mt){if(At.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new SliceExpression(...At)}return At[0]}function bt(){let At=gt();for(;g(TOKEN_TYPES.Dot)||g(TOKEN_TYPES.OpenSquareBracket);){const mt=o[s];++s;let _t;const St=mt.type!==TOKEN_TYPES.Dot;if(St)_t=ft(),a(TOKEN_TYPES.CloseSquareBracket,"Expected closing square bracket");else if(_t=gt(),_t.type!=="Identifier")throw new SyntaxError("Expected identifier following dot operator");At=new MemberExpression(At,_t,St)}return At}function Ct(){let At=yt();for(;g(TOKEN_TYPES.MultiplicativeBinaryOperator);){const mt=o[s];++s;const _t=yt();At=new BinaryExpression(mt,At,_t)}return At}function yt(){let At=Et();for(;g(TOKEN_TYPES.Is);){++s;const mt=g(TOKEN_TYPES.Not);mt&&++s;let _t=gt();if(_t instanceof BooleanLiteral&&(_t=new Identifier(_t.value.toString())),!(_t instanceof Identifier))throw new SyntaxError("Expected identifier for the test");At=new TestExpression(At,mt,_t)}return At}function Et(){let At=ut();for(;g(TOKEN_TYPES.Pipe);){++s;let mt=gt();if(!(mt instanceof Identifier))throw new SyntaxError("Expected identifier for the filter");g(TOKEN_TYPES.OpenParen)&&(mt=dt(mt)),At=new FilterExpression(At,mt)}return At}function gt(){const At=o[s];switch(At.type){case TOKEN_TYPES.NumericLiteral:return++s,new NumericLiteral(Number(At.value));case TOKEN_TYPES.StringLiteral:return++s,new StringLiteral(At.value);case TOKEN_TYPES.BooleanLiteral:return++s,new BooleanLiteral(At.value==="true");case TOKEN_TYPES.Identifier:return++s,new Identifier(At.value);case TOKEN_TYPES.OpenParen:{++s;const mt=h();if(o[s].type!==TOKEN_TYPES.CloseParen)throw new SyntaxError(`Expected closing parenthesis, got ${o[s].type} instead`);return++s,mt}case TOKEN_TYPES.OpenSquareBracket:{++s;const mt=[];for(;!g(TOKEN_TYPES.CloseSquareBracket);)mt.push(nt()),g(TOKEN_TYPES.Comma)&&++s;return++s,new ArrayLiteral(mt)}case TOKEN_TYPES.OpenCurlyBracket:{++s;const mt=new Map;for(;!g(TOKEN_TYPES.CloseCurlyBracket);){const _t=nt();a(TOKEN_TYPES.Colon,"Expected colon between key and value in object literal");const St=nt();mt.set(_t,St),g(TOKEN_TYPES.Comma)&&++s}return++s,new ObjectLiteral(mt)}default:throw new SyntaxError(`Unexpected token: ${At.type}`)}}for(;s<o.length;)e.body.push(c());return e}function range(o,e,s=1){e===void 0&&(e=o,o=0);const a=[];for(let c=o;c<e;c+=s)a.push(c);return a}function slice(o,e,s,a=1){const c=Math.sign(a);c>=0?(e=(e??(e=0))<0?Math.max(o.length+e,0):Math.min(e,o.length),s=(s??(s=o.length))<0?Math.max(o.length+s,0):Math.min(s,o.length)):(e=(e??(e=o.length-1))<0?Math.max(o.length+e,-1):Math.min(e,o.length-1),s=(s??(s=-1))<-1?Math.max(o.length+s,-1):Math.min(s,o.length-1));const d=[];for(let g=e;c*g<c*s;g+=a)d.push(o[g]);return d}function titleCase(o){return o.replace(/\b\w/g,e=>e.toUpperCase())}var RuntimeValue=class{constructor(o=void 0){nn(this,"type","RuntimeValue");nn(this,"value");nn(this,"builtins",new Map);this.value=o}__bool__(){return new BooleanValue(!!this.value)}},NumericValue=class extends RuntimeValue{constructor(){super(...arguments);nn(this,"type","NumericValue")}},StringValue=class extends RuntimeValue{constructor(){super(...arguments);nn(this,"type","StringValue");nn(this,"builtins",new Map([["upper",new FunctionValue(()=>new StringValue(this.value.toUpperCase()))],["lower",new FunctionValue(()=>new StringValue(this.value.toLowerCase()))],["strip",new FunctionValue(()=>new StringValue(this.value.trim()))],["title",new FunctionValue(()=>new StringValue(titleCase(this.value)))],["length",new NumericValue(this.value.length)]]))}},BooleanValue=class extends RuntimeValue{constructor(){super(...arguments);nn(this,"type","BooleanValue")}},ObjectValue=class extends RuntimeValue{constructor(){super(...arguments);nn(this,"type","ObjectValue");nn(this,"builtins",new Map([["get",new FunctionValue(([e,s])=>{if(!(e instanceof StringValue))throw new Error(`Object key must be a string: got ${e.type}`);return this.value.get(e.value)??s??new NullValue})],["items",new FunctionValue(()=>new ArrayValue(Array.from(this.value.entries()).map(([e,s])=>new ArrayValue([new StringValue(e),s]))))]]))}__bool__(){return new BooleanValue(this.value.size>0)}},ArrayValue=class extends RuntimeValue{constructor(){super(...arguments);nn(this,"type","ArrayValue");nn(this,"builtins",new Map([["length",new NumericValue(this.value.length)]]))}__bool__(){return new BooleanValue(this.value.length>0)}},TupleValue=class extends ArrayValue{constructor(){super(...arguments);nn(this,"type","TupleValue")}},FunctionValue=class extends RuntimeValue{constructor(){super(...arguments);nn(this,"type","FunctionValue")}},NullValue=class extends RuntimeValue{constructor(){super(...arguments);nn(this,"type","NullValue")}},UndefinedValue=class extends RuntimeValue{constructor(){super(...arguments);nn(this,"type","UndefinedValue")}},Environment=class{constructor(o){nn(this,"variables",new Map([["namespace",new FunctionValue(o=>{if(o.length===0)return new ObjectValue(new Map);if(o.length!==1||!(o[0]instanceof ObjectValue))throw new Error("`namespace` expects either zero arguments or a single object argument");return o[0]})]]));nn(this,"tests",new Map([["boolean",o=>o.type==="BooleanValue"],["callable",o=>o instanceof FunctionValue],["odd",o=>{if(o.type!=="NumericValue")throw new Error(`Cannot apply test "odd" to type: ${o.type}`);return o.value%2!==0}],["even",o=>{if(o.type!=="NumericValue")throw new Error(`Cannot apply test "even" to type: ${o.type}`);return o.value%2===0}],["false",o=>o.type==="BooleanValue"&&!o.value],["true",o=>o.type==="BooleanValue"&&o.value],["number",o=>o.type==="NumericValue"],["integer",o=>o.type==="NumericValue"&&Number.isInteger(o.value)],["iterable",o=>o instanceof ArrayValue||o instanceof StringValue],["lower",o=>{const e=o.value;return o.type==="StringValue"&&e===e.toLowerCase()}],["upper",o=>{const e=o.value;return o.type==="StringValue"&&e===e.toUpperCase()}],["none",o=>o.type==="NullValue"],["defined",o=>o.type!=="UndefinedValue"],["undefined",o=>o.type==="UndefinedValue"],["equalto",(o,e)=>o.value===e.value]]));this.parent=o}set(o,e){return this.declareVariable(o,convertToRuntimeValues(e))}declareVariable(o,e){if(this.variables.has(o))throw new SyntaxError(`Variable already declared: ${o}`);return this.variables.set(o,e),e}setVariable(o,e){return this.variables.set(o,e),e}resolve(o){if(this.variables.has(o))return this;if(this.parent)return this.parent.resolve(o);throw new Error(`Unknown variable: ${o}`)}lookupVariable(o){try{return this.resolve(o).variables.get(o)??new UndefinedValue}catch{return new UndefinedValue}}},Interpreter=class{constructor(o){nn(this,"global");this.global=o??new Environment}run(o){return this.evaluate(o,this.global)}evaluateBinaryExpression(o,e){const s=this.evaluate(o.left,e);switch(o.operator.value){case"and":return s.__bool__().value?this.evaluate(o.right,e):s;case"or":return s.__bool__().value?s:this.evaluate(o.right,e)}const a=this.evaluate(o.right,e);switch(o.operator.value){case"==":return new BooleanValue(s.value==a.value);case"!=":return new BooleanValue(s.value!=a.value)}if(s instanceof UndefinedValue||a instanceof UndefinedValue)throw new Error("Cannot perform operation on undefined values");if(s instanceof NullValue||a instanceof NullValue)throw new Error("Cannot perform operation on null values");if(s instanceof NumericValue&&a instanceof NumericValue)switch(o.operator.value){case"+":return new NumericValue(s.value+a.value);case"-":return new NumericValue(s.value-a.value);case"*":return new NumericValue(s.value*a.value);case"/":return new NumericValue(s.value/a.value);case"%":return new NumericValue(s.value%a.value);case"<":return new BooleanValue(s.value<a.value);case">":return new BooleanValue(s.value>a.value);case">=":return new BooleanValue(s.value>=a.value);case"<=":return new BooleanValue(s.value<=a.value)}else if(s instanceof ArrayValue&&a instanceof ArrayValue)switch(o.operator.value){case"+":return new ArrayValue(s.value.concat(a.value))}else if(a instanceof ArrayValue){const c=a.value.find(d=>d.value===s.value)!==void 0;switch(o.operator.value){case"in":return new BooleanValue(c);case"not in":return new BooleanValue(!c)}}if(s instanceof StringValue||a instanceof StringValue)switch(o.operator.value){case"+":return new StringValue(s.value.toString()+a.value.toString())}if(s instanceof StringValue&&a instanceof StringValue)switch(o.operator.value){case"in":return new BooleanValue(a.value.includes(s.value));case"not in":return new BooleanValue(!a.value.includes(s.value))}if(s instanceof StringValue&&a instanceof ObjectValue)switch(o.operator.value){case"in":return new BooleanValue(a.value.has(s.value));case"not in":return new BooleanValue(!a.value.has(s.value))}throw new SyntaxError(`Unknown operator "${o.operator.value}" between ${s.type} and ${a.type}`)}evaluateFilterExpression(o,e){const s=this.evaluate(o.operand,e);if(o.filter.type==="Identifier"){const a=o.filter;if(s instanceof ArrayValue)switch(a.value){case"list":return s;case"first":return s.value[0];case"last":return s.value[s.value.length-1];case"length":return new NumericValue(s.value.length);case"reverse":return new ArrayValue(s.value.reverse());case"sort":return new ArrayValue(s.value.sort((c,d)=>{if(c.type!==d.type)throw new Error(`Cannot compare different types: ${c.type} and ${d.type}`);switch(c.type){case"NumericValue":return c.value-d.value;case"StringValue":return c.value.localeCompare(d.value);default:throw new Error(`Cannot compare type: ${c.type}`)}}));default:throw new Error(`Unknown ArrayValue filter: ${a.value}`)}else if(s instanceof StringValue)switch(a.value){case"length":return new NumericValue(s.value.length);case"upper":return new StringValue(s.value.toUpperCase());case"lower":return new StringValue(s.value.toLowerCase());case"title":return new StringValue(titleCase(s.value));case"capitalize":return new StringValue(s.value.charAt(0).toUpperCase()+s.value.slice(1));case"trim":return new StringValue(s.value.trim());default:throw new Error(`Unknown StringValue filter: ${a.value}`)}else if(s instanceof NumericValue)switch(a.value){case"abs":return new NumericValue(Math.abs(s.value));default:throw new Error(`Unknown NumericValue filter: ${a.value}`)}else if(s instanceof ObjectValue)switch(a.value){case"items":return new ArrayValue(Array.from(s.value.entries()).map(([c,d])=>new ArrayValue([new StringValue(c),d])));case"length":return new NumericValue(s.value.size);default:throw new Error(`Unknown ObjectValue filter: ${a.value}`)}throw new Error(`Cannot apply filter "${a.value}" to type: ${s.type}`)}else if(o.filter.type==="CallExpression"){const a=o.filter;if(a.callee.type!=="Identifier")throw new Error(`Unknown filter: ${a.callee.type}`);const c=a.callee.value;if(s instanceof ArrayValue){switch(c){case"selectattr":{if(s.value.some(et=>!(et instanceof ObjectValue)))throw new Error("`selectattr` can only be applied to array of objects");if(a.args.some(et=>et.type!=="StringLiteral"))throw new Error("arguments of `selectattr` must be strings");const[d,g,$]=a.args.map(et=>this.evaluate(et,e));let j;if(g){const et=e.tests.get(g.value);if(!et)throw new Error(`Unknown test: ${g.value}`);j=et}else j=(...et)=>et[0].__bool__().value;const tt=s.value.filter(et=>{const b=et.value.get(d.value);return b?j(b,$):!1});return new ArrayValue(tt)}}throw new Error(`Unknown ArrayValue filter: ${c}`)}else throw new Error(`Cannot apply filter "${c}" to type: ${s.type}`)}throw new Error(`Unknown filter: ${o.filter.type}`)}evaluateTestExpression(o,e){const s=this.evaluate(o.operand,e),a=e.tests.get(o.test.value);if(!a)throw new Error(`Unknown test: ${o.test.value}`);const c=a(s);return new BooleanValue(o.negate?!c:c)}evaluateUnaryExpression(o,e){const s=this.evaluate(o.argument,e);switch(o.operator.value){case"not":return new BooleanValue(!s.value);default:throw new SyntaxError(`Unknown operator: ${o.operator.value}`)}}evalProgram(o,e){return this.evaluateBlock(o.body,e)}evaluateBlock(o,e){let s="";for(const a of o){const c=this.evaluate(a,e);c.type!=="NullValue"&&c.type!=="UndefinedValue"&&(s+=c.value)}return new StringValue(s)}evaluateIdentifier(o,e){return e.lookupVariable(o.value)}evaluateCallExpression(o,e){const s=[],a=new Map;for(const d of o.args)if(d.type==="KeywordArgumentExpression"){const g=d;a.set(g.key.value,this.evaluate(g.value,e))}else s.push(this.evaluate(d,e));a.size>0&&s.push(new ObjectValue(a));const c=this.evaluate(o.callee,e);if(c.type!=="FunctionValue")throw new Error(`Cannot call something that is not a function: got ${c.type}`);return c.value(s,e)}evaluateSliceExpression(o,e,s){if(!(o instanceof ArrayValue||o instanceof StringValue))throw new Error("Slice object must be an array or string");const a=this.evaluate(e.start,s),c=this.evaluate(e.stop,s),d=this.evaluate(e.step,s);if(!(a instanceof NumericValue||a instanceof UndefinedValue))throw new Error("Slice start must be numeric or undefined");if(!(c instanceof NumericValue||c instanceof UndefinedValue))throw new Error("Slice stop must be numeric or undefined");if(!(d instanceof NumericValue||d instanceof UndefinedValue))throw new Error("Slice step must be numeric or undefined");return o instanceof ArrayValue?new ArrayValue(slice(o.value,a.value,c.value,d.value)):new StringValue(slice(Array.from(o.value),a.value,c.value,d.value).join(""))}evaluateMemberExpression(o,e){const s=this.evaluate(o.object,e);let a;if(o.computed){if(o.property.type==="SliceExpression")return this.evaluateSliceExpression(s,o.property,e);a=this.evaluate(o.property,e)}else a=new StringValue(o.property.value);let c;if(s instanceof ObjectValue){if(!(a instanceof StringValue))throw new Error(`Cannot access property with non-string: got ${a.type}`);c=s.value.get(a.value)??s.builtins.get(a.value)}else if(s instanceof ArrayValue||s instanceof StringValue)if(a instanceof NumericValue)c=s.value.at(a.value),s instanceof StringValue&&(c=new StringValue(s.value.at(a.value)));else if(a instanceof StringValue)c=s.builtins.get(a.value);else throw new Error(`Cannot access property with non-string/non-number: got ${a.type}`);else{if(!(a instanceof StringValue))throw new Error(`Cannot access property with non-string: got ${a.type}`);c=s.builtins.get(a.value)}return c instanceof RuntimeValue?c:new UndefinedValue}evaluateSet(o,e){const s=this.evaluate(o.value,e);if(o.assignee.type==="Identifier"){const a=o.assignee.value;e.setVariable(a,s)}else if(o.assignee.type==="MemberExpression"){const a=o.assignee,c=this.evaluate(a.object,e);if(!(c instanceof ObjectValue))throw new Error("Cannot assign to member of non-object");if(a.property.type!=="Identifier")throw new Error("Cannot assign to member with non-identifier property");c.value.set(a.property.value,s)}else throw new Error(`Invalid LHS inside assignment expression: ${JSON.stringify(o.assignee)}`);return new NullValue}evaluateIf(o,e){const s=this.evaluate(o.test,e);return this.evaluateBlock(s.__bool__().value?o.body:o.alternate,e)}evaluateFor(o,e){const s=new Environment(e),a=this.evaluate(o.iterable,s);if(!(a instanceof ArrayValue))throw new Error(`Expected iterable type in for loop: got ${a.type}`);let c="";for(let d=0;d<a.value.length;++d){const g=new Map([["index",new NumericValue(d+1)],["index0",new NumericValue(d)],["revindex",new NumericValue(a.value.length-d)],["revindex0",new NumericValue(a.value.length-d-1)],["first",new BooleanValue(d===0)],["last",new BooleanValue(d===a.value.length-1)],["length",new NumericValue(a.value.length)],["previtem",d>0?a.value[d-1]:new UndefinedValue],["nextitem",d<a.value.length-1?a.value[d+1]:new UndefinedValue]]);s.setVariable("loop",new ObjectValue(g));const $=a.value[d];if(o.loopvar.type==="Identifier")s.setVariable(o.loopvar.value,$);else if(o.loopvar.type==="TupleLiteral"){const tt=o.loopvar;if($.type!=="ArrayValue")throw new Error(`Cannot unpack non-iterable type: ${$.type}`);const et=$;if(tt.value.length!==et.value.length)throw new Error(`Too ${tt.value.length>et.value.length?"few":"many"} items to unpack`);for(let b=0;b<tt.value.length;++b){if(tt.value[b].type!=="Identifier")throw new Error(`Cannot unpack non-identifier type: ${tt.value[b].type}`);s.setVariable(tt.value[b].value,et.value[b])}}const j=this.evaluateBlock(o.body,s);c+=j.value}return new StringValue(c)}evaluate(o,e){if(o===void 0)return new UndefinedValue;switch(o.type){case"Program":return this.evalProgram(o,e);case"Set":return this.evaluateSet(o,e);case"If":return this.evaluateIf(o,e);case"For":return this.evaluateFor(o,e);case"NumericLiteral":return new NumericValue(Number(o.value));case"StringLiteral":return new StringValue(o.value);case"BooleanLiteral":return new BooleanValue(o.value);case"ArrayLiteral":return new ArrayValue(o.value.map(s=>this.evaluate(s,e)));case"TupleLiteral":return new TupleValue(o.value.map(s=>this.evaluate(s,e)));case"ObjectLiteral":{const s=new Map;for(const[a,c]of o.value){const d=this.evaluate(a,e);if(!(d instanceof StringValue))throw new Error(`Object keys must be strings: got ${d.type}`);s.set(d.value,this.evaluate(c,e))}return new ObjectValue(s)}case"Identifier":return this.evaluateIdentifier(o,e);case"CallExpression":return this.evaluateCallExpression(o,e);case"MemberExpression":return this.evaluateMemberExpression(o,e);case"UnaryExpression":return this.evaluateUnaryExpression(o,e);case"BinaryExpression":return this.evaluateBinaryExpression(o,e);case"FilterExpression":return this.evaluateFilterExpression(o,e);case"TestExpression":return this.evaluateTestExpression(o,e);default:throw new SyntaxError(`Unknown node type: ${o.type}`)}}};function convertToRuntimeValues(o){switch(typeof o){case"number":return new NumericValue(o);case"string":return new StringValue(o);case"boolean":return new BooleanValue(o);case"object":return o===null?new NullValue:Array.isArray(o)?new ArrayValue(o.map(convertToRuntimeValues)):new ObjectValue(new Map(Object.entries(o).map(([e,s])=>[e,convertToRuntimeValues(s)])));case"function":return new FunctionValue((e,s)=>{const a=o(...e.map(c=>c.value))??null;return convertToRuntimeValues(a)});default:throw new Error(`Cannot convert to runtime value: ${o}`)}}var Template=class{constructor(o){nn(this,"parsed");const e=tokenize(o,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=parse(e)}render(o){const e=new Environment;e.set("false",!1),e.set("true",!0),e.set("raise_exception",c=>{throw new Error(c)}),e.set("range",range);for(const[c,d]of Object.entries(o))e.set(c,d);return new Interpreter(e).run(this.parsed).value}};async function loadTokenizer(o,e){const s=await Promise.all([getModelJSON(o,"tokenizer.json",!0,e),getModelJSON(o,"tokenizer_config.json",!0,e)]);return e.legacy!==null&&(s[1].legacy=e.legacy),s}function regexSplit(o,e){const s=[];let a=0;for(const c of o.matchAll(e)){const d=c[0];a<c.index&&s.push(o.slice(a,c.index)),d.length>0&&s.push(d),a=c.index+d.length}return a<o.length&&s.push(o.slice(a)),s}function createPattern(o,e=!0){if(o.Regex!==void 0){let s=o.Regex.replace(/\\([#&~])/g,"$1");for(const[a,c]of PROBLEMATIC_REGEX_MAP)s=s.replaceAll(a,c);return new RegExp(s,"gu")}else if(o.String!==void 0){const s=escapeRegExp(o.String);return new RegExp(e?s:`(${s})`,"gu")}else return console.warn("Unknown pattern type:",o),null}function objectToMap(o){return new Map(Object.entries(o))}function prepareTensorForDecode(o){const e=o.dims;switch(e.length){case 1:return o.tolist();case 2:if(e[0]!==1)throw new Error("Unable to decode tensor with `batch size !== 1`. Use `tokenizer.batch_decode(...)` for batched inputs.");return o.tolist()[0];default:throw new Error(`Expected tensor to have 1-2 dimensions, got ${e.length}.`)}}function clean_up_tokenization(o){return o.replace(/ \./g,".").replace(/ \?/g,"?").replace(/ \!/g,"!").replace(/ ,/g,",").replace(/ \' /g,"'").replace(/ n\'t/g,"n't").replace(/ \'m/g,"'m").replace(/ \'s/g,"'s").replace(/ \'ve/g,"'ve").replace(/ \'re/g,"'re")}function remove_accents(o){return o.replace(/[\u0300-\u036f]/g,"")}function lowercase_and_remove_accent(o){return remove_accents(o.toLowerCase())}function fuse(o,e,s){const a=[];let c=0;for(;c<o.length;){if(a.push(o[c]),(s.get(o[c])??e)!==e){++c;continue}for(;c<o.length&&(s.get(o[c])??e)===e;)++c}return a}function whitespace_split(o){return o.match(/\S+/g)||[]}const PUNCTUATION_REGEX="\\p{P}\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E",PROBLEMATIC_REGEX_MAP=new Map([["(?i:'s|'t|'re|'ve|'m|'ll|'d)","(?:'([sS]|[tT]|[rR][eE]|[vV][eE]|[mM]|[lL][lL]|[dD]))"]]);class AddedToken{constructor(e){this.content=e.content,this.id=e.id,this.single_word=e.single_word??!1,this.lstrip=e.lstrip??!1,this.rstrip=e.rstrip??!1,this.special=e.special??!1,this.normalized=e.normalized??null}}class TokenizerModel extends Callable{constructor(e){super(),this.config=e,this.vocab=[],this.tokens_to_ids=new Map,this.unk_token_id=void 0,this.unk_token=void 0,this.end_of_word_suffix=void 0,this.fuse_unk=this.config.fuse_unk??!1}static fromConfig(e,...s){switch(e.type){case"WordPiece":return new WordPieceTokenizer(e);case"Unigram":return new Unigram(e,...s);case"BPE":return new BPE(e);default:if(e.vocab)return new LegacyTokenizerModel(e,...s);throw new Error(`Unknown TokenizerModel type: ${e.type}`)}}_call(e){let s=this.encode(e);return this.fuse_unk&&(s=fuse(s,this.unk_token_id,this.tokens_to_ids)),s}encode(e){throw Error("encode should be implemented in subclass.")}convert_tokens_to_ids(e){return e.map(s=>this.tokens_to_ids.get(s)??this.unk_token_id)}convert_ids_to_tokens(e){return e.map(s=>this.vocab[s]??this.unk_token)}}class WordPieceTokenizer extends TokenizerModel{constructor(e){super(e),this.tokens_to_ids=objectToMap(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.max_input_chars_per_word=e.max_input_chars_per_word??100,this.vocab=new Array(this.tokens_to_ids.size);for(const[s,a]of this.tokens_to_ids)this.vocab[a]=s}encode(e){const s=[];for(const a of e){const c=[...a];if(c.length>this.max_input_chars_per_word){s.push(this.unk_token);continue}let d=!1,g=0;const $=[];for(;g<c.length;){let j=c.length,tt=null;for(;g<j;){let et=c.slice(g,j).join("");if(g>0&&(et=this.config.continuing_subword_prefix+et),this.tokens_to_ids.has(et)){tt=et;break}--j}if(tt===null){d=!0;break}$.push(tt),g=j}d?s.push(this.unk_token):s.push(...$)}return s}}class Unigram extends TokenizerModel{constructor(e,s){super(e);const a=e.vocab.length;this.vocab=new Array(a),this.scores=new Array(a);for(let c=0;c<a;++c){const d=e.vocab[c];this.vocab[c]=d[0],this.scores[c]=d[1]}this.unk_token_id=e.unk_id,this.unk_token=this.vocab[e.unk_id],this.tokens_to_ids=new Map(this.vocab.map((c,d)=>[c,d])),this.bosToken=" ",this.bosTokenId=this.tokens_to_ids.get(this.bosToken),this.eosToken=s.eos_token,this.eosTokenId=this.tokens_to_ids.get(this.eosToken),this.unkToken=this.vocab[this.unk_token_id],this.minScore=min(this.scores)[0],this.unkScore=this.minScore-10,this.scores[this.unk_token_id]=this.unkScore,this.trie=new CharTrie,this.trie.extend(this.vocab),this.fuse_unk=!0}populateNodes(e){const s=e.sentence,a=s.length;let c=0;for(;c<a;){let g=!1;for(let $ of this.trie.commonPrefixSearch(s.slice(c))){const j=this.tokens_to_ids.get($),tt=this.scores[j],et=$.length;e.insert(c,et,tt,j),!g&&et===1&&(g=!0)}g||e.insert(c,1,this.unkScore,this.unk_token_id),c+=1}}tokenize(e){const s=new TokenLattice(e,this.bosTokenId,this.eosTokenId);return this.populateNodes(s),s.tokens()}encode(e){const s=[];for(const a of e){const c=this.tokenize(a);s.push(...c)}return s}}const BYTES_TO_UNICODE=(()=>{const o=[...Array.from({length:94},(c,d)=>d+33),...Array.from({length:12},(c,d)=>d+161),...Array.from({length:82},(c,d)=>d+174)],e=o.slice();let s=0;for(let c=0;c<256;++c)o.includes(c)||(o.push(c),e.push(256+s),s+=1);const a=e.map(c=>String.fromCharCode(c));return Object.fromEntries(o.map((c,d)=>[c,a[d]]))})(),UNICODE_TO_BYTES=reverseDictionary(BYTES_TO_UNICODE);class BPE extends TokenizerModel{constructor(e){super(e),this.BPE_SPLIT_TOKEN=" ",this.tokens_to_ids=objectToMap(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.vocab=new Array(this.tokens_to_ids.size);for(const[s,a]of this.tokens_to_ids)this.vocab[a]=s;this.bpe_ranks=new Map(e.merges.map((s,a)=>[s,a])),this.merges=e.merges.map(s=>s.split(this.BPE_SPLIT_TOKEN)),this.end_of_word_suffix=e.end_of_word_suffix,this.continuing_subword_suffix=e.continuing_subword_suffix??null,this.byte_fallback=this.config.byte_fallback??!1,this.byte_fallback&&(this.text_encoder=new TextEncoder),this.ignore_merges=this.config.ignore_merges??!1,this.cache=new Map}bpe(e){if(e.length===0)return[];const s=this.cache.get(e);if(s!==void 0)return s;const a=Array.from(e);this.end_of_word_suffix&&(a[a.length-1]+=this.end_of_word_suffix);let c=[];if(a.length>1){const d=new PriorityQueue((j,tt)=>j.score<tt.score);let g={token:a[0],bias:0,prev:null,next:null},$=g;for(let j=1;j<a.length;++j){const tt={bias:j/a.length,token:a[j],prev:$,next:null};$.next=tt,this._add_node(d,$),$=tt}for(;!d.isEmpty();){const j=d.pop();if(j.deleted||!j.next||j.next.deleted)continue;if(j.deleted=!0,j.next.deleted=!0,j.prev){const et={...j.prev};j.prev.deleted=!0,j.prev=et,et.prev?et.prev.next=et:g=et}const tt={token:j.token+j.next.token,bias:j.bias,prev:j.prev,next:j.next.next};tt.prev?(tt.prev.next=tt,this._add_node(d,tt.prev)):g=tt,tt.next&&(tt.next.prev=tt,this._add_node(d,tt))}for(let j=g;j!==null;j=j.next)c.push(j.token)}else c=a;if(this.continuing_subword_suffix)for(let d=0;d<c.length-1;++d)c[d]+=this.continuing_subword_suffix;return this.cache.set(e,c),c}_add_node(e,s){const a=this.bpe_ranks.get(s.token+this.BPE_SPLIT_TOKEN+s.next.token);a!==void 0&&(s.score=a+s.bias,e.push(s))}encode(e){const s=[];for(const a of e){if(this.ignore_merges&&this.tokens_to_ids.has(a)){s.push(a);continue}const c=this.bpe(a);for(const d of c)this.tokens_to_ids.has(d)?s.push(d):this.byte_fallback?s.push(...Array.from(this.text_encoder.encode(d)).map(g=>`<0x${g.toString(16).toUpperCase().padStart(2,"0")}>`)):s.push(this.unk_token)}return s}}class LegacyTokenizerModel extends TokenizerModel{constructor(e,s){super(e),this.tokens_to_ids=objectToMap(s.target_lang?e.vocab[s.target_lang]:e.vocab),this.bos_token=s.bos_token,this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=s.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.pad_token=s.pad_token,this.pad_token_id=this.tokens_to_ids.get(this.pad_token),this.unk_token=s.unk_token,this.unk_token_id=this.tokens_to_ids.get(this.unk_token),this.vocab=new Array(this.tokens_to_ids.size);for(const[a,c]of this.tokens_to_ids)this.vocab[c]=a}encode(e){return e}}class Normalizer extends Callable{constructor(e){super(),this.config=e}static fromConfig(e){if(e===null)return null;switch(e.type){case"BertNormalizer":return new BertNormalizer(e);case"Precompiled":return new Precompiled(e);case"Sequence":return new NormalizerSequence(e);case"Replace":return new Replace(e);case"NFC":return new NFC(e);case"NFKC":return new NFKC(e);case"NFKD":return new NFKD(e);case"Strip":return new StripNormalizer(e);case"StripAccents":return new StripAccents(e);case"Lowercase":return new Lowercase(e);case"Prepend":return new Prepend(e);default:throw new Error(`Unknown Normalizer type: ${e.type}`)}}normalize(e){throw Error("normalize should be implemented in subclass.")}_call(e){return this.normalize(e)}}class Replace extends Normalizer{normalize(e){const s=createPattern(this.config.pattern);return s===null?e:e.replaceAll(s,this.config.content)}}class NFC extends Normalizer{normalize(e){return e=e.normalize("NFC"),e}}class NFKC extends Normalizer{normalize(e){return e=e.normalize("NFKC"),e}}class NFKD extends Normalizer{normalize(e){return e=e.normalize("NFKD"),e}}class StripNormalizer extends Normalizer{normalize(e){return this.config.strip_left&&this.config.strip_right?e=e.trim():(this.config.strip_left&&(e=e.trimStart()),this.config.strip_right&&(e=e.trimEnd())),e}}class StripAccents extends Normalizer{normalize(e){return e=remove_accents(e),e}}class Lowercase extends Normalizer{normalize(e){return e=e.toLowerCase(),e}}class Prepend extends Normalizer{normalize(e){return e=this.config.prepend+e,e}}class NormalizerSequence extends Normalizer{constructor(e){super(e),this.normalizers=e.normalizers.map(s=>Normalizer.fromConfig(s))}normalize(e){return this.normalizers.reduce((s,a)=>a.normalize(s),e)}}class BertNormalizer extends Normalizer{_tokenize_chinese_chars(e){const s=[];for(let a=0;a<e.length;++a){const c=e[a],d=c.charCodeAt(0);this._is_chinese_char(d)?(s.push(" "),s.push(c),s.push(" ")):s.push(c)}return s.join("")}_is_chinese_char(e){return e>=19968&&e<=40959||e>=13312&&e<=19903||e>=131072&&e<=173791||e>=173824&&e<=177983||e>=177984&&e<=178207||e>=178208&&e<=183983||e>=63744&&e<=64255||e>=194560&&e<=195103}stripAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}_is_control(e){switch(e){case"	":case`
`:case"\r":return!1;default:return new RegExp("^\\p{Cc}|\\p{Cf}|\\p{Co}|\\p{Cs}$","u").test(e)}}_clean_text(e){const s=[];for(const a of e){const c=a.charCodeAt(0);c===0||c===65533||this._is_control(a)||(/^\s$/.test(a)?s.push(" "):s.push(a))}return s.join("")}normalize(e){return this.config.clean_text&&(e=this._clean_text(e)),this.config.handle_chinese_chars&&(e=this._tokenize_chinese_chars(e)),this.config.lowercase?(e=e.toLowerCase(),this.config.strip_accents!==!1&&(e=this.stripAccents(e))):this.config.strip_accents&&(e=this.stripAccents(e)),e}}class PreTokenizer extends Callable{static fromConfig(e){if(e===null)return null;switch(e.type){case"BertPreTokenizer":return new BertPreTokenizer(e);case"Sequence":return new PreTokenizerSequence(e);case"Whitespace":return new WhitespacePreTokenizer(e);case"WhitespaceSplit":return new WhitespaceSplit(e);case"Metaspace":return new MetaspacePreTokenizer(e);case"ByteLevel":return new ByteLevelPreTokenizer(e);case"Split":return new SplitPreTokenizer(e);case"Punctuation":return new PunctuationPreTokenizer(e);case"Digits":return new DigitsPreTokenizer(e);case"Replace":return new ReplacePreTokenizer(e);default:throw new Error(`Unknown PreTokenizer type: ${e.type}`)}}pre_tokenize_text(e,s){throw Error("pre_tokenize_text should be implemented in subclass.")}pre_tokenize(e,s){return(Array.isArray(e)?e.map(a=>this.pre_tokenize_text(a,s)):this.pre_tokenize_text(e,s)).flat()}_call(e,s){return this.pre_tokenize(e,s)}}class BertPreTokenizer extends PreTokenizer{constructor(e){super(),this.pattern=new RegExp(`[^\\s${PUNCTUATION_REGEX}]+|[${PUNCTUATION_REGEX}]`,"gu")}pre_tokenize_text(e,s){return e.trim().match(this.pattern)||[]}}class ByteLevelPreTokenizer extends PreTokenizer{constructor(e){super(),this.config=e,this.add_prefix_space=this.config.add_prefix_space,this.trim_offsets=this.config.trim_offsets,this.use_regex=this.config.use_regex??!0,this.pattern=new RegExp("'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+","gu"),this.byte_encoder=BYTES_TO_UNICODE,this.text_encoder=new TextEncoder}pre_tokenize_text(e,s){return this.add_prefix_space&&!e.startsWith(" ")&&(e=" "+e),(this.use_regex?e.match(this.pattern)||[]:[e]).map(c=>Array.from(this.text_encoder.encode(c),d=>this.byte_encoder[d]).join(""))}}class SplitPreTokenizer extends PreTokenizer{constructor(e){super(),this.config=e,this.pattern=createPattern(this.config.pattern,this.config.invert)}pre_tokenize_text(e,s){return this.pattern===null?[]:this.config.invert?e.match(this.pattern)||[]:regexSplit(e,this.pattern)}}class PunctuationPreTokenizer extends PreTokenizer{constructor(e){super(),this.config=e,this.pattern=new RegExp(`[^${PUNCTUATION_REGEX}]+|[${PUNCTUATION_REGEX}]+`,"gu")}pre_tokenize_text(e,s){return e.match(this.pattern)||[]}}class DigitsPreTokenizer extends PreTokenizer{constructor(e){super(),this.config=e;const s=`[^\\d]+|\\d${this.config.individual_digits?"":"+"}`;this.pattern=new RegExp(s,"gu")}pre_tokenize_text(e,s){return e.match(this.pattern)||[]}}class PostProcessor extends Callable{constructor(e){super(),this.config=e}static fromConfig(e){if(e===null)return null;switch(e.type){case"TemplateProcessing":return new TemplateProcessing(e);case"ByteLevel":return new ByteLevelPostProcessor(e);case"RobertaProcessing":return new RobertaProcessing(e);case"BertProcessing":return new BertProcessing(e);case"Sequence":return new PostProcessorSequence(e);default:throw new Error(`Unknown PostProcessor type: ${e.type}`)}}post_process(e,...s){throw Error("post_process should be implemented in subclass.")}_call(e,...s){return this.post_process(e,...s)}}class BertProcessing extends PostProcessor{constructor(e){super(e),this.cls=e.cls[0],this.sep=e.sep[0]}post_process(e,s=null,{add_special_tokens:a=!0}={}){a&&(e=mergeArrays([this.cls],e,[this.sep]));let c=new Array(e.length).fill(0);if(s!==null){const d=a&&this instanceof RobertaProcessing?[this.sep]:[],g=a?[this.sep]:[];e=mergeArrays(e,d,s,g),c=mergeArrays(c,new Array(s.length+d.length+g.length).fill(1))}return{tokens:e,token_type_ids:c}}}class RobertaProcessing extends BertProcessing{}class TemplateProcessing extends PostProcessor{constructor(e){super(e),this.single=e.single,this.pair=e.pair}post_process(e,s=null,{add_special_tokens:a=!0}={}){const c=s===null?this.single:this.pair;let d=[],g=[];for(const $ of c)"SpecialToken"in $?a&&(d.push($.SpecialToken.id),g.push($.SpecialToken.type_id)):"Sequence"in $&&($.Sequence.id==="A"?(d=mergeArrays(d,e),g=mergeArrays(g,new Array(e.length).fill($.Sequence.type_id))):$.Sequence.id==="B"&&(d=mergeArrays(d,s),g=mergeArrays(g,new Array(s.length).fill($.Sequence.type_id))));return{tokens:d,token_type_ids:g}}}class ByteLevelPostProcessor extends PostProcessor{post_process(e,s=null){return s&&(e=mergeArrays(e,s)),{tokens:e}}}class PostProcessorSequence extends PostProcessor{constructor(e){super(e),this.processors=e.processors.map(s=>PostProcessor.fromConfig(s))}post_process(e,s=null,a={}){let c;for(const d of this.processors)if(d instanceof ByteLevelPostProcessor)e=d.post_process(e).tokens,s&&(s=d.post_process(s).tokens);else{const g=d.post_process(e,s,a);e=g.tokens,c=g.token_type_ids}return{tokens:e,token_type_ids:c}}}class Decoder extends Callable{constructor(e){super(),this.config=e,this.added_tokens=[],this.end_of_word_suffix=null,this.trim_offsets=e.trim_offsets}static fromConfig(e){if(e===null)return null;switch(e.type){case"WordPiece":return new WordPieceDecoder(e);case"Metaspace":return new MetaspaceDecoder(e);case"ByteLevel":return new ByteLevelDecoder(e);case"Replace":return new ReplaceDecoder(e);case"ByteFallback":return new ByteFallback(e);case"Fuse":return new FuseDecoder(e);case"Strip":return new StripDecoder(e);case"Sequence":return new DecoderSequence(e);case"CTC":return new CTCDecoder(e);case"BPEDecoder":return new BPEDecoder(e);default:throw new Error(`Unknown Decoder type: ${e.type}`)}}_call(e){return this.decode(e)}decode(e){return this.decode_chain(e).join("")}decode_chain(e){throw Error("`decode_chain` should be implemented in subclass.")}}class ReplaceDecoder extends Decoder{decode_chain(e){const s=createPattern(this.config.pattern);return s===null?e:e.map(a=>a.replaceAll(s,this.config.content))}}class ByteFallback extends Decoder{constructor(e){super(e),this.text_decoder=new TextDecoder}decode_chain(e){const s=[];let a=[];for(const c of e){let d=null;if(c.length===6&&c.startsWith("<0x")&&c.endsWith(">")){const g=parseInt(c.slice(3,5),16);isNaN(g)||(d=g)}if(d!==null)a.push(d);else{if(a.length>0){const g=this.text_decoder.decode(Uint8Array.from(a));s.push(g),a=[]}s.push(c)}}if(a.length>0){const c=this.text_decoder.decode(Uint8Array.from(a));s.push(c),a=[]}return s}}class FuseDecoder extends Decoder{decode_chain(e){return[e.join("")]}}class StripDecoder extends Decoder{constructor(e){super(e),this.content=this.config.content,this.start=this.config.start,this.stop=this.config.stop}decode_chain(e){return e.map(s=>{let a=0;for(let d=0;d<this.start&&s[d]===this.content;++d){a=d+1;continue}let c=s.length;for(let d=0;d<this.stop;++d){const g=s.length-d-1;if(s[g]===this.content){c=g;continue}else break}return s.slice(a,c)})}}class WordPieceDecoder extends Decoder{constructor(e){super(e),this.cleanup=e.cleanup}decode_chain(e){return e.map((s,a)=>(a!==0&&(s.startsWith(this.config.prefix)?s=s.replace(this.config.prefix,""):s=" "+s),this.cleanup&&(s=clean_up_tokenization(s)),s))}}class ByteLevelDecoder extends Decoder{constructor(e){super(e),this.byte_decoder=UNICODE_TO_BYTES,this.text_decoder=new TextDecoder("utf-8",{fatal:!1,ignoreBOM:!0}),this.end_of_word_suffix=null}convert_tokens_to_string(e){const s=e.join(""),a=new Uint8Array([...s].map(d=>this.byte_decoder[d]));return this.text_decoder.decode(a)}decode_chain(e){const s=[];let a=[];for(const c of e)this.added_tokens.find(d=>d.content===c)!==void 0?(a.length>0&&(s.push(this.convert_tokens_to_string(a)),a=[]),s.push(c)):a.push(c);return a.length>0&&s.push(this.convert_tokens_to_string(a)),s}}class CTCDecoder extends Decoder{constructor(e){super(e),this.pad_token=this.config.pad_token,this.word_delimiter_token=this.config.word_delimiter_token,this.cleanup=this.config.cleanup}convert_tokens_to_string(e){if(e.length===0)return"";const s=[e[0]];for(let d=1;d<e.length;++d)e[d]!==s.at(-1)&&s.push(e[d]);let c=s.filter(d=>d!==this.pad_token).join("");return this.cleanup&&(c=clean_up_tokenization(c).replaceAll(this.word_delimiter_token," ").trim()),c}decode_chain(e){return[this.convert_tokens_to_string(e)]}}class DecoderSequence extends Decoder{constructor(e){super(e),this.decoders=e.decoders.map(s=>Decoder.fromConfig(s))}decode_chain(e){return this.decoders.reduce((s,a)=>a.decode_chain(s),e)}}class BPEDecoder extends Decoder{constructor(e){super(e),this.suffix=this.config.suffix}decode_chain(e){return e.map((s,a)=>s.replaceAll(this.suffix,a===e.length-1?"":" "))}}class VitsDecoder extends Decoder{decode_chain(e){let s="";for(let a=1;a<e.length;a+=2)s+=e[a];return[s]}}class MetaspacePreTokenizer extends PreTokenizer{constructor(e){super(),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement,this.strRep=e.str_rep||this.replacement,this.prepend_scheme=e.prepend_scheme??"always"}pre_tokenize_text(e,{section_index:s=void 0}={}){let a=e.replaceAll(" ",this.strRep);return this.addPrefixSpace&&!a.startsWith(this.replacement)&&(this.prepend_scheme==="always"||this.prepend_scheme==="first"&&s===0)&&(a=this.strRep+a),[a]}}class MetaspaceDecoder extends Decoder{constructor(e){super(e),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement}decode_chain(e){const s=[];for(let a=0;a<e.length;++a){let c=e[a].replaceAll(this.replacement," ");this.addPrefixSpace&&a==0&&c.startsWith(" ")&&(c=c.substring(1)),s.push(c)}return s}}class Precompiled extends Normalizer{constructor(e){super(e),this.charsmap=e.precompiled_charsmap}normalize(e){return e=e.replace(/[\u0001-\u0008\u000B\u000E-\u001F\u007F\u008F\u009F]/gm,""),e=e.replace(/[\u0009\u000A\u000C\u000D\u1680\u200B\u200C\u200E\u200F\u2028\u2029\u2581\uFEFF\uFFFD]/gm," "),e.includes("～")?e=e.split("～").map(a=>a.normalize("NFKC")).join("～"):e=e.normalize("NFKC"),e}}class PreTokenizerSequence extends PreTokenizer{constructor(e){super(),this.tokenizers=e.pretokenizers.map(s=>PreTokenizer.fromConfig(s))}pre_tokenize_text(e,s){return this.tokenizers.reduce((a,c)=>c.pre_tokenize(a,s),[e])}}class WhitespacePreTokenizer extends PreTokenizer{constructor(e){super()}pre_tokenize_text(e,s){return e.match(/\w+|[^\w\s]+/g)||[]}}class WhitespaceSplit extends PreTokenizer{constructor(e){super()}pre_tokenize_text(e,s){return whitespace_split(e)}}class ReplacePreTokenizer extends PreTokenizer{constructor(e){super(),this.config=e,this.pattern=createPattern(this.config.pattern),this.content=this.config.content}pre_tokenize_text(e,s){return this.pattern===null?[e]:[e.replaceAll(this.pattern,this.config.content)]}}const SPECIAL_TOKEN_ATTRIBUTES=["bos_token","eos_token","unk_token","sep_token","pad_token","cls_token","mask_token"];function padHelper(o,e,s,a){for(const c of Object.keys(o)){const d=e-o[c].length,g=s(c),$=new Array(d).fill(g);o[c]=a==="right"?mergeArrays(o[c],$):mergeArrays($,o[c])}}function truncateHelper(o,e){for(const s of Object.keys(o))o[s].length=e}class PreTrainedTokenizer extends Callable{constructor(s,a){super();nn(this,"return_token_type_ids",!1);nn(this,"_default_chat_template",`{% for message in messages %}{{'<|im_start|>' + message['role'] + '
' + message['content'] + '<|im_end|>' + '
'}}{% endfor %}{% if add_generation_prompt %}{{ '<|im_start|>assistant
' }}{% endif %}`);this._tokenizer_config=a,this.normalizer=Normalizer.fromConfig(s.normalizer),this.pre_tokenizer=PreTokenizer.fromConfig(s.pre_tokenizer),this.model=TokenizerModel.fromConfig(s.model,a),this.post_processor=PostProcessor.fromConfig(s.post_processor),this.decoder=Decoder.fromConfig(s.decoder),this.special_tokens=[],this.all_special_ids=[],this.added_tokens=[];for(const c of s.added_tokens){const d=new AddedToken(c);this.added_tokens.push(d),this.model.tokens_to_ids.set(d.content,d.id),this.model.vocab[d.id]=d.content,d.special&&(this.special_tokens.push(d.content),this.all_special_ids.push(d.id))}if(this.additional_special_tokens=a.additional_special_tokens??[],this.special_tokens.push(...this.additional_special_tokens),this.special_tokens=[...new Set(this.special_tokens)],this.decoder&&(this.decoder.added_tokens=this.added_tokens,this.decoder.end_of_word_suffix=this.model.end_of_word_suffix),this.added_tokens_regex=this.added_tokens.length>0?new RegExp(this.added_tokens.map(c=>`${c.lstrip?"\\s*":""}(${escapeRegExp(c.content)})${c.rstrip?"\\s*":""}`).join("|")):null,this.mask_token=this.getToken("mask_token"),this.mask_token_id=this.model.tokens_to_ids.get(this.mask_token),this.pad_token=this.getToken("pad_token","eos_token"),this.pad_token_id=this.model.tokens_to_ids.get(this.pad_token),this.sep_token=this.getToken("sep_token"),this.sep_token_id=this.model.tokens_to_ids.get(this.sep_token),this.unk_token=this.getToken("unk_token"),this.unk_token_id=this.model.tokens_to_ids.get(this.unk_token),this.model_max_length=a.model_max_length,this.remove_space=a.remove_space,this.clean_up_tokenization_spaces=a.clean_up_tokenization_spaces??!0,this.do_lowercase_and_remove_accent=a.do_lowercase_and_remove_accent??!1,this.padding_side="right",this.legacy=!1,this.chat_template=a.chat_template??null,Array.isArray(this.chat_template)){const c=Object.create(null);for(const{name:d,template:g}of this.chat_template){if(typeof d!="string"||typeof g!="string")throw new Error('Chat template must be a list of objects with "name" and "template" properties');c[d]=g}this.chat_template=c}this._compiled_template_cache=new Map}getToken(...s){for(const a of s){const c=this._tokenizer_config[a];if(c)if(typeof c=="object"){if(c.__type==="AddedToken")return c.content;throw Error(`Unknown token: ${c}`)}else return c}return null}static async from_pretrained(s,{progress_callback:a=null,config:c=null,cache_dir:d=null,local_files_only:g=!1,revision:$="main",legacy:j=null}={}){const tt=await loadTokenizer(s,{progress_callback:a,cache_dir:d,local_files_only:g,revision:$,legacy:j});return new this(...tt)}_call(s,{text_pair:a=null,add_special_tokens:c=!0,padding:d=!1,truncation:g=null,max_length:$=null,return_tensor:j=!0,return_token_type_ids:tt=null}={}){const et=Array.isArray(s);let b;if(et){if(s.length===0)throw Error("text array must be non-empty");if(a!==null){if(Array.isArray(a)){if(s.length!==a.length)throw Error("text and text_pair must have the same length")}else throw Error("text_pair must also be an array");b=s.map((_e,nt)=>this._encode_plus(_e,a[nt],{add_special_tokens:c,return_token_type_ids:tt}))}else b=s.map(_e=>this._encode_plus(_e,null,{add_special_tokens:c,return_token_type_ids:tt}))}else{if(s==null)throw Error("text may not be null or undefined");if(Array.isArray(a))throw Error("When specifying `text_pair`, since `text` is a string, `text_pair` must also be a string (i.e., not an array).");b=[this._encode_plus(s,a,{add_special_tokens:c,return_token_type_ids:tt})]}if($===null?d==="max_length"?$=this.model_max_length:$=max(b.map(_e=>_e.input_ids.length))[0]:g||console.warn("Truncation was not explicitly activated but `max_length` is provided a specific value, please use `truncation=true` to explicitly truncate examples to max length."),$=Math.min($,this.model_max_length),d||g)for(let _e=0;_e<b.length;++_e)b[_e].input_ids.length!==$&&(b[_e].input_ids.length>$?g&&truncateHelper(b[_e],$):d&&padHelper(b[_e],$,nt=>nt==="input_ids"?this.pad_token_id:0,this.padding_side));const h={};if(j){if(!(d&&g)&&b.some(nt=>{var rt;for(const it of Object.keys(nt))if(nt[it].length!==((rt=b[0][it])==null?void 0:rt.length))return!0;return!1}))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=true' and 'truncation=true' to have batched tensors with the same length.");const _e=[b.length,b[0].input_ids.length];for(const nt of Object.keys(b[0]))h[nt]=new Tensor("int64",BigInt64Array.from(b.flatMap(rt=>rt[nt]).map(BigInt)),_e)}else{for(const _e of Object.keys(b[0]))h[_e]=b.map(nt=>nt[_e]);if(!et)for(const _e of Object.keys(h))h[_e]=h[_e][0]}return h}_encode_text(s){return s===null?null:(this.added_tokens_regex?s.split(this.added_tokens_regex).filter(d=>d):[s]).map((d,g)=>{if(this.added_tokens.find(j=>j.content===d)!==void 0)return d;{if(this.remove_space===!0&&(d=d.trim().split(/\s+/).join(" ")),this.do_lowercase_and_remove_accent&&(d=lowercase_and_remove_accent(d)),this.normalizer!==null&&(d=this.normalizer(d)),d.length===0)return[];const j=this.pre_tokenizer!==null?this.pre_tokenizer(d,{section_index:g}):[d];return this.model(j)}}).flat()}_encode_plus(s,a=null,{add_special_tokens:c=!0,return_token_type_ids:d=null}={}){const g=this._encode_text(s),$=this._encode_text(a),j=this.post_processor?this.post_processor(g,$,{add_special_tokens:c}):{tokens:mergeArrays(g??[],$??[])},tt=this.model.convert_tokens_to_ids(j.tokens),et={input_ids:tt,attention_mask:new Array(tt.length).fill(1)};return(d??this.return_token_type_ids)&&j.token_type_ids&&(et.token_type_ids=j.token_type_ids),et}encode(s,a=null,{add_special_tokens:c=!0,return_token_type_ids:d=null}={}){const{input_ids:g}=this._encode_plus(s,a,{add_special_tokens:c,return_token_type_ids:d});return g}batch_decode(s,a={}){return s instanceof Tensor&&(s=s.tolist()),s.map(c=>this.decode(c,a))}decode(s,a={}){if(s instanceof Tensor&&(s=prepareTensorForDecode(s)),!Array.isArray(s)||s.length===0||!isIntegralNumber(s[0]))throw Error("token_ids must be a non-empty array of integers.");return this.decode_single(s,a)}decode_single(s,{skip_special_tokens:a=!1,clean_up_tokenization_spaces:c=null}){let d=this.model.convert_ids_to_tokens(s);a&&(d=d.filter($=>!this.special_tokens.includes($)));let g=this.decoder?this.decoder(d):d.join(" ");return this.decoder&&this.decoder.end_of_word_suffix&&(g=g.replaceAll(this.decoder.end_of_word_suffix," "),a&&(g=g.trim())),(c??this.clean_up_tokenization_spaces)&&(g=clean_up_tokenization(g)),g}get default_chat_template(){return this._warned_about_chat_template||(console.warn("No chat template is defined for this tokenizer - using a default chat template that implements the ChatML format. If the default is not appropriate for your model, please set `tokenizer.chat_template` to an appropriate template. See https://huggingface.co/docs/transformers/main/chat_templating for more information."),this._warned_about_chat_template=!0),this._default_chat_template}apply_chat_template(s,{chat_template:a=null,add_generation_prompt:c=!1,tokenize:d=!0,padding:g=!1,truncation:$=!1,max_length:j=null,return_tensor:tt=!0,tokenizer_kwargs:et={},...b}={}){if(this.chat_template&&typeof this.chat_template=="object"||this.chat_template===null&&this.default_chat_template&&typeof this.default_chat_template=="object"){const rt=this.chat_template??this.default_chat_template;if(a!==null&&Object.hasOwn(rt,a))a=rt[a];else if(a===null&&"default"in rt)a=rt.default;else if(a===null)throw Error(`This model has multiple chat templates with no default specified! Please either pass a chat template or the name of the template you wish to use to the 'chat_template' argument. Available template names are ${Object.keys(rt).sort()}.`)}else a??(a=this.chat_template??this.default_chat_template);if(typeof a!="string")throw Error(`chat_template must be a string, but got ${typeof a}`);let h=this._compiled_template_cache.get(a);h===void 0&&(h=new Template(a),this._compiled_template_cache.set(a,h));const _e=Object.create(null);for(const rt of SPECIAL_TOKEN_ATTRIBUTES){const it=this.getToken(rt);it&&(_e[rt]=it)}const nt=h.render({messages:s,add_generation_prompt:c,..._e,...b});return d?this._call(nt,{add_special_tokens:!1,padding:g,truncation:$,max_length:j,return_tensor:tt,...et}).input_ids:nt}}class BertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"return_token_type_ids",!0)}}class AlbertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"return_token_type_ids",!0)}}class MobileBertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"return_token_type_ids",!0)}}class SqueezeBertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"return_token_type_ids",!0)}}class DebertaTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"return_token_type_ids",!0)}}class DebertaV2Tokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"return_token_type_ids",!0)}}class HerbertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"return_token_type_ids",!0)}}class ConvBertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"return_token_type_ids",!0)}}class RoFormerTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"return_token_type_ids",!0)}}class DistilBertTokenizer extends PreTrainedTokenizer{}class CamembertTokenizer extends PreTrainedTokenizer{}class XLMTokenizer extends PreTrainedTokenizer{constructor(s,a){super(s,a);nn(this,"return_token_type_ids",!0);console.warn('WARNING: `XLMTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}}class ElectraTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"return_token_type_ids",!0)}}class T5Tokenizer extends PreTrainedTokenizer{}class GPT2Tokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"_default_chat_template",'{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}')}}class BartTokenizer extends PreTrainedTokenizer{}class MBartTokenizer extends PreTrainedTokenizer{constructor(e,s){super(e,s),this.languageRegex=/^[a-z]{2}_[A-Z]{2}$/,this.language_codes=this.special_tokens.filter(a=>this.languageRegex.test(a)),this.lang_to_token=a=>a}_build_translation_inputs(e,s,a){return _build_translation_inputs(this,e,s,a)}}class MBart50Tokenizer extends MBartTokenizer{}class RobertaTokenizer extends PreTrainedTokenizer{}class BloomTokenizer extends GPT2Tokenizer{constructor(e,s){var d,g;const a=".,!?…。，、।۔،",c=(g=(d=e.pre_tokenizer)==null?void 0:d.pretokenizers[0])==null?void 0:g.pattern;c&&c.Regex===` ?[^(\\s|[${a}])]+`&&(c.Regex=` ?[^\\s${a}]+`),super(e,s)}}const SPIECE_UNDERLINE="▁";class LlamaTokenizer extends PreTrainedTokenizer{constructor(s,a){super(s,a);nn(this,"_default_chat_template",`{% if messages[0]['role'] == 'system' %}{% set loop_messages = messages[1:] %}{% set system_message = messages[0]['content'] %}{% elif USE_DEFAULT_PROMPT == true and not '<<SYS>>' in messages[0]['content'] %}{% set loop_messages = messages %}{% set system_message = 'DEFAULT_SYSTEM_MESSAGE' %}{% else %}{% set loop_messages = messages %}{% set system_message = false %}{% endif %}{% for message in loop_messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if loop.index0 == 0 and system_message != false %}{% set content = '<<SYS>>
' + system_message + '
<</SYS>>

' + message['content'] %}{% else %}{% set content = message['content'] %}{% endif %}{% if message['role'] == 'user' %}{{ bos_token + '[INST] ' + content.strip() + ' [/INST]' }}{% elif message['role'] == 'system' %}{{ '<<SYS>>
' + content.strip() + '
<</SYS>>

' }}{% elif message['role'] == 'assistant' %}{{ ' '  + content.strip() + ' ' + eos_token }}{% endif %}{% endfor %}`);nn(this,"DEFAULT_SYSTEM_PROMPT",`You are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.

If a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information.`);this.use_default_system_prompt=a.use_default_system_prompt??!1,this.legacy=a.legacy??!0,this.legacy||(this.normalizer=null,this.pre_tokenizer=new MetaspacePreTokenizer({replacement:SPIECE_UNDERLINE,add_prefix_space:!0,prepend_scheme:"first"}))}_encode_text(s){if(s===null)return null;if(this.legacy||s.length===0)return super._encode_text(s);let a=super._encode_text(SPIECE_UNDERLINE+s.replaceAll(SPIECE_UNDERLINE," "));return a.length>1&&a[0]===SPIECE_UNDERLINE&&this.special_tokens.includes(a[1])&&(a=a.slice(1)),a}get default_chat_template(){return super.default_chat_template.replaceAll("USE_DEFAULT_PROMPT",this.use_default_system_prompt?"true":"false").replaceAll("DEFAULT_SYSTEM_MESSAGE",this.DEFAULT_SYSTEM_PROMPT.replaceAll(`
`,"\\n").replaceAll("'","\\'"))}}class CodeLlamaTokenizer extends LlamaTokenizer{}class XLMRobertaTokenizer extends PreTrainedTokenizer{}class MPNetTokenizer extends PreTrainedTokenizer{}class FalconTokenizer extends PreTrainedTokenizer{}class GPTNeoXTokenizer extends PreTrainedTokenizer{}class EsmTokenizer extends PreTrainedTokenizer{}class Qwen2Tokenizer extends PreTrainedTokenizer{}class GemmaTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"_default_chat_template",`{% if messages[0]['role'] == 'system' %}{{ raise_exception('System role not supported') }}{% endif %}{% for message in messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if (message['role'] == 'assistant') %}{% set role = 'model' %}{% else %}{% set role = message['role'] %}{% endif %}{{ '<start_of_turn>' + role + '
' + message['content'] | trim + '<end_of_turn>
' }}{% endfor %}{% if add_generation_prompt %}{{'<start_of_turn>model
'}}{% endif %}`)}}class Grok1Tokenizer extends PreTrainedTokenizer{}function _build_translation_inputs(o,e,s,a){if(!("language_codes"in o)||!Array.isArray(o.language_codes))throw new Error("Tokenizer must have `language_codes` attribute set and it should be an array of language ids.");if(!("languageRegex"in o)||!(o.languageRegex instanceof RegExp))throw new Error("Tokenizer must have `languageRegex` attribute set and it should be a regular expression.");if(!("lang_to_token"in o)||typeof o.lang_to_token!="function")throw new Error("Tokenizer must have `lang_to_token` attribute set and it should be a function.");const c=a.src_lang,d=a.tgt_lang;if(!o.language_codes.includes(d))throw new Error(`Target language code "${d}" is not valid. Must be one of: {${o.language_codes.join(", ")}}`);if(c!==void 0){if(!o.language_codes.includes(c))throw new Error(`Source language code "${c}" is not valid. Must be one of: {${o.language_codes.join(", ")}}`);for(const g of o.post_processor.config.single)if("SpecialToken"in g&&o.languageRegex.test(g.SpecialToken.id)){g.SpecialToken.id=o.lang_to_token(c);break}}return a.forced_bos_token_id=o.model.convert_tokens_to_ids([o.lang_to_token(d)])[0],o._call(e,s)}class NllbTokenizer extends PreTrainedTokenizer{constructor(e,s){super(e,s),this.languageRegex=/^[a-z]{3}_[A-Z][a-z]{3}$/,this.language_codes=this.special_tokens.filter(a=>this.languageRegex.test(a)),this.lang_to_token=a=>a}_build_translation_inputs(e,s,a){return _build_translation_inputs(this,e,s,a)}}class M2M100Tokenizer extends PreTrainedTokenizer{constructor(e,s){super(e,s),this.languageRegex=/^__[a-z]{2,3}__$/,this.language_codes=this.special_tokens.filter(a=>this.languageRegex.test(a)).map(a=>a.slice(2,-2)),this.lang_to_token=a=>`__${a}__`}_build_translation_inputs(e,s,a){return _build_translation_inputs(this,e,s,a)}}const WHISPER_LANGUAGES=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]],WHISPER_LANGUAGE_MAPPING=new Map(WHISPER_LANGUAGES),WHISPER_TO_LANGUAGE_CODE_MAPPING=new Map([...WHISPER_LANGUAGES.map(([o,e])=>[e,o]),["burmese","my"],["valencian","ca"],["flemish","nl"],["haitian","ht"],["letzeburgesch","lb"],["pushto","ps"],["panjabi","pa"],["moldavian","ro"],["moldovan","ro"],["sinhalese","si"],["castilian","es"]]);class WhisperTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"_default_chat_template",'{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}')}_decode_asr(s,{return_timestamps:a=!1,return_language:c=!1,time_precision:d=null,force_full_sequences:g=!0}={}){if(d===null)throw Error("Must specify time_precision");let $=null;const j=a==="word";function tt(){return{language:$,timestamp:[null,null],text:""}}const et=[];let b=tt(),h=0;const _e=this.model.convert_tokens_to_ids(["<|notimestamps|>"])[0]+1;let nt=[],rt=[],it=!1,st=null;const ot=new Set(this.all_special_ids);for(const ut of s){const dt=ut.tokens,ht=j?ut.token_timestamps:null;let pt=null,ft=_e;if("stride"in ut){const[yt,Et,gt]=ut.stride;if(h-=Et,st=yt-gt,Et&&(ft=Et/d+_e),gt)for(let At=dt.length-1;At>=0;--At){const mt=dt[At];if(mt>=_e){if(pt!==null&&(mt-_e)*d<st)break;pt=mt}}}let bt=[],Ct=[];for(let yt=0;yt<dt.length;++yt){const Et=dt[yt];if(ot.has(Et)){const gt=this.decode([Et]),At=WHISPER_LANGUAGE_MAPPING.get(gt.slice(2,-2));if(At!==void 0){if($!==null&&At!==$&&!a){nt.push(bt);const mt=this.findLongestCommonSequence(nt)[0],_t=this.decode(mt);b.text=_t,et.push(b),nt=[],bt=[],b=tt()}$=b.language=At}}else if(Et>=_e){const gt=(Et-_e)*d+h,At=round(gt,2);if(pt!==null&&Et>=pt)it=!0;else if(it||nt.length>0&&Et<ft)it=!1;else if(b.timestamp[0]===null)b.timestamp[0]=At;else if(At!==b.timestamp[0]){b.timestamp[1]=At,nt.push(bt),j&&rt.push(Ct);const[mt,_t]=this.findLongestCommonSequence(nt,rt),St=this.decode(mt);b.text=St,j&&(b.words=this.collateWordTimestamps(mt,_t,$)),et.push(b),nt=[],bt=[],rt=[],Ct=[],b=tt()}}else if(bt.push(Et),j){let gt=round(ht[yt]+h,2),At;yt+1<ht.length?At=round(ht[yt+1]+h,2):At=null,Ct.push([gt,At])}}if("stride"in ut){const[yt,Et,gt]=ut.stride;h+=yt-gt}bt.length>0?(nt.push(bt),j&&rt.push(Ct)):nt.every(yt=>yt.length===0)&&(b=tt(),nt=[],bt=[],rt=[],Ct=[])}if(nt.length>0){if(g&&a)throw new Error("Whisper did not predict an ending timestamp, which can happen if audio is cut off in the middle of a word. Also make sure WhisperTimeStampLogitsProcessor was used during generation.");const[ut,dt]=this.findLongestCommonSequence(nt,rt),ht=this.decode(ut);b.text=ht,j&&(b.words=this.collateWordTimestamps(ut,dt,$)),et.push(b)}let at=Object.create(null);const ct=et.map(ut=>ut.text).join("");if(a||c){for(let ut=0;ut<et.length;++ut){const dt=et[ut];a||delete dt.timestamp,c||delete dt.language}if(j){const ut=[];for(const dt of et)for(const ht of dt.words)ut.push(ht);at={chunks:ut}}else at={chunks:et}}return[ct,at]}findLongestCommonSequence(s,a=null){let c=s[0],d=c.length,g=[];const $=Array.isArray(a)&&a.length>0;let j=$?[]:null,tt=$?a[0]:null;for(let et=1;et<s.length;++et){const b=s[et];let h=0,_e=[d,d,0,0];const nt=b.length;for(let ut=1;ut<d+nt;++ut){const dt=ut/1e4,ht=Math.max(0,d-ut),pt=Math.min(d,d+nt-ut),ft=c.slice(ht,pt),bt=Math.max(0,ut-d),Ct=Math.min(nt,ut),yt=b.slice(bt,Ct);if(ft.length!==yt.length)throw new Error("There is a bug within whisper `decode_asr` function, please report it. Dropping to prevent bad inference.");const Et=ft.filter((At,mt)=>At===yt[mt]).length,gt=Et/ut+dt;Et>1&&gt>h&&(h=gt,_e=[ht,pt,bt,Ct])}const[rt,it,st,ot]=_e,at=Math.floor((it+rt)/2),ct=Math.floor((ot+st)/2);g.push(...c.slice(0,at)),c=b.slice(ct),d=c.length,$&&(j.push(...tt.slice(0,at)),tt=a[et].slice(ct))}return g.push(...c),$?(j.push(...tt),[g,j]):[g,[]]}collateWordTimestamps(s,a,c){const[d,g,$]=this.combineTokensIntoWords(s,c),j=[];for(let tt=0;tt<d.length;++tt){const et=$[tt];j.push({text:d[tt],timestamp:[a[et.at(0)][0],a[et.at(-1)][1]]})}return j}combineTokensIntoWords(s,a,c=`"'“¡¿([{-`,d=`"'.。,，!！?？:：”)]}、`){a=a??"english";let g,$,j;return["chinese","japanese","thai","lao","myanmar"].includes(a)?[g,$,j]=this.splitTokensOnUnicode(s):[g,$,j]=this.splitTokensOnSpaces(s),this.mergePunctuations(g,$,j,c,d)}decode(s,a){let c;return a&&a.decode_with_timestamps?(s instanceof Tensor&&(s=prepareTensorForDecode(s)),c=this.decodeWithTimestamps(s,a)):c=super.decode(s,a),c}decodeWithTimestamps(s,a){const c=(a==null?void 0:a.time_precision)??.02,d=Array.from(this.all_special_ids).at(-1)+1;let g=[[]];for(const $ of s)if($>=d){const j=round(($-d)*c,2);g.push(`<|${j}|>`),g.push([])}else g[g.length-1].push($);return g=g.map($=>typeof $=="string"?$:super.decode($,a)),g.join("")}splitTokensOnUnicode(s){const a=this.decode(s,{decode_with_timestamps:!0}),c="�",d=[],g=[],$=[];let j=[],tt=[],et=0;for(let b=0;b<s.length;++b){const h=s[b];j.push(h),tt.push(b);const _e=this.decode(j,{decode_with_timestamps:!0});(!_e.includes(c)||a[et+_e.indexOf(c)]===c)&&(d.push(_e),g.push(j),$.push(tt),j=[],tt=[],et+=_e.length)}return[d,g,$]}splitTokensOnSpaces(s){const[a,c,d]=this.splitTokensOnUnicode(s),g=[],$=[],j=[],tt=new RegExp(`^[${PUNCTUATION_REGEX}]$`,"gu");for(let et=0;et<a.length;++et){const b=a[et],h=c[et],_e=d[et],nt=h[0]>=this.model.tokens_to_ids.get("<|endoftext|>"),rt=b.startsWith(" "),it=b.trim(),st=tt.test(it);if(nt||rt||st||g.length===0)g.push(b),$.push(h),j.push(_e);else{const ot=g.length-1;g[ot]+=b,$[ot].push(...h),j[ot].push(..._e)}}return[g,$,j]}mergePunctuations(s,a,c,d,g){const $=structuredClone(s),j=structuredClone(a),tt=structuredClone(c);let et=$.length-2,b=$.length-1;for(;et>=0;)$[et].startsWith(" ")&&d.includes($[et].trim())?($[b]=$[et]+$[b],j[b]=mergeArrays(j[et],j[b]),tt[b]=mergeArrays(tt[et],tt[b]),$[et]="",j[et]=[],tt[et]=[]):b=et,--et;for(et=0,b=1;b<$.length;)!$[et].endsWith(" ")&&g.includes($[b])?($[et]+=$[b],j[et]=mergeArrays(j[et],j[b]),tt[et]=mergeArrays(tt[et],tt[b]),$[b]="",j[b]=[],tt[b]=[]):et=b,++b;return[$.filter(h=>h),j.filter(h=>h.length>0),tt.filter(h=>h.length>0)]}get_decoder_prompt_ids({language:s=null,task:a=null,no_timestamps:c=!0}={}){const d=[];if(s){s=s.toLowerCase();let g=WHISPER_TO_LANGUAGE_CODE_MAPPING.get(s);if(g===void 0)if(WHISPER_LANGUAGE_MAPPING.has(s))g=s;else{const tt=s.length===2?WHISPER_LANGUAGE_MAPPING.keys():WHISPER_LANGUAGE_MAPPING.values();throw new Error(`Language "${s}" is not supported. Must be one of: ${JSON.stringify(tt)}`)}const $=this.model.tokens_to_ids.get(`<|${g}|>`);if($===void 0)throw new Error(`Unable to find language "${g}" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.`);d.push($)}else d.push(null);if(a){if(a=a.toLowerCase(),a!=="transcribe"&&a!=="translate")throw new Error(`Task "${a}" is not supported. Must be one of: ["transcribe", "translate"]`);const g=this.model.tokens_to_ids.get(`<|${a}|>`);if(g===void 0)throw new Error(`Unable to find task "${a}" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.`);d.push(g)}else d.push(null);if(c){const g=this.model.tokens_to_ids.get("<|notimestamps|>");if(g===void 0)throw new Error('Unable to find "<|notimestamps|>" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.');d.push(g)}return d.map((g,$)=>[$+1,g]).filter(g=>g[1]!==null)}}class CodeGenTokenizer extends PreTrainedTokenizer{}class CLIPTokenizer extends PreTrainedTokenizer{}class SiglipTokenizer extends PreTrainedTokenizer{}class MarianTokenizer extends PreTrainedTokenizer{constructor(e,s){super(e,s),this.languageRegex=/^(>>\w+<<)\s*/g,this.supported_language_codes=this.model.vocab.filter(a=>this.languageRegex.test(a)),console.warn('WARNING: `MarianTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}_encode_text(e){if(e===null)return null;const[s,...a]=e.trim().split(this.languageRegex);if(a.length===0)return super._encode_text(s);if(a.length===2){const[c,d]=a;return this.supported_language_codes.includes(c)||console.warn(`Unsupported language code "${c}" detected, which may lead to unexpected behavior. Should be one of: ${JSON.stringify(this.supported_language_codes)}`),mergeArrays([c],super._encode_text(d))}}}class Wav2Vec2CTCTokenizer extends PreTrainedTokenizer{}class BlenderbotTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);nn(this,"_default_chat_template","{% for message in messages %}{% if message['role'] == 'user' %}{{ ' ' }}{% endif %}{{ message['content'] }}{% if not loop.last %}{{ '  ' }}{% endif %}{% endfor %}{{ eos_token }}")}}class BlenderbotSmallTokenizer extends BlenderbotTokenizer{}class SpeechT5Tokenizer extends PreTrainedTokenizer{}class NougatTokenizer extends PreTrainedTokenizer{}class VitsTokenizer extends PreTrainedTokenizer{constructor(e,s){super(e,s),this.decoder=new VitsDecoder({})}}class CohereTokenizer extends PreTrainedTokenizer{}class AutoTokenizer{static async from_pretrained(e,{quantized:s=!0,progress_callback:a=null,config:c=null,cache_dir:d=null,local_files_only:g=!1,revision:$="main",legacy:j=null}={}){var _e;const[tt,et]=await loadTokenizer(e,{progress_callback:a,cache_dir:d,local_files_only:g,revision:$,legacy:j}),b=((_e=et.tokenizer_class)==null?void 0:_e.replace(/Fast$/,""))??"PreTrainedTokenizer";let h=this.TOKENIZER_CLASS_MAPPING[b];return h||(console.warn(`Unknown tokenizer class "${b}", attempting to construct from base class.`),h=PreTrainedTokenizer),new h(tt,et)}}nn(AutoTokenizer,"TOKENIZER_CLASS_MAPPING",{T5Tokenizer,DistilBertTokenizer,CamembertTokenizer,DebertaTokenizer,DebertaV2Tokenizer,BertTokenizer,HerbertTokenizer,ConvBertTokenizer,RoFormerTokenizer,XLMTokenizer,ElectraTokenizer,MobileBertTokenizer,SqueezeBertTokenizer,AlbertTokenizer,GPT2Tokenizer,BartTokenizer,MBartTokenizer,MBart50Tokenizer,RobertaTokenizer,WhisperTokenizer,CodeGenTokenizer,CLIPTokenizer,SiglipTokenizer,MarianTokenizer,BloomTokenizer,NllbTokenizer,M2M100Tokenizer,LlamaTokenizer,CodeLlamaTokenizer,XLMRobertaTokenizer,MPNetTokenizer,FalconTokenizer,GPTNeoXTokenizer,EsmTokenizer,Wav2Vec2CTCTokenizer,BlenderbotTokenizer,BlenderbotSmallTokenizer,SpeechT5Tokenizer,NougatTokenizer,VitsTokenizer,Qwen2Tokenizer,GemmaTokenizer,Grok1Tokenizer,CohereTokenizer,PreTrainedTokenizer});async function loadConfig(o,e){return await getModelJSON(o,"config.json",!0,e)}class PretrainedConfig{constructor(e){this.model_type=null,this.is_encoder_decoder=!1,Object.assign(this,e)}static async from_pretrained(e,{progress_callback:s=null,config:a=null,cache_dir:c=null,local_files_only:d=!1,revision:g="main"}={}){let $=a??await loadConfig(e,{progress_callback:s,cache_dir:c,local_files_only:d,revision:g});return new this($)}}class AutoConfig{static async from_pretrained(...e){return PretrainedConfig.from_pretrained(...e)}}class LogitsProcessorList extends Callable{constructor(){super(),this.processors=[]}push(e){this.processors.push(e)}extend(e){this.processors.push(...e)}_call(e,s){for(let a of s)this.processors.forEach(c=>c(e,a))}[Symbol.iterator](){return this.processors.values()}}class LogitsProcessor extends Callable{_call(e,s){throw Error("`_call` should be implemented in a subclass")}}class ForceTokensLogitsProcessor extends LogitsProcessor{constructor(e){super(),this.force_token_map=Object.fromEntries(e??[])}_call(e,s){let a=this.force_token_map[e.length];return exists(a)&&(s.data.fill(-1/0),s.data[a]=0),s}}class ForcedBOSTokenLogitsProcessor extends LogitsProcessor{constructor(e){super(),this.bos_token_id=e}_call(e,s){return e.length===1&&(s.data.fill(-1/0),s.data[this.bos_token_id]=0),s}}class ForcedEOSTokenLogitsProcessor extends LogitsProcessor{constructor(e,s){super(),this.max_length=e,this.forced_eos_token_id=s}_call(e,s){}}class SuppressTokensAtBeginLogitsProcessor extends LogitsProcessor{constructor(e,s){super(),this.begin_suppress_tokens=e,this.begin_index=s}_call(e,s){if(e.length===this.begin_index)for(let a of this.begin_suppress_tokens)s.data[a]=-1/0;return s}}class WhisperTimeStampLogitsProcessor extends LogitsProcessor{constructor(e){super(),this.eos_token_id=e.eos_token_id,this.no_timestamps_token_id=e.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=(e.forced_decoder_ids||[]).length+2,e.forced_decoder_ids.slice(-1)[0][1]===this.no_timestamps_token_id&&(this.begin_index-=1),this.max_initial_timestamp_index=e.max_initial_timestamp_index}_call(e,s){const a=s.data;if(a[this.no_timestamps_token_id]=-1/0,e.length===this.begin_index-1)return a.fill(-1/0),a[this.timestamp_begin]=0,s;const c=e.slice(this.begin_index),d=c.length>=1&&c[c.length-1]>=this.timestamp_begin,g=c.length<2||c[c.length-2]>=this.timestamp_begin;if(d&&(g?a.subarray(this.timestamp_begin).fill(-1/0):a.subarray(0,this.eos_token_id).fill(-1/0)),e.length===this.begin_index&&this.max_initial_timestamp_index!==null){const et=this.timestamp_begin+this.max_initial_timestamp_index;a.subarray(et+1).fill(-1/0)}const $=log_softmax(a),j=Math.log($.subarray(this.timestamp_begin).map(Math.exp).reduce((et,b)=>et+b)),tt=max($.subarray(0,this.timestamp_begin))[0];return j>tt&&a.subarray(0,this.timestamp_begin).fill(-1/0),s}}class NoRepeatNGramLogitsProcessor extends LogitsProcessor{constructor(e){super(),this.no_repeat_ngram_size=e}getNgrams(e){const s=e.length,a=[];for(let d=0;d<s+1-this.no_repeat_ngram_size;++d){const g=[];for(let $=0;$<this.no_repeat_ngram_size;++$)g.push(e[d+$]);a.push(g)}const c=new Map;for(const d of a){const g=d.slice(0,d.length-1),$=JSON.stringify(g),j=c.get($)??[];j.push(d[d.length-1]),c.set($,j)}return c}getGeneratedNgrams(e,s){const a=s.slice(s.length+1-this.no_repeat_ngram_size,s.length);return e.get(JSON.stringify(a))??[]}calcBannedNgramTokens(e){const s=[];if(e.length+1<this.no_repeat_ngram_size)return s;{const a=this.getNgrams(e);return this.getGeneratedNgrams(a,e)}}_call(e,s){const a=this.calcBannedNgramTokens(e);for(const c of a)s.data[c]=-1/0;return s}}class RepetitionPenaltyLogitsProcessor extends LogitsProcessor{constructor(e){super(),this.penalty=e}_call(e,s){for(const a of e)s.data[a]<0?s.data[a]*=this.penalty:s.data[a]/=this.penalty;return s}}class MinLengthLogitsProcessor extends LogitsProcessor{constructor(e,s){super(),this.min_length=e,this.eos_token_id=Array.isArray(s)?s:[s]}_call(e,s){if(e.length<this.min_length)for(const a of this.eos_token_id)s.data[a]=-1/0;return s}}class MinNewTokensLengthLogitsProcessor extends LogitsProcessor{constructor(e,s,a){super(),this.prompt_length_to_skip=e,this.min_new_tokens=s,this.eos_token_id=Array.isArray(a)?a:[a]}_call(e,s){if(e.length-this.prompt_length_to_skip<this.min_new_tokens)for(const c of this.eos_token_id)s.data[c]=-1/0;return s}}class NoBadWordsLogitsProcessor extends LogitsProcessor{constructor(e,s){super(),this.bad_words_ids=e,this.eos_token_id=Array.isArray(s)?s:[s]}_call(e,s){for(const a of this.bad_words_ids){let c=!0;for(let d=1;d<=a.length-1&&a.length<e.length;++d)if(a.at(-d-1)!==e.at(-d)){c=!1;break}c&&(s.data[a.at(-1)]=-1/0)}return s}}const GenerationConfig=class{constructor(o={}){this.max_length=o.max_length??20,this.max_new_tokens=o.max_new_tokens??null,this.min_length=o.min_length??0,this.min_new_tokens=o.min_new_tokens??null,this.early_stopping=o.early_stopping??!1,this.max_time=o.max_time??null,this.do_sample=o.do_sample??!1,this.num_beams=o.num_beams??1,this.num_beam_groups=o.num_beam_groups??1,this.penalty_alpha=o.penalty_alpha??null,this.use_cache=o.use_cache??!0,this.temperature=o.temperature??1,this.top_k=o.top_k??50,this.top_p=o.top_p??1,this.typical_p=o.typical_p??1,this.epsilon_cutoff=o.epsilon_cutoff??0,this.eta_cutoff=o.eta_cutoff??0,this.diversity_penalty=o.diversity_penalty??0,this.repetition_penalty=o.repetition_penalty??1,this.encoder_repetition_penalty=o.encoder_repetition_penalty??1,this.length_penalty=o.length_penalty??1,this.no_repeat_ngram_size=o.no_repeat_ngram_size??0,this.bad_words_ids=o.bad_words_ids??null,this.force_words_ids=o.force_words_ids??null,this.renormalize_logits=o.renormalize_logits??!1,this.constraints=o.constraints??null,this.forced_bos_token_id=o.forced_bos_token_id??null,this.forced_eos_token_id=o.forced_eos_token_id??null,this.remove_invalid_values=o.remove_invalid_values??!1,this.exponential_decay_length_penalty=o.exponential_decay_length_penalty??null,this.suppress_tokens=o.suppress_tokens??null,this.begin_suppress_tokens=o.begin_suppress_tokens??null,this.forced_decoder_ids=o.forced_decoder_ids??null,this.num_return_sequences=o.num_return_sequences??1,this.output_attentions=o.output_attentions??!1,this.output_hidden_states=o.output_hidden_states??!1,this.output_scores=o.output_scores??!1,this.return_dict_in_generate=o.return_dict_in_generate??!1,this.pad_token_id=o.pad_token_id??null,this.bos_token_id=o.bos_token_id??null,this.eos_token_id=o.eos_token_id??null,this.encoder_no_repeat_ngram_size=o.encoder_no_repeat_ngram_size??0,this.decoder_start_token_id=o.decoder_start_token_id??null,this.generation_kwargs=o.generation_kwargs??{}}};class Sampler extends Callable{constructor(e){super(),this.generation_config=e}_call(e,s=-1){return this.sample(e,s)}sample(e,s){throw Error("sample should be implemented in subclasses.")}getLogits(e,s){let a=e.dims.at(-1),c=e.data;if(s===-1)c=c.slice(-a);else{let d=s*a;c=c.slice(d,d+a)}return this.generation_config.temperature>0&&(c=c.map(d=>d/this.generation_config.temperature)),c}randomSelect(e){let s=e.reduce((c,d)=>c+d,0),a=Math.random()*s;for(let c=0;c<e.length;++c)if(a-=e[c],a<=0)return c;return 0}static getSampler(e){if(e.do_sample)return new MultinomialSampler(e);if(e.num_beams>1)return new BeamSearchSampler(e);if(e.num_return_sequences>1)throw Error(`num_return_sequences has to be 1 when doing greedy search, but is ${e.num_return_sequences}.`);return new GreedySampler(e)}}class GreedySampler extends Sampler{sample(e,s=-1){let a=this.getLogits(e,s);return[[max(a)[1],0]]}}class MultinomialSampler extends Sampler{sample(e,s=-1){let a=e.dims.at(-1);this.generation_config.top_k>0&&(a=Math.min(this.generation_config.top_k,a));const c=this.getLogits(e,s),d=getTopItems(c,a),g=softmax(d.map($=>$[1]));return Array.from({length:this.generation_config.num_beams},()=>{const $=this.randomSelect(g);return[d[$][0],Math.log(g[$])]})}}class BeamSearchSampler extends Sampler{sample(e,s=-1){let a=e.dims.at(-1);this.generation_config.top_k>0&&(a=Math.min(this.generation_config.top_k,a));const c=this.getLogits(e,s),d=getTopItems(c,a),g=softmax(d.map($=>$[1]));return Array.from({length:this.generation_config.num_beams},($,j)=>[d[j][0],Math.log(g[j])])}}const{InferenceSession,Tensor:ONNXTensor,env}=ONNX,MODEL_TYPES={EncoderOnly:0,EncoderDecoder:1,Seq2Seq:2,Vision2Seq:3,DecoderOnly:4,MaskGeneration:5},MODEL_TYPE_MAPPING=new Map,MODEL_NAME_TO_CLASS_MAPPING=new Map,MODEL_CLASS_TO_NAME_MAPPING=new Map;async function constructSession(o,e,s){let a=`onnx/${e}${s.quantized?"_quantized":""}.onnx`,c=await getModelFile(o,a,!0,s);try{return await InferenceSession.create(c,{executionProviders})}catch(d){if(executionProviders.length===1&&executionProviders[0]==="wasm")throw d;return console.warn(d),console.warn("Something went wrong during model construction (most likely a missing operation). Using `wasm` as a fallback. "),await InferenceSession.create(c,{executionProviders:["wasm"]})}}function validateInputs(o,e){const s=Object.create(null),a=[];for(const g of o.inputNames){const $=e[g];if(!($ instanceof Tensor)){a.push(g);continue}s[g]=env.wasm.proxy?$.clone():$}if(a.length>0)throw new Error(`An error occurred during model execution: "Missing the following inputs: ${a.join(", ")}.`);const c=Object.keys(e).length,d=o.inputNames.length;if(c>d){let g=Object.keys(e).filter($=>!o.inputNames.includes($));console.warn(`WARNING: Too many inputs were provided (${c} > ${d}). The following inputs will be ignored: "${g.join(", ")}".`)}return s}async function sessionRun(o,e){const s=validateInputs(o,e);try{let a=await o.run(s);return a=replaceTensors(a),a}catch(a){throw console.error(`An error occurred during model execution: "${a}".`),console.error("Inputs given to model:",s),a}}function replaceTensors(o){for(let e in o)o[e]instanceof ONNXTensor?o[e]=new Tensor(o[e]):typeof o[e]=="object"&&replaceTensors(o[e]);return o}function toI64Tensor(o){if(o instanceof Tensor)return o;if(o.length===0)throw Error("items must be non-empty");if(Array.isArray(o[0])){if(o.some(e=>e.length!==o[0].length))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new Tensor("int64",BigInt64Array.from(o.flat().map(e=>BigInt(e))),[o.length,o[0].length])}else return new Tensor("int64",BigInt64Array.from(o.map(e=>BigInt(e))),[1,o.length])}function prepareAttentionMask(o,e){let s=o.config.pad_token_id??null,a=o.config.eos_token_id??null;isIntegralNumber(a)&&(a=[a]);let c=e.indexOf(s)!==-1,d=a===null||!a.includes(s);if(c&&d){let g=BigInt64Array.from(e.data.map($=>$!=s));return new Tensor("int64",g,e.dims)}else return ones_like(e)}function preparePositionIds(o,e,s){if(!o.inputNames.includes("position_ids"))return;const a=new BigInt64Array(e.attention_mask.data.length);for(let c=0;c<e.attention_mask.dims[0];++c){let d=c*e.attention_mask.dims[1],g=BigInt(0);for(let $=0;$<e.attention_mask.dims[1];++$){const j=d+$;e.attention_mask.data[j]===0n?a[j]=BigInt(1):(a[j]=g,g+=e.attention_mask.data[j])}}e.position_ids=new Tensor("int64",a,e.attention_mask.dims),s&&(e.position_ids=e.position_ids.slice(null,-1).unsqueeze_(-1))}function boolTensor(o){return new Tensor("bool",[o],[1])}async function seq2seqForward(o,e){let{encoder_outputs:s,past_key_values:a}=e;s||(s=(await encoderForward(o,e)).last_hidden_state);let c={input_ids:e.decoder_input_ids,encoder_hidden_states:s};const d=!!a;o.decoder_merged_session.inputNames.includes("use_cache_branch")&&(c.use_cache_branch=boolTensor(d)),o.decoder_merged_session.inputNames.includes("encoder_attention_mask")&&(c.encoder_attention_mask=e.attention_mask),preparePositionIds(o.decoder_merged_session,c,d),o.addPastKeyValues(c,a);const g=await sessionRun(o.decoder_merged_session,c);let $=g.logits;a=o.getPastKeyValues(g,a);const j=o.getAttentions(g);return new Seq2SeqLMOutput({logits:$,past_key_values:a,encoder_outputs:s,...j})}function seq2seqStartBeams(o,e,s,a){let c=[],d=0;const g=o.requires_attention_mask??!0;let $=s.decoder_input_ids??s.decoder_start_token_id??s.bos_token_id??s.eos_token_id;$ instanceof Tensor?$=$.tolist().flat():Array.isArray($)||($=[$]);for(let j of e){j.dims=[1,...j.dims];let tt={inputs:j,encoder_outputs:null,prev_model_outputs:null,output_token_ids:$,done:!1,score:0,id:d++};g&&(tt.attention_mask=prepareAttentionMask(o,j)),c.push(tt)}return c}async function seq2seqRunBeam(o,e){var g;const s=o.main_input_name;let a=e.output_token_ids;e.prev_model_outputs&&(a=a.slice(-1));let c={[s]:e.inputs,decoder_input_ids:toI64Tensor(a),encoder_outputs:e.encoder_outputs,past_key_values:(g=e.prev_model_outputs)==null?void 0:g.past_key_values};e.attention_mask&&(c.attention_mask=e.attention_mask);let d=await o.forward(c);return e.prev_model_outputs=d,e.encoder_outputs=d.encoder_outputs,d}function seq2seqUpdatebeam(o,e){o.output_token_ids=[...o.output_token_ids,e]}async function encoderForward(o,e){const s=Object.create(null);for(const a of o.session.inputNames)s[a]=e[a];return o.session.inputNames.includes("token_type_ids")&&!s.token_type_ids&&(s.token_type_ids=new Tensor("int64",new BigInt64Array(s.input_ids.data.length),s.input_ids.dims)),await sessionRun(o.session,s)}async function decoderForward(o,e){let{input_ids:s,past_key_values:a,attention_mask:c}=e,d={input_ids:s,attention_mask:c??prepareAttentionMask(o,s)};const g=!!a;o.session.inputNames.includes("use_cache_branch")&&(d.use_cache_branch=boolTensor(g)),preparePositionIds(o.session,d,g),o.addPastKeyValues(d,a);let $=await sessionRun(o.session,d),j=$.logits;return a=o.getPastKeyValues($,a),{logits:j,past_key_values:a}}function decoderStartBeams(o,e,s,a,c){let d=[],g=0;for(let $ of e){let j=$.tolist().map(Number);$.dims=[1,...$.dims];let tt;c?(tt=c[g],tt.dims=[1,...tt.dims]):tt=prepareAttentionMask(o,$);let et={input:$,model_input_ids:$,attention_mask:tt,prev_model_outputs:null,output_token_ids:j,num_output_tokens:a,done:!1,score:0,id:g++};d.push(et)}return d}async function decoderRunBeam(o,e){var d;let s=new BigInt64Array(e.output_token_ids.length).fill(1n),a={input_ids:e.model_input_ids,attention_mask:new Tensor("int64",s,[1,s.length]),past_key_values:(d=e.prev_model_outputs)==null?void 0:d.past_key_values},c=await o.forward(a);return e.prev_model_outputs=c,c}function decoderUpdatebeam(o,e){o.output_token_ids=[...o.output_token_ids,e],o.model_input_ids=new Tensor("int64",[BigInt(e)],[1,1])}class PreTrainedModel extends Callable{constructor(s,a){super();nn(this,"main_input_name","input_ids");this.config=s,this.session=a;const c=MODEL_CLASS_TO_NAME_MAPPING.get(this.constructor),d=MODEL_TYPE_MAPPING.get(c);this.can_generate=!1,this._runBeam=null,this._getStartBeams=null,this._updateBeam=null,this._forward=null,d===MODEL_TYPES.DecoderOnly?(this.can_generate=!0,this._runBeam=decoderRunBeam,this._getStartBeams=decoderStartBeams,this._updateBeam=decoderUpdatebeam,this._forward=decoderForward):d===MODEL_TYPES.Seq2Seq||d===MODEL_TYPES.Vision2Seq?(this.can_generate=!0,this._runBeam=seq2seqRunBeam,this._getStartBeams=seq2seqStartBeams,this._updateBeam=seq2seqUpdatebeam,this._forward=seq2seqForward):d===MODEL_TYPES.EncoderDecoder?this._forward=encoderForward:this._forward=encoderForward}async dispose(){const s=[];for(let a of Object.keys(this)){const c=this[a];c instanceof InferenceSession&&s.push(c.handler.dispose())}return await Promise.all(s)}static async from_pretrained(s,{quantized:a=!0,progress_callback:c=null,config:d=null,cache_dir:g=null,local_files_only:$=!1,revision:j="main",model_file_name:tt=null}={}){let et={quantized:a,progress_callback:c,config:d,cache_dir:g,local_files_only:$,revision:j,model_file_name:tt};const b=MODEL_CLASS_TO_NAME_MAPPING.get(this),h=MODEL_TYPE_MAPPING.get(b);let _e;return h===MODEL_TYPES.DecoderOnly?_e=await Promise.all([AutoConfig.from_pretrained(s,et),constructSession(s,et.model_file_name??"decoder_model_merged",et),getModelJSON(s,"generation_config.json",!1,et)]):h===MODEL_TYPES.Seq2Seq||h===MODEL_TYPES.Vision2Seq?_e=await Promise.all([AutoConfig.from_pretrained(s,et),constructSession(s,"encoder_model",et),constructSession(s,"decoder_model_merged",et),getModelJSON(s,"generation_config.json",!1,et)]):h===MODEL_TYPES.MaskGeneration?_e=await Promise.all([AutoConfig.from_pretrained(s,et),constructSession(s,"vision_encoder",et),constructSession(s,"prompt_encoder_mask_decoder",et)]):h===MODEL_TYPES.EncoderDecoder?_e=await Promise.all([AutoConfig.from_pretrained(s,et),constructSession(s,"encoder_model",et),constructSession(s,"decoder_model_merged",et)]):(h!==MODEL_TYPES.EncoderOnly&&console.warn(`Model type for '${b??(d==null?void 0:d.model_type)}' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.`),_e=await Promise.all([AutoConfig.from_pretrained(s,et),constructSession(s,et.model_file_name??"model",et)])),new this(..._e)}async _call(s){return await this.forward(s)}async forward(s){return await this._forward(this,s)}_get_logits_processor(s,a,c=null){const d=new LogitsProcessorList;if(s.repetition_penalty!==null&&s.repetition_penalty!==1&&d.push(new RepetitionPenaltyLogitsProcessor(s.repetition_penalty)),s.no_repeat_ngram_size!==null&&s.no_repeat_ngram_size>0&&d.push(new NoRepeatNGramLogitsProcessor(s.no_repeat_ngram_size)),s.bad_words_ids!==null&&d.push(new NoBadWordsLogitsProcessor(s.bad_words_ids,s.eos_token_id)),s.min_length!==null&&s.eos_token_id!==null&&s.min_length>0&&d.push(new MinLengthLogitsProcessor(s.min_length,s.eos_token_id)),s.min_new_tokens!==null&&s.eos_token_id!==null&&s.min_new_tokens>0&&d.push(new MinNewTokensLengthLogitsProcessor(a,s.min_new_tokens,s.eos_token_id)),s.forced_bos_token_id!==null&&d.push(new ForcedBOSTokenLogitsProcessor(s.forced_bos_token_id)),s.forced_eos_token_id!==null&&d.push(new ForcedEOSTokenLogitsProcessor(s.max_length,s.forced_eos_token_id)),s.begin_suppress_tokens!==null){let g=a>1||s.forced_bos_token_id===null?a:a+1;s.forced_decoder_ids!==null&&(g+=s.forced_decoder_ids[s.forced_decoder_ids.length-1][0]),d.push(new SuppressTokensAtBeginLogitsProcessor(s.begin_suppress_tokens,g))}return s.forced_decoder_ids!==null&&d.push(new ForceTokensLogitsProcessor(s.forced_decoder_ids)),c!==null&&d.extend(c),d}_get_generation_config(s){let a=new GenerationConfig(this.config);return"generation_config"in this&&Object.assign(a,this.generation_config),s!==null&&Object.assign(a,s),a}async generate(s,a=null,c=null,{inputs_attention_mask:d=null}={}){if(!this.can_generate){let st=`The current model class (${MODEL_CLASS_TO_NAME_MAPPING.get(this.constructor)}) is not compatible with \`.generate()\`, as it doesn't have a language model head.`;const ot=this.config.model_type,at=MODEL_WITH_LM_HEAD_MAPPING_NAMES.get(ot)??MODEL_FOR_SEQ_TO_SEQ_CAUSAL_LM_MAPPING_NAMES.get(ot)??MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES.get(ot)??MODEL_FOR_VISION_2_SEQ_MAPPING_NAMES.get(ot);throw at&&(st+=` Please use the following class instead: '${at[0]}'`),Error(st)}if(!(s instanceof Tensor)&&!isTypedArray(s)&&!Array.isArray(s))throw Error(`\`inputs\` must be a Tensor, TypedArray, or Array, but is "${s.constructor.name}".`);let g;if(this.config.is_encoder_decoder)g=0;else if(g=s instanceof Tensor?s.dims.at(-1):s.length,g===0)throw Error("Must supply a non-empty array of input token ids.");a=this._get_generation_config(a),c=c??new LogitsProcessorList,c=this._get_logits_processor(a,g,c);let $=a.eos_token_id;$!==null&&!Array.isArray($)&&($=[$]);let j=1;const tt=j+(a.max_new_tokens??1/0),et=Number.isInteger(a.max_length)&&(a.max_new_tokens??null)===null;let b=Sampler.getSampler(a),h=this.getStartBeams(s,a,j,d);for(;h.some(it=>!it.done)&&j<tt;){let it=[];for(let st of h){if(st.done){it.push(st);continue}if(et&&st.output_token_ids.length>=a.max_length){st.done=!0,it.push(st);continue}let ot=await this.runBeam(st);a.output_attentions&&this.addAttentionsToBeam(st,ot),a.output_scores;let at=ot.logits.slice(null,-1,null);c(st.output_token_ids,at);let ct=b(at);for(let[ut,dt]of ct){let ht={...st};this.updateBeam(ht,ut),ht.score+=dt,$&&$.includes(ut)&&(ht.done=!0),it.push(ht)}}++j,it=this.groupBeams(it).map(st=>st.sort((ot,at)=>at.score-ot.score).slice(0,a.num_beams)),h=it.flat(),a.callback_function&&a.callback_function(h)}const _e=this.groupBeams(h),nt=it=>_e.map(st=>a.num_return_sequences>1?st.slice(0,a.num_return_sequences).map(ot=>ot[it]):[st[0][it]]).flat(),rt=nt("output_token_ids");if(a.return_dict_in_generate){const it=nt("decoder_attentions"),st=nt("cross_attentions");return{sequences:rt,decoder_attentions:it,cross_attentions:st}}else return rt}addAttentionsToBeam(s,a){if(this.config.is_encoder_decoder){if(!a.cross_attentions||a.cross_attentions.length===0)throw Error("`output_attentions` is true, but the model did not produce cross-attentions. This is most likely because the model was not exported with `output_attentions=True`.");s.cross_attentions||(s.cross_attentions=[]),s.cross_attentions.push(a.cross_attentions)}if(!a.decoder_attentions||a.decoder_attentions.length===0)throw Error("`output_attentions` is true, but the model did not produce decoder-attentions. This is most likely because the model was not exported with `output_attentions=True`.");s.decoder_attentions||(s.decoder_attentions=[]),s.decoder_attentions.push(a.decoder_attentions)}groupBeams(s){const a=Object.create(null);for(const c of s)a[c.id]===void 0?a[c.id]=[c]:a[c.id].push(c);return Object.values(a)}getPastKeyValues(s,a){const c=Object.create(null);for(const d in s)if(d.startsWith("present")){let g=d.replace("present","past_key_values");a&&d.includes("encoder")?c[g]=a[g]:c[g]=s[d]}return c}getAttentions(s){const a=Object.create(null);for(const c of["cross_attentions","decoder_attentions"]){const d=[];for(const g in s)if(g.startsWith(c)){const $=g.split(".").pop();d[$]=s[g]}a[c]=d}return a}addPastKeyValues(s,a){if(a)Object.assign(s,a);else if(this.config.is_encoder_decoder&&(this.add_encoder_pkv??!0)){let d=[1,this.num_encoder_heads,0,this.encoder_dim_kv],g=[1,this.num_decoder_heads,0,this.decoder_dim_kv];for(let $=0;$<this.num_decoder_layers;++$)s[`past_key_values.${$}.encoder.key`]=new Tensor("float32",[],d),s[`past_key_values.${$}.encoder.value`]=new Tensor("float32",[],d),s[`past_key_values.${$}.decoder.key`]=new Tensor("float32",[],g),s[`past_key_values.${$}.decoder.value`]=new Tensor("float32",[],g)}else if(this.config.model_type==="falcon"){let d=[1*this.num_heads,0,this.dim_kv];for(let g=0;g<this.num_layers;++g)s[`past_key_values.${g}.key`]=new Tensor("float32",[],d),s[`past_key_values.${g}.value`]=new Tensor("float32",[],d)}else if(this.config.multi_query){let d=[1*this.num_heads,0,2*this.dim_kv];for(let g=0;g<this.num_layers;++g)s[`past_key_values.${g}.key_value`]=new Tensor("float32",[],d)}else if(this.config.model_type==="bloom"){let d=[1*this.num_heads,this.dim_kv,0],g=[1*this.num_heads,0,this.dim_kv];for(let $=0;$<this.num_layers;++$)s[`past_key_values.${$}.key`]=new Tensor("float32",[],d),s[`past_key_values.${$}.value`]=new Tensor("float32",[],g)}else{let d=[1,this.num_heads,0,this.dim_kv];for(let g=0;g<this.num_layers;++g)s[`past_key_values.${g}.key`]=new Tensor("float32",[],d),s[`past_key_values.${g}.value`]=new Tensor("float32",[],d)}}getStartBeams(s,a,c,d){return this._getStartBeams(this,s,a,c,d)}async runBeam(s){return await this._runBeam(this,s)}updateBeam(s,a){return this._updateBeam(s,a)}}class ModelOutput{}class BertPreTrainedModel extends PreTrainedModel{}class BertModel extends BertPreTrainedModel{}class BertForMaskedLM extends BertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class BertForSequenceClassification extends BertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class BertForTokenClassification extends BertPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class BertForQuestionAnswering extends BertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class NomicBertPreTrainedModel extends PreTrainedModel{}class NomicBertModel extends NomicBertPreTrainedModel{}class RoFormerPreTrainedModel extends PreTrainedModel{}class RoFormerModel extends RoFormerPreTrainedModel{}class RoFormerForMaskedLM extends RoFormerPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class RoFormerForSequenceClassification extends RoFormerPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class RoFormerForTokenClassification extends RoFormerPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class RoFormerForQuestionAnswering extends RoFormerPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class ConvBertPreTrainedModel extends PreTrainedModel{}class ConvBertModel extends ConvBertPreTrainedModel{}class ConvBertForMaskedLM extends ConvBertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class ConvBertForSequenceClassification extends ConvBertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class ConvBertForTokenClassification extends ConvBertPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class ConvBertForQuestionAnswering extends ConvBertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class ElectraPreTrainedModel extends PreTrainedModel{}class ElectraModel extends ElectraPreTrainedModel{}class ElectraForMaskedLM extends ElectraPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class ElectraForSequenceClassification extends ElectraPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class ElectraForTokenClassification extends ElectraPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class ElectraForQuestionAnswering extends ElectraPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class CamembertPreTrainedModel extends PreTrainedModel{}class CamembertModel extends CamembertPreTrainedModel{}class CamembertForMaskedLM extends CamembertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class CamembertForSequenceClassification extends CamembertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class CamembertForTokenClassification extends CamembertPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class CamembertForQuestionAnswering extends CamembertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class DebertaPreTrainedModel extends PreTrainedModel{}class DebertaModel extends DebertaPreTrainedModel{}class DebertaForMaskedLM extends DebertaPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class DebertaForSequenceClassification extends DebertaPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class DebertaForTokenClassification extends DebertaPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class DebertaForQuestionAnswering extends DebertaPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class DebertaV2PreTrainedModel extends PreTrainedModel{}class DebertaV2Model extends DebertaV2PreTrainedModel{}class DebertaV2ForMaskedLM extends DebertaV2PreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class DebertaV2ForSequenceClassification extends DebertaV2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class DebertaV2ForTokenClassification extends DebertaV2PreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class DebertaV2ForQuestionAnswering extends DebertaV2PreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class DistilBertPreTrainedModel extends PreTrainedModel{}class DistilBertModel extends DistilBertPreTrainedModel{}class DistilBertForSequenceClassification extends DistilBertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class DistilBertForTokenClassification extends DistilBertPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class DistilBertForQuestionAnswering extends DistilBertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class DistilBertForMaskedLM extends DistilBertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class EsmPreTrainedModel extends PreTrainedModel{}class EsmModel extends EsmPreTrainedModel{}class EsmForMaskedLM extends EsmPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class EsmForSequenceClassification extends EsmPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class EsmForTokenClassification extends EsmPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class MobileBertPreTrainedModel extends PreTrainedModel{}class MobileBertModel extends MobileBertPreTrainedModel{}class MobileBertForMaskedLM extends MobileBertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class MobileBertForSequenceClassification extends MobileBertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class MobileBertForQuestionAnswering extends MobileBertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class MPNetPreTrainedModel extends PreTrainedModel{}class MPNetModel extends MPNetPreTrainedModel{}class MPNetForMaskedLM extends MPNetPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class MPNetForSequenceClassification extends MPNetPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class MPNetForTokenClassification extends MPNetPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class MPNetForQuestionAnswering extends MPNetPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class SqueezeBertPreTrainedModel extends PreTrainedModel{}class SqueezeBertModel extends SqueezeBertPreTrainedModel{}class SqueezeBertForMaskedLM extends SqueezeBertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class SqueezeBertForSequenceClassification extends SqueezeBertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class SqueezeBertForQuestionAnswering extends SqueezeBertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class AlbertPreTrainedModel extends PreTrainedModel{}class AlbertModel extends AlbertPreTrainedModel{}class AlbertForSequenceClassification extends AlbertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class AlbertForQuestionAnswering extends AlbertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class AlbertForMaskedLM extends AlbertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class T5PreTrainedModel extends PreTrainedModel{}class T5Model extends T5PreTrainedModel{}class T5ForConditionalGeneration extends T5PreTrainedModel{constructor(e,s,a,c){super(e,s),this.decoder_merged_session=a,this.generation_config=c,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class LongT5PreTrainedModel extends PreTrainedModel{}class LongT5Model extends LongT5PreTrainedModel{}class LongT5ForConditionalGeneration extends LongT5PreTrainedModel{constructor(e,s,a,c){super(e,s),this.decoder_merged_session=a,this.generation_config=c,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class MT5PreTrainedModel extends PreTrainedModel{}class MT5Model extends MT5PreTrainedModel{}class MT5ForConditionalGeneration extends MT5PreTrainedModel{constructor(e,s,a,c){super(e,s),this.decoder_merged_session=a,this.generation_config=c,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class BartPretrainedModel extends PreTrainedModel{}class BartModel extends BartPretrainedModel{}class BartForConditionalGeneration extends BartPretrainedModel{constructor(e,s,a,c){super(e,s),this.decoder_merged_session=a,this.generation_config=c,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class BartForSequenceClassification extends BartPretrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class MBartPreTrainedModel extends PreTrainedModel{}class MBartModel extends MBartPreTrainedModel{}class MBartForConditionalGeneration extends MBartPreTrainedModel{constructor(e,s,a,c){super(e,s),this.decoder_merged_session=a,this.generation_config=c,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class MBartForSequenceClassification extends MBartPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class MBartForCausalLM extends MBartPreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class BlenderbotPreTrainedModel extends PreTrainedModel{}class BlenderbotModel extends BlenderbotPreTrainedModel{}class BlenderbotForConditionalGeneration extends BlenderbotPreTrainedModel{constructor(e,s,a,c){super(e,s),this.decoder_merged_session=a,this.generation_config=c,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class BlenderbotSmallPreTrainedModel extends PreTrainedModel{}class BlenderbotSmallModel extends BlenderbotSmallPreTrainedModel{}class BlenderbotSmallForConditionalGeneration extends BlenderbotSmallPreTrainedModel{constructor(e,s,a,c){super(e,s),this.decoder_merged_session=a,this.generation_config=c,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class RobertaPreTrainedModel extends PreTrainedModel{}class RobertaModel extends RobertaPreTrainedModel{}class RobertaForMaskedLM extends RobertaPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class RobertaForSequenceClassification extends RobertaPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class RobertaForTokenClassification extends RobertaPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class RobertaForQuestionAnswering extends RobertaPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class XLMPreTrainedModel extends PreTrainedModel{}class XLMModel extends XLMPreTrainedModel{}class XLMWithLMHeadModel extends XLMPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class XLMForSequenceClassification extends XLMPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class XLMForTokenClassification extends XLMPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class XLMForQuestionAnswering extends XLMPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class XLMRobertaPreTrainedModel extends PreTrainedModel{}class XLMRobertaModel extends XLMRobertaPreTrainedModel{}class XLMRobertaForMaskedLM extends XLMRobertaPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class XLMRobertaForSequenceClassification extends XLMRobertaPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class XLMRobertaForTokenClassification extends XLMRobertaPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class XLMRobertaForQuestionAnswering extends XLMRobertaPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class ASTPreTrainedModel extends PreTrainedModel{}class ASTModel extends ASTPreTrainedModel{}class ASTForAudioClassification extends ASTPreTrainedModel{}class WhisperPreTrainedModel extends PreTrainedModel{}class WhisperModel extends WhisperPreTrainedModel{}class WhisperForConditionalGeneration extends WhisperPreTrainedModel{constructor(s,a,c,d){super(s,a);nn(this,"requires_attention_mask",!1);nn(this,"main_input_name","input_features");this.decoder_merged_session=c,this.generation_config=d,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}async generate(s,a=null,c=null){if(a=this._get_generation_config(a),a.return_timestamps??(a.return_timestamps=!1),a.return_timestamps&&(c=[new WhisperTimeStampLogitsProcessor(a)]),a.return_token_timestamps&&(a.output_attentions=!0,a.return_dict_in_generate=!0,a.task==="translate"&&console.warn("Token-level timestamps may not be reliable for task 'translate'."),!a.alignment_heads))throw new Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");const d=await super.generate(s,a,c);return a.return_token_timestamps&&a.alignment_heads&&(d.token_timestamps=this._extract_token_timestamps(d,a.alignment_heads,a.num_frames)),d}_extract_token_timestamps(s,a,c=null,d=.02){if(!s.cross_attentions)throw new Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");let g=this.config.median_filter_width;g===void 0&&(console.warn("Model config has no `median_filter_width`, using default value of 7."),g=7);const $=s.cross_attentions.map(et=>{let b=Array.from({length:this.config.decoder_layers},(st,ot)=>cat(et.map(at=>at[ot]),2)),h=stack(a.map(([st,ot])=>c?b[st].slice(null,ot,null,[0,c]):b[st].slice(null,ot)));h=h.transpose(1,0,2,3);let[_e,nt]=std_mean(h,-2,0,!0),rt=h.clone();for(let st=0;st<rt.dims[0];++st){let ot=rt[st];for(let at=0;at<ot.dims[0];++at){let ct=ot[at];const ut=_e[st][at][0],dt=nt[st][at][0];for(let ht=0;ht<ct.dims[0];++ht){let pt=ct[ht];for(let ft=0;ft<pt.data.length;++ft)pt.data[ft]=(pt.data[ft]-dt.data[ft])/ut.data[ft];pt.data.set(medianFilter(pt.data,g))}}}return mean(rt,1)}),j=[s.sequences.length,s.sequences[0].length],tt=new Tensor("float32",new Float32Array(j[0]*j[1]),j);for(let et=0;et<j[0];++et){const b=$[et].neg().squeeze_(0);let[h,_e]=dynamicTimeWarping(b),nt=Array.from({length:h.length-1},(st,ot)=>h[ot+1]-h[ot]),rt=mergeArrays([1],nt).map(st=>!!st),it=[];for(let st=0;st<rt.length;++st)rt[st]&&it.push(_e[st]*d);tt[et].data.set(it,1)}return tt}}class VisionEncoderDecoderModel extends PreTrainedModel{constructor(s,a,c,d){super(s,a);nn(this,"main_input_name","pixel_values");this.decoder_merged_session=c,this.generation_config=d;const g=this.config.encoder,$=this.config.decoder,j=g.model_type;(MODEL_MAPPING_NAMES_ENCODER_ONLY.get(j)??MODEL_MAPPING_NAMES_ENCODER_DECODER.get(j))||console.warn(`Model type for encoder '${j}' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.`);const et=MODEL_WITH_LM_HEAD_MAPPING_NAMES.get($.model_type);if(!et)throw new Error(`Unable to construct \`VisionEncoderDecoder\` due to unsupported decoder: "${this.config.decoder.model_type}"`);const b=et[1],h=new b($,c,d);this.add_encoder_pkv="num_decoder_layers"in h,this.add_encoder_pkv?(this.num_decoder_layers=h.num_decoder_layers,this.num_decoder_heads=h.num_decoder_heads,this.decoder_dim_kv=h.decoder_dim_kv,this.num_encoder_layers=h.num_encoder_layers,this.num_encoder_heads=h.num_encoder_heads,this.encoder_dim_kv=h.encoder_dim_kv):(this.num_layers=h.num_layers,this.num_heads=h.num_heads,this.dim_kv=h.dim_kv)}}class CLIPPreTrainedModel extends PreTrainedModel{}class CLIPModel extends CLIPPreTrainedModel{}class CLIPTextModelWithProjection extends CLIPPreTrainedModel{static async from_pretrained(e,s={}){return s.model_file_name??(s.model_file_name="text_model"),super.from_pretrained(e,s)}}class CLIPVisionModelWithProjection extends CLIPPreTrainedModel{static async from_pretrained(e,s={}){return s.model_file_name??(s.model_file_name="vision_model"),super.from_pretrained(e,s)}}class SiglipPreTrainedModel extends PreTrainedModel{}class SiglipModel extends SiglipPreTrainedModel{}class SiglipTextModel extends SiglipPreTrainedModel{static async from_pretrained(e,s={}){return s.model_file_name??(s.model_file_name="text_model"),super.from_pretrained(e,s)}}class SiglipVisionModel extends CLIPPreTrainedModel{static async from_pretrained(e,s={}){return s.model_file_name??(s.model_file_name="vision_model"),super.from_pretrained(e,s)}}class ChineseCLIPPreTrainedModel extends PreTrainedModel{}class ChineseCLIPModel extends ChineseCLIPPreTrainedModel{}class CLIPSegPreTrainedModel extends PreTrainedModel{}class CLIPSegModel extends CLIPSegPreTrainedModel{}class CLIPSegForImageSegmentation extends CLIPSegPreTrainedModel{}class GPT2PreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class GPT2Model extends GPT2PreTrainedModel{}class GPT2LMHeadModel extends GPT2PreTrainedModel{}class GPTNeoPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_heads,this.num_layers=this.config.num_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class GPTNeoModel extends GPTNeoPreTrainedModel{}class GPTNeoForCausalLM extends GPTNeoPreTrainedModel{}class GPTNeoXPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class GPTNeoXModel extends GPTNeoXPreTrainedModel{}class GPTNeoXForCausalLM extends GPTNeoXPreTrainedModel{}class GPTJPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class GPTJModel extends GPTJPreTrainedModel{}class GPTJForCausalLM extends GPTJPreTrainedModel{}class GPTBigCodePreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class GPTBigCodeModel extends GPTBigCodePreTrainedModel{}class GPTBigCodeForCausalLM extends GPTBigCodePreTrainedModel{}class CodeGenPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class CodeGenModel extends CodeGenPreTrainedModel{}class CodeGenForCausalLM extends CodeGenPreTrainedModel{}class LlamaPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads??this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class LlamaModel extends LlamaPreTrainedModel{}class LlamaForCausalLM extends LlamaPreTrainedModel{}class Qwen2PreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads??this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Qwen2Model extends Qwen2PreTrainedModel{}class Qwen2ForCausalLM extends Qwen2PreTrainedModel{}class PhiPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class PhiModel extends PhiPreTrainedModel{}class PhiForCausalLM extends PhiPreTrainedModel{}class BloomPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.hidden_size/this.num_heads}}class BloomModel extends BloomPreTrainedModel{}class BloomForCausalLM extends BloomPreTrainedModel{}class MptPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_heads,this.num_layers=this.config.n_layers,this.dim_kv=this.config.d_model/this.num_heads}}class MptModel extends MptPreTrainedModel{}class MptForCausalLM extends MptPreTrainedModel{}class OPTPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class OPTModel extends OPTPreTrainedModel{}class OPTForCausalLM extends OPTPreTrainedModel{}class ViTPreTrainedModel extends PreTrainedModel{}class ViTModel extends ViTPreTrainedModel{}class ViTForImageClassification extends ViTPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class FastViTPreTrainedModel extends PreTrainedModel{}class FastViTModel extends FastViTPreTrainedModel{}class FastViTForImageClassification extends FastViTPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class VitMattePreTrainedModel extends PreTrainedModel{}class VitMatteForImageMatting extends VitMattePreTrainedModel{async _call(e){return new ImageMattingOutput(await super._call(e))}}class MobileViTPreTrainedModel extends PreTrainedModel{}class MobileViTModel extends MobileViTPreTrainedModel{}class MobileViTForImageClassification extends MobileViTPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class MobileViTV2PreTrainedModel extends PreTrainedModel{}class MobileViTV2Model extends MobileViTV2PreTrainedModel{}class MobileViTV2ForImageClassification extends MobileViTV2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class OwlViTPreTrainedModel extends PreTrainedModel{}class OwlViTModel extends OwlViTPreTrainedModel{}class OwlViTForObjectDetection extends OwlViTPreTrainedModel{}class Owlv2PreTrainedModel extends PreTrainedModel{}class Owlv2Model extends Owlv2PreTrainedModel{}class Owlv2ForObjectDetection extends Owlv2PreTrainedModel{}class BeitPreTrainedModel extends PreTrainedModel{}class BeitModel extends BeitPreTrainedModel{}class BeitForImageClassification extends BeitPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class DetrPreTrainedModel extends PreTrainedModel{}class DetrModel extends DetrPreTrainedModel{}class DetrForObjectDetection extends DetrPreTrainedModel{async _call(e){return new DetrObjectDetectionOutput(await super._call(e))}}class DetrForSegmentation extends DetrPreTrainedModel{async _call(e){return new DetrSegmentationOutput(await super._call(e))}}class DetrObjectDetectionOutput extends ModelOutput{constructor({logits:e,pred_boxes:s}){super(),this.logits=e,this.pred_boxes=s}}class DetrSegmentationOutput extends ModelOutput{constructor({logits:e,pred_boxes:s,pred_masks:a}){super(),this.logits=e,this.pred_boxes=s,this.pred_masks=a}}class TableTransformerPreTrainedModel extends PreTrainedModel{}class TableTransformerModel extends TableTransformerPreTrainedModel{}class TableTransformerForObjectDetection extends TableTransformerPreTrainedModel{async _call(e){return new TableTransformerObjectDetectionOutput(await super._call(e))}}class TableTransformerObjectDetectionOutput extends DetrObjectDetectionOutput{}class DeiTPreTrainedModel extends PreTrainedModel{}class DeiTModel extends DeiTPreTrainedModel{}class DeiTForImageClassification extends DeiTPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class ResNetPreTrainedModel extends PreTrainedModel{}class ResNetModel extends ResNetPreTrainedModel{}class ResNetForImageClassification extends ResNetPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class SwinPreTrainedModel extends PreTrainedModel{}class SwinModel extends SwinPreTrainedModel{}class SwinForImageClassification extends SwinPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class Swin2SRPreTrainedModel extends PreTrainedModel{}class Swin2SRModel extends Swin2SRPreTrainedModel{}class Swin2SRForImageSuperResolution extends Swin2SRPreTrainedModel{}class DPTPreTrainedModel extends PreTrainedModel{}class DPTModel extends DPTPreTrainedModel{}class DPTForDepthEstimation extends DPTPreTrainedModel{}class DepthAnythingPreTrainedModel extends PreTrainedModel{}class DepthAnythingForDepthEstimation extends DepthAnythingPreTrainedModel{}class GLPNPreTrainedModel extends PreTrainedModel{}class GLPNModel extends GLPNPreTrainedModel{}class GLPNForDepthEstimation extends GLPNPreTrainedModel{}class DonutSwinPreTrainedModel extends PreTrainedModel{}class DonutSwinModel extends DonutSwinPreTrainedModel{}class ConvNextPreTrainedModel extends PreTrainedModel{}class ConvNextModel extends ConvNextPreTrainedModel{}class ConvNextForImageClassification extends ConvNextPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class ConvNextV2PreTrainedModel extends PreTrainedModel{}class ConvNextV2Model extends ConvNextV2PreTrainedModel{}class ConvNextV2ForImageClassification extends ConvNextV2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class Dinov2PreTrainedModel extends PreTrainedModel{}class Dinov2Model extends Dinov2PreTrainedModel{}class Dinov2ForImageClassification extends Dinov2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class YolosPreTrainedModel extends PreTrainedModel{}class YolosModel extends YolosPreTrainedModel{}class YolosForObjectDetection extends YolosPreTrainedModel{async _call(e){return new YolosObjectDetectionOutput(await super._call(e))}}class YolosObjectDetectionOutput extends ModelOutput{constructor({logits:e,pred_boxes:s}){super(),this.logits=e,this.pred_boxes=s}}class SamPreTrainedModel extends PreTrainedModel{}class SamModel extends SamPreTrainedModel{constructor(e,s,a){super(e,s),this.prompt_encoder_mask_decoder=a}async get_image_embeddings({pixel_values:e}){return await encoderForward(this,{pixel_values:e})}async forward(e){if((!e.image_embeddings||!e.image_positional_embeddings)&&(e={...e,...await this.get_image_embeddings(e)}),!e.input_labels){const s=e.input_points.dims.slice(0,-1),a=s.reduce((c,d)=>c*d,1);e.input_labels=new Tensor("int64",new BigInt64Array(a).fill(1n),s)}return await sessionRun(this.prompt_encoder_mask_decoder,{input_points:e.input_points,input_labels:e.input_labels,image_embeddings:e.image_embeddings,image_positional_embeddings:e.image_positional_embeddings})}async _call(e){return new SamImageSegmentationOutput(await super._call(e))}}class SamImageSegmentationOutput extends ModelOutput{constructor({iou_scores:e,pred_masks:s}){super(),this.iou_scores=e,this.pred_masks=s}}class MarianPreTrainedModel extends PreTrainedModel{}class MarianModel extends MarianPreTrainedModel{}class MarianMTModel extends MarianPreTrainedModel{constructor(e,s,a,c){super(e,s),this.decoder_merged_session=a,this.generation_config=c,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class M2M100PreTrainedModel extends PreTrainedModel{}class M2M100Model extends M2M100PreTrainedModel{}class M2M100ForConditionalGeneration extends M2M100PreTrainedModel{constructor(e,s,a,c){super(e,s),this.decoder_merged_session=a,this.generation_config=c,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class Wav2Vec2PreTrainedModel extends PreTrainedModel{}class Wav2Vec2Model extends Wav2Vec2PreTrainedModel{}class Wav2Vec2ForCTC extends Wav2Vec2PreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class Wav2Vec2ForSequenceClassification extends Wav2Vec2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class Wav2Vec2ForAudioFrameClassification extends Wav2Vec2PreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class UniSpeechPreTrainedModel extends PreTrainedModel{}class UniSpeechModel extends UniSpeechPreTrainedModel{}class UniSpeechForCTC extends UniSpeechPreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class UniSpeechForSequenceClassification extends UniSpeechPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class UniSpeechSatPreTrainedModel extends PreTrainedModel{}class UniSpeechSatModel extends UniSpeechSatPreTrainedModel{}class UniSpeechSatForCTC extends UniSpeechSatPreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class UniSpeechSatForSequenceClassification extends UniSpeechSatPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class UniSpeechSatForAudioFrameClassification extends UniSpeechSatPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class Wav2Vec2BertPreTrainedModel extends PreTrainedModel{}class Wav2Vec2BertModel extends Wav2Vec2BertPreTrainedModel{}class Wav2Vec2BertForCTC extends Wav2Vec2BertPreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class Wav2Vec2BertForSequenceClassification extends Wav2Vec2BertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class HubertModel extends Wav2Vec2PreTrainedModel{}class HubertForCTC extends Wav2Vec2PreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class HubertForSequenceClassification extends Wav2Vec2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class WavLMPreTrainedModel extends PreTrainedModel{}class WavLMModel extends WavLMPreTrainedModel{}class WavLMForCTC extends WavLMPreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class WavLMForSequenceClassification extends WavLMPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class WavLMForXVector extends WavLMPreTrainedModel{async _call(e){return new XVectorOutput(await super._call(e))}}class WavLMForAudioFrameClassification extends WavLMPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class SpeechT5PreTrainedModel extends PreTrainedModel{}class SpeechT5ForSpeechToText extends SpeechT5PreTrainedModel{}class SpeechT5ForTextToSpeech extends SpeechT5PreTrainedModel{constructor(e,s,a,c){super(e,s),this.decoder_merged_session=a,this.generation_config=c,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.hidden_size/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.hidden_size/this.num_encoder_heads}async generate_speech(e,s,{threshold:a=.5,minlenratio:c=0,maxlenratio:d=20,vocoder:g=null}={}){const $={input_ids:e},{encoder_outputs:j,encoder_attention_mask:tt}=await encoderForward(this,$),et=j.dims[1]/this.config.reduction_factor,b=Math.floor(et*d),h=Math.floor(et*c),_e=this.config.num_mel_bins;let nt=[],rt=null,it=null,st=0;for(;;){++st;const ct=boolTensor(!!it);let ut;it?ut=it.output_sequence_out:ut=new Tensor("float32",new Float32Array(_e),[1,1,_e]);let dt={use_cache_branch:ct,output_sequence:ut,encoder_attention_mask:tt,speaker_embeddings:s,encoder_hidden_states:j};this.addPastKeyValues(dt,rt),it=await sessionRun(this.decoder_merged_session,dt),rt=this.getPastKeyValues(it,rt);const{prob:ht,spectrum:pt}=it;if(nt.push(pt),st>=h&&(Array.from(ht.data).filter(ft=>ft>=a).length>0||st>=b))break}const ot=cat(nt),{waveform:at}=await sessionRun(g.session,{spectrogram:ot});return{spectrogram:ot,waveform:at}}}class SpeechT5HifiGan extends PreTrainedModel{constructor(){super(...arguments);nn(this,"main_input_name","spectrogram")}}class TrOCRPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_encoder_layers=this.num_decoder_layers=this.config.decoder_layers,this.num_encoder_heads=this.num_decoder_heads=this.config.decoder_attention_heads,this.encoder_dim_kv=this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads}}class TrOCRForCausalLM extends TrOCRPreTrainedModel{}class MistralPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class MistralModel extends MistralPreTrainedModel{}class MistralForCausalLM extends MistralPreTrainedModel{}class Starcoder2PreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Starcoder2Model extends Starcoder2PreTrainedModel{}class Starcoder2ForCausalLM extends Starcoder2PreTrainedModel{}class FalconPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class FalconModel extends FalconPreTrainedModel{}class FalconForCausalLM extends FalconPreTrainedModel{}class ClapPreTrainedModel extends PreTrainedModel{}class ClapModel extends ClapPreTrainedModel{}class ClapTextModelWithProjection extends ClapPreTrainedModel{static async from_pretrained(e,s={}){return s.model_file_name??(s.model_file_name="text_model"),super.from_pretrained(e,s)}}class ClapAudioModelWithProjection extends ClapPreTrainedModel{static async from_pretrained(e,s={}){return s.model_file_name??(s.model_file_name="audio_model"),super.from_pretrained(e,s)}}class VitsPreTrainedModel extends PreTrainedModel{}class VitsModel extends VitsPreTrainedModel{async _call(e){return new VitsModelOutput(await super._call(e))}}class SegformerPreTrainedModel extends PreTrainedModel{}class SegformerForImageClassification extends SegformerPreTrainedModel{}class SegformerForSemanticSegmentation extends SegformerPreTrainedModel{}class StableLmPreTrainedModel extends PreTrainedModel{constructor(e,s,a){super(e,s),this.generation_config=a,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class StableLmForCausalLM extends StableLmPreTrainedModel{}class EfficientNetPreTrainedModel extends PreTrainedModel{}class EfficientNetModel extends EfficientNetPreTrainedModel{}class EfficientNetForImageClassification extends EfficientNetPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class PretrainedMixin{static async from_pretrained(e,{quantized:s=!0,progress_callback:a=null,config:c=null,cache_dir:d=null,local_files_only:g=!1,revision:$="main",model_file_name:j=null}={}){let tt={quantized:s,progress_callback:a,config:c,cache_dir:d,local_files_only:g,revision:$,model_file_name:j};if(c=await AutoConfig.from_pretrained(e,tt),tt.config||(tt.config=c),!this.MODEL_CLASS_MAPPINGS)throw new Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);for(let et of this.MODEL_CLASS_MAPPINGS){const b=et.get(c.model_type);if(b)return await b[1].from_pretrained(e,tt)}if(this.BASE_IF_FAIL)return console.warn(`Unknown model class "${c.model_type}", attempting to construct from base class.`),await PreTrainedModel.from_pretrained(e,tt);throw Error(`Unsupported model type: ${c.model_type}`)}}nn(PretrainedMixin,"MODEL_CLASS_MAPPINGS",null),nn(PretrainedMixin,"BASE_IF_FAIL",!1);const MODEL_MAPPING_NAMES_ENCODER_ONLY=new Map([["bert",["BertModel",BertModel]],["nomic_bert",["NomicBertModel",NomicBertModel]],["roformer",["RoFormerModel",RoFormerModel]],["electra",["ElectraModel",ElectraModel]],["esm",["EsmModel",EsmModel]],["convbert",["ConvBertModel",ConvBertModel]],["camembert",["CamembertModel",CamembertModel]],["deberta",["DebertaModel",DebertaModel]],["deberta-v2",["DebertaV2Model",DebertaV2Model]],["mpnet",["MPNetModel",MPNetModel]],["albert",["AlbertModel",AlbertModel]],["distilbert",["DistilBertModel",DistilBertModel]],["roberta",["RobertaModel",RobertaModel]],["xlm",["XLMModel",XLMModel]],["xlm-roberta",["XLMRobertaModel",XLMRobertaModel]],["clap",["ClapModel",ClapModel]],["clip",["CLIPModel",CLIPModel]],["clipseg",["CLIPSegModel",CLIPSegModel]],["chinese_clip",["ChineseCLIPModel",ChineseCLIPModel]],["siglip",["SiglipModel",SiglipModel]],["mobilebert",["MobileBertModel",MobileBertModel]],["squeezebert",["SqueezeBertModel",SqueezeBertModel]],["wav2vec2",["Wav2Vec2Model",Wav2Vec2Model]],["wav2vec2-bert",["Wav2Vec2BertModel",Wav2Vec2BertModel]],["unispeech",["UniSpeechModel",UniSpeechModel]],["unispeech-sat",["UniSpeechSatModel",UniSpeechSatModel]],["hubert",["HubertModel",HubertModel]],["wavlm",["WavLMModel",WavLMModel]],["audio-spectrogram-transformer",["ASTModel",ASTModel]],["vits",["VitsModel",VitsModel]],["detr",["DetrModel",DetrModel]],["table-transformer",["TableTransformerModel",TableTransformerModel]],["vit",["ViTModel",ViTModel]],["fastvit",["FastViTModel",FastViTModel]],["mobilevit",["MobileViTModel",MobileViTModel]],["mobilevitv2",["MobileViTV2Model",MobileViTV2Model]],["owlvit",["OwlViTModel",OwlViTModel]],["owlv2",["Owlv2Model",Owlv2Model]],["beit",["BeitModel",BeitModel]],["deit",["DeiTModel",DeiTModel]],["convnext",["ConvNextModel",ConvNextModel]],["convnextv2",["ConvNextV2Model",ConvNextV2Model]],["dinov2",["Dinov2Model",Dinov2Model]],["resnet",["ResNetModel",ResNetModel]],["swin",["SwinModel",SwinModel]],["swin2sr",["Swin2SRModel",Swin2SRModel]],["donut-swin",["DonutSwinModel",DonutSwinModel]],["yolos",["YolosModel",YolosModel]],["dpt",["DPTModel",DPTModel]],["glpn",["GLPNModel",GLPNModel]],["hifigan",["SpeechT5HifiGan",SpeechT5HifiGan]],["efficientnet",["EfficientNetModel",EfficientNetModel]]]),MODEL_MAPPING_NAMES_ENCODER_DECODER=new Map([["t5",["T5Model",T5Model]],["longt5",["LongT5Model",LongT5Model]],["mt5",["MT5Model",MT5Model]],["bart",["BartModel",BartModel]],["mbart",["MBartModel",MBartModel]],["marian",["MarianModel",MarianModel]],["whisper",["WhisperModel",WhisperModel]],["m2m_100",["M2M100Model",M2M100Model]],["blenderbot",["BlenderbotModel",BlenderbotModel]],["blenderbot-small",["BlenderbotSmallModel",BlenderbotSmallModel]]]),MODEL_MAPPING_NAMES_DECODER_ONLY=new Map([["bloom",["BloomModel",BloomModel]],["gpt2",["GPT2Model",GPT2Model]],["gptj",["GPTJModel",GPTJModel]],["gpt_bigcode",["GPTBigCodeModel",GPTBigCodeModel]],["gpt_neo",["GPTNeoModel",GPTNeoModel]],["gpt_neox",["GPTNeoXModel",GPTNeoXModel]],["codegen",["CodeGenModel",CodeGenModel]],["llama",["LlamaModel",LlamaModel]],["qwen2",["Qwen2Model",Qwen2Model]],["phi",["PhiModel",PhiModel]],["mpt",["MptModel",MptModel]],["opt",["OPTModel",OPTModel]],["mistral",["MistralModel",MistralModel]],["starcoder2",["Starcoder2Model",Starcoder2Model]],["falcon",["FalconModel",FalconModel]]]),MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES=new Map([["speecht5",["SpeechT5ForSpeechToText",SpeechT5ForSpeechToText]],["whisper",["WhisperForConditionalGeneration",WhisperForConditionalGeneration]]]),MODEL_FOR_TEXT_TO_SPECTROGRAM_MAPPING_NAMES=new Map([["speecht5",["SpeechT5ForTextToSpeech",SpeechT5ForTextToSpeech]]]),MODEL_FOR_TEXT_TO_WAVEFORM_MAPPING_NAMES=new Map([["vits",["VitsModel",VitsModel]]]),MODEL_FOR_SEQUENCE_CLASSIFICATION_MAPPING_NAMES=new Map([["bert",["BertForSequenceClassification",BertForSequenceClassification]],["roformer",["RoFormerForSequenceClassification",RoFormerForSequenceClassification]],["electra",["ElectraForSequenceClassification",ElectraForSequenceClassification]],["esm",["EsmForSequenceClassification",EsmForSequenceClassification]],["convbert",["ConvBertForSequenceClassification",ConvBertForSequenceClassification]],["camembert",["CamembertForSequenceClassification",CamembertForSequenceClassification]],["deberta",["DebertaForSequenceClassification",DebertaForSequenceClassification]],["deberta-v2",["DebertaV2ForSequenceClassification",DebertaV2ForSequenceClassification]],["mpnet",["MPNetForSequenceClassification",MPNetForSequenceClassification]],["albert",["AlbertForSequenceClassification",AlbertForSequenceClassification]],["distilbert",["DistilBertForSequenceClassification",DistilBertForSequenceClassification]],["roberta",["RobertaForSequenceClassification",RobertaForSequenceClassification]],["xlm",["XLMForSequenceClassification",XLMForSequenceClassification]],["xlm-roberta",["XLMRobertaForSequenceClassification",XLMRobertaForSequenceClassification]],["bart",["BartForSequenceClassification",BartForSequenceClassification]],["mbart",["MBartForSequenceClassification",MBartForSequenceClassification]],["mobilebert",["MobileBertForSequenceClassification",MobileBertForSequenceClassification]],["squeezebert",["SqueezeBertForSequenceClassification",SqueezeBertForSequenceClassification]]]),MODEL_FOR_TOKEN_CLASSIFICATION_MAPPING_NAMES=new Map([["bert",["BertForTokenClassification",BertForTokenClassification]],["roformer",["RoFormerForTokenClassification",RoFormerForTokenClassification]],["electra",["ElectraForTokenClassification",ElectraForTokenClassification]],["esm",["EsmForTokenClassification",EsmForTokenClassification]],["convbert",["ConvBertForTokenClassification",ConvBertForTokenClassification]],["camembert",["CamembertForTokenClassification",CamembertForTokenClassification]],["deberta",["DebertaForTokenClassification",DebertaForTokenClassification]],["deberta-v2",["DebertaV2ForTokenClassification",DebertaV2ForTokenClassification]],["mpnet",["MPNetForTokenClassification",MPNetForTokenClassification]],["distilbert",["DistilBertForTokenClassification",DistilBertForTokenClassification]],["roberta",["RobertaForTokenClassification",RobertaForTokenClassification]],["xlm",["XLMForTokenClassification",XLMForTokenClassification]],["xlm-roberta",["XLMRobertaForTokenClassification",XLMRobertaForTokenClassification]]]),MODEL_FOR_SEQ_TO_SEQ_CAUSAL_LM_MAPPING_NAMES=new Map([["t5",["T5ForConditionalGeneration",T5ForConditionalGeneration]],["longt5",["LongT5ForConditionalGeneration",LongT5ForConditionalGeneration]],["mt5",["MT5ForConditionalGeneration",MT5ForConditionalGeneration]],["bart",["BartForConditionalGeneration",BartForConditionalGeneration]],["mbart",["MBartForConditionalGeneration",MBartForConditionalGeneration]],["marian",["MarianMTModel",MarianMTModel]],["m2m_100",["M2M100ForConditionalGeneration",M2M100ForConditionalGeneration]],["blenderbot",["BlenderbotForConditionalGeneration",BlenderbotForConditionalGeneration]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",BlenderbotSmallForConditionalGeneration]]]),MODEL_WITH_LM_HEAD_MAPPING_NAMES=new Map([["bloom",["BloomForCausalLM",BloomForCausalLM]],["gpt2",["GPT2LMHeadModel",GPT2LMHeadModel]],["gptj",["GPTJForCausalLM",GPTJForCausalLM]],["gpt_bigcode",["GPTBigCodeForCausalLM",GPTBigCodeForCausalLM]],["gpt_neo",["GPTNeoForCausalLM",GPTNeoForCausalLM]],["gpt_neox",["GPTNeoXForCausalLM",GPTNeoXForCausalLM]],["codegen",["CodeGenForCausalLM",CodeGenForCausalLM]],["llama",["LlamaForCausalLM",LlamaForCausalLM]],["qwen2",["Qwen2ForCausalLM",Qwen2ForCausalLM]],["phi",["PhiForCausalLM",PhiForCausalLM]],["mpt",["MptForCausalLM",MptForCausalLM]],["opt",["OPTForCausalLM",OPTForCausalLM]],["mbart",["MBartForCausalLM",MBartForCausalLM]],["mistral",["MistralForCausalLM",MistralForCausalLM]],["starcoder2",["Starcoder2ForCausalLM",Starcoder2ForCausalLM]],["falcon",["FalconForCausalLM",FalconForCausalLM]],["trocr",["TrOCRForCausalLM",TrOCRForCausalLM]],["stablelm",["StableLmForCausalLM",StableLmForCausalLM]]]),MODEL_FOR_MASKED_LM_MAPPING_NAMES=new Map([["bert",["BertForMaskedLM",BertForMaskedLM]],["roformer",["RoFormerForMaskedLM",RoFormerForMaskedLM]],["electra",["ElectraForMaskedLM",ElectraForMaskedLM]],["esm",["EsmForMaskedLM",EsmForMaskedLM]],["convbert",["ConvBertForMaskedLM",ConvBertForMaskedLM]],["camembert",["CamembertForMaskedLM",CamembertForMaskedLM]],["deberta",["DebertaForMaskedLM",DebertaForMaskedLM]],["deberta-v2",["DebertaV2ForMaskedLM",DebertaV2ForMaskedLM]],["mpnet",["MPNetForMaskedLM",MPNetForMaskedLM]],["albert",["AlbertForMaskedLM",AlbertForMaskedLM]],["distilbert",["DistilBertForMaskedLM",DistilBertForMaskedLM]],["roberta",["RobertaForMaskedLM",RobertaForMaskedLM]],["xlm",["XLMWithLMHeadModel",XLMWithLMHeadModel]],["xlm-roberta",["XLMRobertaForMaskedLM",XLMRobertaForMaskedLM]],["mobilebert",["MobileBertForMaskedLM",MobileBertForMaskedLM]],["squeezebert",["SqueezeBertForMaskedLM",SqueezeBertForMaskedLM]]]),MODEL_FOR_QUESTION_ANSWERING_MAPPING_NAMES=new Map([["bert",["BertForQuestionAnswering",BertForQuestionAnswering]],["roformer",["RoFormerForQuestionAnswering",RoFormerForQuestionAnswering]],["electra",["ElectraForQuestionAnswering",ElectraForQuestionAnswering]],["convbert",["ConvBertForQuestionAnswering",ConvBertForQuestionAnswering]],["camembert",["CamembertForQuestionAnswering",CamembertForQuestionAnswering]],["deberta",["DebertaForQuestionAnswering",DebertaForQuestionAnswering]],["deberta-v2",["DebertaV2ForQuestionAnswering",DebertaV2ForQuestionAnswering]],["mpnet",["MPNetForQuestionAnswering",MPNetForQuestionAnswering]],["albert",["AlbertForQuestionAnswering",AlbertForQuestionAnswering]],["distilbert",["DistilBertForQuestionAnswering",DistilBertForQuestionAnswering]],["roberta",["RobertaForQuestionAnswering",RobertaForQuestionAnswering]],["xlm",["XLMForQuestionAnswering",XLMForQuestionAnswering]],["xlm-roberta",["XLMRobertaForQuestionAnswering",XLMRobertaForQuestionAnswering]],["mobilebert",["MobileBertForQuestionAnswering",MobileBertForQuestionAnswering]],["squeezebert",["SqueezeBertForQuestionAnswering",SqueezeBertForQuestionAnswering]]]),MODEL_FOR_VISION_2_SEQ_MAPPING_NAMES=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",VisionEncoderDecoderModel]]]),MODEL_FOR_DOCUMENT_QUESTION_ANSWERING_MAPPING_NAMES=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",VisionEncoderDecoderModel]]]),MODEL_FOR_IMAGE_CLASSIFICATION_MAPPING_NAMES=new Map([["vit",["ViTForImageClassification",ViTForImageClassification]],["fastvit",["FastViTForImageClassification",FastViTForImageClassification]],["mobilevit",["MobileViTForImageClassification",MobileViTForImageClassification]],["mobilevitv2",["MobileViTV2ForImageClassification",MobileViTV2ForImageClassification]],["beit",["BeitForImageClassification",BeitForImageClassification]],["deit",["DeiTForImageClassification",DeiTForImageClassification]],["convnext",["ConvNextForImageClassification",ConvNextForImageClassification]],["convnextv2",["ConvNextV2ForImageClassification",ConvNextV2ForImageClassification]],["dinov2",["Dinov2ForImageClassification",Dinov2ForImageClassification]],["resnet",["ResNetForImageClassification",ResNetForImageClassification]],["swin",["SwinForImageClassification",SwinForImageClassification]],["segformer",["SegformerForImageClassification",SegformerForImageClassification]],["efficientnet",["EfficientNetForImageClassification",EfficientNetForImageClassification]]]),MODEL_FOR_OBJECT_DETECTION_MAPPING_NAMES=new Map([["detr",["DetrForObjectDetection",DetrForObjectDetection]],["table-transformer",["TableTransformerForObjectDetection",TableTransformerForObjectDetection]],["yolos",["YolosForObjectDetection",YolosForObjectDetection]]]),MODEL_FOR_ZERO_SHOT_OBJECT_DETECTION_MAPPING_NAMES=new Map([["owlvit",["OwlViTForObjectDetection",OwlViTForObjectDetection]],["owlv2",["Owlv2ForObjectDetection",Owlv2ForObjectDetection]]]),MODEL_FOR_IMAGE_SEGMENTATION_MAPPING_NAMES=new Map([["detr",["DetrForSegmentation",DetrForSegmentation]],["clipseg",["CLIPSegForImageSegmentation",CLIPSegForImageSegmentation]]]),MODEL_FOR_SEMANTIC_SEGMENTATION_MAPPING_NAMES=new Map([["segformer",["SegformerForSemanticSegmentation",SegformerForSemanticSegmentation]]]),MODEL_FOR_MASK_GENERATION_MAPPING_NAMES=new Map([["sam",["SamModel",SamModel]]]),MODEL_FOR_CTC_MAPPING_NAMES=new Map([["wav2vec2",["Wav2Vec2ForCTC",Wav2Vec2ForCTC]],["wav2vec2-bert",["Wav2Vec2BertForCTC",Wav2Vec2BertForCTC]],["unispeech",["UniSpeechForCTC",UniSpeechForCTC]],["unispeech-sat",["UniSpeechSatForCTC",UniSpeechSatForCTC]],["wavlm",["WavLMForCTC",WavLMForCTC]],["hubert",["HubertForCTC",HubertForCTC]]]),MODEL_FOR_AUDIO_CLASSIFICATION_MAPPING_NAMES=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",Wav2Vec2ForSequenceClassification]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",Wav2Vec2BertForSequenceClassification]],["unispeech",["UniSpeechForSequenceClassification",UniSpeechForSequenceClassification]],["unispeech-sat",["UniSpeechSatForSequenceClassification",UniSpeechSatForSequenceClassification]],["wavlm",["WavLMForSequenceClassification",WavLMForSequenceClassification]],["hubert",["HubertForSequenceClassification",HubertForSequenceClassification]],["audio-spectrogram-transformer",["ASTForAudioClassification",ASTForAudioClassification]]]),MODEL_FOR_AUDIO_XVECTOR_MAPPING_NAMES=new Map([["wavlm",["WavLMForXVector",WavLMForXVector]]]),MODEL_FOR_AUDIO_FRAME_CLASSIFICATION_MAPPING_NAMES=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",UniSpeechSatForAudioFrameClassification]],["wavlm",["WavLMForAudioFrameClassification",WavLMForAudioFrameClassification]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",Wav2Vec2ForAudioFrameClassification]]]),MODEL_FOR_IMAGE_MATTING_MAPPING_NAMES=new Map([["vitmatte",["VitMatteForImageMatting",VitMatteForImageMatting]]]),MODEL_FOR_IMAGE_TO_IMAGE_MAPPING_NAMES=new Map([["swin2sr",["Swin2SRForImageSuperResolution",Swin2SRForImageSuperResolution]]]),MODEL_FOR_DEPTH_ESTIMATION_MAPPING_NAMES=new Map([["dpt",["DPTForDepthEstimation",DPTForDepthEstimation]],["depth_anything",["DepthAnythingForDepthEstimation",DepthAnythingForDepthEstimation]],["glpn",["GLPNForDepthEstimation",GLPNForDepthEstimation]]]),MODEL_FOR_IMAGE_FEATURE_EXTRACTION_MAPPING_NAMES=new Map([["clip",["CLIPVisionModelWithProjection",CLIPVisionModelWithProjection]],["siglip",["SiglipVisionModel",SiglipVisionModel]]]),MODEL_CLASS_TYPE_MAPPING=[[MODEL_MAPPING_NAMES_ENCODER_ONLY,MODEL_TYPES.EncoderOnly],[MODEL_MAPPING_NAMES_ENCODER_DECODER,MODEL_TYPES.EncoderDecoder],[MODEL_MAPPING_NAMES_DECODER_ONLY,MODEL_TYPES.DecoderOnly],[MODEL_FOR_SEQUENCE_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_TOKEN_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_SEQ_TO_SEQ_CAUSAL_LM_MAPPING_NAMES,MODEL_TYPES.Seq2Seq],[MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES,MODEL_TYPES.Seq2Seq],[MODEL_WITH_LM_HEAD_MAPPING_NAMES,MODEL_TYPES.DecoderOnly],[MODEL_FOR_MASKED_LM_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_QUESTION_ANSWERING_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_VISION_2_SEQ_MAPPING_NAMES,MODEL_TYPES.Vision2Seq],[MODEL_FOR_IMAGE_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_SEGMENTATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_SEMANTIC_SEGMENTATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_MATTING_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_TO_IMAGE_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_DEPTH_ESTIMATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_OBJECT_DETECTION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_ZERO_SHOT_OBJECT_DETECTION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_MASK_GENERATION_MAPPING_NAMES,MODEL_TYPES.MaskGeneration],[MODEL_FOR_CTC_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_AUDIO_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_TEXT_TO_SPECTROGRAM_MAPPING_NAMES,MODEL_TYPES.Seq2Seq],[MODEL_FOR_TEXT_TO_WAVEFORM_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_AUDIO_XVECTOR_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_AUDIO_FRAME_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_FEATURE_EXTRACTION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly]];for(const[o,e]of MODEL_CLASS_TYPE_MAPPING)for(const[s,a]of o.values())MODEL_TYPE_MAPPING.set(s,e),MODEL_CLASS_TO_NAME_MAPPING.set(a,s),MODEL_NAME_TO_CLASS_MAPPING.set(s,a);const CUSTOM_MAPPING=[["CLIPTextModelWithProjection",CLIPTextModelWithProjection,MODEL_TYPES.EncoderOnly],["SiglipTextModel",SiglipTextModel,MODEL_TYPES.EncoderOnly],["ClapTextModelWithProjection",ClapTextModelWithProjection,MODEL_TYPES.EncoderOnly],["ClapAudioModelWithProjection",ClapAudioModelWithProjection,MODEL_TYPES.EncoderOnly]];for(const[o,e,s]of CUSTOM_MAPPING)MODEL_TYPE_MAPPING.set(o,s),MODEL_CLASS_TO_NAME_MAPPING.set(e,o),MODEL_NAME_TO_CLASS_MAPPING.set(o,e);class AutoModel extends PretrainedMixin{}nn(AutoModel,"MODEL_CLASS_MAPPINGS",MODEL_CLASS_TYPE_MAPPING.map(e=>e[0])),nn(AutoModel,"BASE_IF_FAIL",!0);class AutoModelForSequenceClassification extends PretrainedMixin{}nn(AutoModelForSequenceClassification,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_SEQUENCE_CLASSIFICATION_MAPPING_NAMES]);class AutoModelForTokenClassification extends PretrainedMixin{}nn(AutoModelForTokenClassification,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_TOKEN_CLASSIFICATION_MAPPING_NAMES]);class AutoModelForSeq2SeqLM extends PretrainedMixin{}nn(AutoModelForSeq2SeqLM,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_SEQ_TO_SEQ_CAUSAL_LM_MAPPING_NAMES]);class AutoModelForSpeechSeq2Seq extends PretrainedMixin{}nn(AutoModelForSpeechSeq2Seq,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES]);class AutoModelForTextToSpectrogram extends PretrainedMixin{}nn(AutoModelForTextToSpectrogram,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_TEXT_TO_SPECTROGRAM_MAPPING_NAMES]);class AutoModelForTextToWaveform extends PretrainedMixin{}nn(AutoModelForTextToWaveform,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_TEXT_TO_WAVEFORM_MAPPING_NAMES]);class AutoModelForCausalLM extends PretrainedMixin{}nn(AutoModelForCausalLM,"MODEL_CLASS_MAPPINGS",[MODEL_WITH_LM_HEAD_MAPPING_NAMES]);class AutoModelForMaskedLM extends PretrainedMixin{}nn(AutoModelForMaskedLM,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_MASKED_LM_MAPPING_NAMES]);class AutoModelForQuestionAnswering extends PretrainedMixin{}nn(AutoModelForQuestionAnswering,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_QUESTION_ANSWERING_MAPPING_NAMES]);class AutoModelForVision2Seq extends PretrainedMixin{}nn(AutoModelForVision2Seq,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_VISION_2_SEQ_MAPPING_NAMES]);class AutoModelForImageClassification extends PretrainedMixin{}nn(AutoModelForImageClassification,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_IMAGE_CLASSIFICATION_MAPPING_NAMES]);class AutoModelForImageSegmentation extends PretrainedMixin{}nn(AutoModelForImageSegmentation,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_IMAGE_SEGMENTATION_MAPPING_NAMES]);class AutoModelForSemanticSegmentation extends PretrainedMixin{}nn(AutoModelForSemanticSegmentation,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_SEMANTIC_SEGMENTATION_MAPPING_NAMES]);class AutoModelForObjectDetection extends PretrainedMixin{}nn(AutoModelForObjectDetection,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_OBJECT_DETECTION_MAPPING_NAMES]);class AutoModelForZeroShotObjectDetection extends PretrainedMixin{}nn(AutoModelForZeroShotObjectDetection,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_ZERO_SHOT_OBJECT_DETECTION_MAPPING_NAMES]);class AutoModelForCTC extends PretrainedMixin{}nn(AutoModelForCTC,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_CTC_MAPPING_NAMES]);class AutoModelForAudioClassification extends PretrainedMixin{}nn(AutoModelForAudioClassification,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_AUDIO_CLASSIFICATION_MAPPING_NAMES]);class AutoModelForDocumentQuestionAnswering extends PretrainedMixin{}nn(AutoModelForDocumentQuestionAnswering,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_DOCUMENT_QUESTION_ANSWERING_MAPPING_NAMES]);class AutoModelForImageToImage extends PretrainedMixin{}nn(AutoModelForImageToImage,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_IMAGE_TO_IMAGE_MAPPING_NAMES]);class AutoModelForDepthEstimation extends PretrainedMixin{}nn(AutoModelForDepthEstimation,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_DEPTH_ESTIMATION_MAPPING_NAMES]);class AutoModelForImageFeatureExtraction extends PretrainedMixin{}nn(AutoModelForImageFeatureExtraction,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_IMAGE_FEATURE_EXTRACTION_MAPPING_NAMES]);class Seq2SeqLMOutput extends ModelOutput{constructor({logits:e,past_key_values:s,encoder_outputs:a,decoder_attentions:c=null,cross_attentions:d=null}){super(),this.logits=e,this.past_key_values=s,this.encoder_outputs=a,this.decoder_attentions=c,this.cross_attentions=d}}class SequenceClassifierOutput extends ModelOutput{constructor({logits:e}){super(),this.logits=e}}class XVectorOutput extends ModelOutput{constructor({logits:e,embeddings:s}){super(),this.logits=e,this.embeddings=s}}class TokenClassifierOutput extends ModelOutput{constructor({logits:e}){super(),this.logits=e}}class MaskedLMOutput extends ModelOutput{constructor({logits:e}){super(),this.logits=e}}class QuestionAnsweringModelOutput extends ModelOutput{constructor({start_logits:e,end_logits:s}){super(),this.start_logits=e,this.end_logits=s}}class CausalLMOutput extends ModelOutput{constructor({logits:e}){super(),this.logits=e}}class ImageMattingOutput extends ModelOutput{constructor({alphas:e}){super(),this.alphas=e}}class VitsModelOutput extends ModelOutput{constructor({waveform:e,spectrogram:s}){super(),this.waveform=e,this.spectrogram=s}}const BROWSER_ENV=typeof self<"u",WEBWORKER_ENV=BROWSER_ENV&&self.constructor.name==="DedicatedWorkerGlobalScope";let createCanvasFunction,ImageDataClass,loadImageFunction;if(BROWSER_ENV)createCanvasFunction=(o,e)=>{if(!self.OffscreenCanvas)throw new Error("OffscreenCanvas not supported by this browser.");return new self.OffscreenCanvas(o,e)},loadImageFunction=self.createImageBitmap,ImageDataClass=self.ImageData;else if(sharp)loadImageFunction=async o=>{const s=(await o.metadata()).channels;let{data:a,info:c}=await o.rotate().raw().toBuffer({resolveWithObject:!0});const d=new RawImage(new Uint8ClampedArray(a),c.width,c.height,c.channels);return s!==void 0&&s!==c.channels&&d.convert(s),d};else throw new Error("Unable to load image processing library.");const RESAMPLING_MAPPING={0:"nearest",1:"lanczos",2:"bilinear",3:"bicubic",4:"box",5:"hamming"},CONTENT_TYPE_MAP=new Map([["png","image/png"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["gif","image/gif"]]);class RawImage{constructor(e,s,a,c){this.data=e,this.width=s,this.height=a,this.channels=c}get size(){return[this.width,this.height]}static async read(e){if(e instanceof RawImage)return e;if(typeof e=="string"||e instanceof URL)return await this.fromURL(e);throw new Error(`Unsupported input type: ${typeof e}`)}static async fromURL(e){let s=await getFile(e);if(s.status!==200)throw new Error(`Unable to read image from "${e}" (${s.status} ${s.statusText})`);let a=await s.blob();return this.fromBlob(a)}static async fromBlob(e){if(BROWSER_ENV){let s=await loadImageFunction(e);const a=createCanvasFunction(s.width,s.height).getContext("2d");return a.drawImage(s,0,0),new this(a.getImageData(0,0,s.width,s.height).data,s.width,s.height,4)}else{let s=sharp(await e.arrayBuffer());return await loadImageFunction(s)}}static fromTensor(e,s="CHW"){if(e.dims.length!==3)throw new Error(`Tensor should have 3 dimensions, but has ${e.dims.length} dimensions.`);if(s==="CHW")e=e.transpose(1,2,0);else if(s!=="HWC")throw new Error(`Unsupported channel format: ${s}`);if(!(e.data instanceof Uint8ClampedArray||e.data instanceof Uint8Array))throw new Error(`Unsupported tensor type: ${e.type}`);switch(e.dims[2]){case 1:case 2:case 3:case 4:return new RawImage(e.data,e.dims[1],e.dims[0],e.dims[2]);default:throw new Error(`Unsupported number of channels: ${e.dims[2]}`)}}grayscale(){if(this.channels===1)return this;let e=new Uint8ClampedArray(this.width*this.height*1);switch(this.channels){case 3:case 4:for(let s=0,a=0;s<this.data.length;s+=this.channels){const c=this.data[s],d=this.data[s+1],g=this.data[s+2];e[a++]=Math.round(.2989*c+.587*d+.114*g)}break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,1)}rgb(){if(this.channels===3)return this;let e=new Uint8ClampedArray(this.width*this.height*3);switch(this.channels){case 1:for(let s=0,a=0;s<this.data.length;++s)e[a++]=this.data[s],e[a++]=this.data[s],e[a++]=this.data[s];break;case 4:for(let s=0,a=0;s<this.data.length;s+=4)e[a++]=this.data[s],e[a++]=this.data[s+1],e[a++]=this.data[s+2];break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,3)}rgba(){if(this.channels===4)return this;let e=new Uint8ClampedArray(this.width*this.height*4);switch(this.channels){case 1:for(let s=0,a=0;s<this.data.length;++s)e[a++]=this.data[s],e[a++]=this.data[s],e[a++]=this.data[s],e[a++]=255;break;case 3:for(let s=0,a=0;s<this.data.length;s+=3)e[a++]=this.data[s],e[a++]=this.data[s+1],e[a++]=this.data[s+2],e[a++]=255;break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,4)}async resize(e,s,{resample:a=2}={}){let c=RESAMPLING_MAPPING[a]??a;if(BROWSER_ENV){let d=this.channels,g=this.toCanvas();const $=createCanvasFunction(e,s).getContext("2d");return $.drawImage(g,0,0,e,s),new RawImage($.getImageData(0,0,e,s).data,e,s,4).convert(d)}else{let d=this.toSharp();switch(c){case"box":case"hamming":(c==="box"||c==="hamming")&&(console.warn(`Resampling method ${c} is not yet supported. Using bilinear instead.`),c="bilinear");case"nearest":case"bilinear":case"bicubic":d=d.affine([e/this.width,0,0,s/this.height],{interpolator:c});break;case"lanczos":d=d.resize({width:e,height:s,fit:"fill",kernel:"lanczos3"});break;default:throw new Error(`Resampling method ${c} is not supported.`)}return await loadImageFunction(d)}}async pad([e,s,a,c]){if(e=Math.max(e,0),s=Math.max(s,0),a=Math.max(a,0),c=Math.max(c,0),e===0&&s===0&&a===0&&c===0)return this;if(BROWSER_ENV){let d=this.channels,g=this.toCanvas(),$=this.width+e+s,j=this.height+a+c;const tt=createCanvasFunction($,j).getContext("2d");return tt.drawImage(g,0,0,this.width,this.height,e,a,$,j),new RawImage(tt.getImageData(0,0,$,j).data,$,j,4).convert(d)}else{let d=this.toSharp().extend({left:e,right:s,top:a,bottom:c});return await loadImageFunction(d)}}async crop([e,s,a,c]){if(e=Math.max(e,0),s=Math.max(s,0),a=Math.min(a,this.width-1),c=Math.min(c,this.height-1),e===0&&s===0&&a===this.width-1&&c===this.height-1)return this;const d=a-e+1,g=c-s+1;if(BROWSER_ENV){const $=this.channels,j=this.toCanvas(),tt=createCanvasFunction(d,g).getContext("2d");return tt.drawImage(j,e,s,d,g,0,0,d,g),new RawImage(tt.getImageData(0,0,d,g).data,d,g,4).convert($)}else{const $=this.toSharp().extract({left:e,top:s,width:d,height:g});return await loadImageFunction($)}}async center_crop(e,s){if(this.width===e&&this.height===s)return this;let a=(this.width-e)/2,c=(this.height-s)/2;if(BROWSER_ENV){let d=this.channels,g=this.toCanvas();const $=createCanvasFunction(e,s).getContext("2d");let j=0,tt=0,et=0,b=0;return a>=0?j=a:et=-a,c>=0?tt=c:b=-c,$.drawImage(g,j,tt,e,s,et,b,e,s),new RawImage($.getImageData(0,0,e,s).data,e,s,4).convert(d)}else{let d=this.toSharp();if(a>=0&&c>=0)d=d.extract({left:Math.floor(a),top:Math.floor(c),width:e,height:s});else if(a<=0&&c<=0){let g=Math.floor(-c),$=Math.floor(-a);d=d.extend({top:g,left:$,right:e-this.width-$,bottom:s-this.height-g})}else{let g=[0,0],$=0;c<0?(g[0]=Math.floor(-c),g[1]=s-this.height-g[0]):$=Math.floor(c);let j=[0,0],tt=0;a<0?(j[0]=Math.floor(-a),j[1]=e-this.width-j[0]):tt=Math.floor(a),d=d.extend({top:g[0],bottom:g[1],left:j[0],right:j[1]}).extract({left:tt,top:$,width:e,height:s})}return await loadImageFunction(d)}}async toBlob(e="image/png",s=1){if(!BROWSER_ENV)throw new Error("toBlob() is only supported in browser environments.");return await this.toCanvas().convertToBlob({type:e,quality:s})}toTensor(e="CHW"){let s=new Tensor("uint8",new Uint8Array(this.data),[this.height,this.width,this.channels]);if(e!=="HWC")if(e==="CHW")s=s.permute(2,0,1);else throw new Error(`Unsupported channel format: ${e}`);return s}toCanvas(){if(!BROWSER_ENV)throw new Error("toCanvas() is only supported in browser environments.");let e=this.clone().rgba(),s=createCanvasFunction(e.width,e.height),a=new ImageDataClass(e.data,e.width,e.height);return s.getContext("2d").putImageData(a,0,0),s}_update(e,s,a,c=null){return this.data=e,this.width=s,this.height=a,c!==null&&(this.channels=c),this}clone(){return new RawImage(this.data.slice(),this.width,this.height,this.channels)}convert(e){if(this.channels===e)return this;switch(e){case 1:this.grayscale();break;case 3:this.rgb();break;case 4:this.rgba();break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this}async save(e){if(BROWSER_ENV){if(WEBWORKER_ENV)throw new Error("Unable to save an image from a Web Worker.");const s=e.split(".").pop().toLowerCase(),a=CONTENT_TYPE_MAP.get(s)??"image/png",c=await this.toBlob(a),d=URL.createObjectURL(c),g=document.createElement("a");g.href=d,g.download=e,g.click(),g.remove()}else{if(env$1.useFS)return await this.toSharp().toFile(e);throw new Error("Unable to save the image because filesystem is disabled in this environment.")}}toSharp(){if(BROWSER_ENV)throw new Error("toSharp() is only supported in server-side environments.");return sharp(this.data,{raw:{width:this.width,height:this.height,channels:this.channels}})}}async function read_audio(o,e){if(typeof AudioContext>"u")throw Error("Unable to load audio from path/URL since `AudioContext` is not available in your environment. Instead, audio data should be passed directly to the pipeline/processor. For more information and some example code, see https://huggingface.co/docs/transformers.js/guides/node-audio-processing.");const s=await(await getFile(o)).arrayBuffer(),a=new AudioContext({sampleRate:e});typeof e>"u"&&console.warn(`No sampling rate provided, using default of ${a.sampleRate}Hz.`);const c=await a.decodeAudioData(s);let d;if(c.numberOfChannels===2){const g=Math.sqrt(2),$=c.getChannelData(0),j=c.getChannelData(1);d=new Float32Array($.length);for(let tt=0;tt<c.length;++tt)d[tt]=g*($[tt]+j[tt])/2}else d=c.getChannelData(0);return d}function hanning(o){if(o<1)return new Float64Array;if(o===1)return new Float64Array([1]);const e=o-1,s=Math.PI/e,a=new Float64Array(o);for(let c=0;c<o;++c){const d=2*c-e;a[c]=.5+.5*Math.cos(s*d)}return a}const HERTZ_TO_MEL_MAPPING={htk:o=>2595*Math.log10(1+o/700),kaldi:o=>1127*Math.log(1+o/700),slaney:(o,e=1e3,s=15,a=27/Math.log(6.4))=>o>=e?s+Math.log(o/e)*a:3*o/200};function hertz_to_mel(o,e="htk"){const s=HERTZ_TO_MEL_MAPPING[e];if(!s)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return typeof o=="number"?s(o):o.map(a=>s(a))}const MEL_TO_HERTZ_MAPPING={htk:o=>700*(10**(o/2595)-1),kaldi:o=>700*(Math.exp(o/1127)-1),slaney:(o,e=1e3,s=15,a=Math.log(6.4)/27)=>o>=s?e*Math.exp(a*(o-s)):200*o/3};function mel_to_hertz(o,e="htk"){const s=MEL_TO_HERTZ_MAPPING[e];if(!s)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return typeof o=="number"?s(o):o.map(a=>s(a))}function _create_triangular_filter_bank(o,e){const s=Float64Array.from({length:e.length-1},(g,$)=>e[$+1]-e[$]),a=Array.from({length:o.length},()=>new Array(e.length));for(let g=0;g<o.length;++g){const $=a[g];for(let j=0;j<e.length;++j)$[j]=e[j]-o[g]}const c=e.length-2,d=Array.from({length:c},()=>new Array(o.length));for(let g=0;g<o.length;++g){const $=a[g];for(let j=0;j<c;++j){const tt=-$[j]/s[j],et=$[j+2]/s[j+1];d[j][g]=Math.max(0,Math.min(tt,et))}}return d}function linspace(o,e,s){const a=(e-o)/(s-1);return Float64Array.from({length:s},(c,d)=>o+a*d)}function mel_filter_bank(o,e,s,a,c,d=null,g="htk",$=!1){if(d!==null&&d!=="slaney")throw new Error('norm must be one of null or "slaney"');const j=hertz_to_mel(s,g),tt=hertz_to_mel(a,g),et=linspace(j,tt,e+2);let b=mel_to_hertz(et,g),h;if($){const nt=c/(o*2);h=hertz_to_mel(Float64Array.from({length:o},(rt,it)=>it*nt),g),b=et}else h=linspace(0,Math.floor(c/2),o);const _e=_create_triangular_filter_bank(h,b);if(d!==null&&d==="slaney")for(let nt=0;nt<e;++nt){const rt=_e[nt],it=2/(b[nt+2]-b[nt]);for(let st=0;st<o;++st)rt[st]*=it}return _e}function padReflect(o,e,s){const a=new o.constructor(o.length+e+s),c=o.length-1;for(let d=0;d<o.length;++d)a[e+d]=o[d];for(let d=1;d<=e;++d)a[e-d]=o[calculateReflectOffset(d,c)];for(let d=1;d<=s;++d)a[c+e+d]=o[calculateReflectOffset(c-d,c)];return a}function _db_conversion_helper(o,e,s,a,c){if(s<=0)throw new Error("reference must be greater than zero");if(a<=0)throw new Error("min_value must be greater than zero");s=Math.max(a,s);const d=Math.log10(s);for(let g=0;g<o.length;++g)o[g]=e*Math.log10(Math.max(a,o[g])-d);if(c!==null){if(c<=0)throw new Error("db_range must be greater than zero");const g=max(o)[0]-c;for(let $=0;$<o.length;++$)o[$]=Math.max(o[$],g)}return o}function amplitude_to_db(o,e=1,s=1e-5,a=null){return _db_conversion_helper(o,20,e,s,a)}function power_to_db(o,e=1,s=1e-10,a=null){return _db_conversion_helper(o,10,e,s,a)}function spectrogram(o,e,s,a,{fft_length:c=null,power:d=1,center:g=!0,pad_mode:$="reflect",onesided:j=!0,preemphasis:tt=null,mel_filters:et=null,mel_floor:b=1e-10,log_mel:h=null,reference:_e=1,min_value:nt=1e-10,db_range:rt=null,remove_dc_offset:it=null,max_num_frames:st=null,do_pad:ot=!0,transpose:at=!1}={}){const ct=e.length;if(c===null&&(c=s),s>c)throw Error(`frame_length (${s}) may not be larger than fft_length (${c})`);if(ct!==s)throw new Error(`Length of the window (${ct}) must equal frame_length (${s})`);if(a<=0)throw new Error("hop_length must be greater than zero");if(d===null&&et!==null)throw new Error("You have provided `mel_filters` but `power` is `None`. Mel spectrogram computation is not yet supported for complex-valued spectrogram. Specify `power` to fix this issue.");if(g){if($!=="reflect")throw new Error(`pad_mode="${$}" not implemented yet.`);const mt=Math.floor((c-1)/2)+1;o=padReflect(o,mt,mt)}const ut=Math.floor(1+Math.floor((o.length-s)/a)),dt=j?Math.floor(c/2)+1:c;let ht=ut,pt=ut;st!==null&&(st>ut?ot&&(pt=st):pt=ht=st);const ft=new FFT(c),bt=new Float64Array(c),Ct=new Float64Array(ft.outputBufferSize),yt=new Array(ht);for(let mt=0;mt<ht;++mt){const _t=mt*a;for(let wt=0;wt<s;++wt)bt[wt]=o[_t+wt];if(it){let wt=0;for(let Dt=0;Dt<s;++Dt)wt+=bt[Dt];const kt=wt/s;for(let Dt=0;Dt<s;++Dt)bt[Dt]-=kt}if(tt!==null){for(let wt=s-1;wt>=1;--wt)bt[wt]-=tt*bt[wt-1];bt[0]*=1-tt}for(let wt=0;wt<e.length;++wt)bt[wt]*=e[wt];ft.realTransform(Ct,bt);const St=new Array(dt);for(let wt=0;wt<St.length;++wt){const kt=wt<<1;St[wt]=Ct[kt]**2+Ct[kt+1]**2}yt[mt]=St}if(d!==null&&d!==2){const mt=2/d;for(let _t=0;_t<yt.length;++_t){const St=yt[_t];for(let wt=0;wt<St.length;++wt)St[wt]**=mt}}const Et=et.length,gt=new Float32Array(Et*pt),At=at?[pt,Et]:[Et,pt];for(let mt=0;mt<Et;++mt){const _t=et[mt];for(let St=0;St<ht;++St){const wt=yt[St];let kt=0;for(let Dt=0;Dt<dt;++Dt)kt+=_t[Dt]*wt[Dt];gt[at?St*Et+mt:mt*ht+St]=Math.max(b,kt)}}if(d!==null&&h!==null){const mt=Math.min(gt.length,ht*Et);switch(h){case"log":for(let _t=0;_t<mt;++_t)gt[_t]=Math.log(gt[_t]);break;case"log10":for(let _t=0;_t<mt;++_t)gt[_t]=Math.log10(gt[_t]);break;case"dB":if(d===1)amplitude_to_db(gt,_e,nt,rt);else if(d===2)power_to_db(gt,_e,nt,rt);else throw new Error(`Cannot use log_mel option '${h}' with power ${d}`);break;default:throw new Error(`log_mel must be one of null, 'log', 'log10' or 'dB'. Got '${h}'`)}}return{data:gt,dims:At}}function window_function(o,e,{periodic:s=!0,frame_length:a=null,center:c=!0}={}){const d=s?o+1:o;let g;switch(e){case"boxcar":g=new Float64Array(d).fill(1);break;case"hann":case"hann_window":g=hanning(d);break;case"povey":g=hanning(d).map($=>Math.pow($,.85));break;default:throw new Error(`Unknown window type ${e}.`)}if(s&&(g=g.subarray(0,o)),a===null)return g;if(o>a)throw new Error(`Length of the window (${o}) may not be larger than frame_length (${a})`);return g}function center_to_corners_format([o,e,s,a]){return[o-s/2,e-a/2,o+s/2,e+a/2]}function post_process_object_detection(o,e=.5,s=null,a=!1){const c=o.logits,d=o.pred_boxes,[g,$,j]=c.dims;if(s!==null&&s.length!==g)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let tt=[];for(let et=0;et<g;++et){let b=s!==null?s[et]:null,h={boxes:[],classes:[],scores:[]},_e=c[et],nt=d[et];for(let rt=0;rt<$;++rt){let it=_e[rt],st=[],ot;if(a){ot=it.sigmoid().data;for(let at=0;at<ot.length;++at)ot[at]>e&&st.push(at)}else{let at=max(it.data)[1];if(at===j-1)continue;st.push(at),ot=softmax(it.data)}for(const at of st){let ct=nt[rt].data;ct=center_to_corners_format(ct),b!==null&&(ct=ct.map((ut,dt)=>ut*b[(dt+1)%2])),h.boxes.push(ct),h.classes.push(at),h.scores.push(ot[at])}}tt.push(h)}return tt}function validate_audio_inputs(o,e){var s;if(!(o instanceof Float32Array||o instanceof Float64Array))throw new Error(`${e} expects input to be a Float32Array or a Float64Array, but got ${((s=o==null?void 0:o.constructor)==null?void 0:s.name)??typeof o} instead. If using the feature extractor directly, remember to use \`read_audio(url, sampling_rate)\` to obtain the raw audio data of the file/url.`)}function constraint_to_multiple_of(o,e,s=0,a=null){const c=o/e;let d=bankers_round(c)*e;return a!==null&&d>a&&(d=Math.floor(c)*e),d<s&&(d=Math.ceil(c)*e),d}function enforce_size_divisibility([o,e],s){return[Math.max(Math.floor(o/s),1)*s,Math.max(Math.floor(e/s),1)*s]}class FeatureExtractor extends Callable{constructor(e){super(),this.config=e}}class ImageFeatureExtractor extends FeatureExtractor{constructor(e){super(e),this.image_mean=this.config.image_mean??this.config.mean,this.image_std=this.config.image_std??this.config.std,this.resample=this.config.resample??2,this.do_rescale=this.config.do_rescale??!0,this.rescale_factor=this.config.rescale_factor??1/255,this.do_normalize=this.config.do_normalize,this.do_resize=this.config.do_resize,this.do_thumbnail=this.config.do_thumbnail,this.size=this.config.size,this.size_divisibility=this.config.size_divisibility??this.config.size_divisor,this.do_center_crop=this.config.do_center_crop,this.crop_size=this.config.crop_size,this.do_convert_rgb=this.config.do_convert_rgb??!0,this.do_crop_margin=this.config.do_crop_margin,this.pad_size=this.config.pad_size,this.do_pad=this.config.do_pad,this.do_pad&&!this.pad_size&&this.size&&this.size.width!==void 0&&this.size.height!==void 0&&(this.pad_size=this.size),this.do_flip_channel_order=this.config.do_flip_channel_order??!1}async thumbnail(e,s,a=2){const c=e.height,d=e.width,g=s.height,$=s.width;let j=Math.min(c,g),tt=Math.min(d,$);return j===c&&tt===d?e:(c>d?tt=Math.floor(d*j/c):d>c&&(j=Math.floor(c*tt/d)),await e.resize(tt,j,{resample:a}))}async crop_margin(e,s=200){const a=e.clone().grayscale(),c=min(a.data)[0],g=max(a.data)[0]-c;if(g===0)return e;const $=s/255;let j=a.width,tt=a.height,et=0,b=0;for(let h=0;h<a.height;++h){const _e=h*a.width;for(let nt=0;nt<a.width;++nt)(a.data[_e+nt]-c)/g<$&&(j=Math.min(j,nt),tt=Math.min(tt,h),et=Math.max(et,nt),b=Math.max(b,h))}return e=await e.crop([j,tt,et,b]),e}pad_image(e,s,a,{mode:c="constant",center:d=!1,constant_values:g=0}={}){const[$,j,tt]=s;let et,b;if(typeof a=="number"?(et=a,b=a):(et=a.width,b=a.height),et!==j||b!==$){const h=new Float32Array(et*b*tt);if(Array.isArray(g))for(let rt=0;rt<h.length;++rt)h[rt]=g[rt%tt];else g!==0&&h.fill(g);const[_e,nt]=d?[Math.floor((et-j)/2),Math.floor((b-$)/2)]:[0,0];for(let rt=0;rt<$;++rt){const it=(rt+nt)*et,st=rt*j;for(let ot=0;ot<j;++ot){const at=(it+ot+_e)*tt,ct=(st+ot)*tt;for(let ut=0;ut<tt;++ut)h[at+ut]=e[ct+ut]}}if(c==="symmetric"){if(d)throw new Error("`center` padding is not supported when `mode` is set to `symmetric`.");const rt=$-1,it=j-1;for(let st=0;st<b;++st){const ot=st*et,at=calculateReflectOffset(st,rt)*j;for(let ct=0;ct<et;++ct){if(st<$&&ct<j)continue;const ut=(ot+ct)*tt,dt=(at+calculateReflectOffset(ct,it))*tt;for(let ht=0;ht<tt;++ht)h[ut+ht]=e[dt+ht]}}}e=h,s=[b,et,tt]}return[e,s]}rescale(e){for(let s=0;s<e.length;++s)e[s]=this.rescale_factor*e[s]}get_resize_output_image_size(e,s){const[a,c]=e.size;let d,g;if(this.do_thumbnail){const{height:$,width:j}=s;d=Math.min($,j)}else Number.isInteger(s)?(d=s,g=this.config.max_size??d):s!==void 0&&(d=s.shortest_edge,g=s.longest_edge);if(d!==void 0||g!==void 0){const $=d===void 0?1:Math.max(d/a,d/c),j=a*$,tt=c*$,et=g===void 0?1:Math.min(g/j,g/tt);let b=Math.floor(Number((j*et).toFixed(2))),h=Math.floor(Number((tt*et).toFixed(2)));return this.size_divisibility!==void 0&&([b,h]=enforce_size_divisibility([b,h],this.size_divisibility)),[b,h]}else if(s!==void 0&&s.width!==void 0&&s.height!==void 0){let $=s.width,j=s.height;if(this.config.keep_aspect_ratio&&this.config.ensure_multiple_of){let tt=j/c,et=$/a;Math.abs(1-et)<Math.abs(1-tt)?tt=et:et=tt,j=constraint_to_multiple_of(tt*c,this.config.ensure_multiple_of),$=constraint_to_multiple_of(et*a,this.config.ensure_multiple_of)}return[$,j]}else{if(this.size_divisibility!==void 0)return enforce_size_divisibility([a,c],this.size_divisibility);throw new Error(`Could not resize image due to unsupported \`this.size\` option in config: ${JSON.stringify(s)}`)}}async resize(e){const[s,a]=this.get_resize_output_image_size(e,this.size);return await e.resize(s,a,{resample:this.resample})}async preprocess(e,{do_normalize:s=null,do_pad:a=null,do_convert_rgb:c=null,do_convert_grayscale:d=null,do_flip_channel_order:g=null}={}){this.do_crop_margin&&(e=await this.crop_margin(e));const[$,j]=e.size;if(c??this.do_convert_rgb?e=e.rgb():d&&(e=e.grayscale()),this.do_resize&&(e=await this.resize(e)),this.do_thumbnail&&(e=await this.thumbnail(e,this.size,this.resample)),this.do_center_crop){let _e,nt;Number.isInteger(this.crop_size)?(_e=this.crop_size,nt=this.crop_size):(_e=this.crop_size.width,nt=this.crop_size.height),e=await e.center_crop(_e,nt)}const tt=[e.height,e.width];let et=Float32Array.from(e.data),b=[e.height,e.width,e.channels];if(this.do_rescale&&this.rescale(et),s??this.do_normalize){let _e=this.image_mean;Array.isArray(this.image_mean)||(_e=new Array(e.channels).fill(_e));let nt=this.image_std;if(Array.isArray(this.image_std)||(nt=new Array(e.channels).fill(_e)),_e.length!==e.channels||nt.length!==e.channels)throw new Error(`When set to arrays, the length of \`image_mean\` (${_e.length}) and \`image_std\` (${nt.length}) must match the number of channels in the image (${e.channels}).`);for(let rt=0;rt<et.length;rt+=e.channels)for(let it=0;it<e.channels;++it)et[rt+it]=(et[rt+it]-_e[it])/nt[it]}if(a??this.do_pad){if(this.pad_size)[et,b]=this.pad_image(et,[e.height,e.width,e.channels],this.pad_size);else if(this.size_divisibility){const[_e,nt]=enforce_size_divisibility([b[1],b[0]],this.size_divisibility);[et,b]=this.pad_image(et,b,{width:_e,height:nt})}}if(g??this.do_flip_channel_order){if(b[2]!==3)throw new Error("Flipping channel order is only supported for RGB images.");for(let _e=0;_e<et.length;_e+=3){const nt=et[_e];et[_e]=et[_e+2],et[_e+2]=nt}}const h=new Tensor("float32",et,b).permute(2,0,1);return{original_size:[j,$],reshaped_input_size:tt,pixel_values:h}}async _call(e,...s){Array.isArray(e)||(e=[e]);const a=await Promise.all(e.map(d=>this.preprocess(d)));return{pixel_values:stack(a.map(d=>d.pixel_values),0),original_sizes:a.map(d=>d.original_size),reshaped_input_sizes:a.map(d=>d.reshaped_input_size)}}}class SegformerFeatureExtractor extends ImageFeatureExtractor{post_process_semantic_segmentation(e,s=null){const a=e.logits,c=a.dims[0];if(s!==null&&s.length!==c)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");const d=[];for(let g=0;g<c;++g){const $=s!==null?s[g]:null;let j=a[g];$!==null&&(j=interpolate(j,$,"bilinear",!1));const[tt,et]=$??j.dims.slice(-2),b=new Tensor("int32",new Int32Array(tt*et),[tt,et]),h=j[0].data;for(let it=1;it<j.dims[0];++it){const st=j[it].data;for(let ot=0;ot<st.length;++ot)st[ot]>h[ot]&&(h[ot]=st[ot],b.data[ot]=it)}const _e=new Array(j.dims[0]),nt=b.data;for(let it=0;it<nt.length;++it){const st=nt[it];_e[st]=st}const rt=_e.filter(it=>it!==void 0);d.push({segmentation:b,labels:rt})}return d}}class DPTFeatureExtractor extends ImageFeatureExtractor{}class DPTImageProcessor extends DPTFeatureExtractor{}class BitImageProcessor extends ImageFeatureExtractor{}class GLPNFeatureExtractor extends ImageFeatureExtractor{}class CLIPFeatureExtractor extends ImageFeatureExtractor{}class ChineseCLIPFeatureExtractor extends ImageFeatureExtractor{}class SiglipImageProcessor extends ImageFeatureExtractor{}class ConvNextFeatureExtractor extends ImageFeatureExtractor{constructor(e){super(e),this.crop_pct=this.config.crop_pct??224/256}async resize(e){var a;const s=(a=this.size)==null?void 0:a.shortest_edge;if(s===void 0)throw new Error("Size dictionary must contain 'shortest_edge' key.");if(s<384){const c=Math.floor(s/this.crop_pct),[d,g]=this.get_resize_output_image_size(e,{shortest_edge:c});e=await e.resize(d,g,{resample:this.resample}),e=await e.center_crop(s,s)}else e=await e.resize(s,s,{resample:this.resample});return e}}class ConvNextImageProcessor extends ConvNextFeatureExtractor{}class ViTFeatureExtractor extends ImageFeatureExtractor{}class ViTImageProcessor extends ImageFeatureExtractor{}class EfficientNetImageProcessor extends ImageFeatureExtractor{constructor(e){super(e),this.include_top=this.config.include_top??!0,this.include_top&&(this.image_std=this.image_std.map(s=>s*s))}}class MobileViTFeatureExtractor extends ImageFeatureExtractor{}class MobileViTImageProcessor extends MobileViTFeatureExtractor{}class OwlViTFeatureExtractor extends ImageFeatureExtractor{post_process_object_detection(...e){return post_process_object_detection(...e)}}class Owlv2ImageProcessor extends OwlViTFeatureExtractor{}class DeiTFeatureExtractor extends ImageFeatureExtractor{}class BeitFeatureExtractor extends ImageFeatureExtractor{}class DonutFeatureExtractor extends ImageFeatureExtractor{pad_image(e,s,a,c={}){const[d,g,$]=s;let j=this.image_mean;Array.isArray(this.image_mean)||(j=new Array($).fill(j));let tt=this.image_std;Array.isArray(tt)||(tt=new Array($).fill(j));const et=j.map((b,h)=>-b/tt[h]);return super.pad_image(e,s,a,{center:!0,constant_values:et,...c})}}class NougatImageProcessor extends DonutFeatureExtractor{}class DetrFeatureExtractor extends ImageFeatureExtractor{async _call(e){const s=await super._call(e),a=[s.pixel_values.dims[0],64,64],c=new Tensor("int64",new BigInt64Array(a.reduce((d,g)=>d*g)).fill(1n),a);return{...s,pixel_mask:c}}post_process_object_detection(...e){return post_process_object_detection(...e)}remove_low_and_no_objects(e,s,a,c){let d=[],g=[],$=[];for(let j=0;j<e.dims[0];++j){let tt=e[j],et=s[j],b=max(tt.data)[1];if(b===c)continue;let _e=softmax(tt.data)[b];_e>a&&(d.push(et),g.push(_e),$.push(b))}return[d,g,$]}check_segment_validity(e,s,a,c=.5,d=.8){let g=[],$=0,j=0;for(let et=0;et<e.length;++et)e[et]===a&&(g.push(et),++$),s[a].data[et]>=c&&++j;let tt=$>0&&j>0;return tt&&(tt=$/j>d),[tt,g]}compute_segments(e,s,a,c,d,g=null,$=null){let[j,tt]=$??e[0].dims,et=new Tensor("int32",new Int32Array(j*tt),[j,tt]),b=[];if($!==null)for(let rt=0;rt<e.length;++rt)e[rt]=interpolate(e[rt],$,"bilinear",!1);let h=new Int32Array(e[0].data.length),_e=new Float32Array(e[0].data.length);for(let rt=0;rt<e.length;++rt){let it=s[rt];for(let st=0;st<e[rt].data.length;++st)e[rt].data[st]*=it,e[rt].data[st]>_e[st]&&(h[st]=rt,_e[st]=e[rt].data[st])}let nt=0;for(let rt=0;rt<a.length;++rt){let it=a[rt],[st,ot]=this.check_segment_validity(h,e,rt,c,d);if(st){++nt;for(let at of ot)et.data[at]=nt;b.push({id:nt,label_id:it,score:s[rt]})}}return[et,b]}post_process_panoptic_segmentation(e,s=.5,a=.5,c=.8,d=null,g=null){d===null&&(console.warn("`label_ids_to_fuse` unset. No instance will be fused."),d=new Set);const $=e.logits,tt=e.pred_masks.sigmoid();let[et,b,h]=$.dims;if(h-=1,g!==null&&g.length!==et)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let _e=[];for(let nt=0;nt<et;++nt){let rt=g!==null?g[nt]:null,it=$[nt],st=tt[nt],[ot,at,ct]=this.remove_low_and_no_objects(it,st,s,h);if(ct.length===0){let[ht,pt]=rt??st.dims.slice(-2),ft=new Tensor("int32",new Int32Array(ht*pt).fill(-1),[ht,pt]);_e.push({segmentation:ft,segments_info:[]});continue}let[ut,dt]=this.compute_segments(ot,at,ct,a,c,d,rt);_e.push({segmentation:ut,segments_info:dt})}return _e}post_process_instance_segmentation(){throw Error("Not implemented yet")}}class YolosFeatureExtractor extends ImageFeatureExtractor{post_process_object_detection(...e){return post_process_object_detection(...e)}}class SamImageProcessor extends ImageFeatureExtractor{reshape_input_points(e,s,a){e=structuredClone(e);let c=calculateDimensions(e);if(c.length===3)c=[1,...c],e=[e];else if(c.length!==4)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");for(let d=0;d<e.length;++d){let g=s[d],$=a[d],j=[$[0]/g[0],$[1]/g[1]];for(let tt=0;tt<e[d].length;++tt)for(let et=0;et<e[d][tt].length;++et)for(let b=0;b<e[d][tt][et].length;++b)e[d][tt][et][b]*=j[b]}return new Tensor("float32",Float32Array.from(e.flat(1/0)),c)}add_input_labels(e,s){let a=calculateDimensions(e);if(a.length===2)a=[1,...a],e=[e];else if(a.length!==3)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");if(a.some((c,d)=>c!==s.dims[d]))throw Error(`The first ${a.length} dimensions of 'input_points' and 'input_labels' must be the same.`);return new Tensor("int64",e.flat(1/0).map(BigInt),a)}async _call(e,s=null,a=null){const c=await super._call(e);if(s&&(c.input_points=this.reshape_input_points(s,c.original_sizes,c.reshaped_input_sizes)),a){if(!c.input_points)throw Error("`input_points` must be provided if `input_labels` are provided.");c.input_labels=this.add_input_labels(a,c.input_points)}return c}post_process_masks(e,s,a,{mask_threshold:c=0,binarize:d=!0,pad_size:g=null}={}){const $=[];g=g??this.pad_size;const j=[g.height,g.width];for(let tt=0;tt<s.length;++tt){const et=s[tt],b=a[tt],h=e[tt],_e=[];for(let nt=0;nt<h.dims[0];++nt){const rt=h[nt];let it=interpolate(rt,j,"bilinear",!1);if(it=it.slice(null,[0,b[0]],[0,b[1]]),it=interpolate(it,et,"bilinear",!1),d){const st=new Uint8Array(it.data.length);for(let ot=0;ot<it.data.length;++ot)it.data[ot]>c&&(st[ot]=1);it=new Tensor("bool",st,it.dims)}_e.push(it)}$.push(stack(_e))}return $}}class Swin2SRImageProcessor extends ImageFeatureExtractor{pad_image(e,s,a,c={}){const[d,g,$]=s;return super.pad_image(e,s,{width:g+(a-g%a)%a,height:d+(a-d%a)%a},{mode:"symmetric",center:!1,constant_values:-1,...c})}}class VitMatteImageProcessor extends ImageFeatureExtractor{async _call(e,s){Array.isArray(e)||(e=[e]),Array.isArray(s)||(s=[s]);const a=await Promise.all(e.map(g=>this.preprocess(g))),c=await Promise.all(s.map(g=>this.preprocess(g,{do_normalize:!1,do_convert_rgb:!1,do_convert_grayscale:!0})));return{pixel_values:stack(a.map((g,$)=>cat([g.pixel_values,c[$].pixel_values],0)),0),original_sizes:a.map(g=>g.original_size),reshaped_input_sizes:a.map(g=>g.reshaped_input_size)}}}class WhisperFeatureExtractor extends FeatureExtractor{constructor(e){var s;super(e),(s=this.config).mel_filters??(s.mel_filters=mel_filter_bank(Math.floor(1+this.config.n_fft/2),this.config.feature_size,0,8e3,this.config.sampling_rate,"slaney","slaney")),this.window=window_function(this.config.n_fft,"hann")}_extract_fbank_features(e){const{data:s,dims:a}=spectrogram(e,this.window,this.config.n_fft,this.config.hop_length,{power:2,mel_filters:this.config.mel_filters,log_mel:"log10",max_num_frames:this.config.nb_max_frames}),c=max(s)[0];for(let d=0;d<s.length;++d)s[d]=(Math.max(s[d],c-8)+4)/4;return{data:s,dims:a}}async _call(e){validate_audio_inputs(e,"WhisperFeatureExtractor");let s;e.length>this.config.n_samples?(console.warn("Attempting to extract features for audio longer than 30 seconds. If using a pipeline to extract transcript from a long audio clip, remember to specify `chunk_length_s` and/or `stride_length_s`."),s=e.slice(0,this.config.n_samples)):(s=new Float32Array(this.config.n_samples),s.set(e));const{data:a,dims:c}=this._extract_fbank_features(s);return{input_features:new Tensor("float32",a,[1,...c])}}}class Wav2Vec2FeatureExtractor extends FeatureExtractor{_zero_mean_unit_var_norm(e){const a=e.reduce((d,g)=>d+g,0)/e.length,c=e.reduce((d,g)=>d+(g-a)**2,0)/e.length;return e.map(d=>(d-a)/Math.sqrt(c+1e-7))}async _call(e){validate_audio_inputs(e,"Wav2Vec2FeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));let s=e;this.config.do_normalize&&(s=this._zero_mean_unit_var_norm(s));const a=[1,s.length];return{input_values:new Tensor("float32",s,a),attention_mask:new Tensor("int64",new BigInt64Array(s.length).fill(1n),a)}}}class SeamlessM4TFeatureExtractor extends FeatureExtractor{constructor(e){super(e);const s=this.config.sampling_rate,a=mel_filter_bank(256,this.config.num_mel_bins,20,Math.floor(s/2),s,null,"kaldi",!0);for(let c=0;c<a.length;++c)a[c].push(0);this.mel_filters=a,this.window=window_function(400,"povey",{periodic:!1})}_extract_fbank_features(e,s){return e=e.map(a=>a*32768),spectrogram(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1192092955078125e-22,remove_dc_offset:!0,max_num_frames:s,transpose:!0})}async _call(e,{padding:s=!0,pad_to_multiple_of:a=2,do_normalize_per_mel_bins:c=!0,return_attention_mask:d=!0}={}){validate_audio_inputs(e,"SeamlessM4TFeatureExtractor");let g=this._extract_fbank_features(e,this.config.max_length);if(c){const[nt,rt]=g.dims;for(let it=0;it<rt;++it){let st=0;for(let ut=0;ut<nt;++ut)st+=g.data[ut*rt+it];const ot=st/nt;let at=0;for(let ut=0;ut<nt;++ut)at+=(g.data[ut*rt+it]-ot)**2;at/=nt-1;const ct=Math.sqrt(at+1e-7);for(let ut=0;ut<nt;++ut){const dt=ut*rt+it;g.data[dt]=(g.data[dt]-ot)/ct}}}let $;if(s){const[nt,rt]=g.dims,it=nt%a;if(it>0){const st=new Float32Array(rt*(nt+it));st.set(g.data),st.fill(this.config.padding_value,g.data.length);const ot=nt+it;g={data:st,dims:[ot,rt]},d&&($=new Tensor("int64",new BigInt64Array(ot),[1,ot]),$.data.fill(1n,0,nt))}}const[j,tt]=g.dims,et=this.config.stride;if(j%et!==0)throw new Error(`The number of frames (${j}) must be a multiple of the stride (${et}).`);const h=new Tensor("float32",g.data,g.dims).view(1,Math.floor(j/et),tt*et),_e={input_features:h};if(d){const nt=h.dims[1],rt=new Tensor("int64",new BigInt64Array(nt),[1,nt]);if($)for(let it=1,st=0;it<j;it+=et,++st)rt.data[st]=$.data[it];else rt.data.fill(1n);_e.attention_mask=rt}return _e}}class ASTFeatureExtractor extends FeatureExtractor{constructor(e){super(e);const s=this.config.sampling_rate,a=mel_filter_bank(256,this.config.num_mel_bins,20,Math.floor(s/2),s,null,"kaldi",!0);for(let c=0;c<a.length;++c)a[c].push(0);this.mel_filters=a,this.window=window_function(400,"hann",{periodic:!1}),this.mean=this.config.mean,this.std=this.config.std}_extract_fbank_features(e,s){return spectrogram(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1192092955078125e-22,remove_dc_offset:!0,max_num_frames:s,transpose:!0})}async _call(e){validate_audio_inputs(e,"ASTFeatureExtractor");const s=this._extract_fbank_features(e,this.config.max_length);if(this.config.do_normalize){const a=this.std*2;for(let c=0;c<s.data.length;++c)s.data[c]=(s.data[c]-this.mean)/a}return{input_values:new Tensor("float32",s.data,[1,...s.dims])}}}class ClapFeatureExtractor extends FeatureExtractor{constructor(e){super(e),this.mel_filters=mel_filter_bank(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,null,"htk"),this.mel_filters_slaney=mel_filter_bank(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,"slaney","slaney"),this.window=window_function(this.config.fft_window_size,"hann")}_get_input_mel(e,s,a,c){let d,g=!1;const $=e.length-s;if($>0)if(a==="rand_trunc"){g=!0;const j=Math.floor(Math.random()*($+1));e=e.subarray(j,j+s),d=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),d.dims=[1,...d.dims]}else throw new Error(`Truncation strategy "${a}" not implemented`);else{if($<0){let j=new Float64Array(s);if(j.set(e),c==="repeat")for(let tt=e.length;tt<s;tt+=e.length)j.set(e.subarray(0,Math.min(e.length,s-tt)),tt);else if(c==="repeatpad")for(let tt=e.length;tt<-$;tt+=e.length)j.set(e,tt);e=j}if(a==="fusion")throw new Error(`Truncation strategy "${a}" not implemented`);d=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),d.dims=[1,...d.dims]}return{...d,longer:g}}_extract_fbank_features(e,s,a=null){return spectrogram(e,this.window,this.config.fft_window_size,this.config.hop_length,{power:2,mel_filters:s,log_mel:"dB",max_num_frames:a,do_pad:!1,transpose:!0})}async _call(e,{max_length:s=null}={}){validate_audio_inputs(e,"ClapFeatureExtractor");const a=this._get_input_mel(e,s??this.config.nb_max_samples,this.config.truncation,this.config.padding);return{input_features:new Tensor("float32",a.data,[1,...a.dims])}}}class SpeechT5FeatureExtractor extends FeatureExtractor{}class Processor extends Callable{constructor(e){super(),this.feature_extractor=e}async _call(e,...s){return await this.feature_extractor(e,...s)}}class SamProcessor extends Processor{async _call(...e){return await this.feature_extractor(...e)}post_process_masks(...e){return this.feature_extractor.post_process_masks(...e)}reshape_input_points(...e){return this.feature_extractor.reshape_input_points(...e)}}class WhisperProcessor extends Processor{async _call(e){return await this.feature_extractor(e)}}class Wav2Vec2ProcessorWithLM extends Processor{async _call(e){return await this.feature_extractor(e)}}class SpeechT5Processor extends Processor{async _call(e){return await this.feature_extractor(e)}}class OwlViTProcessor extends Processor{}class AutoProcessor{static async from_pretrained(e,{progress_callback:s=null,config:a=null,cache_dir:c=null,local_files_only:d=!1,revision:g="main"}={}){let $=a??await getModelJSON(e,"preprocessor_config.json",!0,{progress_callback:s,cache_dir:c,local_files_only:d,revision:g}),j=$.feature_extractor_type??$.image_processor_type,tt=this.FEATURE_EXTRACTOR_CLASS_MAPPING[j];if(!tt)if($.size!==void 0)console.warn(`Feature extractor type "${j}" not found, assuming ImageFeatureExtractor due to size parameter in config.`),tt=ImageFeatureExtractor;else throw new Error(`Unknown Feature Extractor type: ${j}`);let et=this.PROCESSOR_CLASS_MAPPING[$.processor_class]??Processor,b=new tt($);return new et(b)}}nn(AutoProcessor,"FEATURE_EXTRACTOR_CLASS_MAPPING",{ImageFeatureExtractor,WhisperFeatureExtractor,ViTFeatureExtractor,MobileViTFeatureExtractor,MobileViTImageProcessor,OwlViTFeatureExtractor,Owlv2ImageProcessor,CLIPFeatureExtractor,ChineseCLIPFeatureExtractor,SiglipImageProcessor,ConvNextFeatureExtractor,ConvNextImageProcessor,SegformerFeatureExtractor,BitImageProcessor,DPTImageProcessor,DPTFeatureExtractor,GLPNFeatureExtractor,BeitFeatureExtractor,DeiTFeatureExtractor,DetrFeatureExtractor,YolosFeatureExtractor,DonutFeatureExtractor,NougatImageProcessor,EfficientNetImageProcessor,ViTImageProcessor,VitMatteImageProcessor,SamImageProcessor,Swin2SRImageProcessor,Wav2Vec2FeatureExtractor,SeamlessM4TFeatureExtractor,SpeechT5FeatureExtractor,ASTFeatureExtractor,ClapFeatureExtractor}),nn(AutoProcessor,"PROCESSOR_CLASS_MAPPING",{WhisperProcessor,Wav2Vec2ProcessorWithLM,SamProcessor,SpeechT5Processor,OwlViTProcessor});async function prepareImages(o){return Array.isArray(o)||(o=[o]),await Promise.all(o.map(e=>RawImage.read(e)))}async function prepareAudios(o,e){return Array.isArray(o)||(o=[o]),await Promise.all(o.map(s=>typeof s=="string"||s instanceof URL?read_audio(s,e):s instanceof Float64Array?new Float32Array(s):s))}function get_bounding_box(o,e){e&&(o=o.map(g=>g|0));const[s,a,c,d]=o;return{xmin:s,ymin:a,xmax:c,ymax:d}}class Pipeline extends Callable{constructor({task:e,model:s,tokenizer:a=null,processor:c=null}){super(),this.task=e,this.model=s,this.tokenizer=a,this.processor=c}async dispose(){await this.model.dispose()}}class TextClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{topk:s=1}={}){const a=this.tokenizer(e,{padding:!0,truncation:!0}),c=await this.model(a),d=this.model.config.problem_type==="multi_label_classification"?j=>j.sigmoid().data:j=>softmax(j.data),g=this.model.config.id2label,$=[];for(const j of c.logits){const tt=d(j),b=getTopItems(tt,s).map(h=>({label:g[h[0]],score:h[1]}));s===1?$.push(...b):$.push(b)}return Array.isArray(e)||s===1?$:$[0]}}class TokenClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{ignore_labels:s=["O"]}={}){const a=Array.isArray(e),c=this.tokenizer(a?e:[e],{padding:!0,truncation:!0}),g=(await this.model(c)).logits,$=this.model.config.id2label,j=[];for(let tt=0;tt<g.dims[0];++tt){const et=c.input_ids[tt],b=g[tt],h=[];for(let _e=0;_e<b.dims[0];++_e){const nt=b[_e],rt=max(nt.data)[1],it=$?$[rt]:`LABEL_${rt}`;if(s.includes(it))continue;const st=this.tokenizer.decode([et[_e].item()],{skip_special_tokens:!0});if(st==="")continue;const ot=softmax(nt.data);h.push({entity:it,score:ot[rt],index:_e,word:st,start:null,end:null})}j.push(h)}return a?j:j[0]}}class QuestionAnsweringPipeline extends Pipeline{constructor(e){super(e)}async _call(e,s,{topk:a=1}={}){const c=this.tokenizer(e,{text_pair:s,padding:!0,truncation:!0}),d=await this.model(c),g=[];for(let $=0;$<d.start_logits.dims[0];++$){const j=c.input_ids[$],tt=j.indexOf(this.tokenizer.sep_token_id),et=Array.from(softmax(d.start_logits[$].data)).map((_e,nt)=>[_e,nt]).filter(_e=>_e[1]>tt),b=Array.from(softmax(d.end_logits[$].data)).map((_e,nt)=>[_e,nt]).filter(_e=>_e[1]>tt),h=product(et,b).filter(_e=>_e[0][1]<=_e[1][1]).map(_e=>[_e[0][1],_e[1][1],_e[0][0]*_e[1][0]]).sort((_e,nt)=>nt[2]-_e[2]);for(let _e=0;_e<Math.min(h.length,a);++_e){const[nt,rt,it]=h[_e],st=[...j].slice(nt,rt+1),ot=this.tokenizer.decode(st,{skip_special_tokens:!0});g.push({answer:ot,score:it})}}return a===1?g[0]:g}}class FillMaskPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{topk:s=5}={}){const a=this.tokenizer(e,{padding:!0,truncation:!0}),c=await this.model(a),d=[];for(let g=0;g<a.input_ids.dims[0];++g){const $=a.input_ids[g],j=$.indexOf(this.tokenizer.mask_token_id);if(j===-1)throw Error(`Mask token (${this.tokenizer.mask_token}) not found in text.`);const et=c.logits[g][j],b=getTopItems(softmax(et.data),s);d.push(b.map(h=>{const _e=[...$];return _e[j]=h[0],{score:h[1],token:h[0],token_str:this.tokenizer.model.vocab[h[0]],sequence:this.tokenizer.decode(_e,{skip_special_tokens:!0})}}))}return Array.isArray(e)?d:d[0]}}class Text2TextGenerationPipeline extends Pipeline{constructor(s){super(s);nn(this,"_key","generated_text")}async _call(s,a={}){Array.isArray(s)||(s=[s]),this.model.config.prefix&&(s=s.map(tt=>this.model.config.prefix+tt));const c=this.model.config.task_specific_params;c&&c[this.task]&&c[this.task].prefix&&(s=s.map(tt=>c[this.task].prefix+tt));const d=this.tokenizer,g={padding:!0,truncation:!0};let $;this instanceof TranslationPipeline&&"_build_translation_inputs"in d?$=d._build_translation_inputs(s,g,a).input_ids:$=d(s,g).input_ids;const j=await this.model.generate($,a);return d.batch_decode(j,{skip_special_tokens:!0}).map(tt=>({[this._key]:tt}))}}class SummarizationPipeline extends Text2TextGenerationPipeline{constructor(s){super(s);nn(this,"_key","summary_text")}}class TranslationPipeline extends Text2TextGenerationPipeline{constructor(s){super(s);nn(this,"_key","translation_text")}}function isChat(o){return Array.isArray(o)&&o.every(e=>"role"in e&&"content"in e)}class TextGenerationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,s={}){let a=!1,c=!1,d;if(typeof e=="string")d=e=[e];else if(Array.isArray(e)&&e.every(nt=>typeof nt=="string"))a=!0,d=e;else{if(isChat(e))e=[e];else if(Array.isArray(e)&&e.every(isChat))a=!0;else throw new Error("Input must be a string, an array of strings, a Chat, or an array of Chats");c=!0,d=e.map(nt=>this.tokenizer.apply_chat_template(nt,{tokenize:!1,add_generation_prompt:!0}))}const g=s.add_special_tokens??!1,$=c?!1:s.return_full_text??!0;this.tokenizer.padding_side="left";const{input_ids:j,attention_mask:tt}=this.tokenizer(d,{add_special_tokens:g,padding:!0,truncation:!0}),et=await this.model.generate(j,s,null,{inputs_attention_mask:tt});let b=this.tokenizer.batch_decode(et,{skip_special_tokens:!0}),h;!$&&j.dims.at(-1)>0&&(h=this.tokenizer.batch_decode(j,{skip_special_tokens:!0}).map(nt=>nt.length));const _e=Array.from({length:e.length},nt=>[]);for(let nt=0;nt<b.length;++nt){const rt=Math.floor(nt/et.length*e.length);h&&(b[nt]=b[nt].slice(h[rt])),_e[rt].push({generated_text:c?[...e[rt],{role:"assistant",content:b[nt]}]:b[nt]})}return!a&&_e.length===1?_e[0]:_e}}class ZeroShotClassificationPipeline extends Pipeline{constructor(e){super(e),this.label2id=Object.fromEntries(Object.entries(this.model.config.label2id).map(([s,a])=>[s.toLowerCase(),a])),this.entailment_id=this.label2id.entailment,this.entailment_id===void 0&&(console.warn("Could not find 'entailment' in label2id mapping. Using 2 as entailment_id."),this.entailment_id=2),this.contradiction_id=this.label2id.contradiction??this.label2id.not_entailment,this.contradiction_id===void 0&&(console.warn("Could not find 'contradiction' in label2id mapping. Using 0 as contradiction_id."),this.contradiction_id=0)}async _call(e,s,{hypothesis_template:a="This example is {}.",multi_label:c=!1}={}){const d=Array.isArray(e);d||(e=[e]),Array.isArray(s)||(s=[s]);const g=s.map(tt=>a.replace("{}",tt)),$=c||s.length===1,j=[];for(const tt of e){const et=[];for(const _e of g){const nt=this.tokenizer(tt,{text_pair:_e,padding:!0,truncation:!0}),rt=await this.model(nt);$?et.push([rt.logits.data[this.contradiction_id],rt.logits.data[this.entailment_id]]):et.push(rt.logits.data[this.entailment_id])}const h=($?et.map(_e=>softmax(_e)[1]):softmax(et)).map((_e,nt)=>[_e,nt]).sort((_e,nt)=>nt[0]-_e[0]);j.push({sequence:tt,labels:h.map(_e=>s[_e[1]]),scores:h.map(_e=>_e[0])})}return d?j:j[0]}}class FeatureExtractionPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{pooling:s="none",normalize:a=!1,quantize:c=!1,precision:d="binary"}={}){const g=this.tokenizer(e,{padding:!0,truncation:!0}),$=await this.model(g);let j=$.last_hidden_state??$.logits??$.token_embeddings;if(s!=="none")if(s==="mean")j=mean_pooling(j,g.attention_mask);else if(s==="cls")j=j.slice(null,0);else throw Error(`Pooling method '${s}' not supported.`);return a&&(j=j.normalize(2,-1)),c&&(j=quantize_embeddings(j,d)),j}}class ImageFeatureExtractionPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{pool:s=null}={}){const a=await prepareImages(e),{pixel_values:c}=await this.processor(a),d=await this.model({pixel_values:c});let g;if(s){if(!("pooler_output"in d))throw Error("No pooled output was returned. Make sure the model has a 'pooler' layer when using the 'pool' option.");g=d.pooler_output}else g=d.last_hidden_state??d.logits??d.image_embeds;return g}}class AudioClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{topk:s=null}={}){const a=!Array.isArray(e),c=this.processor.feature_extractor.config.sampling_rate,d=await prepareAudios(e,c),g=this.model.config.id2label,$=[];for(const j of d){const tt=await this.processor(j),b=(await this.model(tt)).logits[0],_e=getTopItems(softmax(b.data),s).map(nt=>({label:g[nt[0]],score:nt[1]}));s===1?$.push(..._e):$.push(_e)}return!a||s===1?$:$[0]}}class ZeroShotAudioClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,s,{hypothesis_template:a="This is a sound of {}."}={}){const c=!Array.isArray(e);c&&(e=[e]);const d=s.map(et=>a.replace("{}",et)),g=this.tokenizer(d,{padding:!0,truncation:!0}),$=this.processor.feature_extractor.config.sampling_rate,j=await prepareAudios(e,$),tt=[];for(const et of j){const b=await this.processor(et),h=await this.model({...g,...b}),_e=softmax(h.logits_per_audio.data);tt.push([..._e].map((nt,rt)=>({score:nt,label:s[rt]})))}return c?tt[0]:tt}}class AutomaticSpeechRecognitionPipeline extends Pipeline{constructor(e){super(e)}async _call(e,s={}){switch(this.model.config.model_type){case"whisper":return this._call_whisper(e,s);case"wav2vec2":case"wav2vec2-bert":case"unispeech":case"unispeech-sat":case"hubert":return this._call_wav2vec2(e,s);default:throw new Error(`AutomaticSpeechRecognitionPipeline does not support model type '${this.model.config.model_type}'.`)}}async _call_wav2vec2(e,s={}){s.language&&console.warn('`language` parameter is not yet supported for `wav2vec2` models, defaulting to "English".'),s.task&&console.warn('`task` parameter is not yet supported for `wav2vec2` models, defaulting to "transcribe".');const a=!Array.isArray(e);a&&(e=[e]);const c=this.processor.feature_extractor.config.sampling_rate,d=await prepareAudios(e,c),g=[];for(const $ of d){const j=await this.processor($),et=(await this.model(j)).logits[0],b=[];for(const _e of et)b.push(max(_e.data)[1]);const h=this.tokenizer.decode(b);g.push({text:h})}return a?g[0]:g}async _call_whisper(e,s={}){const a=s.return_timestamps??!1,c=s.chunk_length_s??0,d=s.chunk_callback??null,g=s.force_full_sequences??!1;let $=s.stride_length_s??null;a==="word"&&(s.return_token_timestamps=!0);const j=pop(s,"language",null),tt=pop(s,"task",null);if(j||tt||a){if(s.forced_decoder_ids)throw new Error("Cannot specify `language`/`task`/`return_timestamps` and `forced_decoder_ids` at the same time.");const it=this.tokenizer.get_decoder_prompt_ids({language:j,task:tt,no_timestamps:!a});it.length>0&&(s.forced_decoder_ids=it)}const et=!Array.isArray(e);et&&(e=[e]);const b=this.processor.feature_extractor.config.chunk_length/this.model.config.max_source_positions,h=this.processor.feature_extractor.config.hop_length,_e=this.processor.feature_extractor.config.sampling_rate,nt=await prepareAudios(e,_e),rt=[];for(const it of nt){let st=[];if(c>0){if($===null)$=c/6;else if(c<=$)throw Error("`chunk_length_s` must be larger than `stride_length_s`.");const ct=_e*c,ut=_e*$,dt=ct-2*ut;let ht=0;for(;ht<it.length;){const pt=it.subarray(ht,ht+ct),ft=await this.processor(pt),bt=ht===0,Ct=ht+dt>=it.length;st.push({stride:[pt.length,bt?0:ut,Ct?0:ut],input_features:ft.input_features,is_last:Ct}),ht+=dt}}else st=[{stride:[it.length,0,0],input_features:(await this.processor(it)).input_features,is_last:!0}];for(const ct of st){s.num_frames=Math.floor(ct.stride[0]/h);const ut=await this.model.generate(ct.input_features,s);a==="word"?(ct.tokens=ut.sequences[0],ct.token_timestamps=ut.token_timestamps.tolist()[0].map(dt=>round(dt,2))):ct.tokens=ut[0],ct.stride=ct.stride.map(dt=>dt/_e),d!==null&&d(ct)}const[ot,at]=this.tokenizer._decode_asr(st,{time_precision:b,return_timestamps:a,force_full_sequences:g});rt.push({text:ot,...at})}return et?rt[0]:rt}}class ImageToTextPipeline extends Pipeline{constructor(e){super(e)}async _call(e,s={}){const a=Array.isArray(e),c=await prepareImages(e),{pixel_values:d}=await this.processor(c),g=[];for(const $ of d){$.dims=[1,...$.dims];const j=await this.model.generate($,s),tt=this.tokenizer.batch_decode(j,{skip_special_tokens:!0}).map(et=>({generated_text:et.trim()}));g.push(tt)}return a?g:g[0]}}class ImageClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{topk:s=1}={}){const a=Array.isArray(e),c=await prepareImages(e),{pixel_values:d}=await this.processor(c),g=await this.model({pixel_values:d}),$=this.model.config.id2label,j=[];for(const tt of g.logits){const b=getTopItems(softmax(tt.data),s).map(h=>({label:$[h[0]],score:h[1]}));s===1?j.push(...b):j.push(b)}return a||s===1?j:j[0]}}class ImageSegmentationPipeline extends Pipeline{constructor(e){super(e),this.subtasks_mapping={panoptic:"post_process_panoptic_segmentation",instance:"post_process_instance_segmentation",semantic:"post_process_semantic_segmentation"}}async _call(e,{threshold:s=.5,mask_threshold:a=.5,overlap_mask_area_threshold:c=.8,label_ids_to_fuse:d=null,target_sizes:g=null,subtask:$=null}={}){if(Array.isArray(e)&&e.length!==1)throw Error("Image segmentation pipeline currently only supports a batch size of 1.");const tt=await prepareImages(e),et=tt.map(st=>[st.height,st.width]),{pixel_values:b,pixel_mask:h}=await this.processor(tt),_e=await this.model({pixel_values:b,pixel_mask:h});let nt=null;if($!==null)nt=this.subtasks_mapping[$];else for(let[st,ot]of Object.entries(this.subtasks_mapping))if(ot in this.processor.feature_extractor){nt=this.processor.feature_extractor[ot].bind(this.processor.feature_extractor),$=st;break}const rt=this.model.config.id2label,it=[];if($==="panoptic"||$==="instance"){const st=nt(_e,s,a,c,d,g??et)[0],ot=st.segmentation;for(const at of st.segments_info){const ct=new Uint8ClampedArray(ot.data.length);for(let dt=0;dt<ot.data.length;++dt)ot.data[dt]===at.id&&(ct[dt]=255);const ut=new RawImage(ct,ot.dims[1],ot.dims[0],1);it.push({score:at.score,label:rt[at.label_id],mask:ut})}}else if($==="semantic"){const{segmentation:st,labels:ot}=nt(_e,g??et)[0];for(const at of ot){const ct=new Uint8ClampedArray(st.data.length);for(let dt=0;dt<st.data.length;++dt)st.data[dt]===at&&(ct[dt]=255);const ut=new RawImage(ct,st.dims[1],st.dims[0],1);it.push({score:null,label:rt[at],mask:ut})}}else throw Error(`Subtask ${$} not supported.`);return it}}class ZeroShotImageClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,s,{hypothesis_template:a="This is a photo of {}"}={}){const c=Array.isArray(e),d=await prepareImages(e),g=s.map(h=>a.replace("{}",h)),$=this.tokenizer(g,{padding:this.model.config.model_type==="siglip"?"max_length":!0,truncation:!0}),{pixel_values:j}=await this.processor(d),tt=await this.model({...$,pixel_values:j}),et=this.model.config.model_type==="siglip"?h=>h.sigmoid().data:h=>softmax(h.data),b=[];for(const h of tt.logits_per_image){const nt=[...et(h)].map((rt,it)=>({score:rt,label:s[it]}));nt.sort((rt,it)=>it.score-rt.score),b.push(nt)}return c?b:b[0]}}class ObjectDetectionPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{threshold:s=.9,percentage:a=!1}={}){const c=Array.isArray(e);if(c&&e.length!==1)throw Error("Object detection pipeline currently only supports a batch size of 1.");const d=await prepareImages(e),g=a?null:d.map(_e=>[_e.height,_e.width]),{pixel_values:$,pixel_mask:j}=await this.processor(d),tt=await this.model({pixel_values:$,pixel_mask:j}),et=this.processor.feature_extractor.post_process_object_detection(tt,s,g),b=this.model.config.id2label,h=et.map(_e=>_e.boxes.map((nt,rt)=>({score:_e.scores[rt],label:b[_e.classes[rt]],box:get_bounding_box(nt,!a)})));return c?h:h[0]}}class ZeroShotObjectDetectionPipeline extends Pipeline{constructor(e){super(e)}async _call(e,s,{threshold:a=.1,topk:c=null,percentage:d=!1}={}){const g=Array.isArray(e),$=await prepareImages(e),j=this.tokenizer(s,{padding:!0,truncation:!0}),tt=await this.processor($),et=[];for(let b=0;b<$.length;++b){const h=$[b],_e=d?null:[[h.height,h.width]],nt=tt.pixel_values[b].unsqueeze_(0),rt=await this.model({...j,pixel_values:nt}),it=this.processor.feature_extractor.post_process_object_detection(rt,a,_e,!0)[0];let st=it.boxes.map((ot,at)=>({score:it.scores[at],label:s[it.classes[at]],box:get_bounding_box(ot,!d)})).sort((ot,at)=>at.score-ot.score);c!==null&&(st=st.slice(0,c)),et.push(st)}return g?et:et[0]}}class DocumentQuestionAnsweringPipeline extends Pipeline{constructor(e){super(e)}async _call(e,s,a={}){const c=(await prepareImages(e))[0],{pixel_values:d}=await this.processor(c),g=`<s_docvqa><s_question>${s}</s_question><s_answer>`,$=this.tokenizer(g,{add_special_tokens:!1,padding:!0,truncation:!0}).input_ids,j=await this.model.generate(d,{...a,decoder_input_ids:$,max_length:this.model.config.decoder.max_position_embeddings}),et=this.tokenizer.batch_decode(j)[0].match(/<s_answer>(.*?)<\/s_answer>/);let b=null;return et&&et.length>=2&&(b=et[1].trim()),[{answer:b}]}}class TextToAudioPipeline extends Pipeline{constructor(s){super(s);nn(this,"DEFAULT_VOCODER_ID","Xenova/speecht5_hifigan");this.vocoder=s.vocoder??null}async _call(s,{speaker_embeddings:a=null}={}){return this.processor?this._call_text_to_spectrogram(s,{speaker_embeddings:a}):this._call_text_to_waveform(s)}async _call_text_to_waveform(s){const a=this.tokenizer(s,{padding:!0,truncation:!0}),{waveform:c}=await this.model(a),d=this.model.config.sampling_rate;return{audio:c.data,sampling_rate:d}}async _call_text_to_spectrogram(s,{speaker_embeddings:a}){if(this.vocoder||(console.log("No vocoder specified, using default HifiGan vocoder."),this.vocoder=await AutoModel.from_pretrained(this.DEFAULT_VOCODER_ID,{quantized:!1})),(typeof a=="string"||a instanceof URL)&&(a=new Float32Array(await(await fetch(a)).arrayBuffer())),a instanceof Float32Array)a=new Tensor("float32",a,[1,a.length]);else if(!(a instanceof Tensor))throw new Error("Speaker embeddings must be a `Tensor`, `Float32Array`, `string`, or `URL`.");const{input_ids:c}=this.tokenizer(s,{padding:!0,truncation:!0}),{waveform:d}=await this.model.generate_speech(c,a,{vocoder:this.vocoder}),g=this.processor.feature_extractor.config.sampling_rate;return{audio:d.data,sampling_rate:g}}}class ImageToImagePipeline extends Pipeline{constructor(e){super(e)}async _call(e){const s=await prepareImages(e),a=await this.processor(s),c=await this.model(a),d=[];for(const g of c.reconstruction){const $=g.squeeze().clamp_(0,1).mul_(255).round_().to("uint8");d.push(RawImage.fromTensor($))}return d.length>1?d:d[0]}}class DepthEstimationPipeline extends Pipeline{constructor(e){super(e)}async _call(e){const s=await prepareImages(e),a=await this.processor(s),{predicted_depth:c}=await this.model(a),d=[];for(let g=0;g<s.length;++g){const $=interpolate(c[g],s[g].size.reverse(),"bilinear",!1),j=$.mul_(255/max($.data)[0]).to("uint8");d.push({predicted_depth:c[g],depth:RawImage.fromTensor(j)})}return d.length>1?d:d[0]}}const SUPPORTED_TASKS=Object.freeze({"text-classification":{tokenizer:AutoTokenizer,pipeline:TextClassificationPipeline,model:AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-finetuned-sst-2-english"},type:"text"},"token-classification":{tokenizer:AutoTokenizer,pipeline:TokenClassificationPipeline,model:AutoModelForTokenClassification,default:{model:"Xenova/bert-base-multilingual-cased-ner-hrl"},type:"text"},"question-answering":{tokenizer:AutoTokenizer,pipeline:QuestionAnsweringPipeline,model:AutoModelForQuestionAnswering,default:{model:"Xenova/distilbert-base-cased-distilled-squad"},type:"text"},"fill-mask":{tokenizer:AutoTokenizer,pipeline:FillMaskPipeline,model:AutoModelForMaskedLM,default:{model:"Xenova/bert-base-uncased"},type:"text"},summarization:{tokenizer:AutoTokenizer,pipeline:SummarizationPipeline,model:AutoModelForSeq2SeqLM,default:{model:"Xenova/distilbart-cnn-6-6"},type:"text"},translation:{tokenizer:AutoTokenizer,pipeline:TranslationPipeline,model:AutoModelForSeq2SeqLM,default:{model:"Xenova/t5-small"},type:"text"},"text2text-generation":{tokenizer:AutoTokenizer,pipeline:Text2TextGenerationPipeline,model:AutoModelForSeq2SeqLM,default:{model:"Xenova/flan-t5-small"},type:"text"},"text-generation":{tokenizer:AutoTokenizer,pipeline:TextGenerationPipeline,model:AutoModelForCausalLM,default:{model:"Xenova/gpt2"},type:"text"},"zero-shot-classification":{tokenizer:AutoTokenizer,pipeline:ZeroShotClassificationPipeline,model:AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-mnli"},type:"text"},"audio-classification":{pipeline:AudioClassificationPipeline,model:AutoModelForAudioClassification,processor:AutoProcessor,default:{model:"Xenova/wav2vec2-base-superb-ks"},type:"audio"},"zero-shot-audio-classification":{tokenizer:AutoTokenizer,pipeline:ZeroShotAudioClassificationPipeline,model:AutoModel,processor:AutoProcessor,default:{model:"Xenova/clap-htsat-unfused"},type:"multimodal"},"automatic-speech-recognition":{tokenizer:AutoTokenizer,pipeline:AutomaticSpeechRecognitionPipeline,model:[AutoModelForSpeechSeq2Seq,AutoModelForCTC],processor:AutoProcessor,default:{model:"Xenova/whisper-tiny.en"},type:"multimodal"},"text-to-audio":{tokenizer:AutoTokenizer,pipeline:TextToAudioPipeline,model:[AutoModelForTextToWaveform,AutoModelForTextToSpectrogram],processor:[AutoProcessor,null],default:{model:"Xenova/speecht5_tts"},type:"text"},"image-to-text":{tokenizer:AutoTokenizer,pipeline:ImageToTextPipeline,model:AutoModelForVision2Seq,processor:AutoProcessor,default:{model:"Xenova/vit-gpt2-image-captioning"},type:"multimodal"},"image-classification":{pipeline:ImageClassificationPipeline,model:AutoModelForImageClassification,processor:AutoProcessor,default:{model:"Xenova/vit-base-patch16-224"},type:"multimodal"},"image-segmentation":{pipeline:ImageSegmentationPipeline,model:[AutoModelForImageSegmentation,AutoModelForSemanticSegmentation],processor:AutoProcessor,default:{model:"Xenova/detr-resnet-50-panoptic"},type:"multimodal"},"zero-shot-image-classification":{tokenizer:AutoTokenizer,pipeline:ZeroShotImageClassificationPipeline,model:AutoModel,processor:AutoProcessor,default:{model:"Xenova/clip-vit-base-patch32"},type:"multimodal"},"object-detection":{pipeline:ObjectDetectionPipeline,model:AutoModelForObjectDetection,processor:AutoProcessor,default:{model:"Xenova/detr-resnet-50"},type:"multimodal"},"zero-shot-object-detection":{tokenizer:AutoTokenizer,pipeline:ZeroShotObjectDetectionPipeline,model:AutoModelForZeroShotObjectDetection,processor:AutoProcessor,default:{model:"Xenova/owlvit-base-patch32"},type:"multimodal"},"document-question-answering":{tokenizer:AutoTokenizer,pipeline:DocumentQuestionAnsweringPipeline,model:AutoModelForDocumentQuestionAnswering,processor:AutoProcessor,default:{model:"Xenova/donut-base-finetuned-docvqa"},type:"multimodal"},"image-to-image":{pipeline:ImageToImagePipeline,model:AutoModelForImageToImage,processor:AutoProcessor,default:{model:"Xenova/swin2SR-classical-sr-x2-64"},type:"image"},"depth-estimation":{pipeline:DepthEstimationPipeline,model:AutoModelForDepthEstimation,processor:AutoProcessor,default:{model:"Xenova/dpt-large"},type:"image"},"feature-extraction":{tokenizer:AutoTokenizer,pipeline:FeatureExtractionPipeline,model:AutoModel,default:{model:"Xenova/all-MiniLM-L6-v2"},type:"text"},"image-feature-extraction":{processor:AutoProcessor,pipeline:ImageFeatureExtractionPipeline,model:[AutoModelForImageFeatureExtraction,AutoModel],default:{model:"Xenova/vit-base-patch16-224-in21k"},type:"image"}}),TASK_ALIASES=Object.freeze({"sentiment-analysis":"text-classification",ner:"token-classification",asr:"automatic-speech-recognition","text-to-speech":"text-to-audio",embeddings:"feature-extraction"});async function pipeline(o,e=null,{quantized:s=!0,progress_callback:a=null,config:c=null,cache_dir:d=null,local_files_only:g=!1,revision:$="main",model_file_name:j=null}={}){o=TASK_ALIASES[o]??o;const tt=SUPPORTED_TASKS[o.split("_",1)[0]];if(!tt)throw Error(`Unsupported pipeline: ${o}. Must be one of [${Object.keys(SUPPORTED_TASKS)}]`);e||(e=tt.default.model,console.log(`No model specified. Using default model: "${e}".`));const et={quantized:s,progress_callback:a,config:c,cache_dir:d,local_files_only:g,revision:$,model_file_name:j},b=new Map([["tokenizer",tt.tokenizer],["model",tt.model],["processor",tt.processor]]),h=await loadItems(b,e,et);h.task=o,dispatchCallback(a,{status:"ready",task:o,model:e});const _e=tt.pipeline;return new _e(h)}async function loadItems(o,e,s){const a=Object.create(null),c=[];for(let[d,g]of o.entries()){if(!g)continue;let $;Array.isArray(g)?$=new Promise(async(j,tt)=>{let et;for(let b of g){if(b===null){j(null);return}try{j(await b.from_pretrained(e,s));return}catch(h){et=h}}tt(et)}):$=g.from_pretrained(e,s),a[d]=$,c.push($)}await Promise.all(c);for(let[d,g]of Object.entries(a))a[d]=await g;return a}var runtime={exports:{}};(function(o){var e=function(s){var a=Object.prototype,c=a.hasOwnProperty,d=Object.defineProperty||function(wt,kt,Dt){wt[kt]=Dt.value},g,$=typeof Symbol=="function"?Symbol:{},j=$.iterator||"@@iterator",tt=$.asyncIterator||"@@asyncIterator",et=$.toStringTag||"@@toStringTag";function b(wt,kt,Dt){return Object.defineProperty(wt,kt,{value:Dt,enumerable:!0,configurable:!0,writable:!0}),wt[kt]}try{b({},"")}catch{b=function(kt,Dt,Ft){return kt[Dt]=Ft}}function h(wt,kt,Dt,Ft){var Ot=kt&&kt.prototype instanceof at?kt:at,Bt=Object.create(Ot.prototype),Vt=new mt(Ft||[]);return d(Bt,"_invoke",{value:yt(wt,Dt,Vt)}),Bt}s.wrap=h;function _e(wt,kt,Dt){try{return{type:"normal",arg:wt.call(kt,Dt)}}catch(Ft){return{type:"throw",arg:Ft}}}var nt="suspendedStart",rt="suspendedYield",it="executing",st="completed",ot={};function at(){}function ct(){}function ut(){}var dt={};b(dt,j,function(){return this});var ht=Object.getPrototypeOf,pt=ht&&ht(ht(_t([])));pt&&pt!==a&&c.call(pt,j)&&(dt=pt);var ft=ut.prototype=at.prototype=Object.create(dt);ct.prototype=ut,d(ft,"constructor",{value:ut,configurable:!0}),d(ut,"constructor",{value:ct,configurable:!0}),ct.displayName=b(ut,et,"GeneratorFunction");function bt(wt){["next","throw","return"].forEach(function(kt){b(wt,kt,function(Dt){return this._invoke(kt,Dt)})})}s.isGeneratorFunction=function(wt){var kt=typeof wt=="function"&&wt.constructor;return kt?kt===ct||(kt.displayName||kt.name)==="GeneratorFunction":!1},s.mark=function(wt){return Object.setPrototypeOf?Object.setPrototypeOf(wt,ut):(wt.__proto__=ut,b(wt,et,"GeneratorFunction")),wt.prototype=Object.create(ft),wt},s.awrap=function(wt){return{__await:wt}};function Ct(wt,kt){function Dt(Bt,Vt,Zt,Jt){var fn=_e(wt[Bt],wt,Vt);if(fn.type==="throw")Jt(fn.arg);else{var yn=fn.arg,_n=yn.value;return _n&&typeof _n=="object"&&c.call(_n,"__await")?kt.resolve(_n.__await).then(function(Tn){Dt("next",Tn,Zt,Jt)},function(Tn){Dt("throw",Tn,Zt,Jt)}):kt.resolve(_n).then(function(Tn){yn.value=Tn,Zt(yn)},function(Tn){return Dt("throw",Tn,Zt,Jt)})}}var Ft;function Ot(Bt,Vt){function Zt(){return new kt(function(Jt,fn){Dt(Bt,Vt,Jt,fn)})}return Ft=Ft?Ft.then(Zt,Zt):Zt()}d(this,"_invoke",{value:Ot})}bt(Ct.prototype),b(Ct.prototype,tt,function(){return this}),s.AsyncIterator=Ct,s.async=function(wt,kt,Dt,Ft,Ot){Ot===void 0&&(Ot=Promise);var Bt=new Ct(h(wt,kt,Dt,Ft),Ot);return s.isGeneratorFunction(kt)?Bt:Bt.next().then(function(Vt){return Vt.done?Vt.value:Bt.next()})};function yt(wt,kt,Dt){var Ft=nt;return function(Bt,Vt){if(Ft===it)throw new Error("Generator is already running");if(Ft===st){if(Bt==="throw")throw Vt;return St()}for(Dt.method=Bt,Dt.arg=Vt;;){var Zt=Dt.delegate;if(Zt){var Jt=Et(Zt,Dt);if(Jt){if(Jt===ot)continue;return Jt}}if(Dt.method==="next")Dt.sent=Dt._sent=Dt.arg;else if(Dt.method==="throw"){if(Ft===nt)throw Ft=st,Dt.arg;Dt.dispatchException(Dt.arg)}else Dt.method==="return"&&Dt.abrupt("return",Dt.arg);Ft=it;var fn=_e(wt,kt,Dt);if(fn.type==="normal"){if(Ft=Dt.done?st:rt,fn.arg===ot)continue;return{value:fn.arg,done:Dt.done}}else fn.type==="throw"&&(Ft=st,Dt.method="throw",Dt.arg=fn.arg)}}}function Et(wt,kt){var Dt=kt.method,Ft=wt.iterator[Dt];if(Ft===g)return kt.delegate=null,Dt==="throw"&&wt.iterator.return&&(kt.method="return",kt.arg=g,Et(wt,kt),kt.method==="throw")||Dt!=="return"&&(kt.method="throw",kt.arg=new TypeError("The iterator does not provide a '"+Dt+"' method")),ot;var Ot=_e(Ft,wt.iterator,kt.arg);if(Ot.type==="throw")return kt.method="throw",kt.arg=Ot.arg,kt.delegate=null,ot;var Bt=Ot.arg;if(!Bt)return kt.method="throw",kt.arg=new TypeError("iterator result is not an object"),kt.delegate=null,ot;if(Bt.done)kt[wt.resultName]=Bt.value,kt.next=wt.nextLoc,kt.method!=="return"&&(kt.method="next",kt.arg=g);else return Bt;return kt.delegate=null,ot}bt(ft),b(ft,et,"Generator"),b(ft,j,function(){return this}),b(ft,"toString",function(){return"[object Generator]"});function gt(wt){var kt={tryLoc:wt[0]};1 in wt&&(kt.catchLoc=wt[1]),2 in wt&&(kt.finallyLoc=wt[2],kt.afterLoc=wt[3]),this.tryEntries.push(kt)}function At(wt){var kt=wt.completion||{};kt.type="normal",delete kt.arg,wt.completion=kt}function mt(wt){this.tryEntries=[{tryLoc:"root"}],wt.forEach(gt,this),this.reset(!0)}s.keys=function(wt){var kt=Object(wt),Dt=[];for(var Ft in kt)Dt.push(Ft);return Dt.reverse(),function Ot(){for(;Dt.length;){var Bt=Dt.pop();if(Bt in kt)return Ot.value=Bt,Ot.done=!1,Ot}return Ot.done=!0,Ot}};function _t(wt){if(wt){var kt=wt[j];if(kt)return kt.call(wt);if(typeof wt.next=="function")return wt;if(!isNaN(wt.length)){var Dt=-1,Ft=function Ot(){for(;++Dt<wt.length;)if(c.call(wt,Dt))return Ot.value=wt[Dt],Ot.done=!1,Ot;return Ot.value=g,Ot.done=!0,Ot};return Ft.next=Ft}}return{next:St}}s.values=_t;function St(){return{value:g,done:!0}}return mt.prototype={constructor:mt,reset:function(wt){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(At),!wt)for(var kt in this)kt.charAt(0)==="t"&&c.call(this,kt)&&!isNaN(+kt.slice(1))&&(this[kt]=g)},stop:function(){this.done=!0;var wt=this.tryEntries[0],kt=wt.completion;if(kt.type==="throw")throw kt.arg;return this.rval},dispatchException:function(wt){if(this.done)throw wt;var kt=this;function Dt(Jt,fn){return Bt.type="throw",Bt.arg=wt,kt.next=Jt,fn&&(kt.method="next",kt.arg=g),!!fn}for(var Ft=this.tryEntries.length-1;Ft>=0;--Ft){var Ot=this.tryEntries[Ft],Bt=Ot.completion;if(Ot.tryLoc==="root")return Dt("end");if(Ot.tryLoc<=this.prev){var Vt=c.call(Ot,"catchLoc"),Zt=c.call(Ot,"finallyLoc");if(Vt&&Zt){if(this.prev<Ot.catchLoc)return Dt(Ot.catchLoc,!0);if(this.prev<Ot.finallyLoc)return Dt(Ot.finallyLoc)}else if(Vt){if(this.prev<Ot.catchLoc)return Dt(Ot.catchLoc,!0)}else if(Zt){if(this.prev<Ot.finallyLoc)return Dt(Ot.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(wt,kt){for(var Dt=this.tryEntries.length-1;Dt>=0;--Dt){var Ft=this.tryEntries[Dt];if(Ft.tryLoc<=this.prev&&c.call(Ft,"finallyLoc")&&this.prev<Ft.finallyLoc){var Ot=Ft;break}}Ot&&(wt==="break"||wt==="continue")&&Ot.tryLoc<=kt&&kt<=Ot.finallyLoc&&(Ot=null);var Bt=Ot?Ot.completion:{};return Bt.type=wt,Bt.arg=kt,Ot?(this.method="next",this.next=Ot.finallyLoc,ot):this.complete(Bt)},complete:function(wt,kt){if(wt.type==="throw")throw wt.arg;return wt.type==="break"||wt.type==="continue"?this.next=wt.arg:wt.type==="return"?(this.rval=this.arg=wt.arg,this.method="return",this.next="end"):wt.type==="normal"&&kt&&(this.next=kt),ot},finish:function(wt){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Dt=this.tryEntries[kt];if(Dt.finallyLoc===wt)return this.complete(Dt.completion,Dt.afterLoc),At(Dt),ot}},catch:function(wt){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Dt=this.tryEntries[kt];if(Dt.tryLoc===wt){var Ft=Dt.completion;if(Ft.type==="throw"){var Ot=Ft.arg;At(Dt)}return Ot}}throw new Error("illegal catch attempt")},delegateYield:function(wt,kt,Dt){return this.delegate={iterator:_t(wt),resultName:kt,nextLoc:Dt},this.method==="next"&&(this.arg=g),ot}},s}(o.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(runtime);var getId$3=(o,e)=>`${o}-${e}-${Math.random().toString(16).slice(3,8)}`;const getId$2=getId$3;let jobCounter=0;var createJob$2=({id:o,action:e,payload:s={}})=>{let a=o;return typeof a>"u"&&(a=getId$2("Job",jobCounter),jobCounter+=1),{id:a,action:e,payload:s}},log$2={};let logging=!1;log$2.logging=logging;log$2.setLogging=o=>{logging=o};log$2.log=(...o)=>logging?console.log.apply(void 0,o):null;const createJob$1=createJob$2,{log:log$1}=log$2,getId$1=getId$3;let schedulerCounter=0;var createScheduler$1=()=>{const o=getId$1("Scheduler",schedulerCounter),e={},s={};let a=[];schedulerCounter+=1;const c=()=>a.length,d=()=>Object.keys(e).length,g=()=>{if(a.length!==0){const b=Object.keys(e);for(let h=0;h<b.length;h+=1)if(typeof s[b[h]]>"u"){a[0](e[b[h]]);break}}},$=(b,h)=>new Promise((_e,nt)=>{const rt=createJob$1({action:b,payload:h});a.push(async it=>{a.shift(),s[it.id]=rt;try{_e(await it[b].apply(void 0,[...h,rt.id]))}catch(st){nt(st)}finally{delete s[it.id],g()}}),log$1(`[${o}]: Add ${rt.id} to JobQueue`),log$1(`[${o}]: JobQueue length=${a.length}`),g()});return{addWorker:b=>(e[b.id]=b,log$1(`[${o}]: Add ${b.id}`),log$1(`[${o}]: Number of workers=${d()}`),g(),b.id),addJob:async(b,...h)=>{if(d()===0)throw Error(`[${o}]: You need to have at least one worker before adding jobs`);return $(b,h)},terminate:async()=>{Object.keys(e).forEach(async b=>{await e[b].terminate()}),a=[]},getQueueLen:c,getNumWorkers:d}};function isElectron$1(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var isElectron_1=isElectron$1;const isElectron=isElectron_1;var getEnvironment=o=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":isElectron()?e.type="electron":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof commonjsRequire=="function"&&(e.type="node"),typeof o>"u"?e:e[o]};const isBrowser=getEnvironment("type")==="browser",resolveURL=isBrowser?o=>new URL(o,window.location.href).href:o=>o;var resolvePaths$1=o=>{const e={...o};return["corePath","workerPath","langPath"].forEach(s=>{o[s]&&(e[s]=resolveURL(e[s]))}),e},circularize$1=o=>{const e=[],s=[],a=[],c=[],d=[];return o.blocks&&o.blocks.forEach(g=>{g.paragraphs.forEach($=>{$.lines.forEach(j=>{j.words.forEach(tt=>{tt.symbols.forEach(et=>{d.push({...et,page:o,block:g,paragraph:$,line:j,word:tt})}),c.push({...tt,page:o,block:g,paragraph:$,line:j})}),a.push({...j,page:o,block:g,paragraph:$})}),s.push({...$,page:o,block:g})}),e.push({...g,page:o})}),{...o,blocks:e,paragraphs:s,lines:a,words:c,symbols:d}},OEM$2={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const version$1="5.1.1",require$$0={version:version$1};var defaultOptions$3={workerBlobURL:!0,logger:()=>{}};const version=require$$0.version,defaultOptions$2=defaultOptions$3;var defaultOptions_1={...defaultOptions$2,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${version}/dist/worker.min.js`},spawnWorker$2=({workerPath:o,workerBlobURL:e})=>{let s;if(Blob&&URL&&e){const a=new Blob([`importScripts("${o}");`],{type:"application/javascript"});s=new Worker(URL.createObjectURL(a))}else s=new Worker(o);return s},terminateWorker$2=o=>{o.terminate()},onMessage$2=(o,e)=>{o.onmessage=({data:s})=>{e(s)}},send$2=async(o,e)=>{o.postMessage(e)};const readFromBlobOrFile=o=>new Promise((e,s)=>{const a=new FileReader;a.onload=()=>{e(a.result)},a.onerror=({target:{error:{code:c}}})=>{s(Error(`File could not be read! Code=${c}`))},a.readAsArrayBuffer(o)}),loadImage$2=async o=>{let e=o;if(typeof o>"u")return"undefined";if(typeof o=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(o)?e=atob(o.split(",")[1]).split("").map(s=>s.charCodeAt(0)):e=await(await fetch(o)).arrayBuffer();else if(typeof HTMLElement<"u"&&o instanceof HTMLElement)o.tagName==="IMG"&&(e=await loadImage$2(o.src)),o.tagName==="VIDEO"&&(e=await loadImage$2(o.poster)),o.tagName==="CANVAS"&&await new Promise(s=>{o.toBlob(async a=>{e=await readFromBlobOrFile(a),s()})});else if(typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas){const s=await o.convertToBlob();e=await readFromBlobOrFile(s)}else(o instanceof File||o instanceof Blob)&&(e=await readFromBlobOrFile(o));return new Uint8Array(e)};var loadImage_1=loadImage$2;const defaultOptions$1=defaultOptions_1,spawnWorker$1=spawnWorker$2,terminateWorker$1=terminateWorker$2,onMessage$1=onMessage$2,send$1=send$2,loadImage$1=loadImage_1;var browser={defaultOptions:defaultOptions$1,spawnWorker:spawnWorker$1,terminateWorker:terminateWorker$1,onMessage:onMessage$1,send:send$1,loadImage:loadImage$1};const resolvePaths=resolvePaths$1,circularize=circularize$1,createJob=createJob$2,{log}=log$2,getId=getId$3,OEM$1=OEM$2,{defaultOptions,spawnWorker,terminateWorker,onMessage,loadImage,send}=browser;let workerCounter=0;var createWorker$2=async(o="eng",e=OEM$1.LSTM_ONLY,s={},a={})=>{const c=getId("Worker",workerCounter),{logger:d,errorHandler:g,...$}=resolvePaths({...defaultOptions,...s}),j={},tt={},et=typeof o=="string"?o.split("+"):o;let b=e,h=a;const _e=[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(e)&&!$.legacyCore;let nt,rt;const it=new Promise((Ot,Bt)=>{rt=Ot,nt=Bt}),st=Ot=>{nt(Ot.message)};let ot=spawnWorker($);ot.onerror=st,workerCounter+=1;const at=(Ot,Bt)=>{j[Ot]=Bt},ct=(Ot,Bt)=>{tt[Ot]=Bt},ut=({id:Ot,action:Bt,payload:Vt})=>new Promise((Zt,Jt)=>{log(`[${c}]: Start ${Ot}, action=${Bt}`);const fn=`${Bt}-${Ot}`;at(fn,Zt),ct(fn,Jt),send(ot,{workerId:c,jobId:Ot,action:Bt,payload:Vt})}),dt=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),ht=Ot=>ut(createJob({id:Ot,action:"load",payload:{options:{lstmOnly:_e,corePath:$.corePath,logging:$.logging}}})),pt=(Ot,Bt,Vt)=>ut(createJob({id:Vt,action:"FS",payload:{method:"writeFile",args:[Ot,Bt]}})),ft=(Ot,Bt)=>ut(createJob({id:Bt,action:"FS",payload:{method:"readFile",args:[Ot,{encoding:"utf8"}]}})),bt=(Ot,Bt)=>ut(createJob({id:Bt,action:"FS",payload:{method:"unlink",args:[Ot]}})),Ct=(Ot,Bt,Vt)=>ut(createJob({id:Vt,action:"FS",payload:{method:Ot,args:Bt}})),yt=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),Et=(Ot,Bt)=>ut(createJob({id:Bt,action:"loadLanguage",payload:{langs:Ot,options:{langPath:$.langPath,dataPath:$.dataPath,cachePath:$.cachePath,cacheMethod:$.cacheMethod,gzip:$.gzip,lstmOnly:[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(b)&&!$.legacyLang}}})),gt=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),At=(Ot,Bt,Vt,Zt)=>ut(createJob({id:Zt,action:"initialize",payload:{langs:Ot,oem:Bt,config:Vt}})),mt=(Ot="eng",Bt,Vt,Zt)=>{if(_e&&[OEM$1.TESSERACT_ONLY,OEM$1.TESSERACT_LSTM_COMBINED].includes(Bt))throw Error("Legacy model requested but code missing.");const Jt=Bt||b;b=Jt;const fn=Vt||h;h=fn;const _n=(typeof Ot=="string"?Ot.split("+"):Ot).filter(Tn=>!et.includes(Tn));return et.push(..._n),_n.length>0?Et(_n,Zt).then(()=>At(Ot,Jt,fn,Zt)):At(Ot,Jt,fn,Zt)},_t=(Ot={},Bt)=>ut(createJob({id:Bt,action:"setParameters",payload:{params:Ot}})),St=async(Ot,Bt={},Vt={blocks:!0,text:!0,hocr:!0,tsv:!0},Zt)=>ut(createJob({id:Zt,action:"recognize",payload:{image:await loadImage(Ot),options:Bt,output:Vt}})),wt=(Ot="Tesseract OCR Result",Bt=!1,Vt)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),ut(createJob({id:Vt,action:"getPDF",payload:{title:Ot,textonly:Bt}}))),kt=async(Ot,Bt)=>{if(_e)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return ut(createJob({id:Bt,action:"detect",payload:{image:await loadImage(Ot)}}))},Dt=async()=>(ot!==null&&(terminateWorker(ot),ot=null),Promise.resolve());onMessage(ot,({workerId:Ot,jobId:Bt,status:Vt,action:Zt,data:Jt})=>{const fn=`${Zt}-${Bt}`;if(Vt==="resolve"){log(`[${Ot}]: Complete ${Bt}`);let yn=Jt;Zt==="recognize"?yn=circularize(Jt):Zt==="getPDF"&&(yn=Array.from({...Jt,length:Object.keys(Jt).length})),j[fn]({jobId:Bt,data:yn})}else if(Vt==="reject")if(tt[fn](Jt),Zt==="load"&&nt(Jt),g)g(Jt);else throw Error(Jt);else Vt==="progress"&&d({...Jt,userJobId:Bt})});const Ft={id:c,worker:ot,setResolve:at,setReject:ct,load:dt,writeText:pt,readText:ft,removeFile:bt,FS:Ct,loadLanguage:yt,initialize:gt,reinitialize:mt,setParameters:_t,recognize:St,getPDF:wt,detect:kt,terminate:Dt};return ht().then(()=>Et(o)).then(()=>At(o,e,a)).then(()=>rt(Ft)).catch(()=>{}),it};const createWorker$1=createWorker$2,recognize=async(o,e,s)=>{const a=await createWorker$1(e,1,s);return a.recognize(o).finally(async()=>{await a.terminate()})},detect=async(o,e)=>{const s=await createWorker$1("osd",0,e);return s.detect(o).finally(async()=>{await s.terminate()})};var Tesseract$2={recognize,detect},languages$1={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},PSM$1={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const createScheduler=createScheduler$1,createWorker=createWorker$2,Tesseract=Tesseract$2,languages=languages$1,OEM=OEM$2,PSM=PSM$1,{setLogging}=log$2;var src={languages,OEM,PSM,createScheduler,createWorker,setLogging,...Tesseract};const Tesseract$1=getDefaultExportFromCjs(src);function WorkerWrapper(o){return new Worker("/assets/pdf.worker-DME0-sB7.js",{name:o==null?void 0:o.name})}__webpack_exports__GlobalWorkerOptions.workerSrc=WorkerWrapper;async function parseYAMLFile(o){const e=await o.text(),s=jsYaml.load(e);if(!(s!=null&&s.campos))throw new Error('Schema YAML sem "campos"');return s}function normalizeText(o){return o.replace(/[ \t]+/g," ").replace(/\n{2,}/g,`
`).trim()}async function extractDOCX(o){const e=await o.arrayBuffer(),{value:s}=await lib$3.extractRawText({arrayBuffer:e});return normalizeText(s||"")}async function extractTXT(o){const e=await o.arrayBuffer(),s=new TextDecoder("utf-8");return normalizeText(s.decode(e))}async function loadPDF(o){const e=await o.arrayBuffer();return{pdf:await __webpack_exports__getDocument({data:e}).promise,arrayBuffer:e}}async function extractPerPage(o,e=1.75){const s=[];for(let a=1;a<=o.numPages;a++){const c=await o.getPage(a),d=c.getViewport({scale:e}),$=(await c.getTextContent()).items.map(tt=>{var et;return{str:"str"in tt?tt.str:((et=tt==null?void 0:tt.ts)==null?void 0:et.s)||"",transform:tt.transform,width:tt.width,height:tt.height??0}}),j=normalizeText($.map(tt=>tt.str).join(" "));s.push({pageIndex:a-1,fullText:j,items:$,viewport:{width:d.width,height:d.height,scale:e}})}return s}async function ocrPDFPages(o,e=2){const s=[];for(let a=1;a<=o.numPages;a++){const c=await o.getPage(a),d=c.getViewport({scale:e}),g=new OffscreenCanvas(d.width,d.height),$=g.getContext("2d");await c.render({canvasContext:$,viewport:d}).promise;const j=await g.convertToBlob(),tt=await Tesseract$1.recognize(j,"por+eng"),et=normalizeText(tt.data.text||"");s.push({pageIndex:a-1,fullText:et,items:[],viewport:{width:d.width,height:d.height,scale:e}})}return s}let featureExtractor=null;async function getEmbedder(){return featureExtractor||(featureExtractor=await pipeline("feature-extraction","Xenova/all-MiniLM-L6-v2")),featureExtractor}async function embedAll(o){const s=await(await getEmbedder())(o,{pooling:"mean",normalize:!0});return s.tolist?s.tolist():s}function cosineSim(o,e){let s=0,a=0,c=0;for(let d=0;d<o.length;d++)s+=o[d]*e[d],a+=o[d]*o[d],c+=e[d]*e[d];return s/(Math.sqrt(a)*Math.sqrt(c)+1e-8)}function validateValue(o,e){var c;const s=[];o.obrigatorio&&(!e||!e.trim())&&s.push("campo obrigatório não encontrado/preenchido");const a=o.tipo||"texto";return a==="numerico"&&(e.match(/[\d\.\,]+/)||s.push("valor numérico não identificado")),a==="escolha"&&((c=o.valores_validos)!=null&&c.length)&&(o.valores_validos.some(g=>e.toLowerCase().includes(g.toLowerCase()))||s.push("valor não consta na lista permitida")),o.regex&&(new RegExp(o.regex,"i").test(e)||s.push("não atende ao padrão (regex)")),o.min_palavras&&e&&e.split(/\s+/).length<o.min_palavras&&s.push(`menos que ${o.min_palavras} palavras`),s}function pickKeywords(o,e=6){const s=new Set(["de","da","do","das","dos","a","o","e","é","ou","para","por","sem","com","em","no","na","nos","nas","um","uma","ao","às","as","os","que","se"]),a=o.toLowerCase().replace(/[^\p{L}0-9 ]+/gu,"").split(/\s+/),c={};for(const d of a)!d||s.has(d)||d.length<3||(c[d]=(c[d]||0)+1);return Object.entries(c).sort((d,g)=>g[1]-d[1]).slice(0,e).map(([d])=>d)}function App(){const[o,e]=reactExports.useState(null),[s,a]=reactExports.useState(null),[c,d]=reactExports.useState(null),[g,$]=reactExports.useState(null),[j,tt]=reactExports.useState([]),[et,b]=reactExports.useState(0),[h,_e]=reactExports.useState(!1),[nt,rt]=reactExports.useState(!1),[it,st]=reactExports.useState([]),ot=reactExports.useRef(null),at=reactExports.useRef(null);async function ct(){o&&d(await parseYAMLFile(o))}async function ut(){if(!s)return;const ft=(s.name.split(".").pop()||"").toLowerCase();if(ft==="pdf"){const{pdf:bt}=await loadPDF(s);if($(bt),nt){const Ct=await ocrPDFPages(bt,2);tt(Ct)}else{const Ct=await extractPerPage(bt,1.75);tt(Ct)}b(0)}else if(ft==="docx"){const bt=await extractDOCX(s);$(null),tt([{pageIndex:0,fullText:bt,items:[],viewport:{width:800,height:1200,scale:1}}]),b(0)}else if(ft==="txt"||ft==="md"){const bt=await extractTXT(s);$(null),tt([{pageIndex:0,fullText:bt,items:[],viewport:{width:800,height:1200,scale:1}}]),b(0)}else alert("Formato não suportado. Use PDF/DOCX/TXT.")}async function dt(){if(!(!c||!j.length)){_e(!0);try{const ft=j.map(yt=>yt.fullText),bt=await embedAll(ft),Ct=[];for(const yt of c.campos){const Et=(yt.rotulos||[]).join(" "),[gt]=await embedAll([Et]);let At=0,mt=-1;for(let Dt=0;Dt<j.length;Dt++){const Ft=cosineSim(gt,bt[Dt]);Ft>mt&&(mt=Ft,At=Dt)}const _t=j[At].fullText||"",St=validateValue(yt,_t),wt=_t.slice(0,800),kt=pickKeywords(wt,6);Ct.push({campo:yt.id,pageIndex:At,similaridade:Number(mt.toFixed(3)),snippet:wt,erros,keywords:kt})}st(Ct),Ct.length&&b(Ct[0].pageIndex),setTimeout(()=>ht(),50)}finally{_e(!1)}}}reactExports.useEffect(()=>{(async()=>{if(!g||!j.length)return;const ft=await g.getPage(et+1),bt=ft.getViewport({scale:j[et].viewport.scale}),Ct=ot.current,yt=Ct.getContext("2d");Ct.width=bt.width,Ct.height=bt.height,await ft.render({canvasContext:yt,viewport:bt}).promise,ht()})()},[et,g,j]);function ht(){var yt;const ft=at.current;if(!ft||(ft.innerHTML="",!j.length))return;const bt=j[et],Ct=new Set;for(const Et of it)Et.pageIndex===et&&Et.keywords.forEach(gt=>gt&&gt.length>2&&Ct.add(gt));if(!(!g||!((yt=bt.items)!=null&&yt.length)||Ct.size===0))for(const Et of bt.items){const gt=(Et.str||"").toLowerCase();if(!gt)continue;let At=!1;for(const Jt of Ct)if(gt.includes(Jt)){At=!0;break}if(!At)continue;const[mt,_t,St,wt,kt,Dt]=Et.transform,Ft=kt,Ot=Dt-10,Bt=Et.width,Vt=14,Zt=document.createElement("div");Zt.className="hl",Zt.style.left=Ft+"px",Zt.style.top=Ot+"px",Zt.style.width=Math.max(4,Bt)+"px",Zt.style.height=Vt+"px",ft.appendChild(Zt)}}const pt=React.useMemo(()=>{if(!it.length)return 0;const ft=it.reduce((bt,Ct)=>bt+Ct.erros.length,0);return Math.max(0,100-5*ft)},[it]);return jsxRuntimeExports.jsxs("div",{style:{minHeight:"100vh"},children:[jsxRuntimeExports.jsxs("header",{style:{padding:"16px 24px",background:"#fff",boxShadow:"0 1px 8px rgba(0,0,0,0.06)"},children:[jsxRuntimeExports.jsx("h1",{style:{margin:0,fontSize:22},children:"Comparador de Documentos — React Pro (100% navegador)"}),jsxRuntimeExports.jsx("p",{className:"muted",style:{margin:0},children:"YAML + (PDF/DOCX/TXT) • Embeddings locais • OCR opcional • Viewer com destaque"})]}),jsxRuntimeExports.jsxs("main",{style:{maxWidth:1280,margin:"0 auto",padding:24},children:[jsxRuntimeExports.jsxs("section",{className:"row",children:[jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{style:{marginTop:0},children:"1) Schema (YAML)"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".yaml,.yml",onChange:ft=>{var bt;return e(((bt=ft.target.files)==null?void 0:bt[0])||null)}}),jsxRuntimeExports.jsx("div",{style:{marginTop:8},children:jsxRuntimeExports.jsx("button",{className:"btn",onClick:ct,disabled:!o,children:"Ler YAML"})}),c&&jsxRuntimeExports.jsxs("p",{className:"muted",style:{marginTop:8},children:["Schema: ",jsxRuntimeExports.jsx("b",{children:c.nome||"sem nome"})," — ",c.campos.length," campos"]})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{style:{marginTop:0},children:"2) Documento (PDF/DOCX/TXT)"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf,.docx,.txt,.md",onChange:ft=>{var bt;return a(((bt=ft.target.files)==null?void 0:bt[0])||null)}}),jsxRuntimeExports.jsxs("label",{style:{display:"block",marginTop:10,fontSize:14},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:nt,onChange:ft=>rt(ft.target.checked)})," Usar OCR (para PDF escaneado)"]}),jsxRuntimeExports.jsx("div",{style:{marginTop:8},children:jsxRuntimeExports.jsx("button",{className:"btn",onClick:ut,disabled:!s,children:"Carregar Documento"})}),!!j.length&&jsxRuntimeExports.jsxs("p",{className:"muted",style:{marginTop:8},children:[j.length," página(s) carregadas"]})]})]}),jsxRuntimeExports.jsxs("section",{style:{marginTop:16},children:[jsxRuntimeExports.jsx("button",{className:"btn",onClick:dt,disabled:!c||!j.length||h,children:h?"Processando...":"3) Comparar"}),!!it.length&&jsxRuntimeExports.jsxs("span",{className:"badge",style:{marginLeft:12},children:["Score: ",jsxRuntimeExports.jsx("b",{children:pt})]})]}),jsxRuntimeExports.jsxs("section",{style:{display:"flex",gap:16,marginTop:16},children:[jsxRuntimeExports.jsxs("aside",{className:"card",style:{width:380},children:[jsxRuntimeExports.jsx("h3",{style:{marginTop:0},children:"Campos & páginas"}),it.length===0?jsxRuntimeExports.jsx("p",{className:"muted",children:"Nenhum resultado ainda."}):jsxRuntimeExports.jsx("ul",{style:{paddingLeft:18},children:it.map(ft=>jsxRuntimeExports.jsxs("li",{style:{marginBottom:10},children:[jsxRuntimeExports.jsxs("a",{href:"#",onClick:bt=>{bt.preventDefault(),b(ft.pageIndex)},children:[jsxRuntimeExports.jsx("b",{children:ft.campo})," → pág. ",ft.pageIndex+1," (sim: ",ft.similaridade.toFixed(3),")"]}),ft.erros.length?jsxRuntimeExports.jsx("ul",{style:{margin:"6px 0 0 18px"},children:ft.erros.map((bt,Ct)=>jsxRuntimeExports.jsx("li",{className:"err",children:bt},Ct))}):jsxRuntimeExports.jsx("div",{className:"ok",children:"OK"})]},ft.campo))})]}),jsxRuntimeExports.jsx("section",{className:"card",style:{flex:1},children:g?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[jsxRuntimeExports.jsx("button",{className:"btn",onClick:()=>b(ft=>Math.max(0,ft-1)),disabled:et===0,children:"◀"}),jsxRuntimeExports.jsxs("div",{children:["Página ",et+1," / ",j.length||0]}),jsxRuntimeExports.jsx("button",{className:"btn",onClick:()=>b(ft=>Math.min(j.length-1,ft+1)),disabled:et>=j.length-1,children:"▶"})]}),jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsx("canvas",{ref:ot,style:{display:"block"}}),jsxRuntimeExports.jsx("div",{ref:at,style:{position:"absolute",left:0,top:0}})]})]}):jsxRuntimeExports.jsx("div",{className:"muted",children:"Viewer de PDF aparece aqui quando o documento for PDF. Para DOCX/TXT, a comparação funciona, mas não há visualização."})})]})]})]})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
